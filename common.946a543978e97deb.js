(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[8592],{7676:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.def,S=e.send,R=e.rb_plus,m=e.eqeqeq,h=e.truthy,g=e.rb_le,y=e.rb_ge,k=e.rb_lt,p=e.rb_gt,E=e.neqeq,M=e.rb_minus;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"AFF2e")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,C(x[0],"ID","AFF2e"),C(x[0],"NAME","ADVANCED FIGHTING FANTASY 2nd Edition"),C(x[0],"SORT_KEY","\u3042\u3068\u306f\u3093\u3059\u3068\u3075\u3042\u3044\u3066\u3044\u3093\u304f\u3075\u3042\u3093\u305f\u3057\u30442"),C(x[0],"HELP_MESSAGE","\u5bfe\u6297\u306a\u3057\u30ed\u30fc\u30eb\tFF{\u76ee\u6a19\u5024}+{\u88dc\u6b63}\n\u5bfe\u6297\u30ed\u30fc\u30eb\tFR{\u80fd\u529b\u5024}+{\u88dc\u6b63}\n\u6b66\u5668\u30ed\u30fc\u30eb\tFD[2,3,3,3,3,3,4]+{\u88dc\u6b63}\n\u9632\u5177\u30ed\u30fc\u30eb\tFD[0,0,0,0,1+1,1+1,2+2]+{\u88dc\u6b63}\n"),A.$register_prefix("FF.+","FR.+","FD.+"),v(A,"$explicit_sign",function(o){return this.$format("%+d",o)},1),v(A,"$eval_term",function(o){var l=t;return l=0,S(o,"scan",[/[+-]?\d+/],function(a){return null==a&&(a=t),l=R(l,a.$to_i())},1),l},1),v(A,"$parentheses",function(o){return R(R("(",o),")")},1),v(A,"$successful_or_failed",function(o,l){var $;return m(2,$=o)?h(g(l,1))?"\u6210\u529f\uff08\u5927\u6210\u529f\u3067\u306f\u306a\u3044\uff09":"\u5927\u6210\u529f\uff01":m(12,$)?h(y(l,12))?"\u5931\u6557\uff08\u5927\u5931\u6557\u3067\u306f\u306a\u3044\uff09":"\u5927\u5931\u6557\uff01":h(g(o,l))?"\u6210\u529f":"\u5931\u6557"},2),v(A,"$critical",function(o){var l;return m(2,l=o)?"\u30d5\u30a1\u30f3\u30d6\u30eb\uff01":m(12,l)?"\u5f37\u6253\uff01":t},1),v(A,"$clamp",function(o,l,$){return h(k(o,l))?l:h(p(o,$))?$:o},3),v(A,"$eval_game_system_specific_command",function(o){var $,l=this,a=t,r=t,s=t,i=t,u=t,_=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t;if(m(/^FF/,$=o))r=(a=D("Regexp").$last_match()).$post_match(),i="2D6<="+(s=l.$eval_term(r)),b=(_=(u=l.randomizer.$roll_barabara(2,6)).$sum())+"["+u.$join(",")+"]",f=l.$successful_or_failed(_,s),q=[l.$parentheses(i),b,f];else if(m(/^FR/,$))r=(a=D("Regexp").$last_match()).$post_match(),F=l.$eval_term(r),i="2D6"+l.$explicit_sign(F),b=(_=(u=l.randomizer.$roll_barabara(2,6)).$sum())+"["+u.$join(",")+"]"+l.$explicit_sign(F),U=l.$critical(_),q=[l.$parentheses(i),b,U,R(_,F)].$compact();else if(m(/^FD/,$)){if(r=(a=D("Regexp").$last_match()).$post_match(),a=/^\[(.+)\]/.$match(r),!h(a))return"\u30c0\u30e1\u30fc\u30b8\u30b9\u30ed\u30c3\u30c8\u306f\u5fc5\u9808\u3067\u3059\u3002";if(r=a.$post_match(),W=S(a["$[]"](1).$split(","),"map",[],function O(ie){return null==ie&&(ie=t),(null==O.$$s?this:O.$$s).$eval_term(ie)},{$$arity:1,$$s:l}),E(W.$size(),7))return"\u30c0\u30e1\u30fc\u30b8\u30b9\u30ed\u30c3\u30c8\u306e\u9577\u3055\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002";F=l.$eval_term(r),i="1D6"+l.$explicit_sign(F),b=""+(_=l.randomizer.$roll_once(6))+l.$explicit_sign(F),X=l.$clamp(R(_,F),1,7),Q=W["$[]"](M(X,1)),q=[l.$parentheses(i),b,R(_,F),Q+"\u30c0\u30e1\u30fc\u30b8"]}return q.$join(" \uff1e ")},1)})},2160:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var p,Y,V,J,I,w,j,N,M,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.def,S=e.truthy,R=e.send,m=e.rb_le,h=e.rb_ge,g=e.to_a,y=e.rb_minus;return p=H,Y=M=[n(H[0],"BCDice")].concat(p),j=[n(M[0],"GameSystem")].concat(Y),N=e.$r(j),V=j,I=[J=B(j[0],N("Base"),"Ainecadette")].concat(V),w=e.$r(I),J.$$prototype.randomizer=t,C(I[0],"ID","Ainecadette"),C(I[0],"NAME","\u30a8\u30cd\u30ab\u30c7\u30c3\u30c8"),C(I[0],"SORT_KEY","\u3048\u306d\u304b\u3066\u3064\u3068"),C(I[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a\n- \u5148\u8f29 (AI) 10\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103AI\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101AI\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n- \u5f8c\u8f29 (CA) 6\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103CA\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101CA\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n"),J.$register_prefix("(\\d+)?AI","(\\d+)?CA"),v(J,"$eval_game_system_specific_command",function(x){return this.$roll_action(x)},1),J.$private(),C(I[0],"SUCCESS_THRESHOLD",4),C(I[0],"SPECIAL_DICE",6),v(J,"$roll_action",function(x){var D,d=t,o=t,l=t,$=t,a=t,r=t,s=t,i=t,u=t,_=t,c=t;return d=/^(\d+)?(AI|CA)$/.$match(x),!S(d)||(o=d["$[]"](2)["$=="]("AI"),l=S($=(D=d["$[]"](1))===t||null==D?t:R(D,"to_i",[]))?$:2,a=S(o)?10:6,S(m(l,0)))?t:(s=(r=this.randomizer.$roll_barabara(l,a)).$max(),i=S(m(s,1))?w("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb\uff08\u3082\u3084\u3082\u3084\u30ab\u30a6\u30f3\u30bf\u30fc\u30922\u500b\u7372\u5f97\uff09"):S(r["$include?"](6))?(u=S(o)?"\u5148\u8f29":"\u5f8c\u8f29",_=S(o)?"\u5f8c\u8f29":"\u5148\u8f29",w("Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb\uff08\u7d46\u30ab\u30a6\u30f3\u30bf\u30fc\u30921\u500b\u7372\u5f97\u3057\u3001"+_+"\u306f"+u+"\u3078\u306e\u611f\u60c5\u30921\u3064\u7372\u5f97\uff09")):S(h(s,w("SUCCESS_THRESHOLD")))?w("Result").$success("\u6210\u529f"):w("Result").$failure("\u5931\u6557"),c=["("+x+") \uff1e ["+r.$join(",")+"] \uff1e "+i.$text()],R(i,"text=",g(c)),y(c.length,1),i)},1)})},6408:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.eqeq,g=e.rb_gt,y=e.send,k=e.rb_le,p=e.rb_plus,E=e.rb_times;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"Airgetlamh")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","Airgetlamh"),C(A[0],"NAME","\u6731\u306e\u5b64\u5854\u306e\u30a8\u30a2\u30b2\u30c8\u30e9\u30e0"),C(A[0],"SORT_KEY","\u3042\u3051\u306e\u3053\u3068\u3046\u306e\u3048\u3042\u3051\u3068\u3089\u3080"),C(A[0],"HELP_MESSAGE","\u3010Reg2.0\u300eTHE ANSWERER\u300f\uff5e\u3011\n\u30fb\u8abf\u67fb\u5224\u5b9a\uff08\u6210\u529f\u6570\u3092\u8868\u793a\uff09\uff1a[n]AA[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30c0\u30e1\u30fc\u30b8\u8868\u793a\uff09\uff1a[n]AA[m]*p[+t][Cx]\n\u3010\uff5eReg1.1\u300e\u6607\u83ef\u300f\u3011\n\u30fb\u8abf\u67fb\u5224\u5b9a\uff08\u6210\u529f\u6570\u3092\u8868\u793a\uff09\uff1a[n]AL[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30c0\u30e1\u30fc\u30b8\u8868\u793a\uff09\uff1a[n]AL[m]*p\n----------------------------------------\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\uff08\u653b\u6483\u56de\u6570\uff09\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c2\u300d\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c6\u300d\u3002\n\u300cp\u300d\u3067\u5a01\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u4ee3\u7528\u53ef\u3002\n\u300c+t\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc\u3092\u6307\u5b9a\u3002\u7701\u7565\u53ef\u3002\n\u300cCx\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3001\u6700\u5927\u5024\u306f\u300c3\u300d\u3001\u300c0\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d2\u30c3\u30c8\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\uff08AL\u30b3\u30de\u30f3\u30c9\u3067\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u51e6\u7406\u3092\u884c\u3044\u307e\u305b\u3093\uff09\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbAL \u2192 2d10\u3067\u76ee\u6a19\u50246\u306e\u8abf\u67fb\u5224\u5b9a\u3002\n\u30fb5AA7*12 \u2192 5d10\u3067\u76ee\u6a19\u50247\u3001\u5a01\u529b12\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fbAA7x28+5 \u2192 2d10\u3067\u76ee\u6a19\u50247\u3001\u5a01\u529b28\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb9aa5*10C2 \u2192 9d10\u3067\u76ee\u6a19\u50245\u3001\u5a01\u529b10\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb15AAx4c0 \u2192 15d10\u3067\u76ee\u6a19\u50246\u3001\u5a01\u529b4\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),z.$register_prefix("\\d*A[AL]"),R(z,"$initialize",function T(d){var l=this;return delete T.$$p,v(l,S(l,"initialize",T,!1,!0),"initialize",[d],null),l.sort_add_dice=!0},1),R(z,"$eval_game_system_specific_command",function(d){var l=t,$=t,a=t,r=t,s=t,i=t;return m(d["$=~"](/(\d+)?A(A|L)(\d+)?((x|\*)(\d+)(\+(\d+))?)?(C(\d+))?$/i))?(l=(m($=x("Regexp").$last_match(1))?$:2).$to_i(),a=(m($=x("Regexp").$last_match(3))?$:6).$to_i(),r=(m($=x("Regexp").$last_match(6))?$:0).$to_i(),h(x("Regexp").$last_match(2),"L")?(s=0,i=0):(s=(m($=x("Regexp").$last_match(8))?$:0).$to_i(),i=(m($=x("Regexp").$last_match(10))?$:1).$to_i()),m(g(i,4))&&(i=3),this.$checkRoll(l,a,r,s,i)):t},1),R(z,"$checkRoll",function(d,o,l,$,a){var W,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,X=t;for(i=0,u=0,_="",c=d;m(g(c,0));)f=(b=this.randomizer.$roll_barabara(c,10).$sort()).$join(","),q=y(b,"count",[],function(re){return null==re&&(re=t),k(re,o)},1),F=y(b,"count",[],function(re){return null==re&&(re=t),k(re,a)},1),i=p(i,q),u=p(u,F),m(_["$empty?"]())||(_=p(_,"+")),_=p(_,q+"["+f+"]"),c=F;return U="",W=l["$!="](0),m(W)?(X=p(E(i,l),E(u,$)),U=p(U,"("+d+"D10<="+o+") \uff1e "+_+" \uff1e Hits\uff1a"+i+"*"+l),m(g($,0))&&(U=p(U," + Trigger\uff1a"+u+"*"+$)),U=p(U," \uff1e "+X+"\u30c0\u30e1\u30fc\u30b8")):U=p(U,"("+d+"D10<="+o+") \uff1e "+_+" \uff1e \u6210\u529f\u6570\uff1a"+i),m(g(u,0))&&(U=p(U," / "+u+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),U},5)})},905:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.eqeq,g=e.rb_gt,y=e.send,k=e.rb_le,p=e.rb_plus,E=e.rb_times;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"Alsetto")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","Alsetto"),C(A[0],"NAME","\u8a69\u7247\u306e\u30a2\u30eb\u30bb\u30c3\u30c8"),C(A[0],"SORT_KEY","\u3046\u305f\u304b\u305f\u306e\u3042\u308b\u305b\u3064\u3068"),C(A[0],"HELP_MESSAGE","\u30fb\u6210\u529f\u5224\u5b9a\uff1anAL[m]\u3000\u3000\u3000\u3000\u30fb\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\uff1anALC[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anAL[m]*p\u3000\u3000\u3000\u30fb\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\uff1anALC[m]*p\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30ac\u30f3\u30b9\u30ea\u30f3\u30ac\u30fc\u306e\u6839\u6e90\u8a69\uff09\uff1anALG[m]*p\n[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\nAL\u30b3\u30de\u30f3\u30c9\u306f\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c3\u300d\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\nALC\u30b3\u30de\u30f3\u30c9\u306f\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u3067\u3001\u6210\u529f\u6570\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\nALG\u30b3\u30de\u30f3\u30c9\u306f\u300c2\u4ee5\u4e0b\u300d\u3067\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5AL \u2192 5d6\u3067\u76ee\u6a19\u50243\u3002\n\u30fb5ALC \u2192 5d6\u3067\u76ee\u6a19\u50243\u3002\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u3002\n\u30fb6AL2 \u2192 6d6\u3067\u76ee\u6a19\u50242\u3002\n\u30fb4AL*5 \u2192 4d6\u3067\u76ee\u6a19\u50243\u3001\u653b\u6483\u529b5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb7AL2x10 \u2192 7d6\u3067\u76ee\u6a19\u50242\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb8ALC4x5 \u2192 8d6\u3067\u76ee\u6a19\u50244\u3001\u653b\u6483\u529b5\u3001\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),z.$register_prefix("\\d+AL[CG]?"),R(z,"$initialize",function T(d){var l=this;return delete T.$$p,v(l,S(l,"initialize",T,!1,!0),"initialize",[d],null),l.sort_add_dice=!0},1),R(z,"$eval_game_system_specific_command",function(d){var l=t,$=t,a=t,r=t,s=t,i=t;return m(d["$=~"](/(\d+)AL(C|G)?(\d+)?((x|\*)(\d+))?$/i))?(l=x("Regexp").$last_match(1).$to_i(),$=x("Regexp").$last_match(2)["$nil?"](),m($)?a=1:h(x("Regexp").$last_match(2),"G")?($=!0,a=2):a=0,r=(m(s=x("Regexp").$last_match(3))?s:3).$to_i(),i=(m(s=x("Regexp").$last_match(6))?s:0).$to_i(),this.$checkRoll(l,r,i,$,a)):t},1),R(z,"$checkRoll",function(d,o,l,$,a){var U,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,W=t,X=t;for(i=0,u=0,_="",c=d;m(g(c,0))&&(f=(b=this.randomizer.$roll_barabara(c,6).$sort()).$join(","),q=0,F=0,y(b,"each",[],function(re){return null==re&&(re=t),m(k(re,o))&&(q=p(q,1)),m(k(re,a))?F=p(F,1):t},1),i=p(i,q),h(F,0)||(u=p(u,1)),m(_["$empty?"]())||(_=p(_,"+")),_=p(_,q+"["+f+"]"),m($));)c=F;return U=l["$!="](0),m(U)?(W=E(i,l),X="("+d+"D6<="+o+") \uff1e "+_+" \uff1e Hits\uff1a"+i+"*"+l+" \uff1e "+W+"\u30c0\u30e1\u30fc\u30b8"):X="("+d+"D6<="+o+") \uff1e "+_+" \uff1e \u6210\u529f\u6570\uff1a"+i,m($)&&(X=p(X," / "+u+"\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5")),X},5)})},7058:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/SRS"]=function(e){var N,J,D,a,r,s,i,T,d,o,l,w,z,P,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send,m=e.def,h=e.send2,g=e.find_super,y=e.truthy,k=e.eqeqeq,p=e.hash2,E=e.rb_plus,M=e.to_a,L=e.rb_minus,Y=e.rb_ge,G=e.rb_le;return e.top.$require("bcdice/arithmetic_evaluator"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"SRS")].concat(D),o=e.$r(d),(l=T.$$prototype).round_type=l.randomizer=l.sort_add_dice=n,S(d[0],"ID","SRS"),S(d[0],"NAME","\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9RPG\u30b7\u30b9\u30c6\u30e0"),S(d[0],"SORT_KEY","\u3059\u305f\u3093\u305f\u3042\u3068RPG\u3057\u3059\u3066\u3080"),S(d[0],"HELP_MESSAGE_1","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\uff1a2D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m\u3001\u76ee\u6a19\u5024t\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u3054\u3068\u7701\u7565\u53ef\uff09\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u65e2\u5b9a\u5024\u306f\u3001\u305d\u308c\u305e\u308c12\u30012\u3067\u3059\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6>=10\u3000\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10\u3000\u3000\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[11]\u3000\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[12,4]\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_2","\u3000\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304a\u3088\u3073\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u307f\u306e\u5224\u5b9a\uff1a2D6+m[c,f]\n\u3000\u3000\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u305b\u305a\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u306f\u7701\u7565\u4e0d\u53ef\uff09\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6[]\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[11]\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[12,4]\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_3","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\uff08\u5165\u308c\u66ff\u3048\u306a\u3057)\n"),S(d[0],"DEFAULT_HELP_MESSAGE",o("HELP_MESSAGE_1")+"\n"+o("HELP_MESSAGE_2")+"\n"+o("HELP_MESSAGE_3")),S(d[0],"HELP_MESSAGE",o("DEFAULT_HELP_MESSAGE")),a=d,s=[r=C(d[0],"ClassMethods")].concat(a),i=e.$r(s),r.$attr_reader("help_message"),r.$attr_reader("aliases_re_for_srs_roll_with_target_value"),r.$attr_reader("aliases_re_for_srs_roll_without_target_value"),m(r,"$set_aliases_for_srs_roll",function(_){var c,f=this,q=n,F=n;return c=e.slice.call(arguments),q=R(c,"map",[],"upcase".$to_proc()),F=R(q,"map",[],function(W){return null==W&&(W=n),i("Regexp").$escape(W)},1).$join("|"),f.aliases_re_for_srs_roll_with_target_value=i("Regexp").$new("^(?:"+F+")((?:[-+][-+\\d]+)?>=\\d+(?:\\[\\d*(?:,\\d+)?\\])?)$"),f.aliases_re_for_srs_roll_without_target_value=i("Regexp").$new("^(?:"+F+")([-+][-+\\d]+)?(\\[\\d*(?:,\\d+)?\\])?$"),f.$prepare_help_msg_for_aliases_for_srs_roll(q),f.help_message=f.$concatenate_help_messages(),f},-1),m(r,"$clear_aliases_for_srs_roll",function(){var _=this;return _.aliases_re_for_srs_roll_with_target_value=n,_.aliases_re_for_srs_roll_without_target_value=n,_.help_message=B(i("SRS"),"DEFAULT_HELP_MESSAGE"),_},0),r.$private(),m(r,"$prepare_help_msg_for_aliases_for_srs_roll",function(_){var c=this;return c.help_msg_for_aliases_for_srs_roll_with_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"+2>=10\u3000\u3000\u3000\u3000 2d6+2>=10\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c.help_msg_for_aliases_for_srs_roll_without_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"\u3000\u3000\u3000\u3000\u3000 2d6[]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n\u3000\u3000\u4f8b) "+f+"+2[12,4]\u3000 2d6+2[12,4]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c},1),m(r,"$concatenate_help_messages",function(){var _=this;return null==_.help_msg_for_aliases_for_srs_roll_with_target_value&&(_.help_msg_for_aliases_for_srs_roll_with_target_value=n),null==_.help_msg_for_aliases_for_srs_roll_without_target_value&&(_.help_msg_for_aliases_for_srs_roll_without_target_value=n),B(i("SRS"),"HELP_MESSAGE_1")+(_.help_msg_for_aliases_for_srs_roll_with_target_value+"\n")+B(i("SRS"),"HELP_MESSAGE_2")+_.help_msg_for_aliases_for_srs_roll_without_target_value+"\n"+B(i("SRS"),"HELP_MESSAGE_3")},0),function($,a){var r=[$].concat(a),s=e.$r(r);m($,"$inherited",function(u){return u.$extend(s("ClassMethods")).$clear_aliases_for_srs_roll()},1),m($,"$help_message",function(){return s("DEFAULT_HELP_MESSAGE")},0),m($,"$aliases_re_for_srs_roll_with_target_value",function(){return n},0),m($,"$aliases_re_for_srs_roll_without_target_value",function(){return n},0)}(e.get_singleton_class(T),d),T.$register_prefix("2D6"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,h(s,g(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.d66_sort_type=B(o("D66SortType"),"NO_SORT")},1),m(T,"$help_message",function(){return this.$class().$help_message()},0),S(d[0],"DEFAULT_CRITICAL_VALUE",12),S(d[0],"DEFAULT_FUMBLE_VALUE",2),S(d[0],"SRS_ROLL_WITH_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?>=(\d+)(?:\[(\d+)?(?:,(\d+))?\])?$/.$freeze()),S(d[0],"SRS_ROLL_WITHOUT_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?\[(\d+)?(?:,(\d+))?\]$/.$freeze()),S(d[0],"SRS_ROLL_DEFAULT_THRESHOLDS","["+o("DEFAULT_CRITICAL_VALUE")+","+o("DEFAULT_FUMBLE_VALUE")+"]"),S(d[0],"SRSRollNode",R(o("Struct"),"new",["modifier","critical_value","fumble_value","target_value"],function $(){return m(null==$.$$s?this:$.$$s,"$to_s",function(){var i,s=this;return i="2D6"+o("Format").$modifier(s.$modifier()),(y(s.$target_value())?i+">="+s.$target_value():i)+"["+s.$critical_value()+","+s.$fumble_value()+"]"},0)},{$$arity:0,$$s:T})),m(T,"$eval_game_system_specific_command",function(a){var s,i,r=this;return s=r.$replace_alias_for_srs_roll_with_2d6(a),y(i=r.$parse(s))?r.$execute_srs_roll(i):n},1),T.$private(),m(T,"$replace_alias_for_srs_roll_with_2d6",function(a){var s,_=n;return k(this.$class().$aliases_re_for_srs_roll_with_target_value(),s=a)?"2D6"+o("Regexp").$last_match(1):k(this.$class().$aliases_re_for_srs_roll_without_target_value(),s)?"2D6"+o("Regexp").$last_match(1)+(y(_=o("Regexp").$last_match(2))?_:o("SRS_ROLL_DEFAULT_THRESHOLDS")):a},1),m(T,"$parse",function(a){var s;return k(o("SRS_ROLL_WITH_TARGET_VALUE_RE"),s=a)?this.$parse_srs_roll_with_target_value(o("Regexp").$last_match()):k(o("SRS_ROLL_WITHOUT_TARGET_VALUE_RE"),s)?this.$parse_srs_roll_without_target_value(o("Regexp").$last_match()):n},1),m(T,"$eval_modifier",function(a){return y(a)?o("ArithmeticEvaluator").$eval(a,p(["round_type"],{round_type:this.round_type})):0},1),m(T,"$parse_srs_roll_with_target_value",function(a){var r,s,u,_,c,f,b=n;return u=this.$eval_modifier(a["$[]"](1)),_=a["$[]"](2).$to_i(),c=y(b=(r=a["$[]"](3))===n||null==r?n:R(r,"to_i",[]))?b:o("DEFAULT_CRITICAL_VALUE"),f=y(b=(s=a["$[]"](4))===n||null==s?n:R(s,"to_i",[]))?b:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,c,f,_)},1),m(T,"$parse_srs_roll_without_target_value",function(a){var r,s,u,_,b,c=n;return u=this.$eval_modifier(a["$[]"](1)),_=y(c=(r=a["$[]"](2))===n||null==r?n:R(r,"to_i",[]))?c:o("DEFAULT_CRITICAL_VALUE"),b=y(c=(s=a["$[]"](3))===n||null==s?n:R(s,"to_i",[]))?c:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,_,b,n)},1),m(T,"$execute_srs_roll",function(a){var i,u,_,f,r=this,s=n,c=n;return s=r.randomizer.$roll_barabara(2,6),y(r.sort_add_dice)&&s["$sort!"](),i=s.$sum(),u=s.$join(","),_=E(i,a.$modifier()),c=r.$compare_result(a,i,_),f=[["("+a+")",i+"["+u+"]"+o("Format").$modifier(a.$modifier()),_,c.$text()].$compact().$join(" \uff1e ")],R(c,"text=",M(f)),L(f.length,1),c},1),m(T,"$compare_result",function(a,r,s){return y(Y(r,a.$critical_value()))?o("Result").$critical("\u81ea\u52d5\u6210\u529f"):y(G(r,a.$fumble_value()))?o("Result").$fumble("\u81ea\u52d5\u5931\u6557"):y(a.$target_value()["$nil?"]())?o("Result").$new():y(Y(s,a.$target_value()))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")},3)},Opal.queue(function(e){var R,y,Y,G,j,p,E,h,t=[],B=e.module,C=e.klass,v=e.const_set;return e.top.$require("bcdice/game_system/SRS"),R=t,y=h=[B(t[0],"BCDice")].concat(R),p=[B(h[0],"GameSystem")].concat(y),E=e.$r(p),Y=p,v((j=[G=C(p[0],E("SRS"),"Alshard")].concat(Y))[0],"NAME","\u30a2\u30eb\u30b7\u30e3\u30fc\u30c9"),v(j[0],"SORT_KEY","\u3042\u308b\u3057\u3084\u3042\u3068"),v(j[0],"ID","Alshard"),G.$register_prefix("2D6","AL"),G.$set_aliases_for_srs_roll("AL"),v(j[0],"HELP_MESSAGE",G.$help_message())})},1105:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,z,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.truthy,R=e.def,m=e.rb_gt,h=e.rb_ge,g=e.rb_plus,y=e.rb_lt,k=e.rb_times;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=B(N[0],K("Base"),"AlterRaise")].concat(J),z=e.$r(w),I.$$prototype.randomizer=t,C(w[0],"ID","AlterRaise"),C(w[0],"NAME","\u30a2\u30eb\u30c8\u30ec\u30a4\u30ba"),C(w[0],"SORT_KEY","\u3042\u308b\u3068\u308c\u3044\u3059"),C(w[0],"HELP_MESSAGE","\u25c6\u89e3\u653e\u5224\u5b9a\uff1aEMA[x]\n\n[x]\u3067\u9054\u6210\u5024\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u7701\u7565\u6642\u306f\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n\u3010\u5404\u7a2e\u8868\u3011\n\u25c6\u6027\u683c\u50be\u5411\u8868\uff1aPER[n]\u3000\u3000\u3000\u3000\u3000\u3000 \u25c6\u5834\u6240\u8868\uff1aLOC[ab]\n\u25c6\u5e73\u7a4f\u30fb\u7d4c\u9a13\u8868\uff1aQUI[ab]\u3000\u3000\u3000\u3000\u3000\u25c6\u559c\u3073\u30fb\u7d4c\u9a13\u8868\uff1aDEL[ab]\n\u25c6\u5fc3\u306e\u50b7\u30fb\u7d4c\u9a13\u8868\uff1aTRA[ab]\u3000\u3000\u3000\u3000\u25c6\u30b7\u30fc\u30f3\u6f14\u51fa\u8868\uff1aSCE[n]\n\u25c6\u30b9\u30bf\u30f3\u30b9\u8868\uff1aSTA[n]\u3000\u3000\u3000\u3000\u3000\u3000 \u25c6\u611f\u60c5\u8868\uff1aEMO[ab]\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7701\u7565\u3067\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3001\u6307\u5b9a\u3067ROC\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n[n]\u306f\u300c1D6\u300d\u3001[ab]\u306f\u300cD66\u300d\u306e\u51fa\u76ee\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\nPER3\uff1a\u6027\u683c\u50be\u5411\u8868\u306e\u300c3\u300d\u3092ROC\nLOC52\uff1a\u5834\u6240\u8868\u306e\u300c52\u300d\u3092ROC\nQUI\uff1a\u5e73\u7a4f\u30fb\u7d4c\u9a13\u8868\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\n"),I.$register_prefix("EMA","PER","LOC","QUI","DEL","TRA","SCE","STA","EMO"),R(I,"$eval_game_system_specific_command",function(D){var o,T=this,l=t,$=t;return v(/EMA(\d+)?$/i,o=D.$upcase())?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_emancipation_table(l)):v(/PER(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_personality_table(l)):v(/LOC(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_location_table(l)):v(/QUI(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_quiet_table(l)):v(/DEL(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_delight_table(l)):v(/TRA(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_trauma_table(l)):v(/SCE(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_scene_production_table(l)):v(/STA(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_stance_table(l)):v(/EMO(\d+)?$/i,o)?(l=(S($=z("Regexp").$last_match(1))?$:0).$to_i(),T.$get_emotion_table(l)):t},1),R(I,"$get_emancipation_table",function(D){var o,l=t,$=t,a=t,r=t;return o=[[2,"\u6fc0\u95d8\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u60f3\u5b9a\u3092\u306f\u308b\u304b\u306b\u4e0a\u56de\u308b\u8105\u5a01\u3060\u3063\u305f\u3002\u5e7e\u672c\u3082\u306e\u592a\u5200\u7b4b\u3068\u6c38\u9060\u306e\u3088\u3046\u306a\u6642\u9593\u306e\u679c\u3066\u306b\u3001\u541b\u305f\u3061\u306f\u52dd\u5229\u3057\u305f\u3002\u6df1\u624b\u3092\u8ca0\u3063\u305f\u304c\u3001\u30ae\u30ea\u30ae\u30ea\u81f4\u547d\u50b7\u3067\u306f\u306a\u3044\u3002"],[4,"\u8f9b\u52dd\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u60f3\u5b9a\u4ee5\u4e0a\u306e\u5927\u7269\u3060\u3063\u305f\u3002\u5203\u3068\u7259\u306e\u305b\u3081\u304e\u5408\u3044\u306e\u679c\u3066\u3001\u541b\u305f\u3061\u306f\u8f9b\u304f\u3082\u52dd\u5229\u3057\u305f\u3002"],[6,"\u52dd\u5229\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u3001\u304a\u304a\u3080\u306d\u60f3\u5b9a\u3055\u308c\u308b\u7a0b\u5ea6\u306e\u500b\u4f53\u3067\u3042\u3063\u305f\u3002\u591a\u5c11\u306e\u50b7\u306f\u8ca0\u3063\u305f\u304c\u3001\u541b\u305f\u3061\u306f\u554f\u984c\u306a\u304f\u52dd\u5229\u3067\u304d\u305f\u3002"],[8,"\u5feb\u52dd\u3002\u4eca\u56de\u306e\u7aef\u672b\u306b\u306f\u3001\u5371\u3046\u3052\u3082\u7121\u304f\u52dd\u5229\u3067\u304d\u305f\u3002\u541b\u3068\u30da\u30a2\u306e\u30b3\u30f3\u30d3\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u8cdc\u7269\u3060\u308d\u3046\u3002\u304b\u3059\u308a\u50b7\u3092\u8ca0\u3063\u305f\u304c\u3001\u52f2\u7ae0\u306e\u3088\u3046\u306a\u3082\u306e\u3060\u3002"],[10,"\u5727\u52dd\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u3001\u541b\u305f\u3061\u306e\u6575\u3067\u306f\u306a\u304b\u3063\u305f\u3002\u541b\u3068\u30da\u30a2\u306e\u5263\u6483\u306f\u77ac\u304f\u9593\u306b\u7aef\u672b\u3092\u5bf8\u65ad\u3057\u3001\u7c92\u5b50\u306e\u5149\u306b\u9084\u5143\u3057\u305f\u3002"],[12,"\u5239\u90a3\u3002\u7aef\u672b\u3092\u305d\u306e\u5207\u3063\u5148\u306b\u6349\u3048\u305f\u5239\u90a3\u3001\u541b\u305f\u3061\u306e\u524d\u3067\u7c92\u5b50\u306e\u5149\u304c\u821e\u3046\u3002\u305d\u308c\u4ee5\u4e0a\u4f55\u3082\u8d77\u3053\u308b\u3053\u3068\u306f\u306a\u304f\u3001\u4e16\u754c\u306f\u8272\u3092\u53d6\u308a\u623b\u3057\u305f\u3002"]],S(m(D,1))?(S(m(l=D,12))&&(l=12),$=""):(l=(a=this.randomizer.$roll_barabara(2,6)).$sum(),$="("+a.$join(",")+")"),r=this.$get_table_by_number(l,o),S(h(l,7))&&(r=g(r,"\n\u3010\u9054\u6210\u50247\u4ee5\u4e0a\u3011GM\uff1a\u653b\u6483\u30eb\u30fc\u30c1\u30f31\u3064\u3092\u958b\u793a\uff08\u756a\u53f7\u306f\u30da\u30a2PL\u304c\u6307\u5b9a\uff09\u3000PL\uff1a\u6226\u95d8\u958b\u59cb\u6642\u306e\u30a2\u30af\u30bb\u30eb\u30ec\u30d9\u30eb+1")),"\u89e3\u653e\u5224\u5b9a\u8868 \uff1e "+l+$+"\uff1a"+r},1),R(I,"$get_personality_table",function(D){return this.$get_AlterRaise_1d6_table_result("\u6027\u683c\u50be\u5411\u8868",[[1,"\u6311\u6226"],[2,"\u8abf\u548c"],[3,"\u611f\u6027"],[4,"\u4fe1\u5ff5"],[5,"\u8ad6\u7406"],[6,"\u601d\u616e"]],D)},1),R(I,"$get_location_table",function(D){return this.$get_AlterRaise_d66_table_result("\u5834\u6240\u8868",[[13,"\u6559\u5ba4"],[16,"\u90e8\u5ba4"],[23,"\u5546\u5e97\u8857"],[26,"\u7530\u820e"],[33,"\u90fd\u4f1a"],[36,"\u99c5"],[43,"\u30d0\u30a4\u30c8"],[46,"\u30b9\u30c6\u30fc\u30b8"],[53,"\u56f3\u66f8\u9928"],[56,"\u75c5\u9662"],[63,"\u81ea\u7136"],[66,"\u5bb6"]],D)},1),R(I,"$get_quiet_table",function(D){return this.$get_AlterRaise_d66_table_result("\u5e73\u7a4f\u30fb\u7d4c\u9a13\u8868",[[13,"\u53cb\u9054"],[16,"\u5e7c\u99b4\u67d3\u307f"],[23,"\u4e21\u89aa"],[26,"\u5144\u5f1f"],[33,"\u89aa\u621a"],[36,"\u7406\u89e3\u8005"],[43,"\u53cb\u4eba"],[46,"\u4ef2\u9593"],[53,"\u8da3\u5473"],[56,"\u7df4\u7fd2"],[63,"\u4e00\u4eba"],[66,"\u304a\u6c17\u306b\u5165\u308a"]],D)},1),R(I,"$get_delight_table",function(D){return this.$get_AlterRaise_d66_table_result("\u559c\u3073\u30fb\u7d4c\u9a13\u8868",[[13,"\u52dd\u5229"],[16,"\u512a\u52dd"],[23,"\u51fa\u4f1a\u3044"],[26,"\u7406\u89e3"],[33,"\u5e78\u904b"],[36,"\u30d7\u30ec\u30bc\u30f3\u30c8"],[43,"\u6210\u5c31"],[46,"\u6210\u9577"],[53,"\u5275\u9020"],[56,"\u597d\u8ee2"],[63,"\u8a3c\u660e"],[66,"\u751f\u9084"]],D)},1),R(I,"$get_trauma_table",function(D){return this.$get_AlterRaise_d66_table_result("\u5fc3\u306e\u50b7\u30fb\u7d4c\u9a13\u8868",[[13,"\u6557\u5317"],[16,"\u4ef2\u9055\u3044"],[23,"\u5931\u604b"],[26,"\u7121\u7406\u89e3"],[33,"\u7121\u529b"],[36,"\u5b64\u72ec"],[43,"\u5225\u96e2"],[46,"\u6b7b\u5225"],[53,"\u640d\u58ca"],[56,"\u55aa\u5931"],[63,"\u75c5"],[66,"\u4e8b\u6545"]],D)},1),R(I,"$get_scene_production_table",function(D){return this.$get_AlterRaise_1d6_table_result("\u30b7\u30fc\u30f3\u6f14\u51fa\u8868",[[1,"\u76f8\u8ac7\u3002\u541b\u306f\u76f8\u624b\u306b\u76f8\u8ac7\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3002"],[2,"\u904a\u3073\u3002\u541b\u306f\u76f8\u624b\u3068\u904a\u3073\u305f\u304b\u3063\u305f\u3002"],[3,"\u6848\u5185\u3002\u541b\u306f\u81ea\u8eab\u306e\u30a2\u30ea\u30a6\u30b9\u30fb\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6848\u5185\u3057\u305f\u304b\u3063\u305f\u3002"],[4,"\u52dd\u8ca0\u3002\u541b\u306f\u76f8\u624b\u3068\u4f55\u3089\u304b\u306e\u52dd\u8ca0\u3092\u3057\u305f\u304b\u3063\u305f\u3002"],[5,"\u304a\u9858\u3044\u3002\u541b\u306f\u76f8\u624b\u306b\u304a\u9858\u3044\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3002"],[6,"\u6249\u3092\u958b\u304f\u524d\u306b\u3002\u30a2\u30af\u30bb\u30eb\u30c0\u30a4\u30d6\u30fb\u30b2\u30fc\u30c8\u3092\u304f\u3050\u308b\u524d\u306b\u3001\u541b\u306f\u76f8\u624b\u306b\u8a71\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3002\uff08\uff0a\u30c0\u30a4\u30d6\u3057\u305f\u5f8c\u306e\u30b7\u30fc\u30f3\u3082\u6f14\u51fa\u3059\u308b\u3053\u3068\uff09"]],D)},1),R(I,"$get_stance_table",function(D){return this.$get_AlterRaise_1d6_table_result("\u30b9\u30bf\u30f3\u30b9\u8868",[[1,"\u53cb\u4eba"],[2,"\u604b\u611b"],[3,"\u5e2b\u4e8b"],[4,"\u30e9\u30a4\u30d0\u30eb"],[5,"\u5bb6\u65cf"],[6,"\u5b88\u8b77"]],D)},1),R(I,"$get_emotion_table",function(D){return this.$get_AlterRaise_d66_table_result("\u611f\u60c5\u8868",[[13,"\u52c7\u6c17"],[16,"\u6012\u308a"],[23,"\u60b2\u3057\u307f"],[26,"\u559c\u3073"],[33,"\u9a5a\u304d"],[36,"\u6050\u308c"],[43,"\u5b89\u3089\u304e"],[46,"\u8aa0\u610f"],[53,"\u5e87\u8b77"],[56,"\u8b1d\u610f"],[63,"\u4fe1\u983c"],[66,"\u597d\u610f"]],D)},1),R(I,"$get_AlterRaise_1d6_table_result",function(D,T,d){var l=t;return S(m(d,0))?S(m(l=d,6))&&(l=6):l=this.randomizer.$roll_once(6),D+" \uff1e "+l+"\uff1a"+this.$get_table_by_number(l,T)},3),R(I,"$get_AlterRaise_d66_table_result",function(D,T,d){var r,o=this,l=t,$=t,a=t;return S(m(d,10))?($=(l=d.$to_s())["$[]"](0,1).$to_i(),S(m($,6))&&($=6),a=l["$[]"](1,1).$to_i(),S(y(a,1))&&(a=1),S(m(a,6))&&(a=6)):S(m(d,0))?(S(m($=d,6))&&($=6),a=o.randomizer.$roll_once(6)):($=o.randomizer.$roll_once(6),a=o.randomizer.$roll_once(6)),r=g(k($,10),a),D+" \uff1e "+(l=$+","+a)+"\uff1a"+o.$get_table_by_number(r,T)},3)})},5752:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.queue(function(e){var N,J,D,$,r,s,T,d,o,w,z,P,H=e.top,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.eqeq,k=e.rb_gt,p=e.send,E=e.rb_plus,M=e.rb_ge,L=e.rb_minus,Y=e.to_a,G=e.hash2;return H.$require("bcdice/arithmetic_evaluator"),H.$require("bcdice/format"),H.$require("bcdice/normalize"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"Amadeus")].concat(D),o=e.$r(d),T.$$prototype.randomizer=n,S(d[0],"ID","Amadeus"),S(d[0],"NAME","\u30a2\u30de\u30c7\u30a6\u30b9"),S(d[0],"SORT_KEY","\u3042\u307e\u3066\u3046\u3059"),S(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a(Rx\xb1y@z>=t)\n\u3000\u80fd\u529b\u5024\u306e\u30c0\u30a4\u30b9\u3054\u3068\u306b\u6210\u529f\u30fb\u5931\u6557\u306e\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000x\uff1a\u80fd\u529b\u30e9\u30f3\u30af(S,A\uff5eD)\u3000y\uff1a\u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n\u3000z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u6700\u4f4e\u5024\uff08\u7701\u7565\uff1a6\uff09\u3000t\uff1a\u76ee\u6a19\u5024\uff08\u7701\u7565\uff1a4\uff09\n\u3000\u3000\u4f8b\uff09 RA\u3000RB-1\u3000RC>=5\u3000RD+2\u3000RS-1@5>=6\n\u3000\u51fa\u529b\u66f8\u5f0f\u306f\n\u3000\u3000(\u9054\u6210\u5024)_(\u5224\u5b9a\u7d50\u679c)[(\u51fa\u76ee)(\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30ac)]\n\u3000C,D\u30e9\u30f3\u30af\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30ac\u306f\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\n\u3000\u3000\u51fa\u529b\u4f8b)\u30002_\u30d5\u30a1\u30f3\u30d6\u30eb\uff01[1\u9ed2] / 3_\u5931\u6557[3\u9752]\n\u30fb\u5404\u7a2e\u8868\n\u3000\u5883\u9047\u8868 ECT\uff0f\u95a2\u4fc2\u8868 RT\uff0f\u89aa\u5fc3\u8868 PRT\uff0f\u6226\u5834\u8868 BST\uff0f\u4f11\u61a9\u8868 BT\uff0f\n\u3000\u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\uff0f\u81f4\u547d\u50b7\u8868 FWT\uff0f\u6226\u679c\u8868 BRT\uff0f\u30e9\u30f3\u30c0\u30e0\u30a2\u30a4\u30c6\u30e0\u8868 RIT\uff0f\n\u3000\u640d\u50b7\u8868 WT\uff0f\u60aa\u5922\u8868 NMT\uff0f\u76ee\u6a19\u8868 TGT\uff0f\u5236\u7d04\u8868 CST\uff0f\n\u3000\u30e9\u30f3\u30c0\u30e0\u30ae\u30d5\u30c8\u8868 RGT\uff0f\u6c7a\u6226\u6226\u679c\u8868 FBT\uff0f\n\u3000\u5e97\u5185\u96f0\u56f2\u6c17\u8868 SAT\uff0f\u7279\u6b8a\u30e1\u30cb\u30e5\u30fc\u8868 SMT\n\u30fb\u8a66\u7df4\u8868\uff08\uff5eVT\uff09\n\u3000\u30ae\u30ea\u30b7\u30e3\u795e\u7fa4 GCVT\uff0f\u30e4\u30de\u30c8\u795e\u7fa4 YCVT\uff0f\u30a8\u30b8\u30d7\u30c8\u795e\u7fa4 ECVT\uff0f\n\u3000\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u7fa4 CCVT\uff0f\u5317\u6b27\u795e\u7fa4 NCVT\uff0f\u4e2d\u83ef\u795e\u7fa4 CHVT\uff0f\n  \u30e9\u30b9\u30c8\u30af\u30ed\u30cb\u30af\u30eb\u795e\u7fa4 LCVT\uff0f\u30b1\u30eb\u30c8\u795e\u7fa4 KCVT\uff0f\u30c0\u30f3\u30b8\u30e7\u30f3 DGVT\uff0f\u65e5\u5e38 DAVT\n\u30fb\u6311\u6226\u30c6\u30fc\u30de\u8868\uff08\uff5eCT\uff09\n\u3000\u6b66\u52c7 PRCT\uff0f\u6280\u8853 TCCT\uff0f\u982d\u8133 INCT\uff0f\u970a\u529b PSCT\uff0f\u611b LVCT\uff0f\u65e5\u5e38 DACT\n"),h(T,"$initialize",function $(a){var s=this;return delete $.$$p,R(s,m(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.enabled_d66=!0,s.d66_sort_type=B(o("D66SortType"),"ASC")},1),h(T,"$eval_game_system_specific_command",function(a){var s,r=this;return g(s=r.$roll_amadeus(a))?s:r.$roll_tables(a,B(r.$class(),"TABLES"))},1),T.$private(),h(T,"$roll_amadeus",function(a){var r=this,s=n,i=n,u=n,_=n,c=n,b=n,f=n,q=n,F=n,U=n,W=n,X=n,Q=n,re=n,O=n,ie=n,ne=n,ae=n,ue=n;return s=/^R([A-DS])([+\-\d]*)(@(\d))?((>=?)([+\-\d]*))?(@(\d))?$/i.$match(a),g(s)?(i=s["$[]"](1),u=o("ArithmeticEvaluator").$eval(s["$[]"](2)),_=g(s["$[]"](6))?o("Normalize").$comparison_operator(s["$[]"](6)):">=",c=g(s["$[]"](7))?o("ArithmeticEvaluator").$eval(s["$[]"](7)):4,b=(g(f=g(q=s["$[]"](4))?q:s["$[]"](9))?f:6).$to_i(),F=o("CHECK_DICE_COUNT")["$[]"](i),W=(U=r.randomizer.$roll_barabara(F,6)).$join(","),X=y(b,6)?"":"@"+b,y(i,"D")&&(U=[U.$min()]),Q=k(U.$size(),1),re=r.$translate("Amadeus.inga_table"),O=!1,ie=!1,ne=!1,ae=p(U,"map",[],function _e(se){var ce,$e=null==_e.$$s?this:_e.$$s,oe=n;return null==se&&(se=n),oe=E(se,u),ce=y(se,1)?(ne=!0,$e.$translate("Amadeus.fumble")):g(M(se,b))?(ie=!0,O=!0,$e.$translate("Amadeus.special")):g(oe.$send(_,c))?(O=!0,$e.$translate("success")):$e.$translate("failure"),g(Q)?oe+"_"+ce+"["+se+re["$[]"](L(se,1))+"]":oe+"_"+ce+"["+se+"]"},{$$arity:1,$$s:r}),ue=["(R"+i+o("Format").$modifier(u)+X+_+c+")","["+W+"]"+o("Format").$modifier(u),ae.$join(" / ")],p(o("Result").$new(),"tap",[],function(se){var $e=n;return null==se&&(se=n),$e=[ue.$join(" \uff1e ")],p(se,"text=",Y($e)),L($e.length,1),g(O)?(p(se,"success=",Y($e=[!0])),L($e.length,1),p(se,"critical=",Y($e=[ie])),$e[L($e.length,1)]):(p(se,"failure=",Y($e=[!0])),L($e.length,1),p(se,"fumble=",Y($e=[ne])),$e[L($e.length,1)])},1)):n},1),S(d[0],"CHECK_DICE_COUNT",G(["S","A","B","C","D"],{S:4,A:3,B:2,C:1,D:2}).$freeze()),r=[$=e.get_singleton_class(T)].concat(d),s=e.$r(r),$.$private(),h($,"$translate_tables",function(u){return G(["ECT","BST","RT","PRT","FT","BT","FWT","BRT","RIT","WT","NMT","TGT","CST","GCVT","YCVT","ECVT","CCVT","NCVT","DGVT","DAVT","PRCT","TCCT","INCT","PSCT","LVCT","DACT","RGT","FBT","CHVT","LCVT","KCVT","SAT","SMT"],{ECT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.ECT",u),BST:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.BST",u),RT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.RT",u),PRT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.PRT",u),FT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.FT",u),BT:B(s("DiceTable"),"D66Table").$from_i18n("Amadeus.table.BT",u),FWT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.FWT",u),BRT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.BRT",u),RIT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.RIT",u),WT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.WT",u),NMT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.NMT",u),TGT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.TGT",u),CST:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.CST",u),GCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.GCVT",u),YCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.YCVT",u),ECVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.ECVT",u),CCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.CCVT",u),NCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.NCVT",u),DGVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.DGVT",u),DAVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.DAVT",u),PRCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.PRCT",u),TCCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.TCCT",u),INCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.INCT",u),PSCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.PSCT",u),LVCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.LVCT",u),DACT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.DACT",u),RGT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.RGT",u),FBT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.FBT",u),CHVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.CHVT",u),LCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.LCVT",u),KCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.KCVT",u),SAT:B(s("DiceTable"),"D66Table").$from_i18n("Amadeus.table.SAT",u),SMT:B(s("DiceTable"),"D66Table").$from_i18n("Amadeus.table.SMT",u)})},1),S(d[0],"TABLES",T.$translate_tables("ja_jp")),T.$register_prefix("R[A-DS]",o("TABLES").$keys())})},6602:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.modules["bcdice/game_system/Amadeus"]=function(e){var N,J,D,$,r,s,T,d,o,w,z,P,H=e.top,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.eqeq,k=e.rb_gt,p=e.send,E=e.rb_plus,M=e.rb_ge,L=e.rb_minus,Y=e.to_a,G=e.hash2;return H.$require("bcdice/arithmetic_evaluator"),H.$require("bcdice/format"),H.$require("bcdice/normalize"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"Amadeus")].concat(D),o=e.$r(d),T.$$prototype.randomizer=n,S(d[0],"ID","Amadeus"),S(d[0],"NAME","\u30a2\u30de\u30c7\u30a6\u30b9"),S(d[0],"SORT_KEY","\u3042\u307e\u3066\u3046\u3059"),S(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a(Rx\xb1y@z>=t)\n\u3000\u80fd\u529b\u5024\u306e\u30c0\u30a4\u30b9\u3054\u3068\u306b\u6210\u529f\u30fb\u5931\u6557\u306e\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000x\uff1a\u80fd\u529b\u30e9\u30f3\u30af(S,A\uff5eD)\u3000y\uff1a\u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n\u3000z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u6700\u4f4e\u5024\uff08\u7701\u7565\uff1a6\uff09\u3000t\uff1a\u76ee\u6a19\u5024\uff08\u7701\u7565\uff1a4\uff09\n\u3000\u3000\u4f8b\uff09 RA\u3000RB-1\u3000RC>=5\u3000RD+2\u3000RS-1@5>=6\n\u3000\u51fa\u529b\u66f8\u5f0f\u306f\n\u3000\u3000(\u9054\u6210\u5024)_(\u5224\u5b9a\u7d50\u679c)[(\u51fa\u76ee)(\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30ac)]\n\u3000C,D\u30e9\u30f3\u30af\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30ac\u306f\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\n\u3000\u3000\u51fa\u529b\u4f8b)\u30002_\u30d5\u30a1\u30f3\u30d6\u30eb\uff01[1\u9ed2] / 3_\u5931\u6557[3\u9752]\n\u30fb\u5404\u7a2e\u8868\n\u3000\u5883\u9047\u8868 ECT\uff0f\u95a2\u4fc2\u8868 RT\uff0f\u89aa\u5fc3\u8868 PRT\uff0f\u6226\u5834\u8868 BST\uff0f\u4f11\u61a9\u8868 BT\uff0f\n\u3000\u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\uff0f\u81f4\u547d\u50b7\u8868 FWT\uff0f\u6226\u679c\u8868 BRT\uff0f\u30e9\u30f3\u30c0\u30e0\u30a2\u30a4\u30c6\u30e0\u8868 RIT\uff0f\n\u3000\u640d\u50b7\u8868 WT\uff0f\u60aa\u5922\u8868 NMT\uff0f\u76ee\u6a19\u8868 TGT\uff0f\u5236\u7d04\u8868 CST\uff0f\n\u3000\u30e9\u30f3\u30c0\u30e0\u30ae\u30d5\u30c8\u8868 RGT\uff0f\u6c7a\u6226\u6226\u679c\u8868 FBT\uff0f\n\u3000\u5e97\u5185\u96f0\u56f2\u6c17\u8868 SAT\uff0f\u7279\u6b8a\u30e1\u30cb\u30e5\u30fc\u8868 SMT\n\u30fb\u8a66\u7df4\u8868\uff08\uff5eVT\uff09\n\u3000\u30ae\u30ea\u30b7\u30e3\u795e\u7fa4 GCVT\uff0f\u30e4\u30de\u30c8\u795e\u7fa4 YCVT\uff0f\u30a8\u30b8\u30d7\u30c8\u795e\u7fa4 ECVT\uff0f\n\u3000\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u7fa4 CCVT\uff0f\u5317\u6b27\u795e\u7fa4 NCVT\uff0f\u4e2d\u83ef\u795e\u7fa4 CHVT\uff0f\n  \u30e9\u30b9\u30c8\u30af\u30ed\u30cb\u30af\u30eb\u795e\u7fa4 LCVT\uff0f\u30b1\u30eb\u30c8\u795e\u7fa4 KCVT\uff0f\u30c0\u30f3\u30b8\u30e7\u30f3 DGVT\uff0f\u65e5\u5e38 DAVT\n\u30fb\u6311\u6226\u30c6\u30fc\u30de\u8868\uff08\uff5eCT\uff09\n\u3000\u6b66\u52c7 PRCT\uff0f\u6280\u8853 TCCT\uff0f\u982d\u8133 INCT\uff0f\u970a\u529b PSCT\uff0f\u611b LVCT\uff0f\u65e5\u5e38 DACT\n"),h(T,"$initialize",function $(a){var s=this;return delete $.$$p,R(s,m(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.enabled_d66=!0,s.d66_sort_type=B(o("D66SortType"),"ASC")},1),h(T,"$eval_game_system_specific_command",function(a){var s,r=this;return g(s=r.$roll_amadeus(a))?s:r.$roll_tables(a,B(r.$class(),"TABLES"))},1),T.$private(),h(T,"$roll_amadeus",function(a){var r=this,s=n,i=n,u=n,_=n,c=n,b=n,f=n,q=n,F=n,U=n,W=n,X=n,Q=n,re=n,O=n,ie=n,ne=n,ae=n,ue=n;return s=/^R([A-DS])([+\-\d]*)(@(\d))?((>=?)([+\-\d]*))?(@(\d))?$/i.$match(a),g(s)?(i=s["$[]"](1),u=o("ArithmeticEvaluator").$eval(s["$[]"](2)),_=g(s["$[]"](6))?o("Normalize").$comparison_operator(s["$[]"](6)):">=",c=g(s["$[]"](7))?o("ArithmeticEvaluator").$eval(s["$[]"](7)):4,b=(g(f=g(q=s["$[]"](4))?q:s["$[]"](9))?f:6).$to_i(),F=o("CHECK_DICE_COUNT")["$[]"](i),W=(U=r.randomizer.$roll_barabara(F,6)).$join(","),X=y(b,6)?"":"@"+b,y(i,"D")&&(U=[U.$min()]),Q=k(U.$size(),1),re=r.$translate("Amadeus.inga_table"),O=!1,ie=!1,ne=!1,ae=p(U,"map",[],function _e(se){var ce,$e=null==_e.$$s?this:_e.$$s,oe=n;return null==se&&(se=n),oe=E(se,u),ce=y(se,1)?(ne=!0,$e.$translate("Amadeus.fumble")):g(M(se,b))?(ie=!0,O=!0,$e.$translate("Amadeus.special")):g(oe.$send(_,c))?(O=!0,$e.$translate("success")):$e.$translate("failure"),g(Q)?oe+"_"+ce+"["+se+re["$[]"](L(se,1))+"]":oe+"_"+ce+"["+se+"]"},{$$arity:1,$$s:r}),ue=["(R"+i+o("Format").$modifier(u)+X+_+c+")","["+W+"]"+o("Format").$modifier(u),ae.$join(" / ")],p(o("Result").$new(),"tap",[],function(se){var $e=n;return null==se&&(se=n),$e=[ue.$join(" \uff1e ")],p(se,"text=",Y($e)),L($e.length,1),g(O)?(p(se,"success=",Y($e=[!0])),L($e.length,1),p(se,"critical=",Y($e=[ie])),$e[L($e.length,1)]):(p(se,"failure=",Y($e=[!0])),L($e.length,1),p(se,"fumble=",Y($e=[ne])),$e[L($e.length,1)])},1)):n},1),S(d[0],"CHECK_DICE_COUNT",G(["S","A","B","C","D"],{S:4,A:3,B:2,C:1,D:2}).$freeze()),r=[$=e.get_singleton_class(T)].concat(d),s=e.$r(r),$.$private(),h($,"$translate_tables",function(u){return G(["ECT","BST","RT","PRT","FT","BT","FWT","BRT","RIT","WT","NMT","TGT","CST","GCVT","YCVT","ECVT","CCVT","NCVT","DGVT","DAVT","PRCT","TCCT","INCT","PSCT","LVCT","DACT","RGT","FBT","CHVT","LCVT","KCVT","SAT","SMT"],{ECT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.ECT",u),BST:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.BST",u),RT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.RT",u),PRT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.PRT",u),FT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.FT",u),BT:B(s("DiceTable"),"D66Table").$from_i18n("Amadeus.table.BT",u),FWT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.FWT",u),BRT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.BRT",u),RIT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.RIT",u),WT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.WT",u),NMT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.NMT",u),TGT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.TGT",u),CST:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.CST",u),GCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.GCVT",u),YCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.YCVT",u),ECVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.ECVT",u),CCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.CCVT",u),NCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.NCVT",u),DGVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.DGVT",u),DAVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.DAVT",u),PRCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.PRCT",u),TCCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.TCCT",u),INCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.INCT",u),PSCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.PSCT",u),LVCT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.LVCT",u),DACT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.DACT",u),RGT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.RGT",u),FBT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.FBT",u),CHVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.CHVT",u),LCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.LCVT",u),KCVT:B(s("DiceTable"),"Table").$from_i18n("Amadeus.table.KCVT",u),SAT:B(s("DiceTable"),"D66Table").$from_i18n("Amadeus.table.SAT",u),SMT:B(s("DiceTable"),"D66Table").$from_i18n("Amadeus.table.SMT",u)})},1),S(d[0],"TABLES",T.$translate_tables("ja_jp")),T.$register_prefix("R[A-DS]",o("TABLES").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Amadeus"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Amadeus"),"Amadeus_Korean")].concat(N))[0],"ID","Amadeus:Korean"),v(P[0],"NAME","\uc544\ub9c8\ub370\uc6b0\uc2a4"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uc544\ub9c8\ub370\uc6b0\uc2a4"),v(P[0],"HELP_MESSAGE",'\u30fb\ud310\uc815(Rx\xb1y@z>=t)\n\u3000\ub2e4\uc774\uc2a4\ubcc4\ub85c \uc131\uacf5, \uc2e4\ud328\uc758 \ud310\uc815\uc744 \ud569\ub2c8\ub2e4.\n\u3000x\uff1ax\uc5d0 \ub7ad\ud06c(S,A\uff5eD)\ub97c \uc785\ub825.\n\u3000y\uff1ay\uc5d0 \uc218\uc815\uce58\ub97c \uc785\ub825. \xb1\uc758 \uacc4\uc0b0\uc5d0 \ub300\uc751. \uc0dd\ub7b5\uac00\ub2a5.\n\u3000z\uff1az\uc5d0 \uc2a4\ud398\uc15c\uc774 \ub418\ub294 \uc8fc\uc0ac\uc704 \ub208\uc758 \ucd5c\uc800\uce58\ub97c \uc785\ub825.\n\u3000\uc0dd\ub7b5\ud55c \uacbd\uc6b0, 6\uc758 \uac12\ub9cc \uc2a4\ud398\uc15c\uc774 \ub429\ub2c8\ub2e4.\n\u3000t\uff1at\uc5d0 \ubaa9\ud45c\uce58\ub97c \uc785\ub825. \xb1\uc758 \uacc4\uc0b0\uc5d0 \ub300\uc751. \uc0dd\ub7b5\uac00\ub2a5.\n\u3000\ubaa9\ud45c\uce58\ub97c \uc0dd\ub7b5\ud55c \uacbd\uc6b0, \ubaa9\ud45c\uce58\ub294 4\ub85c \uacc4\uc0b0\ub429\ub2c8\ub2e4.\n\u3000\uc608\uff09 RA\u3000RB-1\u3000RC>=5\u3000RD+2\u3000RS-1@5>=6\n\u3000\u203b RB++ \ub098 RA- \uac19\uc740, \ud50c\ub7ec\uc2a4 \ub9c8\uc774\ub108\uc2a4\ub9cc\uc758 \ud45c\uae30\ub85c\ub294 \uacc4\uc0b0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\u3000"\ub2ec\uc131\uce58"_"\ud310\uc815\uacb0\uacfc"["\uc8fc\uc0ac\uc704 \ub208""\ub300\uc751\ud558\ub294 \uc778\uacfc"]\uc640 \uac19\uc774 \ucd9c\ub825\ub429\ub2c8\ub2e4.\n\u3000\ub2e8, C.D\ub7ad\ud06c\uc5d0\uc11c\ub294 \ub300\uc751\ud558\ub294 \uc778\uacfc\uac00 \ucd9c\ub825\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\u3000\ucd9c\ub825\uc608)\u30001_\ud38c\ube14\uff01[1\ud751] / 3_\uc2e4\ud328[3\uccad]\n\u30fb\uac01\uc885\ud45c\n\u3000\u3000\uc870\uc6b0\ud45c\u3000ECT\uff0f\uad00\uacc4\ud45c\u3000RT\uff0f\ubd80\ubaa8\ub9c8\uc74c\ud45c\u3000PRT\uff0f\uc804\uc7a5\ud45c\u3000BST\uff0f\ud734\uc2dd\ud45c\u3000BT\uff0f\n\u3000\u3000\ud38c\ube14\ud45c\u3000FT\uff0f\uce58\uba85\uc0c1\ud45c\u3000FWT\uff0f\uc804\uacfc\ud45c BRT\uff0f\ub79c\ub364\uc544\uc774\ud15c\ud45c\u3000RIT\uff0f\n\u3000\u3000\uc190\uc0c1\ud45c\u3000WT\uff0f\uc545\ubabd\ud45c\u3000NMT\uff0f\ubaa9\ud45c\ud45c\u3000TGT\uff0f\u5236\u7d04\u8868 CST\uff0f\n\u3000\u3000\u30e9\u30f3\u30c0\u30e0\u30ae\u30d5\u30c8\u8868 RGT\uff0f\u6c7a\u6226\u6226\u679c\u8868 FBT\uff0f\n\u3000\u3000\u5e97\u5185\u96f0\u56f2\u6c17\u8868 SAT\uff0f\u7279\u6b8a\u30e1\u30cb\u30e5\u30fc\u8868 SMT\n\u30fb\u8a66\u7df4\u8868\uff08\uff5eVT\uff09\n\u3000\u30ae\u30ea\u30b7\u30e3\u795e\u7fa4 GCVT\uff0f\u30e4\u30de\u30c8\u795e\u7fa4 YCVT\uff0f\u30a8\u30b8\u30d7\u30c8\u795e\u7fa4 ECVT\uff0f\n\u3000\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u7fa4 CCVT\uff0f\u5317\u6b27\u795e\u7fa4 NCVT\uff0f\u4e2d\u83ef\u795e\u7fa4 CHVT\uff0f\n  \u30e9\u30b9\u30c8\u30af\u30ed\u30cb\u30af\u30eb\u795e\u7fa4 LCVT\uff0f\u30b1\u30eb\u30c8\u795e\u7fa4 KCVT\uff0f\u30c0\u30f3\u30b8\u30e7\u30f3 DGVT\uff0f\u65e5\u5e38 DAVT\n\u30fb\u6311\u6226\u30c6\u30fc\u30de\u8868\uff08\uff5eCT\uff09\n\u3000\u6b66\u52c7 PRCT\uff0f\u6280\u8853 TCCT\uff0f\u982d\u8133 INCT\uff0f\u970a\u529b PSCT\uff0f\u611b LVCT\uff0f\u65e5\u5e38 DACT\n'),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),K.$register_prefix_from_super_class(),v(P[0],"TABLES",K.$translate_tables("ko_kr"))})},5757:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.truthy,R=e.def,m=e.rb_plus,h=e.rb_ge,g=e.send,y=e.to_a,k=e.rb_minus,p=e.hash2,E=e.range;return L=H,N=G=[B(H[0],"BCDice")].concat(L),P=[B(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=C(P[0],V("Base"),"Aoharubaan")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,v(A[0],"ID","Aoharubaan"),v(A[0],"NAME","\u3042\u304a\u306f\u308b\u3070\u30fc\u3093\u3063"),v(A[0],"SORT_KEY","\u3042\u304a\u306f\u308b\u306f\u3042\u3093\u3064"),v(A[0],"HELP_MESSAGE","\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868\uff08 KR, KReaction \uff09\n"),v(A[0],"JUDGE_ROLL_REG",/^(1d6?|d6)(\+\d+)?(>=|=>)(\d+)$/i.$freeze()),z.$register_prefix("(1d6?|d6)(\\+\\d+)?(>=|=>)(\\d+)"),R(z,"$eval_game_system_specific_command",function(d){var l,$=t;return d=S(l=x("ALIAS")["$[]"](d))?l:d,S($=x("JUDGE_ROLL_REG").$match(d))?this.$roll_judge($["$[]"](2),$["$[]"](4)):this.$roll_tables(d,x("TABLES"))},1),z.$private(),R(z,"$roll_judge",function(d,o){var a,r,s,u,_,b,$=t,i=t,c=t,f=t,q=t;return $=S(d)?x("Arithmetic").$eval(d,n(x("RoundType"),"FLOOR")):t,a=o.$to_i(),r=this.$make_command_text($,a),s=this.randomizer.$roll_once(6),i=m(s,$.$to_i()),u=h(i,a),_=S(c=u)?i["$=="](a):c,b=S(c=u)?h(i,7):c,(f=[])["$<<"](S(u)?"\u6210\u529f":"\u5931\u6557"),S(_)&&f["$<<"]("\u30d4\u30bf\u30ea\u8cde"),S(b)&&f["$<<"]("\u9650\u754c\u7a81\u7834"),(q=[])["$<<"](r),S($)&&q["$<<"](s+"+"+$),q["$<<"](i),q["$<<"](f.$join(" \uff06 ")),g(x("Result").$new(q.$join(" \uff1e ")),"tap",[],function(U){var W=t;return null==U&&(U=t),g(U,"condition=",y(W=[u])),k(W.length,1),W=[S(c=_)?c:b],g(U,"critical=",y(W)),W[k(W.length,1)]},1)},2),R(z,"$make_command_text",function(d,o){var l=t;return l="1D6",S(d)&&(l=l+"+"+d),"("+(l=l+">="+o)+")"},2),v(A[0],"ALIAS",g(g(p(["KR"],{KR:"KReaction"}),"transform_keys",[],"upcase".$to_proc()),"transform_values",[],"upcase".$to_proc()).$freeze()),v(A[0],"TABLES",g(p(["KReaction"],{KReaction:n(x("DiceTable"),"RangeTable").$new("\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868","1D6",[[E(1,2,!1),"\u4f55\u3068\u306a\u304f\u7d20\u3063\u6c17\u306a\u3044\u6c17\u304c\u3059\u308b\u3002"],[E(3,4,!1),"\u3044\u3064\u3082\u3068\u5909\u308f\u3089\u306a\u3044\u5b89\u5fc3\u611f\u3002"],[E(5,6,!1),"\u4f55\u6545\u3060\u304b\u3059\u3054\u304f\u30c7\u30ec\u3066\u304d\u305f\uff01\u3000\u5b09\u3057\u304f\u3066\u3008\u30c6\u30f3\u30b7\u30e7\u30f3\u3009\uff11\u56de\u5fa9\u3002"]])}),"transform_keys",[],"upcase".$to_proc()).$freeze()),z.$register_prefix(x("ALIAS").$keys(),x("TABLES").$keys())})},4005:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,z,N,K,L,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_ge,k=e.neqeq;return E=H,G=L=[B(H[0],"BCDice")].concat(E),N=[B(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=C(N[0],K("Base"),"Arianrhod")].concat(J),z=e.$r(w),v(w[0],"ID","Arianrhod"),v(w[0],"NAME","\u30a2\u30ea\u30a2\u30f3\u30ed\u30c3\u30c9RPG"),v(w[0],"SORT_KEY","\u3042\u308a\u3042\u3093\u308d\u3064\u3068RPG"),v(w[0],"HELP_MESSAGE","\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6642\u306e\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u3082\u8868\u793a\u3055\u308c\u307e\u3059)\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),m(I,"$initialize",function A(x){var T=this;return delete A.$$p,S(T,R(T,"initialize",A,!1,!0),"initialize",[x],null),T.sort_add_dice=!0,T.d66_sort_type=n(z("D66SortType"),"NO_SORT")},1),m(I,"$result_nd6",function(x,D,T,d,o){var l;return l=T.$count(6),h(T.$count(1),T.$size())?z("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):g(y(l,2))?z("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(+"+l+"D6)"):k(d,">=")||h(o,"?")?t:g(y(x,o))?z("Result").$success("\u6210\u529f"):z("Result").$failure("\u5931\u6557")},5)})},3655:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var G,P,A,x,D,T,d,J,I,N,H=e.top,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.truthy,R=e.rb_minus,m=e.eqeq,h=e.send,g=e.rb_plus,y=e.neqeq,k=e.rb_gt,p=e.rb_lt,E=e.rb_times,M=e.rb_ge,L=e.def;return H.$require("bcdice/normalize"),H.$require("bcdice/format"),G=t,P=N=[B(t[0],"BCDice")].concat(G),J=[B(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=C(J[0],I("Base"),"ArsMagica")].concat(A),T=e.$r(D),(d=x.$$prototype).target_numner=d.botch=d.modify_number=d.cmp_op=d.randomizer=n,v(D[0],"ID","ArsMagica"),v(D[0],"NAME","\u30a2\u30eb\u30b9\u30de\u30ae\u30ab"),v(D[0],"SORT_KEY","\u3042\u308b\u3059\u307e\u304d\u304b"),v(D[0],"HELP_MESSAGE",'\u30fb\u30b9\u30c8\u30ec\u30b9\u30c0\u30a4\u30b9\u3000(ArSx+y)\n\u3000"ArS(\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9)+(\u4fee\u6b63)"\u3067\u3059\u3002\u5224\u5b9a\u306b\u3082\u4f7f\u3048\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9(1R10+y[m])\u306b\u8aad\u66ff\u3092\u3057\u307e\u3059\u3002\n\u3000\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9\u3068\u4fee\u6b63\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002(\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9\u3092\u7701\u7565\u3059\u308b\u30681\u3068\u3057\u3066\u6271\u3044\u307e\u3059)\n\u3000botch\u30c0\u30a4\u30b9\u306e0\u306e\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306f\u3001\u6570\u3048\u3066\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\uff08\u6ce8\u610f\uff01\uff09 botch\u306e\u5224\u65ad\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u306f\u3001\u305d\u306e\u30c0\u30a4\u30b9\u3092\u542b\u3081\u3066\u30ed\u30fc\u30eb\u3057\u305f\u5168\u3066\u306e\u30c0\u30a4\u30b9\u3092[]\u306e\u4e2d\u306b\u4e26\u3079\u3066\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b) (1R10[5]) \uff1e 0[0,1,8,0,8,1] \uff1e Botch!\n\u3000\u3000\u6700\u521d\u306e0\u304c\u5224\u65ad\u57fa\u6e96\u3067\u3001\u305d\u306e\u53f3\u50745\u3064\u304c\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9\u3067\u3059\u30021*2,8*2,0*1\u306a\u306e\u30671botch\u3068\u3044\u3046\u8a33\u3067\u3059\u3002\n'),x.$register_prefix("ArS","1R10"),L(x,"$eval_game_system_specific_command",function(l){var r,s,i,u,a=this,_=n,c=n,b=n,f=n,q=n,F=n,U=n,W=n;if(!S(a.$parse_ars(l))&&!S(a.$parse_1r10(l)))return n;if(r=S(s=a.target_numner)?s:0,i=a.botch,u=a.modify_number,_=1,c=0,b=a.cmp_op,f=R(a.randomizer.$roll_once(10),1),q="("+a.$expr()+") \uff1e ",m(f,0))F=0,U=[],h(i,"times",[],function X(Q){var O,re=null==X.$$s?this:X.$$s;return null==re.randomizer&&(re.randomizer=n),null==Q&&(Q=n),O=R(re.randomizer.$roll_once(10),1),m(O,0)&&(F=g(F,1)),U.$push(O)},{$$arity:1,$$s:a}),q=g(q,"0["+f+","+U.$join(",")+"]"),y(F,0)?(q=S(k(F,1))?g(q," \uff1e "+F+"Botch!"):g(q," \uff1e Botch!"),b=n):(q=S(k(u,0))?g(q,"+"+u+" \uff1e "+u):S(p(u,0))?g(q,u+" \uff1e "+u):g(q," \uff1e 0"),c=u);else if(m(f,1)){for(W="";m(f,1);)_=E(_,2),f=a.randomizer.$roll_once(10),W=g(W,f+",");c=E(f,_),W=W.$sub(/,$/,""),q=g(q,c.$to_s()),q=g(q,"[1,"+W+"]"),c=g(c,u),S(k(u,0))?q=g(q,"+"+u+" \uff1e "+c):S(p(u,0))&&(q=g(q,u+" \uff1e "+c))}else c=g(f,u),q=S(k(u,0))?g(q,f+"+"+u+" \uff1e "+c):S(p(u,0))?g(q,""+f+u+" \uff1e "+c):g(q,c.$to_s());return m(b,">=")&&(q=g(q,S(M(c,r))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),q.$to_s()},1),x.$private(),L(x,"$parse_ars",function(l){var $,a,r=this,s=n,i=n;return s=/^ArS(\d+)?((?:[+-]-?\d+)+)?(?:([>=]+)(\d+))?$/i.$match(l),!!S(s)&&(r.botch=S(i=($=s["$[]"](1))===n||null==$?n:h($,"to_i",[]))?i:1,r.modify_number=T("ArithmeticEvaluator").$eval(S(i=s["$[]"](2))?i:""),r.cmp_op=T("Normalize").$comparison_operator(s["$[]"](3)),r.target_numner=(a=s["$[]"](4))===n||null==a?n:h(a,"to_i",[]),!0)},1),L(x,"$parse_1r10",function(l){var $,a,r=this,s=n,i=n;return s=/^1R10((?:[+-]-?\d+)+)?(?:\[(\d+)\])?(?:([>=]+)(\d+))?$/i.$match(l),!!S(s)&&(r.modify_number=T("ArithmeticEvaluator").$eval(S(i=s["$[]"](1))?i:""),r.botch=S(i=($=s["$[]"](2))===n||null==$?n:h($,"to_i",[]))?i:1,r.cmp_op=T("Normalize").$comparison_operator(s["$[]"](3)),r.target_numner=(a=s["$[]"](4))===n||null==a?n:h(a,"to_i",[]),!0)},1),L(x,"$expr",function(){var l=this;return"1R10"+T("Format").$modifier(l.modify_number)+"["+l.botch+"]"+l.cmp_op+l.target_numner},0)})},3898:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var N,J,D,T,d,o,w,z,P,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.hash2,g=e.truthy,y=e.rb_ge,k=e.rb_plus,p=e.rb_times,E=e.rb_divide,M=e.send,L=e.to_a,Y=e.rb_minus,G=e.rb_le;return N=H,J=P=[B(H[0],"BCDice")].concat(N),w=[B(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=C(w[0],z("Base"),"AssaultEngine")].concat(D),o=e.$r(d),T.$$prototype.randomizer=t,v(d[0],"ID","AssaultEngine"),v(d[0],"NAME","\u30a2\u30b5\u30eb\u30c8\u30a8\u30f3\u30b8\u30f3"),v(d[0],"SORT_KEY","\u3042\u3055\u308b\u3068\u3048\u3093\u3057\u3093"),v(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a AEt (t\u76ee\u6a19\u5024)\n    \u4f8b: AE45 \uff08\u76ee\u6a19\u502445\uff09\n\u30fb\u30ea\u30ed\u30fc\u30eb nAEt (n\u30ed\u30fc\u30eb\u524d\u306e\u5024\u3001t\u76ee\u6a19\u5024)\n    \u4f8b: 76AE45 (\u76ee\u6a19\u502445\u3067\u300176\u3092\u632f\u308a\u76f4\u3059)\n\n\u30fb\u30b9\u30ef\u30c3\u30d7\uff08t\u76ee\u6a19\u5024\uff09 \u30a8\u30cd\u30df\u30fc\u30d6\u30c3\u30afP11\n    \u4f8b: AES45 \uff08\u76ee\u6a19\u502445\u3001\u30b9\u30ef\u30c3\u30d7\u8868\u793a\u3042\u308a\uff09\n"),T.$register_prefix("\\d*AE"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,S(s,R(s,"initialize",$,!1,!0),"initialize",[a],null),s.round_type=n(o("RoundType"),"FLOOR")},1),m(T,"$eval_game_system_specific_command",function(a){var r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t;return s=n(o("Command"),"Parser").$new(/AES?/,h(["round_type"],{round_type:r.$round_type()})).$enable_prefix_number().$has_suffix_number().$parse(a),g(s)?(i=s.$suffix_number(),g(y(i,100))&&(i=99),g(s.$command()["$include?"]("AES"))?(u=r.randomizer.$roll_once(100)["$%"](100),_=k(p(u["$%"](10),10),E(u,10).$floor()),c=r.$judge(i,u),b=r.$judge(i,_),f="(AES"+r.$format00(i)+") \uff1e "+c.$text()+" / \u30b9\u30ef\u30c3\u30d7"+b.$text(),r.$check_result(c,b,f)):g(s.$prefix_number()["$nil?"]())?(u=r.randomizer.$roll_once(100)["$%"](100),M(r.$judge(i,u),"tap",[],function X(Q){var O;return null==Q&&(Q=t),O=["(AE"+(null==X.$$s?this:X.$$s).$format00(i)+") \uff1e "+Q.$text()],M(Q,"text=",L(O)),O[Y(O.length,1)]},{$$arity:1,$$s:r})):(q=s.$prefix_number(),F=r.randomizer.$roll_once(10)["$%"](10),U=r.$judge(i,k(p(E(q,10).$floor(),10),F)),W=r.$judge(i,k(q["$%"](10),p(F,10))),f="("+r.$format00(q)+"AE"+r.$format00(i)+") \uff1e "+F+" \uff1e "+U.$text()+" / "+W.$text(),r.$check_result(U,W,f))):t},1),m(T,"$format00",function(a){return this.$format("%02d",a)},1),m(T,"$check_result",function(a,r,s){return g(a["$critical?"]())||g(r["$critical?"]())?o("Result").$critical(s):g(a["$success?"]())||g(r["$success?"]())?o("Result").$success(s):g(a["$fumble?"]())&&g(r["$fumble?"]())?o("Result").$fumble(s):o("Result").$failure(s)},3),m(T,"$judge",function(a,r){var i,u;return i=E(r,10).$floor()["$=="](r["$%"](10)),u=this.$format00(r),g(G(r,a))?g(i)?o("Result").$critical("("+u+")\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):o("Result").$success("("+u+")\u6210\u529f"):g(i)?o("Result").$fumble("("+u+")\u30d5\u30a1\u30f3\u30d6\u30eb"):o("Result").$failure("("+u+")\u5931\u6557")},2)})},8206:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var M,j,I,w,z,A,K,P,Y,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.rb_gt,g=e.send,y=e.rb_le,k=e.rb_plus,p=e.rb_times;return M=H,j=Y=[n(H[0],"BCDice")].concat(M),K=[n(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=B(K[0],P("Base"),"Avandner")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,C(z[0],"ID","Avandner"),C(z[0],"NAME","\u9ed2\u7d62\u306e\u30a2\u30f4\u30a1\u30f3\u30c9\u30ca\u30fc"),C(z[0],"SORT_KEY","\u3053\u3064\u3051\u3093\u306e\u3042\u3046\u3042\u3093\u3068\u306a\u3042"),C(z[0],"HELP_MESSAGE","\u30fb\u8abf\u67fb\u5224\u5b9a\uff1anAVm[Cx]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anAVm*p[+t][Cx]\n[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d2\u30c3\u30c8\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u30020\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u300cCx\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3001\u6700\u5927\u5024\u306f\u300c2\u300d\u3001\u300c0\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\u300c+t\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc\u3092\u6307\u5b9a\u3002\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5AV3 \u2192 5d10\u3067\u76ee\u6a19\u50243\u3002\n\u30fb6AV2C0 \u2192 6d10\u3067\u76ee\u6a19\u50242\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\u30fb4AV3*5 \u2192 4d10\u3067\u76ee\u6a19\u50243\u3001\u653b\u6483\u529b5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb7AV2x10 \u2192 7d10\u3067\u76ee\u6a19\u50242\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb8av4*7+10 \u2192 8d10\u3067\u76ee\u6a19\u50244\u3001\u653b\u6483\u529b7\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),w.$register_prefix("\\d+AV"),R(w,"$initialize",function D(T){var o=this;return delete D.$$p,v(o,S(o,"initialize",D,!1,!0),"initialize",[T],null),o.sort_add_dice=!0},1),R(w,"$eval_game_system_specific_command",function(T){var o=t,l=t,$=t,a=t,r=t,s=t;return m(T["$=~"](/(\d+)AV(\d+)((x|\*)(\d+))?(\+(\d+))?(C(\d+))?$/i))?(o=A("Regexp").$last_match(1).$to_i(),l=A("Regexp").$last_match(2).$to_i(),$=(m(a=A("Regexp").$last_match(5))?a:0).$to_i(),r=(m(a=A("Regexp").$last_match(7))?a:0).$to_i(),s=(m(a=A("Regexp").$last_match(9))?a:1).$to_i().$clamp(0,2),this.$checkRoll(o,l,$,r,s)):t},1),R(w,"$checkRoll",function(T,d,o,l,$){var U,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,W=t;for(s=0,i=0,u="",_=T;m(h(_,0));)b=(c=this.randomizer.$roll_barabara(_,10).$sort()).$join(","),f=g(c,"count",[],function(Q){return null==Q&&(Q=t),y(Q,d)},1),q=g(c,"count",[],function(Q){return null==Q&&(Q=t),y(Q,$)},1),s=k(s,f),i=k(i,q),m(u["$empty?"]())||(u=k(u,"+")),u=k(u,f+"["+b+"]"),_=q;return F="",U=o["$!="](0),m(U)?(W=k(p(s,o),p(i,l)),F=k(F,"("+T+"D10<="+d+") \uff1e "+u+" \uff1e Hits\uff1a"+s+"*"+o),m(h(l,0))&&(F=k(F," + Trigger\uff1a"+i+"*"+l)),F=k(F," \uff1e "+W+"\u30c0\u30e1\u30fc\u30b8")):F=k(F,"("+T+"D10<="+d+") \uff1e "+u+" \uff1e \u6210\u529f\u6570\uff1a"+s),m(h(i,0))&&(F=k(F," / "+i+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),F},5)})},8554:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.rb_plus,R=e.send,m=e.to_a,h=e.rb_ge,g=e.def,y=e.eqeqeq,k=e.rb_divide,p=e.rb_gt,E=e.rb_lt;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"BBN")].concat(w),(x=z.$$prototype).randomizer=x.roll_times=x.modify=x.modify_str=x.difficulty=x.critical=x.fumble=t,z.$register_prefix("\\d+BN"),C(A[0],"ID","BBN"),C(A[0],"NAME","BBNTRPG"),C(A[0],"SORT_KEY","\u3072\u3044\u3072\u3044\u3048\u306cTRPG"),C(A[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a(xBN\xb1y>=z[c,f])\n\u3000xD6\u306e\u5224\u5b9a\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u30001D\u306e\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f1\u30022D\u306e\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f2\u3002\n\u3000nD\u306e\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f n/2 \u306e\u5207\u308a\u4e0a\u3052\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3092\u512a\u5148\u3002\n\u3000x\uff1ax\u306b\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3092\u5165\u529b\u3002\n\u3000y\uff1ay\u306b\u4fee\u6b63\u5024\u3092\u5165\u529b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  z\uff1az\u306b\u76ee\u6a19\u5024\u3092\u5165\u529b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  c\uff1a\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306b\u5fc5\u8981\u306a\u30c0\u30a4\u30b9\u76ee\u300c6\u300d\u306e\u6570\u306e\u5897\u6e1b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  f\uff1a\u30d5\u30a1\u30f3\u30d6\u30eb\u306b\u5fc5\u8981\u306a\u30c0\u30a4\u30b9\u76ee\u300c1\u300d\u306e\u6570\u306e\u5897\u6e1b\u3002\u7701\u7565\u53ef\u80fd\u3002\n\u3000\u4f8b\uff09 3BN+4\u30003BN>=8\u30003BN+1>=10[-1] 3BN+1>=10[,1] 3BN+1>=10[1,1]\n"),g(z,"$eval_game_system_specific_command",function(T){var d=this,o=t,l=t,$=t,a=t,r=t;return v(d.$parse(T))?(l=(o=d.randomizer.$roll_barabara(d.roll_times,6)).$sum(),$=o.$join(","),a=S(l,d.modify),r=["("+T+")",l+"["+$+"]"+d.modify_str,a],v(d["$critical_?"](o))?R(r,"push",["\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"].concat(m(d.$additional_roll(o.$count(6),a)))):v(d["$fumble_?"](o))?r.$push("\u30d5\u30a1\u30f3\u30d6\u30eb\uff01"):v(d.difficulty)&&r.$push(v(h(a,d.difficulty))?"\u6210\u529f":"\u5931\u6557"),r.$join(" \uff1e ")):t},1),z.$private(),g(z,"$parse",function(T){var d=this,o=t,l=t,$=t;return o=/^(\d+)BN([+-]\d+)?(>=(([+-]?\d+)))?(\[([+-]?\d+)?(,([+-]?\d+))?\])?/.$match(T),!!v(o)&&(d.roll_times=o["$[]"](1).$to_i(),d.modify_str=v(l=o["$[]"](2))?l:"",d.modify=o["$[]"](2).$to_i(),d.difficulty=v(o["$[]"](4))?o["$[]"](4).$to_i():t,$=d.$critical_base(d.roll_times),d.critical=S($,o["$[]"](7).$to_i()),d.fumble=S($,o["$[]"](9).$to_i()),!0)},1),g(z,"$critical_base",function(T){var d;return y(1,d=T)||y(2,d)?T:k(T.$to_f(),2).$ceil()},1),g(z,"$critical_?",function(T){return h(T.$count(6),this.critical)},1),g(z,"$fumble_?",function(T){return h(T.$count(1),this.fumble)},1),g(z,"$additional_roll",function(T,d){var l=this,$=t,a=t,r=t,s=t,i=t,u=t;for($=[],a=0;v(v(r=p(T,0))?E(a,10):r);)a=S(a,1),i=(s=l.randomizer.$roll_barabara(T,6)).$sum(),u=s.$join(","),T=s.$count(6),$.$push(d+"+"+i+"["+u+"]"),v(p(T,0))&&$.$push("\u8ffd\u52a0\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"),d=S(d,i);return v(p(T,0))&&$.$push("\u7121\u9650\u30eb\u30fc\u30d7\u9632\u6b62\u306e\u305f\u3081\u4e2d\u65ad"),$.$push(d),v(l.difficulty)&&$.$push(v(h(d,l.difficulty))?"\u6210\u529f":"\u5931\u6557"),$},2)})},9538:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.truthy,R=e.def,m=e.rb_minus,h=e.rb_plus,g=e.to_ary,y=e.eqeqeq,k=e.rb_le,p=e.rb_ge,E=e.rb_gt,M=e.neqeq,L=e.hash2;return G=H,P=N=[B(H[0],"BCDice")].concat(G),J=[B(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=C(J[0],I("Base"),"BadLife")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,v(D[0],"ID","BadLife"),v(D[0],"NAME","\u30d0\u30c3\u30c9\u30e9\u30a4\u30d5"),v(D[0],"SORT_KEY","\u306f\u3064\u3068\u3089\u3044\u3075"),v(D[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff1anBADm[\xb1a][Cb\xb1c][Fd\xb1e][@X\xb1f][!OP]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u3002\n\u30fbBAD\u30b3\u30de\u30f3\u30c9\u306f\u300cBL\u300d\u30b3\u30de\u30f3\u30c9\u3067\u4ee3\u7528\u53ef\u3002\n\u30fb\u535a\u5f92\u306f\u300cGL\u300d\u30b3\u30de\u30f3\u30c9\u3067\u3008\u6ce2\u4e71\u4e07\u4e08\u3009\u306e\u52b9\u679c\u3092\u9069\u7528\u3002\n\n\u300cn\u300d\u3067\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3001\u300cm\u300d\u3067\u7279\u6027\u5024\u3001\u300c\xb1a\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u5024\u3001\n\u300cCb\xb1c\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3078\u306e\u4fee\u6b63\u3001\u300cFd\xb1e\u300d\u3067\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u3078\u306e\u4fee\u6b63\u3001\n\u300c@X\u300d\u3067\u76ee\u6a19\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u3002\n\u300c\xb1a\u300d\u300cCb\xb1c\u300d\u300cFd\xb1e\u300d[@X\xb1f]\u90e8\u5206\u306f\u300c4+1-3\u300d\u306a\u3069\u306e\u8907\u6570\u56de\u6307\u5b9a\u53ef\u3002\n\u300c!OP\u300d\u90e8\u5206\u3067\u3001\u4e00\u90e8\u306e\u30b9\u30ad\u30eb\u3084\u30ac\u30b8\u30a7\u30c3\u30c8\u306e\u8ffd\u52a0\u52b9\u679c\u3092\u6307\u5b9a\u53ef\u3002\n\u4f7f\u7528\u53ef\u80fd\u306a\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u9806\u4e0d\u540c\u3001\u8907\u6570\u540c\u6642\u4f7f\u7528\u3082\u53ef\u3002\nA\uff1a\u3008\u5148\u898b\u306e\u660e\u3009\u3000\u3000H\uff1a\uff3b\u91cd\u6483\uff3d\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\nBAD \u2192 1\u30c0\u30a4\u30b9\u3067\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n3BAD10+2-1 \u2192 3\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+11\u306e\u9054\u6210\u5024\u3092\u8868\u793a\u3002\nBL8@15 \u2192 1\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+8\u3001\u96e3\u6613\u5ea615\u306e\u5224\u5b9a\u3002\n2BL8C-1F1@15 \u2192 2\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+8\u3001C\u5024-1\u3001F\u5024+1\u3001\u96e3\u6613\u5ea615\u306e\u5224\u5b9a\u3002\nGL6@20 \u2192 1\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+6\u3001\u96e3\u6613\u5ea620\u306e\u5224\u5b9a\u3002\u3008\u6ce2\u4e71\u4e07\u4e08\u3009\u306e\u52b9\u679c\u3002\nGL6@20!HA \u2192 \u4e0a\u8a18\u306b\u52a0\u3048\u3066\u3008\u5148\u898b\u306e\u660e\u3009\uff3b\u91cd\u6483\uff3d\u306e\u52b9\u679c\u3002\n\n\u30fb\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868\n\u602a\u76d7\uff1aTRN\u3000\u3000\u3000\u95c7\u533b\u8005\uff1aDRN\u3000\u3000\u535a\u5f92\uff1aGRN\n\u6bba\u30b7\u5c4b\uff1aKRN\u3000\u3000\u696d\u5e2b\uff1aSRN\u3000\u3000\u3000\u904a\u30d3\u4eba\uff1aBRN\n\n\u30fb\u30b9\u30ad\u30eb\u8868\uff1aSKL\n"),x.$register_prefix("\\d?(BAD|BL|GL)","[TDGKSB]RN","SKL"),R(x,"$eval_game_system_specific_command",function(l){var a;return S(a=this.$judgeDice(l))?a:this.$roll_tables(l,T("TABLES"))},1),R(x,"$judgeDice",function(l){var $,a,r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t;return S(s=/(\d+)?(BAD|BL|GL)([-+\d]*)((C|F)([-+\d]*)?)?((C|F)([-+\d]*))?(@([-+\d]*))?(!(\D*))?/i.$match(l))?(i=(S(u=s["$[]"](1))?u:1).$to_i(),_=20,c=1,b=s["$[]"](2)["$=="]("GL"),S(b)&&(_=m(_,3),c=h(c,1)),f=r.$get_value(s["$[]"](3)),a=r.$get_critival_fumble(_,c,s["$[]"](5),s["$[]"](6)),$=g(a),a=r.$get_critival_fumble(_=null==$[0]?t:$[0],c=null==$[1]?t:$[1],s["$[]"](8),s["$[]"](9)),_=null==($=g(a))[0]?t:$[0],c=null==$[1]?t:$[1],q=r.$get_value(s["$[]"](11)),F=S(u=s["$[]"](13))?u:"",r.$checkRoll(i,f,_,c,q,b,F)):t},1),R(x,"$get_critival_fumble",function(l,$,a,r){var i;return y("C",i=a)?l=h(l,this.$get_value(r)):y("F",i)&&($=h($,this.$get_value(r))),[l,$]},4),R(x,"$checkRoll",function(l,$,a,r,s,i,u){var c,b,q,U,W,f=t,F=t,X=t,Q=t,re=t,O=t;return c=u["$include?"]("A"),b=u["$include?"]("H"),q=(f=this.randomizer.$roll_barabara(l,20)).$join(","),F=f.$max(),S(b)&&S(k(F,5))&&(F=5),U=p(F,a),W=k(F,r),S(U)&&(F=20),X=h(F,$),S(c)&&S(k(F,7))&&(X=h(X,5)),S(W)&&(X=0),Q=h(Q=l+"D20(C:"+a+",F:"+r+") \uff1e ",F+"["+q+"]"),S(E($,0))&&(Q=h(Q,"+")),M($,0)&&(Q=h(Q,$.$to_s())),S(c)&&S(k(F,7))&&(Q=h(Q,"+5")),Q=h(Q," \uff1e \u9054\u6210\u5024\uff1a"+X),S(E(s,0))?(re=m(X,s),Q=h(Q,">="+s+" \u6210\u529f\u5ea6\uff1a"+re+" \uff1e "),S(U)?Q=h(Q,"\u6210\u529f\uff08\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff09"):S(p(X,s))?Q=h(Q,"\u6210\u529f"):(Q=h(Q,"\u5931\u6557"),S(W)&&(Q=h(Q,"\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\uff09")))):(S(U)&&(Q=h(Q," \u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),S(W)&&(Q=h(Q," \u30d5\u30a1\u30f3\u30d6\u30eb"))),O="",S(i)&&(O=h(O,"\u3008\u6ce2\u4e71\u4e07\u4e08\u3009")),S(c)&&(O=h(O,"\u3008\u5148\u898b\u306e\u660e\u3009")),S(b)&&(O=h(O,"\uff3b\u91cd\u6483\uff3d")),M(O,"")&&(Q=h(Q," "+O)),Q},7),R(x,"$get_value",function(l){var $;return l=S($=l)?$:"",T("ArithmeticEvaluator").$eval(l)},1),v(D[0],"TABLES",L(["SKL","TRN","DRN","GRN","KRN","SRN","BRN"],{SKL:n(T("DiceTable"),"Table").$new("\u30b9\u30ad\u30eb\u8868","1D100",["\u4e00\u6483\u96e2\u8131","\u4e00\u6483\u96e2\u8131","\u30c1\u30a7\u30a4\u30b5\u30fc","\u30c1\u30a7\u30a4\u30b5\u30fc","\u5f71\u306e\u5916\u5957","\u5f71\u306e\u5916\u5957","\u4e8c\u6bb5\u30b8\u30e3\u30f3\u30d7","\u4e8c\u6bb5\u30b8\u30e3\u30f3\u30d7","\u97cb\u99c4\u5929","\u97cb\u99c4\u5929","\u624b\u7df4","\u624b\u7df4","\u30cf\u30cb\u30fc\u30c6\u30a4\u30b9\u30c8","\u30cf\u30cb\u30fc\u30c6\u30a4\u30b9\u30c8","\u5148\u898b\u306e\u660e","\u5148\u898b\u306e\u660e","\u30d9\u30c6\u30e9\u30f3","\u30d9\u30c6\u30e9\u30f3","\u5fdc\u6025\u624b\u5f53","\u5fdc\u6025\u624b\u5f53","\u30bb\u30e9\u30d4\u30fc","\u30bb\u30e9\u30d4\u30fc","\u7dca\u6025\u6cbb\u7642","\u7dca\u6025\u6cbb\u7642","\u30b4\u30fc\u30eb\u30c9\u30c7\u30a3\u30ac\u30fc","\u30b4\u30fc\u30eb\u30c9\u30c7\u30a3\u30ac\u30fc","\u30c7\u30a4\u30ea\u30fc\u30df\u30c3\u30b7\u30e7\u30f3","\u30c7\u30a4\u30ea\u30fc\u30df\u30c3\u30b7\u30e7\u30f3","\u898b\u5207\u308a","\u898b\u5207\u308a","\u9df9\u306e\u76ee","\u9df9\u306e\u76ee","\u3057\u3073\u308c\u7f60","\u3057\u3073\u308c\u7f60","\u5927\u9006\u8ee2","\u5927\u9006\u8ee2","\u6b66\u5668\u7fd2\u719f\uff1a\u25cb\u25cb","\u6b66\u5668\u7fd2\u719f\uff1a\u25cb\u25cb","\u767e\u767a\u767e\u4e2d","\u767e\u767a\u767e\u4e2d","\u5c48\u5f37\u306a\u8089\u4f53","\u5c48\u5f37\u306a\u8089\u4f53","\u4e8c\u5200\u6d41","\u4e8c\u5200\u6d41","\u30af\u30a4\u30c3\u30af\u30ea\u30ab\u30d0\u30ea\u30fc","\u30af\u30a4\u30c3\u30af\u30ea\u30ab\u30d0\u30ea\u30fc","\u4f53\u9a13\u4e3b\u7fa9","\u4f53\u9a13\u4e3b\u7fa9","\u7834\u91dc\u6c88\u8239","\u7834\u91dc\u6c88\u8239","\u60f3\u5b9a\u306e\u7bc4\u56f2\u5185","\u60f3\u5b9a\u306e\u7bc4\u56f2\u5185","\u30bb\u30ab\u30f3\u30c9\u30c1\u30e3\u30f3\u30b9","\u30bb\u30ab\u30f3\u30c9\u30c1\u30e3\u30f3\u30b9","\u512a\u79c0\u306a\u5b50\u5206","\u512a\u79c0\u306a\u5b50\u5206","\u6642\u9593\u7ba1\u7406\u8853","\u6642\u9593\u7ba1\u7406\u8853","\u9023\u6483\u8853","\u9023\u6483\u8853","\u7f75\u8a48\u96d1\u8a00","\u7f75\u8a48\u96d1\u8a00","\u30b1\u30bb\u30e9\u30bb\u30e9","\u30b1\u30bb\u30e9\u30bb\u30e9","\u30c0\u30f3\u30b9\uff06\u30df\u30e5\u30fc\u30b8\u30c3\u30af","\u30c0\u30f3\u30b9\uff06\u30df\u30e5\u30fc\u30b8\u30c3\u30af","\u30d5\u30a7\u30a4\u30f3\u30c8","\u30d5\u30a7\u30a4\u30f3\u30c8","\u30d8\u30a4\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb","\u30d8\u30a4\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb","\u60dc\u5225","\u60dc\u5225","\u6226\u95d8\u30de\u30b7\u30fc\u30f3","\u6226\u95d8\u30de\u30b7\u30fc\u30f3","\u6226\u95d8\u30de\u30b7\u30fc\u30f3","\u540d\u533b","\u540d\u533b","\u540d\u533b","\u5fcd\u8005","\u5fcd\u8005","\u5fcd\u8005","\u89b3\u5bdf\u773c","\u89b3\u5bdf\u773c","\u89b3\u5bdf\u773c","\u30af\u30ec\u30d0\u30fc","\u30af\u30ec\u30d0\u30fc","\u30af\u30ec\u30d0\u30fc","\u30d5\u30a7\u30a4\u30b9\u30de\u30f3","\u30d5\u30a7\u30a4\u30b9\u30de\u30f3","\u30d5\u30a7\u30a4\u30b9\u30de\u30f3","\u30b9\u30dd\u30fc\u30c4\u30de\u30f3","\u30b9\u30dd\u30fc\u30c4\u30de\u30f3","\u30b9\u30dd\u30fc\u30c4\u30de\u30f3","\u4e0d\u5c48","\u4e0d\u5c48","\u4e0d\u5c48","\u614e\u91cd","\u614e\u91cd","\u614e\u91cd","\u3053\u306e\u8868\u30922\u56de\u632f\u308b"]),TRN:n(T("DiceTable"),"Table").$new("\u602a\u76d7\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30d5\u30a9\u30c3\u30af\u30b9","\u30d5\u30a9\u30c3\u30af\u30b9","\u30e9\u30c3\u30c8","\u30e9\u30c3\u30c8","\u30ad\u30e3\u30c3\u30c8","\u30ad\u30e3\u30c3\u30c8","\u30bf\u30a4\u30ac\u30fc","\u30bf\u30a4\u30ac\u30fc","\u30b7\u30e3\u30fc\u30af","\u30b7\u30e3\u30fc\u30af","\u30b3\u30f3\u30c9\u30eb","\u30b3\u30f3\u30c9\u30eb","\u30b9\u30d1\u30a4\u30c0\u30fc","\u30b9\u30d1\u30a4\u30c0\u30fc","\u30a6\u30eb\u30d5","\u30a6\u30eb\u30d5","\u30b3\u30e8\u30fc\u30c6","\u30b3\u30e8\u30fc\u30c6","\u30b8\u30e3\u30ac\u30fc","\u30b8\u30e3\u30ac\u30fc"]),DRN:n(T("DiceTable"),"Table").$new("\u95c7\u533b\u8005\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ad\u30e3\u30f3\u30b5\u30fc","\u30ad\u30e3\u30f3\u30b5\u30fc","\u30d8\u30c3\u30c9\u30a8\u30a4\u30af","\u30d8\u30c3\u30c9\u30a8\u30a4\u30af","\u30d6\u30e9\u30c3\u30c9","\u30d6\u30e9\u30c3\u30c9","\u30a6\u30fc\u30f3\u30ba","\u30a6\u30fc\u30f3\u30ba","\u30dd\u30a4\u30ba\u30f3","\u30dd\u30a4\u30ba\u30f3","\u30da\u30a4\u30f3","\u30da\u30a4\u30f3","\u30b9\u30ea\u30fc\u30d7","\u30b9\u30ea\u30fc\u30d7","\u30ad\u30e5\u30a2","\u30ad\u30e5\u30a2","\u30c7\u30b9","\u30c7\u30b9","\u30ea\u30fc\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3","\u30ea\u30fc\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3"]),GRN:n(T("DiceTable"),"Table").$new("\u535a\u5f92\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ea\u30c8\u30eb\u30c0\u30a4\u30b9","\u30ea\u30c8\u30eb\u30c0\u30a4\u30b9","\u30d7\u30e9\u30c1\u30ca\u30e0","\u30d7\u30e9\u30c1\u30ca\u30e0","\u30d7\u30ec\u30b8\u30c7\u30f3\u30c8","\u30d7\u30ec\u30b8\u30c7\u30f3\u30c8","\u30c9\u30ea\u30fc\u30e0","\u30c9\u30ea\u30fc\u30e0","\u30a2\u30af\u30b7\u30c7\u30f3\u30c8","\u30a2\u30af\u30b7\u30c7\u30f3\u30c8","\u30b0\u30ea\u30fc\u30c9","\u30b0\u30ea\u30fc\u30c9","\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3","\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3","\u30df\u30e9\u30af\u30eb","\u30df\u30e9\u30af\u30eb","\u30db\u30fc\u30d7","\u30db\u30fc\u30d7","\u30d3\u30c3\u30b0\u30d2\u30c3\u30c8","\u30d3\u30c3\u30b0\u30d2\u30c3\u30c8"]),KRN:n(T("DiceTable"),"Table").$new("\u6bba\u30b7\u5c4b\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30cf\u30f3\u30de\u30fc","\u30cf\u30f3\u30de\u30fc","\u30a2\u30ed\u30fc","\u30a2\u30ed\u30fc","\u30dc\u30de\u30fc","\u30dc\u30de\u30fc","\u30ad\u30e3\u30ce\u30f3","\u30ad\u30e3\u30ce\u30f3","\u30d6\u30ec\u30fc\u30c9","\u30d6\u30ec\u30fc\u30c9","\u30b9\u30c6\u30a3\u30f3\u30b0","\u30b9\u30c6\u30a3\u30f3\u30b0","\u30ac\u30ed\u30c3\u30c8","\u30ac\u30ed\u30c3\u30c8","\u30d1\u30a4\u30eb\u30d0\u30f3\u30ab\u30fc","\u30d1\u30a4\u30eb\u30d0\u30f3\u30ab\u30fc","\u30ec\u30a4\u30b6\u30fc","\u30ec\u30a4\u30b6\u30fc","\u30ab\u30bf\u30ca","\u30ab\u30bf\u30ca"]),SRN:n(T("DiceTable"),"Table").$new("\u696d\u5e2b\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ed\u30fc\u30ba","\u30ed\u30fc\u30ba","\u30b5\u30af\u30e9","\u30b5\u30af\u30e9","\u30e9\u30a4\u30e9\u30c3\u30af","\u30e9\u30a4\u30e9\u30c3\u30af","\u30c0\u30f3\u30c7\u30e9\u30a4\u30aa\u30f3","\u30c0\u30f3\u30c7\u30e9\u30a4\u30aa\u30f3","\u30d5\u30ea\u30fc\u30b8\u30a2","\u30d5\u30ea\u30fc\u30b8\u30a2","\u30ab\u30af\u30bf\u30b9","\u30ab\u30af\u30bf\u30b9","\u30ed\u30fc\u30bf\u30b9","\u30ed\u30fc\u30bf\u30b9","\u30ea\u30ea\u30a3","\u30ea\u30ea\u30a3","\u30e9\u30d5\u30ec\u30b7\u30a2","\u30e9\u30d5\u30ec\u30b7\u30a2","\u30d2\u30e4\u30b7\u30f3\u30b9","\u30d2\u30e4\u30b7\u30f3\u30b9"]),BRN:n(T("DiceTable"),"Table").$new("\u904a\u30d3\u4eba\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30e2\u30ce\u30dd\u30ea\u30fc","\u30e2\u30ce\u30dd\u30ea\u30fc","\u30d6\u30ea\u30c3\u30b8","\u30d6\u30ea\u30c3\u30b8","\u30c1\u30a7\u30c3\u30ab\u30fc","\u30c1\u30a7\u30c3\u30ab\u30fc","\u30a2\u30af\u30ef\u30a4\u30a2","\u30a2\u30af\u30ef\u30a4\u30a2","\u30b8\u30e3\u30f3\u30b1\u30f3","\u30b8\u30e3\u30f3\u30b1\u30f3","\u30c8\u30e9\u30f3\u30d7","\u30c8\u30e9\u30f3\u30d7","\u30b1\u30a4\u30c9\u30ed","\u30b1\u30a4\u30c9\u30ed","\u30d1\u30f3\u30c7\u30df\u30c3\u30af","\u30d1\u30f3\u30c7\u30df\u30c3\u30af","\u30b9\u30b4\u30ed\u30af","\u30b9\u30b4\u30ed\u30af","\u30ad\u30e3\u30d9\u30c4\u30ab\u30f3\u30c6\u30a4","\u30ad\u30e3\u30d9\u30c4\u30ab\u30f3\u30c6\u30a4"])}).$freeze())})},5396:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var N,J,D,T,d,o,w,z,P,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.send,h=e.truthy,g=e.to_ary,y=e.rb_plus,k=e.rb_gt,p=e.to_a,E=e.rb_minus,M=e.eqeq,L=e.neqeq,Y=e.rb_times,G=e.rb_lt;return N=H,J=P=[n(H[0],"BCDice")].concat(N),w=[n(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=B(w[0],z("Base"),"BarnaKronika")].concat(D),o=e.$r(d),T.$$prototype.isBattleMode=t,C(d[0],"ID","BarnaKronika"),C(d[0],"NAME","\u30d0\u30eb\u30ca\u30fb\u30af\u30ed\u30cb\u30ab"),C(d[0],"SORT_KEY","\u306f\u308b\u306a\u304f\u308d\u306b\u304b"),C(d[0],"HELP_MESSAGE","\u30fb\u901a\u5e38\u5224\u5b9a\u3000nBK\n\u3000\u30c0\u30a4\u30b9\u6570n\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u30bb\u30c3\u30c8\u6570\u304c1\u4ee5\u4e0a\u306e\u6642\u306f\u30bb\u30c3\u30c8\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000nBA\n\u3000\u30c0\u30a4\u30b9\u6570n\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u653b\u6483\u5024\u3068\u547d\u4e2d\u90e8\u4f4d\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u3000nBKCt\u3000nBACt\n\u3000\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u306e\u5f8c\u308d\u306b\u300cCt\u300d\u3092\u4ed8\u3051\u308b\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u3067\u3059\u3002\n\u3000\u30c0\u30a4\u30b9\u6570n,\u30b3\u30fc\u30eb\u6570t\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u30c0\u30a4\u30b9\u6570n\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u30bb\u30c3\u30c8\u6570\u304c1\u4ee5\u4e0a\u306e\u6642\u306f\u30bb\u30c3\u30c8\u6570\u3082\u8868\u793a\u3057\u3001\u653b\u6483\u5224\u5b9a\u306e\u5834\u5408\u306f\u547d\u4e2d\u90e8\u4f4d\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n"),T.$register_prefix("\\d+BK","\\d+BA","\\d+BKC","\\d+BAC","\\d+R6"),R(T,"$initialize",function $(a){var s=this;return delete $.$$p,v(s,S(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.sort_barabara_dice=!0},1),R(T,"$replace_text",function(a){return a=m(a,"gsub",[/(\d+)BKC(\d)/],function(){return o("Regexp").$last_match(1)+"R6[0,"+o("Regexp").$last_match(2)+"]"},0),a=m(a,"gsub",[/(\d+)BAC(\d)/],function(){return o("Regexp").$last_match(1)+"R6[1,"+o("Regexp").$last_match(2)+"]"},0),a=m(a,"gsub",[/(\d+)BK/],function(){return o("Regexp").$last_match(1)+"R6[0,0]"},0),m(a,"gsub",[/(\d+)BA/],function(){return o("Regexp").$last_match(1)+"R6[1,0]"},0)},1),R(T,"$eval_game_system_specific_command",function(a){var r,s,i=this,u=t,_=t,c=t,b=t,F=t,U=t,W=t,X=t;return a=i.$replace_text(a),h(/(^|\s)S?((\d+)[rR]6(\[([,\d]+)\])?)(\s|$)/i["$=~"](a))?(a=o("Regexp").$last_match(2),u=o("Regexp").$last_match(5),_=o("Regexp").$last_match(3),_=h(c=_)?c:1,i.isBattleMode=!1,b=0,h(u)&&(s=m(u.$split(","),"map",[],"to_i".$to_proc()),b=null==(r=g(s))[1]?t:r[1],i.isBattleMode=(null==r[0]?t:r[0])["$=="](1)),i.$debug("@isBattleMode",i.isBattleMode),s=i.$roll_barna_kronika(_,b),F=null==(r=g(s))[1]?t:r[1],U=null==r[2]?t:r[2],W=null==r[3]?t:r[3],X="("+a+") \uff1e ["+(null==r[0]?t:r[0])+"] \uff1e ",h(i.isBattleMode)?X=y(X,W):(i.$debug("suc",F),X=h(k(F,1))?y(X,"\u6210\u529f\u6570"+F):y(X,"\u5931\u6557"),i.$debug("set",U),h(k(U,0))&&(X=y(X,",\u30bb\u30c3\u30c8"+U))),X):t},1),R(T,"$roll_barna_kronika",function(a,r){var s=this,i=t,u=t,_=t,c=t,b=t,f=t;return a=a.$to_i(),i="",u=0,_=0,c="",b=[0,0,0,0,0,0],m(a,"times",[],function q(F){var W,X,U=null==q.$$s?this:q.$$s;return null==U.randomizer&&(U.randomizer=t),null==F&&(F=t),X=[W=U.randomizer.$roll_index(6),y(b["$[]"](W),1)],m(b,"[]=",p(X)),E(X.length,1),h(k(b["$[]"](W),u))?u=b["$[]"](W):t},{$$arity:1,$$s:s}),m(6,"times",[],function q(F){var W,U=null==q.$$s?this:q.$$s;return null==F&&(F=t),W=b["$[]"](F),M(W,0)?t:(m(W,"times",[],function(Q){return null==Q&&(Q=t),i=y(i,y(F,1)+",")},1),h(U.$isCriticalCall(F,r))?(U.$debug("isCriticalCall"),c=y(c,U.$getAttackStringWhenCriticalCall(F,W))):h(U.$isNomalAttack(r,W))&&(U.$debug("isNomalAttack"),c=y(c,U.$getAttackStringWhenNomal(F,W))),h(k(W,1))?_=y(_,1):t)},{$$arity:1,$$s:s}),L(r,0)&&(f=b["$[]"](E(r,1)),u=Y(f,2),_=L(f,0)?1:0),h(s.isBattleMode)&&h(G(u,2))&&(c="\u5931\u6557"),i=i.$sub(/,$/,""),c=c.$sub(/,$/,""),[i,u,_,c]},2),R(T,"$isCriticalCall",function(a,r){return!(!h(this.isBattleMode)||M(r,0))&&r["$=="](y(a,1))},2),R(T,"$isNomalAttack",function(a,r){return!(!h(this.isBattleMode)||L(a,0))&&k(r,1)},2),R(T,"$getAttackStringWhenCriticalCall",function(a,r){var i,u;return i=this.$getAttackHitLocation(y(a,1)),u=Y(r,2),y(i,":\u653b\u6483\u5024"+u+",")},2),R(T,"$getAttackStringWhenNomal",function(a,r){var i;return i=this.$getAttackHitLocation(y(a,1)),y(i,":\u653b\u6483\u5024"+r+",")},2),R(T,"$getAttackHitLocation",function(a){return this.$get_table_by_number(a,[[1,"\u982d\u90e8"],[2,"\u53f3\u8155"],[3,"\u5de6\u8155"],[4,"\u53f3\u811a"],[5,"\u5de6\u811a"],[6,"\u80f4\u4f53"]])},1)})},3449:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var K,I,T,d,o,l,z,A,V,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeqeq,h=e.eqeq,g=e.not,y=e.neqeq,k=e.truthy,p=e.rb_lt,E=e.rb_le,M=e.rb_gt,L=e.rb_minus,Y=e.send,G=e.rb_plus,j=e.rb_ge;return K=H,I=V=[n(H[0],"BCDice")].concat(K),z=[n(V[0],"GameSystem")].concat(I),A=e.$r(z),T=z,o=[d=B(z[0],A("Base"),"BladeOfArcana")].concat(T),l=e.$r(o),d.$$prototype.randomizer=t,C(o[0],"ID","BladeOfArcana"),C(o[0],"NAME","\u30d6\u30ec\u30a4\u30c9\u30fb\u30aa\u30d6\u30fb\u30a2\u30eb\u30ab\u30ca"),C(o[0],"SORT_KEY","\u3075\u308c\u3044\u3068\u304a\u3075\u3042\u308b\u304b\u306a"),C(o[0],"HELP_MESSAGE","\u25a0\u884c\u70ba\u5224\u5b9a\u3000nA[m][Cx][Fy]\n\u3000n\uff1a\u30c0\u30a4\u30b9\u6570\u3000\u3000m\uff1a\u5224\u5b9a\u5024(\u7701\u7565\u6642\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u540c\u3058)\n\u3000x\uff1a\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024(\u7701\u7565\u6642\u306f1)\u3000\u3000y\uff1a\u30d5\u30a1\u30f3\u30d6\u30eb\u5024(\u7701\u7565\u6642\u306f20)\n\u3000\u6ce8\uff09[m]\u3001[Cx]\u3001[Fy]\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u3000\u3000\u4f8b\uff093A12C4F15\u21923\u500b\u632f\u308a12\u4ee5\u4e0b\u3067\u6210\u529f\u3002C\u50244\u3001F\u5024\u306f15\u3002\n\u3000\u3000\u4f8b\uff093A12\u21923\u500b\u632f\u308a12\u4ee5\u4e0b\u3067\u6210\u529f\u3002C\u50241\u3001F\u5024\u306f20\u3002\n\n\u25a0\u5404\u7a2e\u8868\u3000(+\uff1a\u51fa\u76ee2\uff5e21\u306b\u5909\u66f4\u3000-\uff1a\u51fa\u76ee0\uff5e19\u306b\u5909\u66f4)\n\u25cf\u30ea\u30a4\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3\n\u3000\u56e0\u7e01\u8868\u3000CTR[+/-]\u3000\u3000\u524d\u4e16\u9082\u9005\u8868\u3000DJV[-]\n\u3000\u60aa\u5fb3\u30b7\u30fc\u30f3\u8868\u3000AKST[+/-]\n\u25cfThe 3rd\uff08\u7b2c\u4e09\u7248\uff09\n\u3000\u56e0\u7e01\u8868\u3000CT3[+/-]\n\u3000\u6ce8\uff09[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u3000\u3000\u4f8b\uff09CTR\u2192\u56e0\u7e01\u8868\uff08R\u7248\uff09\u3092\u51fa\u76ee1\uff5e20\u3067\u30ed\u30fc\u30eb\u3059\u308b\u3002\n\u3000\u3000\u4f8b\uff09CTR+\u2192\u56e0\u7e01\u8868\uff08R\u7248\uff09\u3092\u51fa\u76ee2\uff5e21\u3067\u30ed\u30fc\u30eb\u3059\u308b\u3002\n"),d.$register_prefix("\\d+A","CT3[\\+\\-]?","CTR[\\+\\-]?","DJV\\-?","AKST[\\+\\-]?"),R(d,"$initialize",function a(r){var i=this;return delete a.$$p,v(i,S(i,"initialize",a,!1,!0),"initialize",[r],null),i.sort_add_dice=!0},1),R(d,"$eval_game_system_specific_command",function(r){var i,s=this,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t;return m(/^(\d+)A(\d*)([CF]?)(\d*)([CF]?)(\d*)$/,i=r.$upcase())?(u=l("Regexp").$last_match(1).$to_i(),_=l("Regexp").$last_match(2).$to_i(),c=l("Regexp").$last_match(3),b=l("Regexp").$last_match(4),f=l("Regexp").$last_match(5),q=l("Regexp").$last_match(6),y(c["$empty?"](),b["$empty?"]())||y(f["$empty?"](),q["$empty?"]())||g(f["$empty?"]())&&h(c,f)?t:(h(c,"C")?(F=b.$to_i(),U=q.$to_i()):(F=q.$to_i(),U=b.$to_i()),s.$rollAct(u,_,F,U))):m(/^CT3([+\-]?)$/,i)?(W=l("Regexp").$last_match(1),s.$tableText("\u56e0\u7e01\u8868(The 3rd)\u3000\u300eBoA3\u300fP292",["\u3010\u4ed6\u751f\u3011","\u3010\u5e2b\u5f1f\u3011","\u3010\u5fd8\u5374\u3011","\u3010\u5144\u59c9\u3011","\u3010\u8cb8\u3057\u3011","\u3010\u6155\u60c5\u3011","\u3010\u4e3b\u5f93\u3011","\u3010\u5f37\u6575\u3011","\u3010\u79d8\u5bc6\u3011","\u3010\u6069\u4eba\u3011","\u3010\u544a\u767a\u3011","\u3010\u53cb\u4eba\u3011","\u3010\u4ec7\u6575\u3011","\u3010\u7236\u6bcd\u3011","\u3010\u501f\u308a\u3011","\u3010\u4fe1\u983c\u3011","\u3010\u5e7c\u5b50\u3011","\u3010\u53d6\u5f15\u3011","\u3010\u5730\u7e01\u3011","\u3010\u540c\u5fd7\u3011","\u3010\u4e0d\u5be9\u3011","\u3010\u81ea\u8eab\u3011"],W)):m(/^CTR([+\-]?)$/,i)?(W=l("Regexp").$last_match(1),s.$tableText("\u56e0\u7e01\u8868(\u30ea\u30a4\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3)\u3000\u300eBAR\u300fP51\u3001299",["\u3010\u4ed6\u751f\u3011","\u3010\u5e2b\u5f1f\u3011","\u3010\u5fd8\u5374\u3011","\u3010\u5144\u59c9\u3011","\u3010\u8cb8\u3057\u3011","\u3010\u61a7\u61ac\u3011","\u3010\u4e3b\u5f93\u3011","\u3010\u5f37\u6575\u3011","\u3010\u79d8\u5bc6\u3011","\u3010\u6069\u4eba\u3011","\u3010\u53d6\u5f15\u3011","\u3010\u53cb\u4eba\u3011","\u3010\u6028\u6575\u3011","\u3010\u5f8c\u63f4\u3011","\u3010\u501f\u308a\u3011","\u3010\u4fe1\u983c\u3011","\u3010\u5f1f\u59b9\u3011","\u3010\u5546\u58f2\u3011","\u3010\u5947\u7e01\u3011","\u3010\u540c\u5fd7\u3011","\u3010\u6709\u70ba\u3011","\u3010\u81ea\u8eab\u3011"],W)):m(/^DJV(-?)$/,i)?(W=l("Regexp").$last_match(1),s.$tableText("\u524d\u4e16\u9082\u9005\u8868\uff08\u30c7\u30b8\u30e3\u30d6\uff09\u3000\u300eBAR\u300fP235",["\u3010\u9bae\u70c8\u306a\u98a8\u3011\n\u98a8\u306f\u61d0\u304b\u3057\u3044\u5302\u3044\u3092\u3001\u9999\u308a\u3092\u904b\u3093\u3067\u304f\u308b\u3002\u305d\u308c\u306f\u2026\u2026\u3002","\u3010\u8584\u6697\u3044\u5f71\u3011\n\u307e\u308b\u3067\u6642\u304c\u6b62\u307e\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u3060\u3002","\u3010\u64cd\u308a\u306e\u7cf8\u3011\n\u305d\u308c\u306f\u3042\u306a\u305f\u3092\u5c0e\u304f\u8718\u86db\u306e\u7cf8\u3002","\u3010\u5929\u4e0a\u306e\u5149\u3011\n\u5049\u5927\u306a\u308b\u3082\u306e\u304c\u3082\u305f\u3089\u3059\u3001\u5929\u4e0a\u304b\u3089\u306e\u5fa1\u3057\u308b\u3057\u3002","\u3010\u6e29\u3082\u308a\u3011\n\u6625\u306e\u3072\u306a\u305f\u306e\u3088\u3046\u306a\u6e29\u304b\u3055\u3092\u611f\u3058\u308b\u3002","\u3010\u92ed\u3044\u30ca\u30a4\u30d5\u3011\n\u92ed\u3044\u30ca\u30a4\u30d5\u306e\u3088\u3046\u306a\u8996\u7dda\u3092\u611f\u3058\u308b\u3002\u3053\u308c\u306f\u2026\u2026\u3002","\u3010\u5171\u9cf4\u3011\n\u540c\u3058\u611f\u899a\u3092\u611f\u3058\u308b\u3001\u3075\u305f\u308a\u306f\u901a\u3058\u5408\u3063\u3066\u3044\u308b\u3002","\u3010\u57ce\u58c1\u3011\n\u53b3\u3057\u304f\u9ad8\u3044\u57ce\u58c1\u306e\u3088\u3046\u306b\u91cd\u304f\u5805\u304f\u539a\u3044\u3002","\u3010\u7815\u3051\u308b\u5668\u3011\n\u843d\u3061\u308c\u3070\u7815\u3051\u308b\u3002\u7815\u3051\u308c\u3070\u305d\u308c\u306f\u5668\u3067\u306f\u306a\u3044\u3002","\u3010\u967d\u708e\u3011\n\u6c42\u3081\u308c\u3070\u63fa\u3089\u3044\u3067\u6d88\u3048\u308b\u3002","\u3010\u7d42\u308f\u308a\u306a\u304d\u5186\u74b0\u3011\n\u305d\u308c\u306f\u3042\u306a\u305f\u3092\u6349\u3048\u5de1\u308b\u8f2a\u5efb\u306e\u8f2a\u3002","\u3010\u5929\u79e4\u3011\n\u63fa\u308c\u308b\u30d0\u30e9\u30f3\u30b9\u3001\u63fa\u308c\u7d9a\u3051\u308b\u5b89\u5b9a\u3002","\u3010\u6d41\u308c\u308b\u6c34\u3011\n\u3072\u3068\u3064\u6240\u306b\u3068\u3069\u307e\u3089\u305a\u3001\u59ff\u3092\u56fa\u3081\u308b\u3053\u3068\u306f\u306a\u3044","\u3010\u5149\u308b\u5203\u3011\n\u92ed\u304f\u5149\u308b\u5203\u306e\u3088\u3046\u306a\u3001\u92ed\u3044\u307e\u306a\u3056\u3057\u3002","\u3010\u60aa\u9b54\u3011\n\u3042\u307e\u308a\u306b\u3082\u5371\u967a\u306a\u9b45\u529b\u3001\u305d\u308c\u306f\u60aa\u9b54\u7684\u3060\u3063\u305f\u3002","\u3010\u7259\u3011\n\u7372\u7269\u3092\u5f15\u304d\u88c2\u304f\u92ed\u304f\u9577\u3044\u3001\u7259\u3002","\u3010\u8f1d\u304f\u661f\u3011\n\u661f\u306f\u6697\u304f\u5c0f\u3055\u3044\u3002\u3060\u304c\u305d\u3053\u306b\u8f1d\u304f\u3002","\u3010\u51b4\u3048\u6e21\u308b\u6708\u5149\u3011\n\u51b7\u305f\u3055\u3068\u5b89\u3089\u304b\u3055\u304c\u540c\u5c45\u3057\u3066\u3044\u308b\u3002","\u3010\u7167\u308a\u3064\u3051\u308b\u592a\u967d\u3011\n\u6691\u3044\u3002","\u3010\u71c3\u3048\u3055\u304b\u308b\u708e\u3011\n\u708e\u306f\u3059\u3079\u3066\u3092\u7834\u58ca\u3057\u3001\u3059\u3079\u3066\u3092\u6ec5\u307c\u3059\u3002","\u3010\u4e16\u754c\u3011\n\u3059\u3079\u3066\u306f\u3053\u306e\u4e16\u754c\u306e\u4e2d\u3067\u8d77\u3053\u308a\u3001\u7d42\u308f\u308b\u3002","\u3010\u306a\u3057\u3011"],W)):m(/^AKST([+\-]?)$/,i)?(W=l("Regexp").$last_match(1),s.$tableText("\u60aa\u5fb3\u30b7\u30fc\u30f3\u8868\u3000\u300eGoV\u300fP16\u3001164",["\u25bc\u30a6\u30a7\u30f3\u30c8\u30b9\uff0f\u6b62\u307e\u306a\u3044\u98a8\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u72c2\u6c17\u306b\u5f53\u3066\u3089\u308c\u305f\u306e\u304b\u3001\u901a\u308a\u9b54\u7684\u6bba\u4eba\u8005\u304c\u73fe\u308c\u308b\u3002\u5207\u308a\u88c2\u304b\u308c\u305f\u4eba\u3005\u306e\u60b2\u9cf4\u304c\u97ff\u304d\u6e21\u308b\u3002","\u25bc\u30a8\u30d5\u30a7\u30af\u30c8\u30b9\uff0f\u539f\u521d\u306e\u529b\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u7121\u6cd5\u3092\u50cd\u304f\u3002\u5e97\u5148\u3067\u91d1\u54c1\u3092\u8981\u6c42\u3057\u305f\u308a\u3001\u66b4\u529b\u3092\u632f\u308b\u3063\u305f\u308a\u3057\u3066\u3044\u308b\u3002","\u25bc\u30af\u30ec\u30a2\u30fc\u30bf\uff0f\u5080\u5121\u4eba\u5f62\u306e\u738b\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u4eba\u3005\u306e\u884c\u52d5\u3092\u76e3\u8996\u3057\u3066\u3044\u308b\u3002\u9055\u53cd\u3057\u305f\u8005\u306b\u306f\u5373\u5ea7\u306b\u7f70\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002","\u25bc\u30de\u30fc\u30c6\u30eb\uff0f\u751f\u3051\u308b\u795e\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u4eba\u3005\u306b\u6bba\u622e\u8005\u3078\u306e\u4fe1\u4ef0\u3092\u544a\u767d\u3057\u3001\u5fe0\u8aa0\u3092\u5ba3\u8a93\u3059\u308b\u3088\u3046\u306b\u5f37\u8981\u3057\u3066\u3044\u308b\u3002","\u25bc\u30b3\u30ed\u30ca\uff0f\u7c12\u596a\u8005\n\u3010\u884c\u52d5\u3011\u5606\u304d\u60b2\u3057\u3093\u3067\u3044\u308b\u8005\u304c\u3044\u308b\u3002\u6bba\u622e\u8005\u306b\u3088\u3063\u3066\u3001\u8ca1\u7523\u3001\u5730\u4f4d\u3001\u5bb6\u65cf\u3042\u308b\u3044\u306f\u3001\u604b\u4eba\u3092\u596a\u3044\u53d6\u3089\u308c\u305f\u3068\u3044\u3046\u3002","\u25bc\u30d5\u30a3\u30cb\u30b9\uff0f\u6c38\u9060\u306e\u4eba\n\u3010\u884c\u52d5\u3011\u602a\u7269\u304c\u4eba\u3005\u3092\u8650\u6bba\u3057\u3066\u3044\u308b\u3002\u3053\u306e\u5730\u306b\u306f\u4eba\u9593\u304c\u591a\u3059\u304e\u308b\u306e\u3060\u3068\u3044\u3046\u3002\u305d\u308c\u304c\u5f7c\u3089\u306e\u4e3b\u306e\u6c7a\u5b9a\u3060\u3002","\u25bc\u30a8\u30eb\u30b9\uff0f\u7121\u79c1\u306a\u308b\u611b\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u7565\u596a\u3092\u50cd\u3044\u3066\u3044\u308b\u3002\u3069\u3046\u3084\u3089\u3001\u6bba\u622e\u8005\u306b\u732e\u4e0a\u3059\u308b\u3082\u306e\u3092\u4e89\u3063\u3066\u3044\u308b\u3088\u3046\u3060\u3002","\u25bc\u30a2\u30c0\u30de\u30b9\uff0f\u4e07\u7269\u306e\u4fdd\u8b77\u8005\n\u3010\u884c\u52d5\u3011\u53cd\u9006\u8005\u3068\u540d\u6307\u3057\u3055\u308c\u308b\u3002\u4eba\u3005\u306f\u541b\u305f\u3061\u306b\u63a5\u89e6\u3057\u3088\u3046\u3068\u3057\u306a\u3044\u3002\u60c5\u5831\u3092\u96c6\u3081\u308b\u306b\u3082\u82e6\u52b4\u3057\u305d\u3046\u3060\u3002","\u25bc\u30a2\u30eb\u30c9\u30fc\u30eb\uff0f\u7d42\u308f\u308a\u306a\u304d\u6226\u3044\n\u3010\u884c\u52d5\u3011\u306a\u3089\u305a\u8005\u306e\u96c6\u56e3\u304c\u4eba\u3005\u3092\u8972\u3063\u3066\u3044\u308b\u3002\u529b\u3092\u793a\u3055\u306a\u3051\u308c\u3070\u5207\u308a\u6368\u3066\u3089\u308c\u308b\u306e\u306f\u5f7c\u3089\u306a\u306e\u3060\u3002","\u25bc\u30d5\u30a1\u30f3\u30bf\u30b9\u30de\uff0f\u8b00\u7565\u306e\u6e26\n\u3010\u884c\u52d5\u3011\u4eba\u3005\u306f\u541b\u3092\u898b\u308b\u306a\u308a\u9003\u3052\u51fa\u3057\u305f\u3002\u3069\u3046\u3084\u3089\u6050\u308d\u3057\u3044\u6bba\u4eba\u8005\u3060\u3068\u601d\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3060\u3002","\u25bc\u30a2\u30af\u30b7\u30b9\uff0f\u771f\u7406\u306e\u63a2\u7a76\u8005\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u306e\u624b\u306b\u3088\u3063\u3066\u3001\u4eba\u3005\u304c\u9023\u308c\u53bb\u3089\u308c\u3066\u3044\u308b\u3002\u8ab0\u3072\u3068\u308a\u3082\u3069\u3063\u3066\u3053\u306a\u3044\u3002","\u25bc\u30ec\u30af\u30b9\uff0f\u6355\u7e1b\u8005\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u3078\u306e\u6050\u6016\u306b\u99c6\u3089\u308c\u305f\u4eba\u3005\u306f\u305d\u306e\u547d\u4ee4\u306b\u3057\u305f\u304c\u3063\u3066\u5f92\u515a\u3092\u7d44\u307f\u3001PC\u305f\u3061\u3092\u635c\u7d22\u3057\u3066\u3044\u308b\u3002","\u25bc\u30a2\u30af\u30a2\uff0f\u6fb1\u3093\u3060\u6c34\n\u3010\u884c\u52d5\u3011\u4eba\u3005\u306f\u7363\u306e\u3088\u3046\u306b\u751f\u304d\u3066\u3044\u308b\u3002\u8a00\u8449\u306f\u901a\u3058\u306a\u3044\u3002\u6709\u52b9\u306a\u306e\u306f\u529b\u3001\u66b4\u529b\u3060\u3051\u3060\u3002","\u25bc\u30b0\u30e9\u30c7\u30a3\u30a6\u30b9\uff0f\u6697\u304d\u6b7b\u306e\u5203\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u3068\u305d\u306e\u914d\u4e0b\u306b\u3088\u3063\u3066\u8650\u6bba\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u3002\u898b\u6e21\u3059\u9650\u308a\u3001\u6b7b\u8005\u3070\u304b\u308a\u3060\u3002","\u25bc\u30a2\u30f3\u30b0\u30eb\u30b9\uff0f\u7d14\u767d\u306e\u6050\u6016\n\u3010\u884c\u52d5\u3011\u904a\u3073\u3068\u3057\u3066\u4eba\u9593\u72e9\u308a\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u3002\u4eba\u3005\u306f\u9003\u3052\u60d1\u3044\u3001\u6bba\u622e\u8005\u306f\u6109\u60a6\u306b\u7b11\u3046\u3002","\u25bc\u30c7\u30a3\u30a2\u30dc\u30eb\u30b9\uff0f\u60aa\u9b54\u306e\u56c1\u304d\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306f\u5c11\u5e74\u5c11\u5973\u3092\u53ec\u3057\u4e0a\u3052\u3066\u3044\u308b\u3002\u53ec\u3057\u4e0a\u3052\u3089\u308c\u305f\u8005\u305f\u3061\u306f\u97f3\u4fe1\u4e0d\u901a\u3068\u306a\u3063\u3066\u3057\u307e\u3046\u3002","\u25bc\u30d5\u30eb\u30ad\u30d5\u30a7\u30eb\uff0f\u88cf\u5207\u308a\u8005\n\u3010\u884c\u52d5\u3011\u4eba\u3005\u306f\u731c\u7591\u306e\u76ee\u3067\u541b\u3092\u898b\u308b\u3002\u5618\u3092\u5410\u304f\u306e\u304c\u666e\u901a\u306e\u5834\u6240\u3067\u771f\u5b9f\u3092\u898b\u3044\u3060\u305b\u308b\u3060\u308d\u3046\u304b\u3002","\u25bc\u30b9\u30c6\u30e9\uff0f\u7834\u6ec5\u3078\u306e\u611b\n\u3010\u884c\u52d5\u3011\u8857\u3084\u6751\u843d\u304c\u7834\u58ca\u3055\u308c\u3066\u3044\u308b\u3002\u713c\u3051\u91ce\u539f\u306e\u4e2d\u3001\u4eba\u3005\u306f\u529b\u306a\u304f\u3046\u305a\u304f\u307e\u308b\u3002\u3053\u3053\u306b\u306f\u7d76\u671b\u3060\u3051\u304c\u3042\u3063\u305f\u3002","\u25bc\u30eb\u30ca\uff0f\u596a\u3046\u8005\n\u3010\u884c\u52d5\u3011\u541b\u305f\u3061\u306e\u76ee\u306e\u524d\u306b\u7565\u596a\u304c\u7e70\u308a\u8fd4\u3055\u308c\u308b\u3002\u7565\u596a\u306e\u305f\u3081\u306b\u7565\u596a\u3092\u884c\u306a\u3046\u6bba\u622e\u8005\u306e\u914d\u4e0b\u305f\u3061\u3002","\u25bc\u30c7\u30af\u30b9\u30c8\u30e9\uff0f\u90aa\u60aa\u306a\u6280\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306b\u3088\u308b\u975e\u9053\u306a\u4eba\u4f53\u5b9f\u9a13\u304c\u7e70\u308a\u8fd4\u3055\u308c\u3066\u3044\u308b\u3002\u305d\u306e\u305f\u3081\u306e\u5b9f\u9a13\u6750\u6599\u304c\u96c6\u3081\u3089\u308c\u3066\u3044\u308b\u3002","\u25bc\u30a4\u30b0\u30cb\u30b9\uff0f\u6839\u6e90\u305f\u308b\u708e\n\u3010\u884c\u52d5\u3011\u8857\u3084\u96c6\u843d\u3001\u3042\u308b\u3044\u306f\u5e97\u8217\u3084\u4f4f\u5b85\u304c\u713c\u304d\u8a0e\u3061\u306b\u5408\u3046\u3002\u4eba\u3005\u306f\u4e92\u3044\u306b\u9665\u308c\u3001\u78d4\u5211\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u3002","\u25bc\u30aa\u30fc\u30d3\u30b9\uff0f\u95c7\u306e\u9396\n\u3010\u884c\u52d5\u3011\u4e16\u754c\u306e\u5b8c\u5168\u306a\u308b\u7834\u6ec5\u3001\u4eba\u985e\u306e\u7d76\u6ec5\u3001\u7121\u4f5c\u70ba\u3067\u5e83\u7bc4\u56f2\u306a\u8650\u6bba\u304c\u884c\u306a\u308f\u308c\u308b\u3002"],W)):t},1),R(d,"$rollAct",function(r,s,i,u){var c=t,b=t,f=t,q=t;return null==s&&(s=0),null==i&&(i=0),null==u&&(u=0),k(p(i,1))&&(i=1),k(E(s,0))?s=i:k(M(i,s))&&(i=s),k(E(u,0))&&(u=20),k(E(r,0))&&(r=1,u=L(u,5)),k(p(u,2))?u=2:k(M(u,20))&&(u=20),b=(c=this.randomizer.$roll_barabara(r,20).$sort()).$sum(),q="("+r+"A"+s+"C"+i+"F"+u+") \uff1e "+(f=c.$join(","))+" \uff1e ",h(r,1)||(b=Y(f.$split(","),"map",[],"to_i".$to_proc()).$min(),q=G(q,b+" \uff1e ")),k(j(b,u))?G(q,"\u30d5\u30a1\u30f3\u30d6\u30eb"):k(E(b,i))?G(q,"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):k(M(b,s))?G(q,"\u5931\u6557"):G(q,"\u6210\u529f")},-2),R(d,"$tableText",function(r,s,i){var _,c=t,b=t;return null==i&&(i=""),c=_=this.randomizer.$roll_once(20),h(i,"+")?c=G(c,1):h(i,"-")&&(c=L(c,1)),b=r+" \uff1e "+c,k(i["$empty?"]())||(b=G(b,"["+_+i+"1]")),G(G(b," \uff1e "),s["$[]"](c))},-3)})},6006:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.rb_plus,E=e.hash2,M=e.rb_minus;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"CardRanker")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,v(x[0],"ID","CardRanker"),v(x[0],"NAME","\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc"),v(x[0],"SORT_KEY","\u304b\u3042\u3068\u3089\u3093\u304b\u3042"),v(x[0],"HELP_MESSAGE","\u30e9\u30f3\u30c0\u30e0\u3067\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u9078\u3076 (RM) (RTTn n\uff1a\u8272\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\n\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868 RCT\n\u7279\u5b9a\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u9078\u3076 (CMxy\u3000x\uff1a\u8272\u3001y\uff1a\u756a\u53f7\uff09\n\u3000\u767d\uff1aW\u3001\u9752\uff1aU\u3001\u7dd1\uff1aV\u3001\u91d1\uff1aG\u3001\u8d64\uff1aR\u3001\u9ed2\uff1aB\n\u3000\u4f8b\uff09CMW2\u2192\u767d\u306e2\uff1a\u767d\u7adc\u3000CMG12\u2192\u91d1\u306e12\uff1a\u571f\u7cbe\u970a\n\u5834\u6240\u8868 (ST)\n\u8857\u4e2d\u5834\u6240\u8868 (CST)\n\u90ca\u5916\u5834\u6240\u8868 (OST)\n\u5b66\u5712\u5834\u6240\u8868 (GST)\n\u904b\u547d\u8868 (DT)\n\u5927\u4f1a\u904b\u547d\u8868 (TDT)\n\u5b66\u5712\u904b\u547d\u8868 (GDT)\n\u5d29\u58ca\u904b\u547d\u8868 (CDT)\n"),m(A,"$initialize",function d(o){var $=this;return delete d.$$p,S($,R($,"initialize",d,!1,!0),"initialize",[o],null),$.sort_add_dice=!0,$.d66_sort_type=n(D("D66SortType"),"ASC")},1),m(A,"$result_2d6",function(o,l,$,a,r){return h(a,">=")?g(y(l,2))?D("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):g(k(l,12))?D("Result").$critical(p("\u30b9\u30da\u30b7\u30e3\u30eb \uff1e ",D("RTT").$roll_command(this.randomizer,"RM"))):h(r,"?")?D("Result").$nothing():g(k(o,r))?D("Result").$success("\u6210\u529f"):D("Result").$failure("\u5931\u6557"):t},5),m(A,"$eval_game_system_specific_command",function(o){var $,a,l=this;return g($=g(a=l.$roll_tables(o,D("TABLES")))?a:l.$get_monster(o))?$:D("RTT").$roll_command(l.$randomizer(),o)},1),v(x[0],"COLOR_TABLE",["W","U","V","G","R","B"].$freeze()),v(x[0],"RTT",n(D("DiceTable"),"SaiFicSkillTable").$new([["\u767d",["\u767d\u7adc","\u50e7\u4fb6","\u683c\u95d8\u5bb6","\u65a7\u4f7f\u3044","\u5263\u58eb","\u69cd\u58eb","\u6b69\u5175","\u5f13\u5175","\u7832\u5175","\u5929\u4f7f","\u8ecd\u795e"]],["\u9752",["\u6c34\u7adc","\u9b5a","\u9b5a\u4eba","\u30a4\u30ab","\u87f9","\u63a2\u5075","\u6d77\u8cca","\u9b54\u8853\u5e2b","\u4f7f\u3044\u9b54","\u96f2","\u6c34\u7cbe\u970a"]],["\u7dd1",["\u7dd1\u7adc","\u30ef\u30fc\u30e0","\u9ce5\u4eba","\u9ce5","\u7363","\u7363\u4eba","\u30a8\u30eb\u30d5","\u5996\u7cbe","\u6606\u866b","\u690d\u7269","\u68ee\u7cbe\u970a"]],["\u91d1",["\u91d1\u7adc","\u5b9d\u77f3","\u5ca9\u77f3","\u92fc","\u932c\u91d1\u8853\u5e2b","\u9b54\u6cd5\u751f\u7269","\u30c9\u30ef\u30fc\u30d5","\u6a5f\u68b0","\u904b\u547d","\u5973\u795e","\u571f\u7cbe\u970a"]],["\u8d64",["\u706b\u7adc","\u7adc\u4eba","\u6050\u7adc","\u6226\u8eca","\u86ee\u65cf","\u5c0f\u9b3c","\u5927\u9b3c","\u5de8\u4eba","\u96f7","\u708e","\u706b\u7cbe\u970a"]],["\u9ed2",["\u9ed2\u7adc","\u95c7\u9a0e\u58eb","\u602a\u7269","\u5fcd\u8005","\u5996\u602a","\u8759\u8760","\u5438\u8840\u9b3c","\u4e0d\u6b7b\u8005","\u5e7d\u970a","\u60aa\u9b54","\u90aa\u795e"]]],E(["rtt","rtt_format","s_format"],{rtt:"RM",rtt_format:"\u30e9\u30f3\u30c0\u30e0\u30e2\u30f3\u30b9\u30bf\u30fc\u9078\u629e(%<category_dice>d,%<row_dice>d) \uff1e %<text>s",s_format:"%<category_name>s\u306e%<row_dice>d\uff1a%<skill_name>s"}))),m(A,"$get_monster",function(o){var l=t,$=t,a=t;return l=o.$match(/^CM(\w)(\d+)$/i),g(l)&&($=D("COLOR_TABLE").$index(l["$[]"](1)),a=l["$[]"](2).$to_i(),g($))&&g(a["$between?"](2,12))?"\u30e2\u30f3\u30b9\u30bf\u30fc\u9078\u629e \uff1e "+D("RTT").$categories()["$[]"]($).$skills()["$[]"](M(a,2)):t},1),v(x[0],"TABLES",E(["BFT","CDT","CST","DT","GDT","OST","GST","ST","TDT","WT"],{BFT:n(D("DiceTable"),"Table").$new("\u30d0\u30c8\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u8868","1D6",["\u30cf\u30a4\u30fb\u30a2\u30f3\u30c6\u30a3/\u6226\u95d8\u30d5\u30a7\u30a4\u30ba\u306e\u7d42\u4e86\u6642\u3001\u52dd\u8005\u306f\u901a\u5e38\u7fd2\u5f97\u3067\u304d\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u4e00\u3064\u306b\u52a0\u3048\u3066\u3001\u3082\u3046\u4e00\u3064\u6557\u8005\u304b\u3089\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u9078\u3093\u3067\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002//\u901a\u5e38\u3088\u308a\u3082\u591a\u304f\u306e\u30ab\u30fc\u30c9\u3092\u8ced\u3051\u306e\u5bfe\u8c61\u306b\u3059\u308b\u30eb\u30fc\u30eb\u3002","\u30d0\u30fc\u30cb\u30f3\u30b0/\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u6642\u3001\u3059\u3079\u3066\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306f\u3010LP\u3011\u73fe\u5728\u5024\u30923\u70b9\u5931\u3046\u3002//\u30de\u30b0\u30de\u306e\u8fd1\u304f\u3084\u6975\u5bd2\u306e\u5730\u306a\u3069\u4f53\u529b\u3092\u524a\u3089\u308c\u308b\u3088\u3046\u306a\u904e\u9177\u306a\u74b0\u5883\u3067\u884c\u308f\u308c\u308b\u30eb\u30fc\u30eb\u3002","\u30ce\u30fc\u30de\u30eb/\u7279\u306b\u5f71\u97ff\u306a\u3057\u3002//\u901a\u5e38\u306e\u30eb\u30fc\u30eb\u3002","\u30cf\u30fc\u30c9/\u3059\u3079\u3066\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u5224\u5b9a\u306b\u30d7\u30e9\u30b91\u306e\u4fee\u6b63\u3092\u52a0\u3048\u308b\u3002\u307e\u305f\u3001\u30e9\u30a6\u30f3\u30c9\u7d42\u4e86\u6642\u306b\u3059\u3079\u3066\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306f\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4e00\u3064\u9078\u3093\u3067\u7834\u58ca\u72b6\u614b\uff08\u30eb\u30fc\u30eb\u30d6\u30c3\u30afP187\u53c2\u7167\uff09\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002//\u98a8\u306e\u5f37\u3044\u5834\u6240\u3084\u6c34\u4e2d\u306a\u3069\u3001\u30ab\u30fc\u30c9\u3092\u6271\u3044\u306b\u304f\u3044\u74b0\u5883\u3067\u306e\u30eb\u30fc\u30eb\u3002","\u30b9\u30d4\u30fc\u30c9/\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u306e\u30ea\u30b9\u30af\u304c1\u9ad8\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002\u307e\u305f\u3001\u5224\u5b9a\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u3001\u901f\u5ea6\u304b\u3089\u632f\u308a\u843d\u3068\u3055\u308c\u30661D6\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002//\u30d0\u30a4\u30af\u3084\u30ed\u30fc\u30e9\u30fc\u30dc\u30fc\u30c9\u306a\u3069\u3092\u4f7f\u3063\u3066\u884c\u308f\u308c\u308b\u9ad8\u901f\u30ab\u30fc\u30c9\u30d0\u30c8\u30eb\u30eb\u30fc\u30eb\u3002","\u30c7\u30b9\u30eb\u30fc\u30eb/\u6226\u95d8\u30d5\u30a7\u30a4\u30ba\u3067\u3082\u6b7b\u4ea1\u5224\u5b9a\u304c\u767a\u58f0\u3059\u308b\u3002\u307e\u305f\u3001\u6226\u95d8\u4e0d\u80fd\u306b\u306a\u3063\u305f\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306f\u5373\u5ea7\u306b\u6b7b\u4ea1\u5224\u5b9a\u3092\u884c\u3046\u3002\u305f\u3060\u3057\u3001\u653b\u6483\u3092\u884c\u3063\u305f\u5074\u304c\u30c7\u30b9\u30eb\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\u3092\u9078\u629e\u3059\u308c\u3070\u3001\u6b7b\u4ea1\u5224\u5b9a\u306f\u767a\u751f\u3057\u306a\u3044\u3002//\u30e2\u30f3\u30b9\u30bf\u30fc\u306b\u3088\u3063\u3066\u5b9f\u969b\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3001\u6b7b\u306e\u5371\u967a\u6027\u304c\u3042\u308b\u30eb\u30fc\u30eb\u3002"]),CDT:n(D("DiceTable"),"Table").$new("\u5d29\u58ca\u904b\u547d\u8868","1D6",["\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u3042\u306a\u305f\u3092\u5d29\u58ca\u3059\u308b\u5927\u5730\u306b\u547c\u3073\u5bc4\u305b\u305f\u3002\u66b4\u8650\u306a\u632f\u308b\u821e\u3044\u3092\u3059\u308b\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3059\u3053\u3068\u3092\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u306f\u671b\u3093\u3067\u3044\u308b\u3002","\u3042\u306a\u305f\u306f\u3072\u3087\u3093\u306a\u3053\u3068\u304b\u3089\u4eba\u3092\u52a9\u3051\u305f\u3002\u3059\u308b\u3068\u3001\u3042\u306a\u305f\u306f\u3044\u3064\u306e\u9593\u306b\u304b\u6551\u4e16\u4e3b\u3068\u547c\u3070\u308c\u308b\u5b58\u5728\u306b\u306a\u3063\u3066\u3044\u305f\u3001\u6551\u4e16\u4e3b\u3067\u3042\u308b\u3042\u306a\u305f\u306b\u4eba\u3005\u306f\u61c7\u9858\u3059\u308b\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3057\u3066\u304f\u308c\u3068\u3002","\u3042\u306a\u305f\u306e\u4f4f\u3080\u3068\u3053\u308d\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u529b\u304c\u53ca\u3070\u306a\u3044\u697d\u5712\u3067\u3042\u3063\u305f\u3002\u3057\u304b\u3057\u3001\u697d\u5712\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u4e00\u5473\u306e\u8972\u6483\u306b\u3042\u3044\u3001\u3042\u306a\u305f\u3060\u3051\u304c\u751f\u304d\u6b8b\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u697d\u5712\u3092\u51fa\u305f\u3042\u306a\u305f\u306f\u6226\u3044\u3092\u6c7a\u610f\u3059\u308b\u3002","\u4e16\u306e\u4e2d\u306f\u5909\u308f\u3063\u305f\u3002\u3060\u304c\u3001\u611b\u3059\u308b\u4eba\uff08\u3082\u3057\u304f\u306f\u611b\u3059\u308b\u7269\u3084\u5bb6\u65cf\uff09\u306f\u5065\u5728\u3060\u3002\u3042\u306a\u305f\u306f\u611b\u3059\u308b\u4eba\u3092\u8b77\u308b\u305f\u3081\u306b\u3082\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3059\u3079\u304f\u52d5\u304d\u59cb\u3081\u305f\u3002","\u3042\u306a\u305f\u306f\u3053\u306e\u4e16\u754c\u304c\u597d\u304d\u3060\u3002\u305d\u308c\u306f\u3069\u3093\u306a\u7406\u7531\u3067\u3082\u3088\u3044\u3002\u3057\u304b\u3057\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u304c\u6301\u3064\u30c0\u30fc\u30af\u30ab\u30fc\u30c9\u306f\u3053\u306e\u4e16\u754c\u3092\u58ca\u3059\u3002\u306a\u3089\u3070\u3001\u5012\u3057\u3066\u3053\u306e\u4e16\u754c\u3092\u5b88\u3089\u306d\u3070\u306a\u3089\u306a\u3044\u3002","\u5d29\u58ca\u3057\u3066\u3044\u304f\u5927\u5730\u3002\u6ce3\u304d\u53eb\u3076\u4eba\u3005\u306e\u58f0\u3002\u3042\u306a\u305f\u306f\u3053\u306e\u72b6\u6cc1\u3092\u4f5c\u3063\u305f\u306e\u304c\u3001\u3042\u306a\u305f\u306e\u8eab\u5185\u3067\u3042\u308b\u3068\u77e5\u308b\u3002\u30c0\u30fc\u30af\u30ab\u30fc\u30c9\u306e\u624b\u304b\u3089\u8eab\u5185\u3092\u6551\u3046\u305f\u3081\u306b\u3082\u3001\u3042\u306a\u305f\u306f\u30ab\u30fc\u30c9\u3092\u624b\u306b\u3068\u3063\u305f\u3002"]),CST:n(D("DiceTable"),"Table").$new("\u8857\u4e2d\u5834\u6240\u8868","1D6",["\u30ab\u30fc\u30c9\u30b7\u30e7\u30c3\u30d7/\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u904a\u3076\u8005\u305f\u3061\u304c\u96c6\u307e\u308b\u5834\u6240\u3002\u30d7\u30ec\u30a4\u30b9\u30da\u30fc\u30b9\u3082\u3042\u308c\u3070\u3001\u30ab\u30fc\u30c9\u306e\u8ca9\u58f2\u3082\u3057\u3066\u3044\u308b\u3002","\u30d3\u30eb\u8857/\u30d3\u30eb\u304c\u7acb\u3061\u4e26\u3076\u8857\u3002\u30d3\u30b8\u30cd\u30b9\u30de\u30f3\u304c\u5fd9\u3057\u306a\u304f\u52d5\u304d\u3001\u30c1\u30a7\u30fc\u30f3\u5e97\u304c\u591a\u304f\u898b\u3089\u308c\u308b\u3002","\u99c5\u524d/\u4eba\u304c\u96c6\u307e\u308b\u99c5\u524d\u3002\u96fb\u8eca\u304b\u3089\u964d\u308a\u3066\u304f\u308b\u4eba\u306f\u591a\u304f\u3001\u4eca\u65e5\u3082\u4eba\u3068\u4eba\u304c\u3059\u308c\u9055\u3046\u3002","\u98df\u4e8b\u51e6/\u30ec\u30b9\u30c8\u30e9\u30f3\u304b\u3089\u5927\u8846\u98df\u5802\u3001\u55ab\u8336\u5e97\u3084\u30d0\u30fc\u306a\u3069\u3001\u98df\u4e8b\u306f\u4eba\u306e\u6d3b\u529b\u3067\u3042\u308a\u3001\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u306b\u3082\u5143\u6c17\u306f\u5fc5\u8981\u3060\u3002","\u9053\u8def/\u9577\u304f\u5e83\u3044\u9053\u8def\u3002\u8eca\u3068\u4eba\u304c\u901a\u904e\u3057\u3066\u3044\u304f\u5834\u6240\u3060\u304c\u3001\u6642\u304a\u308a\u30c8\u30e9\u30d6\u30eb\u3092\u62b1\u3048\u305f\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u540c\u58eb\u304c\u6226\u3063\u3066\u3044\u308b\u3002","\u30d7\u30fc\u30eb/\u90fd\u4f1a\u306b\u3042\u308b\u30d7\u30fc\u30eb\u3002\u90fd\u4f1a\u306e\u751f\u6d3b\u306b\u75b2\u308c\u305f\u4eba\u3005\u304c\u96c6\u307e\u308b\u5834\u6240\u3002\u6642\u304a\u308a\u3001\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u306e\u6226\u3044\u3082\u898b\u3089\u308c\u308b\u3002"]),DT:n(D("DiceTable"),"Table").$new("\u904b\u547d\u8868","1D6",["\u3042\u306a\u305f\u304c\u6b32\u3057\u3066\u3044\u308b\u30ab\u30fc\u30c9\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u304c\u6301\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u3044\u3046\u60c5\u5831\u3092\u63b4\u3093\u3060\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3057\u3001\u30a2\u30f3\u30c6\u30a3\u30eb\u30fc\u30eb\u3067\u30ab\u30fc\u30c9\u3092\u624b\u306b\u5165\u308c\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3068\u306a\u3063\u305f\u4eba\u7269\u3068\u3042\u306a\u305f\u306f\u30ab\u30fc\u30c9\u4ef2\u9593\u3067\u3042\u3063\u305f\u304c\u3001\u3042\u308b\u65e5\u898b\u305f\u305d\u306e\u4eba\u7269\u306f\u30c0\u30fc\u30af\u30ab\u30fc\u30c9\u306e\u529b\u306b\u3068\u308a\u6191\u304b\u308c\u3066\u8c79\u5909\u3057\u3066\u3044\u305f\u3002\u3042\u306a\u305f\u306f\u4ef2\u9593\u3092\u30ab\u30fc\u30c9\u306b\u3088\u3063\u3066\u6551\u3046\u305f\u3081\u3001\u6226\u3044\u3092\u6c7a\u610f\u3057\u305f\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u3042\u306a\u305f\u306e\u4ef2\u9593\u3084\u8eab\u5185\u3001\u5927\u5207\u306a\u30e2\u30ce\u3092\u50b7\u3064\u3051\u305f\uff08\u58ca\u3057\u305f\uff09\u3002\u3042\u306a\u305f\u306e\u5927\u5207\u306a\u3082\u306e\u3092\u50b7\u3064\u3051\u305f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3001\u8a31\u3057\u306f\u3057\u306a\u3044\u3002","\u3042\u306a\u305f\u306e\u6301\u3064\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3082\u3057\u304f\u306f\u4ed6\u306e\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u51fa\u73fe\u3059\u308b\u3053\u3068\u3092\u5bdf\u77e5\u3057\u305f\u3002\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u306b\u5c0e\u304b\u308c\u308b\u307e\u307e\u3001\u30ad\u30df\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\uff08\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\uff09\u3092\u63a2\u3057\u59cb\u3081\u305f\u3002","\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u306e\u7d44\u7e54\u3084\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u306e\u5b89\u5b9a\u3092\u9858\u3046\u4eba\u304b\u3089\u305d\u306e\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3059\u3088\u3046\u306b\u4f9d\u983c\u3092\u53d7\u3051\u305f\u3001\u3042\u306a\u305f\u306f\u305d\u306e\u4ed5\u4e8b\u3092\u53d7\u3051\u308b\u4fa1\u5024\u304c\u3042\u308b\u3068\u601d\u3063\u305f\u3002\u305d\u3046\u601d\u3063\u305f\u7406\u7531\u306f\u5831\u916c\u3067\u3082\u3044\u3044\u3057\u3001\u3042\u306a\u305f\u306e\u6d41\u5100\u3067\u3082\u3088\u3044\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3068\u3042\u306a\u305f\u306f\u5076\u7136\u306b\u3082\u51fa\u4f1a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u5371\u967a\u306a\u5b58\u5728\u3060\u3002\u898b\u3066\u3057\u307e\u3063\u305f\u4ee5\u4e0a\u3001\u653e\u3063\u3066\u304a\u304f\u308f\u3051\u306b\u306f\u3044\u304b\u306a\u3044\u3002"]),GDT:n(D("DiceTable"),"Table").$new("\u5b66\u5712\u904b\u547d\u8868","1D6",["\u3042\u306a\u305f\u304c\u904e\u3054\u3057\u3066\u3044\u308b\u30af\u30e9\u30b9\u3084\u5bee\u3001\u90e8\u6d3b\u304c\u6f70\u3055\u308c\u305d\u3046\u306b\u306a\u3063\u305f\u3002\u305d\u306e\u88cf\u306b\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5f71\u97ff\u304c\u3042\u308b\u3089\u3057\u3044\u3002","\u5b66\u5712\u306e\u5049\u3044\u4eba\u304b\u3089\u3001\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u3067\u3042\u308b\u3042\u306a\u305f\u306b\u8abf\u67fb\u4f9d\u983c\u304c\u5165\u3063\u305f\u3002\u3069\u3046\u3084\u3089\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u304c\u5b66\u5712\u306b\u5e72\u6e09\u3057\u3066\u3044\u308b\u3068\u306e\u3053\u3068\u3002","\u5b66\u5712\u5185\u306e\u30ab\u30fc\u30c9\u304c\u596a\u308f\u308c\u305f\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5f71\u97ff\u3060\u308d\u3046\u3002\u5927\u5207\u306b\u3055\u308c\u3066\u3044\u305f\u30ab\u30fc\u30c9\u3092\u53d6\u308a\u623b\u3059\u305f\u3081\u306b\u3001\u3042\u306a\u305f\u306f\u7acb\u3061\u4e0a\u304c\u3063\u305f\u3002","\u5b66\u5185\u306b\u90aa\u60aa\u306a\u5f71\u97ff\u3092\u53d7\u3051\u305f\u30ab\u30fc\u30c9\u304c\u5165\u308a\u8fbc\u3093\u3067\u3044\u305f\u3002\u304a\u305d\u3089\u304f\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u4ed5\u696d\u306b\u9055\u3044\u306a\u3044\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306b\u3088\u3063\u3066\u88ab\u5bb3\u3092\u53d7\u3051\u305f\u751f\u5f92\u304c\u3042\u306a\u305f\u306b\u76f8\u8ac7\u3057\u3066\u304d\u305f\u3002\u3042\u306a\u305f\u306f\u305d\u306e\u751f\u5f92\u306e\u305f\u3081\u306b\u3082\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u8abf\u67fb\u306b\u4e57\u308a\u51fa\u3057\u305f\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5f71\u97ff\u3092\u53d7\u3051\u3001\u6388\u696d\u3084\u90e8\u6d3b\u52d5\u306f\u307e\u3068\u3082\u306b\u3067\u304d\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3042\u306a\u305f\u306f\u5143\u306e\u5b66\u6821\u751f\u6d3b\u3092\u518d\u958b\u3055\u305b\u308b\u305f\u3081\u306b\u3082\u3001\u8abf\u67fb\u3092\u59cb\u3081\u305f\u3002"]),OST:n(D("DiceTable"),"Table").$new("\u90ca\u5916\u5834\u6240\u8868","1D6",["\u30ab\u30fc\u30c9\u30b7\u30e7\u30c3\u30d7/\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u904a\u3076\u8005\u305f\u3061\u304c\u96c6\u307e\u308b\u5834\u6240\u3002\u5c11\u3057\u6cbb\u5b89\u3068\u5ba2\u5c64\u304c\u60aa\u3044\u304c\u3001\u8cde\u91d1\u7a3c\u304e\u3082\u96c6\u307e\u308b\u3002","\u8352\u91ce/\u52d5\u690d\u7269\u3082\u5c11\u306a\u304f\u3001\u30d4\u30ea\u30d4\u30ea\u3068\u3057\u305f\u96f0\u56f2\u6c17\u306e\u3042\u308b\u5834\u6240\u3002","\u907a\u8de1/\u53e4\u4ee3\u306e\u907a\u8de1\u3002\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u3084\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u306f\u3053\u3046\u3057\u305f\u5834\u6240\u306b\u767a\u751f\u3057\u305f\u308a\u3001\u96a0\u3055\u308c\u3066\u3044\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u591a\u3044\u3002","\u5e73\u539f/\u3069\u3053\u307e\u3067\u3082\u7d9a\u304f\u5e73\u539f\u3002\u52d5\u7269\u3082\u6e29\u539a\u3067\u3042\u308a\u3001\u751f\u3044\u8302\u308b\u8349\u82b1\u304c\u67d4\u3089\u304b\u306a\u5370\u8c61\u3092\u4e0e\u3048\u308b\u5834\u6240\u3060\u3002","\u5c71\u5cb3/\u967a\u3057\u3044\u9053\u304c\u7d9a\u304f\u5c71\u3002\u30ab\u30fc\u30c9\u306e\u7cbe\u970a\u305f\u3061\u304c\u751f\u606f\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308b\u304c\u3001\u30ab\u30fc\u30c9\u5c71\u8cca\u56e3\u306b\u306f\u6c17\u3092\u3064\u3051\u306d\u3070\u306a\u3089\u306a\u3044\u3002","\u6d77\u5ddd/\u6d77\u3084\u5ddd\u3002\u5c71\u3068\u540c\u3058\u304f\u30ab\u30fc\u30c9\u306e\u7cbe\u970a\u305f\u3061\u304c\u4f4f\u3093\u3067\u3044\u308b\u5834\u6240\u3060\u3002\u5b89\u3089\u3052\u308b\u5834\u6240\u3067\u3082\u3042\u308a\u3001\u4f11\u61a9\u3057\u3066\u3044\u308b\u4eba\u304c\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3057\u3066\u3044\u308b\u3002"]),GST:n(D("DiceTable"),"Table").$new("\u5b66\u5712\u5834\u6240\u8868","1D6",["\u8cfc\u8cb7/\u5b66\u751f\u306b\u3068\u3063\u3066\u306f\u5b66\u5712\u5185\u3067\u552f\u4e00\u8cb7\u3044\u7269\u304c\u3067\u304d\u308b\u5834\u6240\u3002\u30d1\u30f3\u306e\u4ed6\u306b\u3001\u30ab\u30fc\u30c9\u30d1\u30c3\u30af\u304c\u58f2\u3063\u3066\u3044\u308b\u3002","\u30b0\u30e9\u30a6\u30f3\u30c9\uff0f\u4f53\u80b2\u9928/\u904b\u52d5\u3059\u308b\u306e\u306b\u9069\u3057\u305f\u5e83\u3044\u7a7a\u9593\u3060\u304c\u3001\u540c\u6642\u306b\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3084\u308b\u306e\u306b\u3082\u3046\u3063\u3066\u3064\u3051\u306e\u5834\u6240\u3067\u3042\u308b\u3002","\u5c4b\u4e0a/\u6821\u820e\u306e\u5c4b\u4e0a\u306f\u4e00\u90e8\u306e\u751f\u5f92\u306b\u306f\u4eba\u6c17\u306e\u30b9\u30dd\u30c3\u30c8\u3060\u3002\u4eca\u65e5\u3082\u5f37\u3044\u98a8\u304c\u5f7c\u3089\u3092\u8fce\u3048\u3066\u3044\u308b\u3002","\u6559\u5ba4/\u65e5\u304c\u6607\u3063\u3066\u3044\u308b\u9593\u306f\u3001\u5b66\u751f\u305f\u3061\u306e\u58f0\u3067\u8cd1\u3084\u304b\u306a\u5834\u6240\u3002\u5915\u66ae\u308c\u304b\u3089\u306f\u5c11\u3057\u7269\u54c0\u3057\u304f\u3001\u5bc2\u3057\u3044\u3002","\u6821\u820e\u88cf/\u5b66\u6821\u306e\u4e2d\u3067\u3082\u73cd\u3057\u304f\u4eba\u76ee\u306b\u3064\u304b\u306a\u3044\u5834\u6240\u3002\u4e0d\u826f\u305f\u3061\u304c\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3084\u3063\u3066\u3044\u308b\u59ff\u304c\u898b\u3089\u308c\u308b\u3002","\u90e8\u6d3b\u68df/\u90e8\u6d3b\u3092\u3084\u308b\u8005\u306e\u305f\u3081\u306b\u7528\u610f\u3055\u308c\u305f\u5834\u6240\u3002\u3057\u304b\u3057\u3001\u30b5\u30dc\u3063\u3066\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3084\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u3082\u3002"]),ST:n(D("DiceTable"),"Table").$new("\u5834\u6240\u8868","1D6",["\u30ab\u30fc\u30c9\u7cfb/\u30b7\u30e7\u30c3\u30d7\u3084\u5927\u4f1a\u306e\u4f1a\u5834\u306a\u3069\u3001\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u306b\u95a2\u4fc2\u304c\u3042\u308b\u5834\u6240\u3002\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u305f\u3061\u3082\u96c6\u307e\u3063\u3066\u304f\u308b\u3002","\u81ea\u7136/\u516c\u5712\u3084\u5c71\u306a\u3069\u3001\u81ea\u7136\u306e\u606f\u5439\u304c\u611f\u3058\u3089\u308c\u308b\u5834\u6240\u3002\u8033\u3092\u6f84\u307e\u305b\u3070\u30ab\u30fc\u30c9\u306e\u58f0\u3082\u805e\u3053\u3048\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002","\u795e\u79d8/\u53e4\u4ee3\u306e\u65bd\u8a2d\u3084\u3001\u795e\u793e\u30fb\u6559\u4f1a\u306a\u3069\u306e\u795e\u79d8\u7684\u306a\u5834\u6240\u3002\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u96a0\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002","\u5b89\u606f/\u81ea\u5b85\u306a\u3069\u3001\u5b89\u3089\u3052\u308b\u7a7a\u9593\u3002\u305d\u3053\u306f\u3042\u306a\u305f\u304c\u5b89\u3089\u3052\u308b\u5834\u6240\u3067\u3042\u308a\u3001\u601d\u3044\u51fa\u306e\u5730\u306a\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u3002","\u8857\u4e2d/\u4eba\u3005\u304c\u4f4f\u3080\u8857\u4e2d\u3002\u4f55\u6c17\u306a\u304f\u843d\u3061\u3066\u3044\u308b\u30ab\u30fc\u30c9\u306e\u4e2d\u306b\u306f\u3001\u4fa1\u5024\u304c\u3042\u308b\u3082\u306e\u3082\u3042\u308b\u304b\u3082\u3002","\u6c34\u8fba/\u30d7\u30fc\u30eb\u3084\u6d77\u5cb8\u306a\u3069\u3001\u6c34\u304c\u8fd1\u304f\u306b\u5b58\u5728\u3059\u308b\u5834\u6240\u3002\u3072\u3068\u307e\u305a\u3001\u3053\u3053\u3067\u3072\u3068\u606f\u3064\u3051\u305d\u3046\u3060\u3002"]),TDT:n(D("DiceTable"),"Table").$new("\u5927\u4f1a\u904b\u547d\u8868","1D6",["\u3042\u306a\u305f\u306f\u53cb\u4eba\u3068\u5171\u306b\u5927\u4f1a\u306b\u51fa\u5834\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u53cb\u4eba\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306b\u3088\u3063\u3066\u5012\u3055\u308c\u3066\u3057\u307e\u3063\u305f\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306e\u5546\u54c1\u3092\u72d9\u3044\u3001\u5927\u4f1a\u306b\u51fa\u5834\u3057\u305f\u3002\u3060\u304c\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3082\u305d\u308c\u3092\u72d9\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306e\u904b\u55b6\u8005\u304b\u3089\u3001\u5927\u4f1a\u306b\u95a2\u308f\u3063\u3066\u3044\u308b\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u6483\u7834\u3092\u4f9d\u983c\u3055\u308c\u305f\u3002","\u3042\u306a\u305f\u306f\u30ab\u30fc\u30c9\u306e\u5c0e\u304f\u307e\u307e\u306b\u3001\u5927\u4f1a\u306b\u95a2\u308f\u3063\u3066\u304f\u308b\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u51fa\u73fe\u3092\u5bdf\u77e5\u3057\u305f\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306e\u4e00\u9078\u624b\u3068\u3057\u3066\u6226\u3063\u3066\u3044\u305f\u3002\u3060\u304c\u3001\u8b0e\u306e\u523a\u5ba2\u306b\u3088\u3063\u3066\u8972\u308f\u308c\u305f\u3002\u304d\u3063\u3068\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u4ed5\u696d\u306b\u9055\u3044\u306a\u3044\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306b\u51fa\u5834\u3057\u3001\u512a\u52dd\u5019\u88dc\u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u3060\u3002\u3060\u304c\u3001\u305d\u3093\u306a\u30ad\u30df\u3092\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u8972\u3063\u305f\u3002"]),WT:n(D("DiceTable"),"Table").$new("\u5909\u8abf\u8868","1D6",["\u731b\u6bd2/\u30e9\u30a6\u30f3\u30c9\u7d42\u4e86\u6642\u306b\u3010LP\u3011\u306e\u73fe\u5728\u5024\u30923\u70b9\u5931\u3046\u3002\u307e\u305f\u3010LP\u3011\u306e\u73fe\u5728\u5024\u3092\u56de\u5fa9\u3067\u304d\u306a\u3044\u3002","\u708e\u4e0a/\u30e9\u30a6\u30f3\u30c9\u7d42\u4e86\u6642\u306b\u3001\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4e00\u3064\u9078\u3073\u7834\u58ca\u72b6\u614b\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u65e2\u306b\u7834\u58ca\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u306f\u9078\u3079\u306a\u3044\u3002","\u59a8\u5bb3/\u653b\u6483\u5224\u5b9a\u306b\u30de\u30a4\u30ca\u30b92\u306e\u4fee\u6b63\u3092\u53d7\u3051\u308b\u3002","\u6355\u7e1b/\u30d6\u30ed\u30c3\u30af\u5224\u5b9a\u306b\u30de\u30a4\u30ca\u30b92\u306e\u4fee\u6b63\u3092\u53d7\u3051\u308b\u3002","\u53ec\u559a\u5236\u9650/\u300c\u30bf\u30a4\u30d7\uff1a\u88dc\u52a9\u300d\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","\u6697\u95c7/\u300c\u30bf\u30a4\u30d7\uff1a\u652f\u63f4\u300d\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002"])}).$freeze()),A.$register_prefix(D("RTT").$prefixes(),"CM",D("TABLES").$keys())})},2519:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,z,N,K,L,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.hash2,R=e.truthy,m=e.def,h=e.eqeq,g=e.rb_gt,y=e.rb_lt,k=e.rb_le;return E=H,G=L=[B(H[0],"BCDice")].concat(E),N=[B(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=C(N[0],K("Base"),"CastleInGray")].concat(J),z=e.$r(w),I.$$prototype.randomizer=t,v(w[0],"ID","CastleInGray".$freeze()),v(w[0],"NAME","\u7070\u8272\u57ce\u7dba\u8b5a".$freeze()),v(w[0],"SORT_KEY","\u306f\u3044\u3044\u308d\u3057\u3088\u3046\u304d\u305f\u3093".$freeze()),v(w[0],"HELP_MESSAGE","\u25a0 \u8272\u5360\u3044 (BnWm)\nn: \u9ed2\nm: \u767d\nn, m \u306f1\uff5e12\u306e\u7570\u306a\u308b\u6574\u6570\n\n\u4f8b) B12W7\n\u4f8b) B5W12\n\n\u25a0 \u60aa\u610f\u306e\u6e26\u306b\u3088\u308b\u5360\u3044 (MALn)\nn: \u60aa\u610f\u306e\u6e26\nn \u306f1\uff5e12\u306e\u6574\u6570\n\n\u25a0 \u305d\u306e\u4ed6\n\u30fb\u611f\u60c5\u8868 ET\n\u30fb\u6697\u793a\u8868(\u9ed2) BIT\n\u30fb\u6697\u793a\u8868(\u767d) WIT\n".$freeze()),v(w[0],"TABLES",S(["ET","BIT","WIT"],{ET:n(z("DiceTable"),"Table").$new("\u611f\u60c5\u8868","1D12",["\u53cb\u60c5(\u767d)\uff0f\u6575\u8996(\u9ed2)","\u604b\u6155(\u767d)\uff0f\u5acc\u60aa(\u9ed2)","\u4fe1\u983c(\u767d)\uff0f\u4e0d\u4fe1(\u9ed2)","\u540c\u60c5(\u767d)\uff0f\u6190\u61ab(\u9ed2)","\u61a7\u61ac(\u767d)\uff0f\u52a3\u7b49\u611f(\u9ed2)","\u5c0a\u656c(\u767d)\uff0f\u8511\u8996(\u9ed2)","\u5fe0\u8aa0(\u767d)\uff0f\u57f7\u7740(\u9ed2)","\u6709\u7528(\u767d)\uff0f\u90aa\u9b54(\u9ed2)","\u8a31\u5bb9(\u767d)\uff0f\u7f6a\u60aa\u611f(\u9ed2)","\u7fa8\u671b(\u767d)\uff0f\u5ac9\u59ac(\u9ed2)","\u5171\u611f(\u767d)\uff0f\u62d2\u7d76(\u9ed2)","\u611b\u60c5(\u767d)\uff0f\u72c2\u4fe1(\u9ed2)"]),BIT:n(z("DiceTable"),"Table").$new("\u6697\u793a\u8868(\u9ed2)","1D12",["\u7d42\u308f\u308a\u306a\u304d\u591c\u306b\u751f\u307e\u308c\u3064\u304f\u8005\u3082\u3042\u308a","\u60aa\u610f\u3082\u3066\u771f\u5b9f\u3092\u8a9e\u3089\u3070","\u7b11\u3048\u3069\u3082\u7b11\u307f\u306f\u306a\u3057","\u5f71\u3088\u308a\u629c\u3051\u51fa\u308b\u3053\u3068\u3042\u305f\u308f\u3058","\u5fc3\u306e\u8d74\u304f\u307e\u307e\u306b\u624b\u3092\u3068\u308c","\u6642\u306a\u3089\u306c\u5d50\u306e\u904e\u304e\u53bb\u308b\u3092\u5f85\u3064","\u8d66\u3055\u308c\u306c\u3068\u77e5\u308b\u304c\u3086\u3048\u306b","\u898b\u5f35\u308a\u306f\u6301\u3061\u5834\u3092\u96e2\u308c\u308b","\u8ab0\u3082\u304c\u76f2\u3044\u305f\u308b\u5f77\u5fa8\u3044\u4eba\u306a\u308a","\u843d\u3061\u308b\u65e5\u3092\u773a\u3081\u308b\u304c\u3054\u3068\u304f","\u51b7\u305f\u304f\u96e8\u305e\u964d\u308a\u3057\u304d\u308b","\u4eca\u65e5\u306f\u7b11\u3080\u82b1\u3082\u660e\u65e5\u306b\u306f\u67af\u308c\u3086\u304f"]),WIT:n(z("DiceTable"),"Table").$new("\u6697\u793a\u8868(\u767d)","1D12",["\u7121\u57a2\u306a\u308b\u8005\u306e\u307f\u304c\u771f\u5b9f\u3092\u5f97\u308b","\u3052\u306b\u6148\u60b2\u6df1\u304d\u306f\u6c88\u9ed9\u306a\u308a","\u61d0\u304b\u3057\u304d\u65e5\u3005\u306f\u53bb\u308a\u306c","\u675f\u306e\u9593\u306b\u5149\u3055\u3059","\u8ff7\u3048\u308b\u8005\u306b\u624b\u3092\u5dee\u3057\u4f38\u3079\u3088","\u5d50\u306e\u524d\u306b\u306f\u9759\u3051\u3055\u304c\u3042\u308b","\u3069\u3046\u304b\u8cac\u3081\u306a\u3044\u3067","\u706f\u3057\u305f\u660e\u304b\u308a\u3092\u7d76\u3084\u3055\u306c\u3088\u3046\u306b","\u76ee\u3092\u958b\u3051\u3066\u898b\u3088","\u6dd1\u3084\u304b\u306b\u8a2a\u308c\u308b","\u4eca\u3053\u305d\u6ce3\u3051\u3001\u3055\u3082\u306a\u304f\u3070\u4e8c\u5ea6\u3068\u6ce3\u304f\u306a","\u6642\u304c\u8a31\u3059\u9593\u306b\u8594\u8587\u3092\u6458\u3081"])}).$freeze()),I.$register_prefix("B","MAL",z("TABLES").$keys()),m(I,"$eval_game_system_specific_command",function(D){var d,o,T=this;return R(d=R(o=T.$roll_color(D))?o:T.$roll_mal(D))?d:T.$roll_tables(D,z("TABLES"))},1),m(I,"$roll_color",function(D){var T=this,d=t,o=t,l=t,$=t;return d=/^B(\d{1,2})W(\d{1,2})$/.$match(D),R(d)&&(o=d["$[]"](1).$to_i(),l=d["$[]"](2).$to_i(),R(o["$between?"](1,12))&&R(l["$between?"](1,12)))?($=T.randomizer.$roll_once(12),h(o,l)?T.$color_text(o,l,$,"\u767d\u3068\u9ed2\u306f\u91cd\u306d\u3089\u308c\u307e\u305b\u3093"):R(g(l,o))?T.$color_text(o,l,$,R(k(o,$))&&R(y($,l))?"\u9ed2":"\u767d"):T.$color_text(o,l,$,R(k(l,$))&&R(y($,o))?"\u767d":"\u9ed2")):t},1),m(I,"$color_text",function(D,T,d,o){return"\u8272\u5360\u3044(\u9ed2"+D+"\u767d"+T+") \uff1e ["+d+"] \uff1e "+o},4),m(I,"$roll_mal",function(D){var d=t,o=t,l=t;return d=/^MAL(\d{1,2})$/i.$match(D),R(d)&&(o=d["$[]"](1).$to_i(),R(o["$between?"](1,12)))?"\u60aa\u610f\u306e\u6e26("+o+") \uff1e ["+(l=this.randomizer.$roll_once(12))+"] \uff1e "+(R(k(l,o))?"\u9ed2":"\u767d"):t},1)})},229:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var P,w,d,o,l,$,a,A,x,J,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.eqeq,R=e.truthy,m=e.rb_le,h=e.rb_minus,g=e.send,y=e.to_a,k=e.neqeq,p=e.rb_ge,E=e.def,M=e.rb_divide,L=e.not,Y=e.range,G=e.hash2,j=e.rb_lt,N=e.rb_plus;return P=H,w=J=[B(H[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"ChaosFlare")].concat(d),$=e.$r(l),(a=o.$$prototype).randomizer=a.cmd=t,v(l[0],"ID","ChaosFlare"),v(l[0],"NAME","\u30ab\u30aa\u30b9\u30d5\u30ec\u30a2"),v(l[0],"SORT_KEY","\u304b\u304a\u3059\u3075\u308c\u3042"),v(l[0],"HELP_MESSAGE","\u5224\u5b9a\nCF\n  \u66f8\u5f0f: [\u30c0\u30a4\u30b9\u306e\u6570]CF[\u4fee\u6b63\u5024][@\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024][#\u30d5\u30a1\u30f3\u30d6\u30eb\u5024][>=\u76ee\u6a19\u5024]\n    CF\u4ee5\u5916\u306f\u5168\u3066\u7701\u7565\u53ef\u80fd\n  \u4f8b:\n  - CF 2D6,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412,\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n  - CF+10@10 \u4fee\u6b63\u5024+10,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502410\u3067\u5224\u5b9a\n  - CF+10#3 \u4fee\u6b63\u5024+10,\u30d5\u30a1\u30f3\u30d6\u30eb\u50243\u3067\u5224\u5b9a\n  - CF+10>=10 \u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u5dee\u5206\u5024\u3082\u51fa\u529b\u3059\u308b\n  - 3CF+10@10#3>=10 3D6\u3067\u306e\u5224\u5b9a\n  - CF@9#3+8>=10\n\n2D6\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\u3059\u308b\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306e\u5224\u5b9a\u306f\u884c\u308f\u308c\u306a\u3044\u3002\n  \u76ee\u6a19\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5dee\u5206\u5024\u3092\u51fa\u529b\u3059\u308b\u3002\n  - 2D6+4>=10\n\n\u5404\u7a2e\u8868\n  FT: \u56e0\u7e01\u8868\n  FTx: \u6570\u5024\u3092\u6307\u5b9a\u3059\u308b\u3068\u56e0\u679c\u8868\u306e\u5024\u3092\u51fa\u529b\u3059\u308b\n  - FT -> 11\u304b\u308966\u306e\u9593\u3067\u30e9\u30f3\u30c0\u30e0\u6c7a\u5b9a\n  - FT23 -> 23\u306e\u9805\u76ee\u3092\u51fa\u529b\n  - FT0\n  - FT7\n"),o.$register_prefix("\\d*CF","FT"),E(o,"$result_2d6",function(s,i,u,_,c){var b=t,f=t,q=t;return S(_,">=")?(b=[],f=$("Result").$new(),R(m(i,2))&&(s=h(s,20),b.$push("\u30d5\u30a1\u30f3\u30d6\u30eb(-20)"),g(f,"fumble=",y(q=[!0])),h(q.length,1)),k(c,"?")&&(R(p(s,c))?(b.$push("\u6210\u529f"),g(f,"success=",y(q=[!0])),h(q.length,1)):(b.$push("\u5931\u6557"),g(f,"failure=",y(q=[!0])),h(q.length,1)),k(h(s,c),0)&&b.$push("\u5dee\u5206\u5024"+h(s,c))),R(b["$empty?"]())?$("Result").$nothing():(q=[b.$join(" \uff1e ")],g(f,"text=",y(q)),h(q.length,1),f)):t},5),E(o,"$eval_game_system_specific_command",function(s){return R(s["$start_with?"]("FT"))?this.$roll_fate_table(s):this.$cf_roll(s)},1),o.$private(),E(o,"$roll_fate_table",function(s){var f,q,u=t,_=t,c=t,b=t;if(u=/^FT(\d+)?/.$match(s),R(u["$[]"](1))){if(_=u["$[]"](1).$to_i(),R([0,7]["$include?"](_)))return"\u56e0\u679c\u8868("+_+") \uff1e "+$("FATE_TABLE")["$[]"](_)["$[]"](0);if(c=M(_,10).$to_i(),b=_["$%"](10),L(Y(1,6,!1)["$include?"](c))||L(Y(1,6,!1)["$include?"](b)))return t}else c=this.randomizer.$roll_once(6),b=this.randomizer.$roll_once(6);return f=c,q=h(M(b,2).$to_i(),1),"\u56e0\u679c\u8868("+c+b+") \uff1e "+$("FATE_TABLE")["$[]"](f)["$[]"](q)},1),E(o,"$cf_roll",function(s){var i=this,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t;return u=n($("Command"),"Parser").$new(/\d*CF/,G(["round_type"],{round_type:i.$round_type()})).$enable_critical().$enable_fumble(),i.cmd=u.$parse(s),!R(i.cmd)||(_=S(i.cmd.$command(),"CF")?2:i.cmd.$command().$to_i(),c=R(b=i.cmd.$critical())?b:12,f=R(b=i.cmd.$fumble())?b:2,g(i.cmd,"dollar=",y(q=[t])),h(q.length,1),R(j(_,0))||L([">=",t]["$include?"](i.cmd.$cmp_op())))?t:(U=(F=i.randomizer.$roll_barabara(_,6)).$sum(),W=F.$join(","),X=p(U,c),Q=m(U,f),re=R(X)?30:R(Q)?-20:U,re=N(re,i.cmd.$modify_number()),["("+i.cmd.$to_s("after_modify_number")+")",U+"["+W+"]",re.$to_s(),R(j(re,0))?"0":t,R(X)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":t,R(Q)?"\u30d5\u30a1\u30f3\u30d6\u30eb":t,R(i.cmd.$target_number())?"\u5dee\u5206\u5024 "+i.$difference(re):t].$compact().$join(" \uff1e "))},1),E(o,"$difference",function(s){return R(j(s,0))?this.cmd.$target_number()["$-@"]():h(s,this.cmd.$target_number())},1),v(l[0],"FATE_TABLE",[["\u8150\u308c\u7e01"],["\u7d14\u611b","\u89aa\u8fd1\u611f","\u5e87\u8b77"],["\u4fe1\u983c","\u611f\u670d","\u5171\u611f"],["\u53cb\u60c5","\u5c0a\u656c","\u6155\u60c5"],["\u597d\u6575\u624b","\u671f\u5f85","\u501f\u308a"],["\u8208\u5473","\u618e\u60aa","\u60b2\u3057\u307f"],["\u6050\u6016","\u57f7\u7740","\u5229\u7528"],["\u4efb\u610f"]].$freeze())})},9894:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.neqeq,R=e.truthy,m=e.rb_ge,h=e.rb_gt,g=e.rb_times,y=e.rb_divide,k=e.def,p=e.rb_lt,E=e.to_ary,M=e.rb_minus,L=e.rb_plus;return G=H,P=N=[n(H[0],"BCDice")].concat(G),J=[n(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=B(J[0],I("Base"),"Chill")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,C(D[0],"ID","Chill"),C(D[0],"NAME","Chill"),C(D[0],"SORT_KEY","\u3061\u308b"),C(D[0],"HELP_MESSAGE",'\u30fb\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30e9\u30f3\u30af\u3000(SRx)\n\u3000"SR\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30e9\u30f3\u30af"\u306e\u5f62\u3067\u8a18\u5165\u3057\u307e\u3059\u3002\n\u3000\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30e9\u30f3\u30af\u30fb\u30c1\u30e3\u30fc\u30c8\u306b\u5f93\u3063\u3066\u81ea\u52d5\u3067\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\n\u3000\u8ca0\u50b7\u3068\u30b9\u30bf\u30df\u30ca\u30ed\u30b9\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002\n\u3000\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3068\u540c\u69d8\u306b\u3001\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u96a0\u308c\u3066\u30ed\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u3000\u4f8b\uff09SR7\u3000\u3000\u3000sr13\u3000\u3000\u3000SR(7+4)\u3000\u3000\u3000Ssr10\n'),x.$register_prefix("SR"),k(x,"$result_1d100",function(l,$,a,r){return v(r,"?")||S(a,"<=")?t:R(m(l,100))?T("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):R(h(l,r))?T("Result").$failure("\u5931\u6557"):R(m(l,g(r,.9)))?T("Result").$success("\uff2c\u6210\u529f"):R(m(l,y(r,2).$to_i()))?T("Result").$success("\uff2d\u6210\u529f"):R(m(l,y(r,10).$to_i()))?T("Result").$success("\uff28\u6210\u529f"):T("Result").$critical("\uff23\u6210\u529f")},4),k(x,"$eval_game_system_specific_command",function(l){return this.$roll_strike_rank_result(l)},1),k(x,"$roll_strike_rank_result",function(l){var $,a,r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,W=t,X=t,Q=t;return r.$debug("strike_rank begin string",l),s=0,i=0,u="",_="",c="",R(/(^|\s)[sS]?(SR|sr)(\d+)($|\s)/["$=~"](l))?(b=T("Regexp").$last_match(3).$to_i(),R(p(b,14))?(a=r.$check_strike_rank(b),i=null==($=E(a))[0]?t:$[0],u=null==$[1]?t:$[1],_=null==$[2]?t:$[2],c=null==$[3]?t:$[3],a=r.$check_strike_rank(M(b,3)),s=null==($=E(a))[0]?t:$[0],f=null==$[1]?t:$[1],q=null==$[2]?t:$[2],F=null==$[3]?t:$[3],u=L(L(u,", "),f),_=L(_,L(", ",q)),c=L(L(c,", "),F)):(a=r.$check_strike_rank(13),i=null==($=E(a))[0]?t:$[0],_=null==$[2]?t:$[2],c=null==$[3]?t:$[3],s=(W=r.randomizer.$roll_barabara(4,10)).$sum(),F=W.$join(","),u=L(L("5d10*3, 4d10+",g(M(b,13),2).$to_s()),"d10"),_=L(_,L(", ",s.$to_s())),c=c+", "+F,X=(W=r.randomizer.$roll_barabara(g(M(b,13),2),10)).$sum(),F=W.$join(","),c=L(c,"+"+F),_=L(_,"+"+X),s=L(s,X)),Q=c+" \uff1e "+_+" \uff1e \u30b9\u30bf\u30df\u30ca\u640d\u5931"+i+", \u8ca0\u50b7"+s,l=L(l,L(":",u)),R(Q["$empty?"]())?"1":(r.$debug("strike_rank end output",Q="("+l+") \uff1e "+Q),Q)):(r.$debug("invalid string",l),"1")},1),k(x,"$check_strike_rank",function(l){var $=this,a=t,r=t,s=t,i=t,u=t,_=t;return l=l.$to_i(),a="",r="",s="",i=0,R(p(l,1))?(i=0,s="-",r="-",a="-"):R(p(l,2))?(a="0or1",s=(i=$.randomizer.$roll_once(2)).$to_s(),r=(i=M(i,1)).$to_s()):R(p(l,3))?(a="1or2",s=(i=$.randomizer.$roll_once(2)).$to_s(),r=i.$to_s()):R(p(l,4))?(a="1d5",s=(i=$.randomizer.$roll_once(5)).$to_s(),r=i.$to_s()):R(p(l,10))?(a=L(M(l,3).$to_s(),"d10"),r=(i=(u=$.randomizer.$roll_barabara(M(l,3),10)).$sum()).$to_s(),s=u.$join(",")):R(p(l,13))?(a=L(M(l,6).$to_s(),"d10*2"),r=(_=(u=$.randomizer.$roll_barabara(M(l,6),10)).$sum())+"*2",i=g(_,2),s="("+u.$join(",")+")*2"):(a="5d10*3",r=(_=(u=$.randomizer.$roll_barabara(5,10)).$sum())+"*3",i=g(_,3),s="("+u.$join(",")+")*3"),[i,a,r,s]},1)})},3294:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.rb_divide,R=e.truthy,m=e.rb_gt,h=e.rb_le,g=e.def;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"Chill3")].concat(P),I=e.$r(J),C(J[0],"ID","Chill3"),C(J[0],"NAME","Chill 3rd Edition"),C(J[0],"SORT_KEY","\u3061\u308b3"),C(J[0],"HELP_MESSAGE","\u30fb1D100\u3067\u5224\u5b9a\u6642\u306b\u6210\u5426\u3001Botch\u3092\u5224\u5b9a\n\u3000\u4f8b\uff091D100<=50\n\u3000\u3000\u3000Chill3 : (1D100<=50) \uff1e 55 \uff1e Botch\n"),g(V,"$result_1d100",function(z,A,x,D){var T=t,d=t;return v(D,"?")||!v(x,"<=")?t:(T=S(A,10).$to_i()["$%"](10),d=A["$%"](10),v(T,d)?R(m(z,D))||v(A,100)?R(m(D,100))?I("Result").$failure("\u5931\u6557"):I("Result").$fumble("Botch"):I("Result").$critical("\uff23\u6210\u529f"):R(h(z,D))||v(A,1)?R(h(z,S(D,2).$to_i()))?I("Result").$success("\uff28\u6210\u529f"):I("Result").$success("\uff2c\u6210\u529f"):I("Result").$failure("\u5931\u6557"))},4)})},6106:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.rb_plus,g=e.rb_le,y=e.rb_gt,k=e.send,p=e.to_a,E=e.rb_minus,M=e.eqeq,L=e.neqeq,Y=e.rb_ge;return j=H,V=K=[n(H[0],"BCDice")].concat(j),I=[n(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=B(I[0],w("Base"),"CodeLayerd")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,C(T[0],"ID","CodeLayerd"),C(T[0],"NAME","\u30b3\u30fc\u30c9\uff1a\u30ec\u30a4\u30e4\u30fc\u30c9"),C(T[0],"SORT_KEY","\u3053\u304a\u3068\u308c\u3044\u3084\u3042\u3068"),C(T[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08nCL@m[c]+x \u307e\u305f\u306f nCL+x@m[c]\uff09 \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u5224\u5b9a\u3042\u308a\n  (\u30c0\u30a4\u30b9\u6570)CL+(\u4fee\u6b63\u5024)@(\u5224\u5b9a\u5024)[(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024)]+(\u4fee\u6b63\u50242)\n\n  @m,[c],+x\u306f\u7701\u7565\u53ef\u80fd\u3002(@6[1]\u3068\u3057\u3066\u51e6\u7406)\n  n\u500b\u306eD10\u3067m\u3092\u5224\u5b9a\u5024\u3001c\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u3057\u305f\u884c\u70ba\u5224\u5b9a\u3092\u884c\u3046\u3002\n  n\u304c0\u4ee5\u4e0b\u306e\u3068\u304d\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3057\u306a\u30441CL\u5224\u5b9a\u3092\u884c\u3046\u3002(1CL[0]\u3068\u540c\u4e00)\n  \u4f8b\uff09\n  7CL>=5 \uff1a\u30b5\u30a4\u30b3\u30ed7\u500b\u3067\u5224\u5b9a\u50246\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u76ee\u6a19\u50245\u306b\u5bfe\u3057\u3066\u5224\u5b9a\n  4CL@7  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3059\n  4CL+2@7 \u307e\u305f\u306f 4CL@7+2  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3057\u3001\u4fee\u6b63\u50242\u3092\u8db3\u3059\u3002\n  4CL[2] \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3046\u3002\n  0CL : 1CL[0]\u3068\u540c\u3058\u5224\u5b9a\n\n  \u30c7\u30d5\u30a9\u30eb\u30c8\u30c0\u30a4\u30b9\uff1a10\u9762\n"),D.$register_prefix("[+-]?\\d*CL"),R(D,"$initialize",function l($){var r=this;return delete l.$$p,v(r,S(r,"initialize",l,!1,!0),"initialize",[$],null),r.sides_implicit_d=10},1),R(D,"$eval_game_system_specific_command",function($){var r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t;return this.$debug("eval_game_system_specific_command command",$),r=/([+-]?\d+)?CL([+-]\d+)?(@(\d))?(\[(\d+)\])?([+-]\d+)?(>=(\d+))?/i.$match($),m(r)?(s=(m(i=r["$[]"](1))?i:1).$to_i(),u=r["$[]"](2).$to_i(),_=(m(i=r["$[]"](4))?i:6).$to_i(),c=(m(i=r["$[]"](6))?i:1).$to_i(),b=r["$[]"](7).$to_i(),m(r["$[]"](9))&&(f=r["$[]"](9).$to_i()),this.$check_roll($,s,_,c,f,h(u,b))):t},1),R(D,"$check_roll",function($,a,r,s,i,u){var f,q,U,W,c=t,b=t,F=t,X=t;return m(g(a,0))&&(s=0,a=1),c=d("Result").$new(),m(y(r,10))&&(r=10),b=this.randomizer.$roll_barabara(a,10).$sort(),f=k(b,"count",[],function(re){return null==re&&(re=t),g(re,r)},1),q=k(b,"count",[],function(re){return null==re&&(re=t),g(re,s)},1),F=[y(q,0)],k(c,"critical=",p(F)),E(F.length,1),U=h(h(f,q),u),X=$+" \uff1e ("+a+"d10"+(W=d("Format").$modifier(u))+") \uff1e ["+b.$join(",")+"]"+W+" \uff1e ",M(r,6)||(X=h(X,"\u5224\u5b9a\u5024["+r+"] ")),M(s,1)||(X=h(X,"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024["+s+"] ")),X=h(X,"\u9054\u6210\u5024["+f+"]"),m(g(f,0))?(k(c,"fumble=",p(F=[!0])),E(F.length,1),k(c,"failure=",p(F=[!0])),E(F.length,1),k(c,"text=",p(F=[X+" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb\uff01"])),E(F.length,1),c):(m(c["$critical?"]())&&(X=h(X,"+\u30af\u30ea\u30c6\u30a3\u30ab\u30eb["+q+"]")),X=h(X,W),(m(c["$critical?"]())||L(u,0))&&(X=h(X,"=["+U+"]")),m(i["$nil?"]())?(k(c,"text=",p(F=[X+" \uff1e "+U])),E(F.length,1)):m(Y(U,i))?(k(c,"text=",p(F=[X+" \uff1e \u6210\u529f"])),E(F.length,1),k(c,"success=",p(F=[!0])),E(F.length,1)):(k(c,"text=",p(F=[X+" \uff1e \u5931\u6557"])),E(F.length,1),k(c,"failure=",p(F=[!0])),E(F.length,1)),c)},6)})},1712:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var y,M,K,P,V,J,Y,G,p,H=[],n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.hash2;return y=H,M=p=[B(H[0],"BCDice")].concat(y),Y=[B(p[0],"GameSystem")].concat(M),G=e.$r(Y),K=Y,V=[P=C(Y[0],G("Base"),"Comes")].concat(K),J=e.$r(V),v(V[0],"ID","Comes"),v(V[0],"NAME","\u30ab\u30e0\u30ba"),v(V[0],"SORT_KEY","\u304b\u3080\u3059"),v(V[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n\u3000\u5224\u5b9a\u30da\u30ca\u30eb\u30c6\u30a3\u8868 PT\n"),m(P,"$initialize",function I(w){var A=this;return delete I.$$p,S(A,R(A,"initialize",I,!1,!0),"initialize",[w],null),A.sort_add_dice=!0,A.d66_sort_type=n(J("D66SortType"),"ASC")},1),m(P,"$eval_game_system_specific_command",function(w){return this.$roll_tables(w,n(this.$class(),"TABLES"))},1),v(V[0],"TABLES",h(["PT"],{PT:n(J("DiceTable"),"Table").$new("\u5224\u5b9a\u30da\u30ca\u30eb\u30c6\u30a3\u8868","1D6",["\u6050\u308d\u3057\u3044\u76ee\u306b\u5408\u3046\u3002\u300e\u6050\u6016\u300f\u3092\u4e0e\u3048\u308b\u3002","\u4eca\u898b\u3066\u3044\u308b\u3082\u306e\u3092\u7406\u89e3\u3067\u304d\u306a\u3044\u3002\u300e\u6df7\u4e71\u300f\u3092\u4e0e\u3048\u308b\u3002","\u6211\u3092\u5fd8\u308c\u3066\u898b\u3068\u308c\u3066\u3057\u307e\u3046\u3002\u300e\u9b45\u4e86\u300f\u3092\u4e0e\u3048\u308b\u3002","\u601d\u308f\u306c\u9060\u56de\u308a\u3092\u3057\u3066\u3057\u307e\u3046\u3002\u300e\u75b2\u52b4\u300f\u3092\u4e0e\u3048\u308b\u3002","\u5927\u304d\u306a\u5931\u614b\u3092\u6f14\u3058\u3066\u3057\u307e\u3046\u3002\u300e\u8ca0\u50b7\u300f\u3092\u4e0e\u3048\u308b\u3002","\u5225\u306e\u56f0\u96e3\u304c\u7acb\u3061\u306f\u3060\u304b\u308b\u3002\u65b0\u305f\u306b\u5224\u5b9a\u3092\u884c\u308f\u305b\u308b\u3002"])}).$freeze()),P.$register_prefix(J("TABLES").$keys())})},6506:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var p,Y,V,J,I,w,j,N,M,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.def,R=e.not,m=e.eqeq,h=e.truthy,g=e.rb_le,y=e.rb_plus;return p=H,Y=M=[n(H[0],"BCDice")].concat(p),j=[n(M[0],"GameSystem")].concat(Y),N=e.$r(j),V=j,I=[J=B(j[0],N("Base"),"CrashWorld")].concat(V),w=e.$r(I),J.$$prototype.randomizer=t,C(I[0],"ID","CrashWorld"),C(I[0],"NAME","\u589c\u843d\u4e16\u754c"),C(I[0],"SORT_KEY","\u3064\u3044\u3089\u304f\u305b\u304b\u3044"),C(I[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a CWn\n\u521d\u671f\u76ee\u6a19\u5024n (\u5fc5\u9808)\n\u4f8b\u30fbCW8\n"),J.$register_prefix("CW"),S(J,"$eval_game_system_specific_command",function(x){var T=t;return T=t,v(/CW(\d+)/i,x)&&(T=this.$getCrashWorldRoll(w("Regexp").$last_match(1).$to_i())),T},1),S(J,"$getCrashWorldRoll",function(x){var d=t,o=t,l=t,$=t;for(this.$debug("target",x),d="(",o=!1,l=0,$=0;R(o);)$=this.randomizer.$roll_once(12),d=m(d,"(")?"("+$:d+", "+$,h(g($,x))||m($,11)?(x=$,l=y(l,1)):(m($,12),o=!0);return m($,12)&&(l=0),d=d+")  \u6210\u529f\u5ea6 : "+l,m($,12)&&(d+=" \u30d5\u30a1\u30f3\u30d6\u30eb"),d},1)})},2605:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.queue(function(e){var P,w,d,i,u,_,c,o,l,$,a,A,x,J,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.rb_le,k=e.rb_gt,p=e.rb_plus,E=e.send,M=e.to_a,L=e.rb_minus,Y=e.rb_divide,G=e.rb_times,j=e.rb_lt,N=e.rb_ge;return e.top.$require("bcdice/arithmetic_evaluator"),P=t,w=J=[B(t[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"Cthulhu")].concat(d),$=e.$r(l),(a=o.$$prototype).randomizer=a.locale=a.special_percentage=a.critical_percentage=a.fumble_percentage=n,v(l[0],"ID","Cthulhu"),v(l[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),v(l[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),v(l[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),o.$register_prefix("CCB?","RESB?","CBRB?"),m(o,"$initialize",function r(s){var u=this;return delete r.$$p,S(u,R(u,"initialize",r,!1,!0),"initialize",[s],null),u.special_percentage=20,u.critical_percentage=1,u.fumble_percentage=1},1),m(o,"$eval_game_system_specific_command",function(s){var u,i=this;return h(/CCB/i,u=s)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCheckResult(s)):h(/CC/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCheckResult(s)):h(/RESB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getRegistResult(s)):h(/CBRB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCombineRoll(s)):h(/RES/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getRegistResult(s)):h(/CBR/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCombineRoll(s)):n},1),o.$private(),m(o,"$getCheckResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n;return u=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=$("ArithmeticEvaluator").$eval(u["$[]"](2)),g(y(c,0))?(b=i.randomizer.$roll_once(100),$("Result").$new("(1D100) \uff1e "+b)):(f="(1D100<="+c+")",g(k(_,0))&&(f=p(f," "+i.$translate("Cthulhu.broken_number")+"["+_+"]")),b=i.randomizer.$roll_once(100),q=i.$compare(b,c,_),E(q.$to_result(),"tap",[],function(U){var W;return null==U&&(U=n),W=[f+" \uff1e "+b+" \uff1e "+q.$text()],E(U,"text=",M(W)),W[L(W.length,1)]},1))):n},1),i=l,_=[u=C(l[0],null,"CompareResult")].concat(i),c=e.$r(_),u.$include(c("Translate")),u.$attr_accessor("success","failure","critical","fumble","special","broken"),m(u,"$initialize",function(f){var q=this;return q.locale=f,q.success=!1,q.failure=!1,q.critical=!1,q.fumble=!1,q.special=!1,q.broke=!1},1),m(u,"$text",function(){var f=this;return g(f.$critical())&&g(f.$special())?f.$translate("Cthulhu.critical_special"):g(f.$critical())?f.$translate("Cthulhu.critical"):g(f.$special())?f.$translate("Cthulhu.special"):g(f.$success())?f.$translate("success"):g(f.$broken())&&g(f.$fumble())?f.$translate("Cthulhu.fumble")+"/"+f.$translate("Cthulhu.broken"):g(f.$broken())?f.$translate("Cthulhu.broken"):g(f.$fumble())?f.$translate("Cthulhu.fumble"):g(f.$failure())?f.$translate("failure"):n},0),m(u,"$to_result",function(){return E(c("Result").$new(),"tap",[],function q(F){var U=null==q.$$s?this:q.$$s,W=n;return null==F&&(F=n),W=[U.$success()],E(F,"success=",M(W)),L(W.length,1),W=[U.$failure()],E(F,"failure=",M(W)),L(W.length,1),W=[U.$critical()],E(F,"critical=",M(W)),L(W.length,1),W=[U.$fumble()],E(F,"fumble=",M(W)),W[L(W.length,1)]},{$$arity:1,$$s:this})},0),m(o,"$compare",function(s,i,u){var c,b,_=this,f=n;return null==u&&(u=0),c=$("CompareResult").$new(_.locale),b=Y(G(i,_.special_percentage),100).$to_i().$clamp(1,100),g(y(s,i))&&g(j(s,100))?(E(c,"success=",M(f=[!0])),L(f.length,1),f=[y(s,b)],E(c,"special=",M(f)),L(f.length,1),f=[y(s,_.critical_percentage)],E(c,"critical=",M(f)),L(f.length,1)):(E(c,"failure=",M(f=[!0])),L(f.length,1),f=[N(s,L(101,_.fumble_percentage))],E(c,"fumble=",M(f)),L(f.length,1)),g(k(u,0))&&g(N(s,u))&&(E(c,"broken=",M(f=[!0])),L(f.length,1),E(c,"failure=",M(f=[!0])),L(f.length,1),E(c,"success=",M(f=[!1])),L(f.length,1),E(c,"special=",M(f=[!1])),L(f.length,1),E(c,"critical=",M(f=[!1])),L(f.length,1)),c},-3),m(o,"$getRegistResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n;return u=/^RESB?(-?\d+)$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=p(G(_,5),50),g(j(c,5))?$("Result").$failure("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_failure")):g(k(c,95))?$("Result").$success("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_success")):(b=i.randomizer.$roll_once(100),f=i.$compare(b,c),E(f.$to_result(),"tap",[],function(F){var U;return null==F&&(F=n),U=["(1d100<="+c+") \uff1e "+b+" \uff1e "+f.$text()],E(F,"text=",M(U)),U[L(U.length,1)]},1))):n},1),m(o,"$getCombineRoll",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n,F=n;return u=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(s),g(u)?(_=u["$[]"](2).$to_i(),c=u["$[]"](3).$to_i(),b=i.randomizer.$roll_once(100),f=i.$compare(b,_),q=i.$compare(b,c),F=g(f.$success())&&g(q.$success())?i.$translate("success"):g(f.$success())||g(q.$success())?i.$translate("Cthulhu.partial_success"):i.$translate("failure"),E($("Result").$new(),"tap",[],function(W){var X=n,Q=n;return null==W&&(W=n),X=["(1d100<="+_+","+c+") \uff1e "+b+"["+f.$text()+","+q.$text()+"] \uff1e "+F],E(W,"text=",M(X)),L(X.length,1),X=[g(Q=f.$critical())?Q:q.$critical()],E(W,"critical=",M(X)),L(X.length,1),X=[g(Q=f.$fumble())?Q:q.$fumble()],E(W,"fumble=",M(X)),L(X.length,1),X=[g(Q=f.$success())?Q:q.$success()],E(W,"condition=",M(X)),X[L(X.length,1)]},1)):n},1)})},9818:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.queue(function(e){var N,J,A,x,D,r,s,i,u,_,T,d,o,w,z,P,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.def,m=e.rb_ge,h=e.rb_divide,g=e.rb_plus,y=e.rb_minus,k=e.truthy,p=e.send,E=e.rb_lt,M=e.rb_gt,L=e.send2,Y=e.find_super,G=e.eqeq;return e.top.$require("bcdice/arithmetic_evaluator"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),A=w[0],x=z("Base"),D=w,d=[T=v(A,x,"CthulhuTech")].concat(D),o=e.$r(d),T.$$prototype.randomizer=n,T.$register_prefix("\\d+D10"),S(d[0],"ID","CthulhuTech"),S(d[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u30c6\u30c3\u30af"),S(d[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3066\u3064\u304f"),S(d[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08test\uff09\uff1anD10+m>=d\n\u3000n\u500b\u306e\u30c0\u30a4\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001\u4fee\u6b63\u5024m\u3001\u96e3\u6613\u5ea6d\u3067\u884c\u70ba\u5224\u5b9a\uff08test\uff09\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u5024m\u306f\u7701\u7565\u53ef\u80fd\u3001\u8907\u6570\u6307\u5b9a\u53ef\u80fd\uff08\u4f8b\uff1a+2-4\uff09\u3067\u3059\u3002\n\u3000\u6210\u529f\u3001\u5931\u6557\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff092D10>=12\u30004D10+2>=28\u30005D10+2-4>=32\n\n\u30fb\u5bfe\u6297\u5224\u5b9a\uff08contest\uff09\uff1anD10+m>d\n\u3000\u884c\u70ba\u5224\u5b9a\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u9632\u5fa1\u5074\u6709\u5229\u306e\u305f\u3081\u300c>=\u300d\u3067\u306f\u306a\u304f\u300c>\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u3000\u30c0\u30e1\u30fc\u30b8\u30c0\u30a4\u30b9\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n"),r=d,i=[s=v(d[0],null,"Test")].concat(r),u=e.$r(i),(_=s.$$prototype).num=_.modifier=_.difficulty=n,S(i[0],"COMPARE_OP",">="),R(s,"$initialize",function(b,f,q){var F=this;return F.num=b,F.modifier=f,F.difficulty=q},3),R(s,"$execute",function(b){var U,W,X,re,O,ie,f=this,q=n,F=n,Q=n;return q=b.$roll_barabara(f.num,10),F=m(q.$count(1),h(g(q.$length(),1),2).$to_i()),U=q.$sort(),W=f.$calculate_roll_result(U),X=g(W,f.modifier),Q=y(X,f.difficulty),re=k(O=F["$!"]())?Q.$send(B(f.$class(),"COMPARE_OP"),0):O,ie=m(Q,10),["("+f.$expression()+")",f.$test_value_expression(U,W),X,f.$result_str(re,F,ie,Q)].$join(" \uff1e ")},1),s.$private(),R(s,"$expression",function(){var f,b=this;return f=u("Format").$modifier(b.modifier),b.num+"D10"+f+B(b.$class(),"COMPARE_OP")+b.difficulty},0),R(s,"$test_value_expression",function(b,f){return f+"["+b.$join(",")+"]"+u("Format").$modifier(this.modifier)},2),R(s,"$result_str",function(b,f,q,F){return k(f)?"\u30d5\u30a1\u30f3\u30d6\u30eb":k(q)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":k(b)?"\u6210\u529f":"\u5931\u6557"},4),R(s,"$calculate_roll_result",function(b){return[b.$last(),p(p(b,"group_by",[],"itself".$to_proc()).$values(),"map",[],"sum".$to_proc()).$max(),this.$sum_of_largest_straight(b)].$max()},1),R(s,"$sum_of_largest_straight",function(b){var f=n,q=n,F=n,U=n;return k(E(b.$length(),3))?0:(f=0,q=0,F=0,U=-1,p(b.$uniq(),"each",[],function(X){return null==X&&(X=n),k(M(y(X,U),1))?(q=1,F=X,U=X,n):(q=g(q,1),F=g(F,X),U=X,k(m(q,3))&&k(M(F,f))?f=F:n)},1),f)},1),function($,a,r){var s=v($,a,"Contest"),i=[s].concat(r);S(i[0],"COMPARE_OP",">"),R(s,"$result_str",function u(_,c,b,f){var U,q=u.$$p||n;return delete u.$$p,U=L(this,Y(this,"result_str",u,!1,!0),"result_str",[_,c,b,f],q),k(_)?U+"\uff08\u30c0\u30e1\u30fc\u30b8\uff1a"+h(f,5).$ceil()+"D10\uff09":U},4)}(d[0],o("Test"),d),R(T,"$initialize",function $(a){var s=this;return delete $.$$p,L(s,Y(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0},1),R(T,"$eval_game_system_specific_command",function(a){var s=n;return s=this.$parse(a),k(s)?s.$execute(this.randomizer):n},1),T.$private(),S(d[0],"TEST_RE",/^(\d+)D10((?:[-+]\d+)+)?(>=?)(\d+)$/.$freeze()),R(T,"$parse",function(a){var r=n,s=n,i=n,u=n,_=n;return r=o("TEST_RE").$match(a),k(r)?(s=r["$[]"](1).$to_i(),i=k(r["$[]"](2))?o("ArithmeticEvaluator").$eval(r["$[]"](2)):0,u=G(r["$[]"](3),">")?o("Contest"):o("Test"),_=r["$[]"](4).$to_i(),u.$new(s,i,_)):n},1)})},3109:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/Cthulhu"]=function(e){var P,w,d,i,u,_,c,o,l,$,a,A,x,J,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.rb_le,k=e.rb_gt,p=e.rb_plus,E=e.send,M=e.to_a,L=e.rb_minus,Y=e.rb_divide,G=e.rb_times,j=e.rb_lt,N=e.rb_ge;return e.top.$require("bcdice/arithmetic_evaluator"),P=t,w=J=[B(t[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"Cthulhu")].concat(d),$=e.$r(l),(a=o.$$prototype).randomizer=a.locale=a.special_percentage=a.critical_percentage=a.fumble_percentage=n,v(l[0],"ID","Cthulhu"),v(l[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),v(l[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),v(l[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),o.$register_prefix("CCB?","RESB?","CBRB?"),m(o,"$initialize",function r(s){var u=this;return delete r.$$p,S(u,R(u,"initialize",r,!1,!0),"initialize",[s],null),u.special_percentage=20,u.critical_percentage=1,u.fumble_percentage=1},1),m(o,"$eval_game_system_specific_command",function(s){var u,i=this;return h(/CCB/i,u=s)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCheckResult(s)):h(/CC/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCheckResult(s)):h(/RESB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getRegistResult(s)):h(/CBRB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCombineRoll(s)):h(/RES/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getRegistResult(s)):h(/CBR/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCombineRoll(s)):n},1),o.$private(),m(o,"$getCheckResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n;return u=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=$("ArithmeticEvaluator").$eval(u["$[]"](2)),g(y(c,0))?(b=i.randomizer.$roll_once(100),$("Result").$new("(1D100) \uff1e "+b)):(f="(1D100<="+c+")",g(k(_,0))&&(f=p(f," "+i.$translate("Cthulhu.broken_number")+"["+_+"]")),b=i.randomizer.$roll_once(100),q=i.$compare(b,c,_),E(q.$to_result(),"tap",[],function(U){var W;return null==U&&(U=n),W=[f+" \uff1e "+b+" \uff1e "+q.$text()],E(U,"text=",M(W)),W[L(W.length,1)]},1))):n},1),i=l,_=[u=C(l[0],null,"CompareResult")].concat(i),c=e.$r(_),u.$include(c("Translate")),u.$attr_accessor("success","failure","critical","fumble","special","broken"),m(u,"$initialize",function(f){var q=this;return q.locale=f,q.success=!1,q.failure=!1,q.critical=!1,q.fumble=!1,q.special=!1,q.broke=!1},1),m(u,"$text",function(){var f=this;return g(f.$critical())&&g(f.$special())?f.$translate("Cthulhu.critical_special"):g(f.$critical())?f.$translate("Cthulhu.critical"):g(f.$special())?f.$translate("Cthulhu.special"):g(f.$success())?f.$translate("success"):g(f.$broken())&&g(f.$fumble())?f.$translate("Cthulhu.fumble")+"/"+f.$translate("Cthulhu.broken"):g(f.$broken())?f.$translate("Cthulhu.broken"):g(f.$fumble())?f.$translate("Cthulhu.fumble"):g(f.$failure())?f.$translate("failure"):n},0),m(u,"$to_result",function(){return E(c("Result").$new(),"tap",[],function q(F){var U=null==q.$$s?this:q.$$s,W=n;return null==F&&(F=n),W=[U.$success()],E(F,"success=",M(W)),L(W.length,1),W=[U.$failure()],E(F,"failure=",M(W)),L(W.length,1),W=[U.$critical()],E(F,"critical=",M(W)),L(W.length,1),W=[U.$fumble()],E(F,"fumble=",M(W)),W[L(W.length,1)]},{$$arity:1,$$s:this})},0),m(o,"$compare",function(s,i,u){var c,b,_=this,f=n;return null==u&&(u=0),c=$("CompareResult").$new(_.locale),b=Y(G(i,_.special_percentage),100).$to_i().$clamp(1,100),g(y(s,i))&&g(j(s,100))?(E(c,"success=",M(f=[!0])),L(f.length,1),f=[y(s,b)],E(c,"special=",M(f)),L(f.length,1),f=[y(s,_.critical_percentage)],E(c,"critical=",M(f)),L(f.length,1)):(E(c,"failure=",M(f=[!0])),L(f.length,1),f=[N(s,L(101,_.fumble_percentage))],E(c,"fumble=",M(f)),L(f.length,1)),g(k(u,0))&&g(N(s,u))&&(E(c,"broken=",M(f=[!0])),L(f.length,1),E(c,"failure=",M(f=[!0])),L(f.length,1),E(c,"success=",M(f=[!1])),L(f.length,1),E(c,"special=",M(f=[!1])),L(f.length,1),E(c,"critical=",M(f=[!1])),L(f.length,1)),c},-3),m(o,"$getRegistResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n;return u=/^RESB?(-?\d+)$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=p(G(_,5),50),g(j(c,5))?$("Result").$failure("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_failure")):g(k(c,95))?$("Result").$success("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_success")):(b=i.randomizer.$roll_once(100),f=i.$compare(b,c),E(f.$to_result(),"tap",[],function(F){var U;return null==F&&(F=n),U=["(1d100<="+c+") \uff1e "+b+" \uff1e "+f.$text()],E(F,"text=",M(U)),U[L(U.length,1)]},1))):n},1),m(o,"$getCombineRoll",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n,F=n;return u=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(s),g(u)?(_=u["$[]"](2).$to_i(),c=u["$[]"](3).$to_i(),b=i.randomizer.$roll_once(100),f=i.$compare(b,_),q=i.$compare(b,c),F=g(f.$success())&&g(q.$success())?i.$translate("success"):g(f.$success())||g(q.$success())?i.$translate("Cthulhu.partial_success"):i.$translate("failure"),E($("Result").$new(),"tap",[],function(W){var X=n,Q=n;return null==W&&(W=n),X=["(1d100<="+_+","+c+") \uff1e "+b+"["+f.$text()+","+q.$text()+"] \uff1e "+F],E(W,"text=",M(X)),L(X.length,1),X=[g(Q=f.$critical())?Q:q.$critical()],E(W,"critical=",M(X)),L(X.length,1),X=[g(Q=f.$fumble())?Q:q.$fumble()],E(W,"fumble=",M(X)),L(X.length,1),X=[g(Q=f.$success())?Q:q.$success()],E(W,"condition=",M(X)),X[L(X.length,1)]},1)):n},1)},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Cthulhu"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Cthulhu"),"Cthulhu_ChineseTraditional")].concat(N))[0],"ID","Cthulhu:ChineseTraditional"),v(P[0],"NAME","\u514b\u8607\u9b6f\u795e\u8a71"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Chinese Traditional:\u514b\u8607\u9b6f\u795e\u8a71"),v(P[0],"HELP_MESSAGE","c=\u7206\u64ca\u7387 \uff0f f=\u5927\u5931\u6557\u503c \uff0f s=\u7279\u6b8a\n\n1d100<=n    c\u30fbf\u30fbs\u5168\u95dc\u9589\uff08\u53ea\u9032\u884c\u55ae\u7d14\u6578\u503c\u6bd4\u8f03\u5224\u5b9a\uff09\n\n\u30fbcfs\u4ed8\u8a3b\u5224\u5b9a\u6307\u4ee4\n\nCC\t 1d100\u64f2\u9ab0 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u4ee5\u6280\u80fd\u503c80\u4f86\u5224\u5b9a\u3002cf\u9069\u7528\u65bc1%\u898f\u5247\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u4ee5\u6280\u80fd\u503c55\u4f86\u5224\u5b9a\u3002cf\u9069\u7528\u65bc5%\u898f\u5247\uff09\n\n\u30fb\u95dc\u65bc\u7d44\u5408\u9ab0\u7d44\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u95dc\u65bc\u5c0d\u6297\u9ab0\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u7387\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u7387\u3002\u64f2\u51fa\u9ab0\u503cx\u4ee5\u4e0a\u6642\u3001\u9700\u5728\u5927\u5931\u6557\u767c\u751f\u540c\u6642\u8f38\u51fa\uff08\u53c3\u7167\u300c\u5927\u5931\u6557\uff06\u6545\u969c\u300d\uff09\n\u6c92\u6709\u5927\u5931\u6557\u6642\uff0c\u7121\u8ad6\u6210\u529f\u6216\u5931\u6557\u53ea\u9700\u53c3\u8003[\u6545\u969c]\u4f86\u8f38\u51fa(\u4e26\u975e\u6210\u529f\u6216\u5931\u6557\u4f86\u8f38\u51fa\uff0c\u800c\u662f\u8986\u84cb\u4e0a\u53bb\u4e26\u5c0d\u5176\u8f38\u51fa)\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="zh_hant"},1)})},9585:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/Cthulhu"]=function(e){var P,w,d,i,u,_,c,o,l,$,a,A,x,J,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.rb_le,k=e.rb_gt,p=e.rb_plus,E=e.send,M=e.to_a,L=e.rb_minus,Y=e.rb_divide,G=e.rb_times,j=e.rb_lt,N=e.rb_ge;return e.top.$require("bcdice/arithmetic_evaluator"),P=t,w=J=[B(t[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"Cthulhu")].concat(d),$=e.$r(l),(a=o.$$prototype).randomizer=a.locale=a.special_percentage=a.critical_percentage=a.fumble_percentage=n,v(l[0],"ID","Cthulhu"),v(l[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),v(l[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),v(l[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),o.$register_prefix("CCB?","RESB?","CBRB?"),m(o,"$initialize",function r(s){var u=this;return delete r.$$p,S(u,R(u,"initialize",r,!1,!0),"initialize",[s],null),u.special_percentage=20,u.critical_percentage=1,u.fumble_percentage=1},1),m(o,"$eval_game_system_specific_command",function(s){var u,i=this;return h(/CCB/i,u=s)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCheckResult(s)):h(/CC/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCheckResult(s)):h(/RESB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getRegistResult(s)):h(/CBRB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCombineRoll(s)):h(/RES/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getRegistResult(s)):h(/CBR/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCombineRoll(s)):n},1),o.$private(),m(o,"$getCheckResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n;return u=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=$("ArithmeticEvaluator").$eval(u["$[]"](2)),g(y(c,0))?(b=i.randomizer.$roll_once(100),$("Result").$new("(1D100) \uff1e "+b)):(f="(1D100<="+c+")",g(k(_,0))&&(f=p(f," "+i.$translate("Cthulhu.broken_number")+"["+_+"]")),b=i.randomizer.$roll_once(100),q=i.$compare(b,c,_),E(q.$to_result(),"tap",[],function(U){var W;return null==U&&(U=n),W=[f+" \uff1e "+b+" \uff1e "+q.$text()],E(U,"text=",M(W)),W[L(W.length,1)]},1))):n},1),i=l,_=[u=C(l[0],null,"CompareResult")].concat(i),c=e.$r(_),u.$include(c("Translate")),u.$attr_accessor("success","failure","critical","fumble","special","broken"),m(u,"$initialize",function(f){var q=this;return q.locale=f,q.success=!1,q.failure=!1,q.critical=!1,q.fumble=!1,q.special=!1,q.broke=!1},1),m(u,"$text",function(){var f=this;return g(f.$critical())&&g(f.$special())?f.$translate("Cthulhu.critical_special"):g(f.$critical())?f.$translate("Cthulhu.critical"):g(f.$special())?f.$translate("Cthulhu.special"):g(f.$success())?f.$translate("success"):g(f.$broken())&&g(f.$fumble())?f.$translate("Cthulhu.fumble")+"/"+f.$translate("Cthulhu.broken"):g(f.$broken())?f.$translate("Cthulhu.broken"):g(f.$fumble())?f.$translate("Cthulhu.fumble"):g(f.$failure())?f.$translate("failure"):n},0),m(u,"$to_result",function(){return E(c("Result").$new(),"tap",[],function q(F){var U=null==q.$$s?this:q.$$s,W=n;return null==F&&(F=n),W=[U.$success()],E(F,"success=",M(W)),L(W.length,1),W=[U.$failure()],E(F,"failure=",M(W)),L(W.length,1),W=[U.$critical()],E(F,"critical=",M(W)),L(W.length,1),W=[U.$fumble()],E(F,"fumble=",M(W)),W[L(W.length,1)]},{$$arity:1,$$s:this})},0),m(o,"$compare",function(s,i,u){var c,b,_=this,f=n;return null==u&&(u=0),c=$("CompareResult").$new(_.locale),b=Y(G(i,_.special_percentage),100).$to_i().$clamp(1,100),g(y(s,i))&&g(j(s,100))?(E(c,"success=",M(f=[!0])),L(f.length,1),f=[y(s,b)],E(c,"special=",M(f)),L(f.length,1),f=[y(s,_.critical_percentage)],E(c,"critical=",M(f)),L(f.length,1)):(E(c,"failure=",M(f=[!0])),L(f.length,1),f=[N(s,L(101,_.fumble_percentage))],E(c,"fumble=",M(f)),L(f.length,1)),g(k(u,0))&&g(N(s,u))&&(E(c,"broken=",M(f=[!0])),L(f.length,1),E(c,"failure=",M(f=[!0])),L(f.length,1),E(c,"success=",M(f=[!1])),L(f.length,1),E(c,"special=",M(f=[!1])),L(f.length,1),E(c,"critical=",M(f=[!1])),L(f.length,1)),c},-3),m(o,"$getRegistResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n;return u=/^RESB?(-?\d+)$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=p(G(_,5),50),g(j(c,5))?$("Result").$failure("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_failure")):g(k(c,95))?$("Result").$success("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_success")):(b=i.randomizer.$roll_once(100),f=i.$compare(b,c),E(f.$to_result(),"tap",[],function(F){var U;return null==F&&(F=n),U=["(1d100<="+c+") \uff1e "+b+" \uff1e "+f.$text()],E(F,"text=",M(U)),U[L(U.length,1)]},1))):n},1),m(o,"$getCombineRoll",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n,F=n;return u=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(s),g(u)?(_=u["$[]"](2).$to_i(),c=u["$[]"](3).$to_i(),b=i.randomizer.$roll_once(100),f=i.$compare(b,_),q=i.$compare(b,c),F=g(f.$success())&&g(q.$success())?i.$translate("success"):g(f.$success())||g(q.$success())?i.$translate("Cthulhu.partial_success"):i.$translate("failure"),E($("Result").$new(),"tap",[],function(W){var X=n,Q=n;return null==W&&(W=n),X=["(1d100<="+_+","+c+") \uff1e "+b+"["+f.$text()+","+q.$text()+"] \uff1e "+F],E(W,"text=",M(X)),L(X.length,1),X=[g(Q=f.$critical())?Q:q.$critical()],E(W,"critical=",M(X)),L(X.length,1),X=[g(Q=f.$fumble())?Q:q.$fumble()],E(W,"fumble=",M(X)),L(X.length,1),X=[g(Q=f.$success())?Q:q.$success()],E(W,"condition=",M(X)),X[L(X.length,1)]},1)):n},1)},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Cthulhu"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Cthulhu"),"Cthulhu_Korean")].concat(N))[0],"ID","Cthulhu:Korean"),v(P[0],"NAME","\ud06c\ud234\ub8e8"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8"),v(P[0],"HELP_MESSAGE","c=\ud06c\ub9ac\ud2f0\uceec\uce58 \uff0f f=\ud38c\ube14\uce58 \uff0f s=\uc2a4\ud398\uc15c\n\n1d100<=n    c\u30fbf\u30fbs \ubaa8\ub450 \uc624\ud504\uff08\ub2e8\uc21c\ud558\uac8c \uc218\uce58\ub9cc\uc744 \ubf51\uc544\ub0bc \ub54c \uc0ac\uc6a9\uff09\n\n\u30fbcfs\uc774 \ubd99\ub294 \ud310\uc815\uc758 \ucee4\ub9e8\ub4dc\n\nCC\t 1d100 \ud310\uc815\uc744 \ud589\ud568 c=1\u3001f=100\nCCB  \uc704\uc640 \ub3d9\uc77c\u3001c=5\u3001f=96\n\n\uc608\uff1aCC<=80  \uff08\uae30\ub2a5\uce58 80\ub85c \ud589\ud718\ud310\uc815. 1%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\uc608\uff1aCCB<=55 \uff08\uae30\ub2a5\uce58 55\ub85c \ud589\ud718\ud310\uc815. 5%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\n\u30fb\uacbd\uc6b0\uc758 \uc218 \ud310\uc815\uc5d0 \ub300\ud574\uc11c\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\uc800\ud56d \ud310\uc815\uc5d0 \ub300\ud574\uc11c\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\uace0\uc7a5 \ub118\ubc84 \ud310\uc815\n\n\u30fbCC(x) c=1\u3001f=100\nx=\uace0\uc7a5 \ub118\ubc84. \uc8fc\uc0ac\uc704 \ub208x\uc774\uc0c1\uc774 \ub098\uc628 \ud6c4\uc5d0, \ud38c\ube14\uc774 \ub3d9\uc2dc\uc5d0 \ubc1c\uc0dd\ud588\uc744 \uacbd\uc6b0. \ubaa8\ub450 \ucd9c\ub825\ud55c\ub2e4. \uff08\ud14d\uc2a4\ud2b8 \u300c\ud38c\ube14\uff06\uace0\uc7a5\u300d\uff09\n\ud38c\ube14\uc774 \uc544\ub2cc \uacbd\uc6b0, \uc131\uacf5\u30fb\uc2e4\ud328\uc5d0 \uad00\ub828\ub418\uc9c0 \uc54a\uace0 \u300c\uace0\uc7a5\u300d\ub9cc\uc744 \ucd9c\ub825\ud55c\ub2e4. \uff08\uc131\uacf5\u30fb\uc2e4\ud328\ub97c \ucd9c\ub825\ud558\uc9c0 \uc54a\uace0 \ub367\uc4f0\uae30\ud55c \uac83\uc744 \ucd9c\ub825\ud558\ub294 \ud615\ud0dc\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\uc704\uc640 \ub3d9\uc77c\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1)})},4916:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/Cthulhu"]=function(e){var P,w,d,i,u,_,c,o,l,$,a,A,x,J,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.rb_le,k=e.rb_gt,p=e.rb_plus,E=e.send,M=e.to_a,L=e.rb_minus,Y=e.rb_divide,G=e.rb_times,j=e.rb_lt,N=e.rb_ge;return e.top.$require("bcdice/arithmetic_evaluator"),P=t,w=J=[B(t[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"Cthulhu")].concat(d),$=e.$r(l),(a=o.$$prototype).randomizer=a.locale=a.special_percentage=a.critical_percentage=a.fumble_percentage=n,v(l[0],"ID","Cthulhu"),v(l[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),v(l[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),v(l[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),o.$register_prefix("CCB?","RESB?","CBRB?"),m(o,"$initialize",function r(s){var u=this;return delete r.$$p,S(u,R(u,"initialize",r,!1,!0),"initialize",[s],null),u.special_percentage=20,u.critical_percentage=1,u.fumble_percentage=1},1),m(o,"$eval_game_system_specific_command",function(s){var u,i=this;return h(/CCB/i,u=s)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCheckResult(s)):h(/CC/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCheckResult(s)):h(/RESB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getRegistResult(s)):h(/CBRB/i,u)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCombineRoll(s)):h(/RES/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getRegistResult(s)):h(/CBR/i,u)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCombineRoll(s)):n},1),o.$private(),m(o,"$getCheckResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n;return u=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=$("ArithmeticEvaluator").$eval(u["$[]"](2)),g(y(c,0))?(b=i.randomizer.$roll_once(100),$("Result").$new("(1D100) \uff1e "+b)):(f="(1D100<="+c+")",g(k(_,0))&&(f=p(f," "+i.$translate("Cthulhu.broken_number")+"["+_+"]")),b=i.randomizer.$roll_once(100),q=i.$compare(b,c,_),E(q.$to_result(),"tap",[],function(U){var W;return null==U&&(U=n),W=[f+" \uff1e "+b+" \uff1e "+q.$text()],E(U,"text=",M(W)),W[L(W.length,1)]},1))):n},1),i=l,_=[u=C(l[0],null,"CompareResult")].concat(i),c=e.$r(_),u.$include(c("Translate")),u.$attr_accessor("success","failure","critical","fumble","special","broken"),m(u,"$initialize",function(f){var q=this;return q.locale=f,q.success=!1,q.failure=!1,q.critical=!1,q.fumble=!1,q.special=!1,q.broke=!1},1),m(u,"$text",function(){var f=this;return g(f.$critical())&&g(f.$special())?f.$translate("Cthulhu.critical_special"):g(f.$critical())?f.$translate("Cthulhu.critical"):g(f.$special())?f.$translate("Cthulhu.special"):g(f.$success())?f.$translate("success"):g(f.$broken())&&g(f.$fumble())?f.$translate("Cthulhu.fumble")+"/"+f.$translate("Cthulhu.broken"):g(f.$broken())?f.$translate("Cthulhu.broken"):g(f.$fumble())?f.$translate("Cthulhu.fumble"):g(f.$failure())?f.$translate("failure"):n},0),m(u,"$to_result",function(){return E(c("Result").$new(),"tap",[],function q(F){var U=null==q.$$s?this:q.$$s,W=n;return null==F&&(F=n),W=[U.$success()],E(F,"success=",M(W)),L(W.length,1),W=[U.$failure()],E(F,"failure=",M(W)),L(W.length,1),W=[U.$critical()],E(F,"critical=",M(W)),L(W.length,1),W=[U.$fumble()],E(F,"fumble=",M(W)),W[L(W.length,1)]},{$$arity:1,$$s:this})},0),m(o,"$compare",function(s,i,u){var c,b,_=this,f=n;return null==u&&(u=0),c=$("CompareResult").$new(_.locale),b=Y(G(i,_.special_percentage),100).$to_i().$clamp(1,100),g(y(s,i))&&g(j(s,100))?(E(c,"success=",M(f=[!0])),L(f.length,1),f=[y(s,b)],E(c,"special=",M(f)),L(f.length,1),f=[y(s,_.critical_percentage)],E(c,"critical=",M(f)),L(f.length,1)):(E(c,"failure=",M(f=[!0])),L(f.length,1),f=[N(s,L(101,_.fumble_percentage))],E(c,"fumble=",M(f)),L(f.length,1)),g(k(u,0))&&g(N(s,u))&&(E(c,"broken=",M(f=[!0])),L(f.length,1),E(c,"failure=",M(f=[!0])),L(f.length,1),E(c,"success=",M(f=[!1])),L(f.length,1),E(c,"special=",M(f=[!1])),L(f.length,1),E(c,"critical=",M(f=[!1])),L(f.length,1)),c},-3),m(o,"$getRegistResult",function(s){var i=this,u=n,_=n,c=n,b=n,f=n;return u=/^RESB?(-?\d+)$/i.$match(s),g(u)?(_=u["$[]"](1).$to_i(),c=p(G(_,5),50),g(j(c,5))?$("Result").$failure("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_failure")):g(k(c,95))?$("Result").$success("(1d100<="+c+") \uff1e "+i.$translate("Cthulhu.automatic_success")):(b=i.randomizer.$roll_once(100),f=i.$compare(b,c),E(f.$to_result(),"tap",[],function(F){var U;return null==F&&(F=n),U=["(1d100<="+c+") \uff1e "+b+" \uff1e "+f.$text()],E(F,"text=",M(U)),U[L(U.length,1)]},1))):n},1),m(o,"$getCombineRoll",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n,F=n;return u=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(s),g(u)?(_=u["$[]"](2).$to_i(),c=u["$[]"](3).$to_i(),b=i.randomizer.$roll_once(100),f=i.$compare(b,_),q=i.$compare(b,c),F=g(f.$success())&&g(q.$success())?i.$translate("success"):g(f.$success())||g(q.$success())?i.$translate("Cthulhu.partial_success"):i.$translate("failure"),E($("Result").$new(),"tap",[],function(W){var X=n,Q=n;return null==W&&(W=n),X=["(1d100<="+_+","+c+") \uff1e "+b+"["+f.$text()+","+q.$text()+"] \uff1e "+F],E(W,"text=",M(X)),L(X.length,1),X=[g(Q=f.$critical())?Q:q.$critical()],E(W,"critical=",M(X)),L(X.length,1),X=[g(Q=f.$fumble())?Q:q.$fumble()],E(W,"fumble=",M(X)),L(X.length,1),X=[g(Q=f.$success())?Q:q.$success()],E(W,"condition=",M(X)),X[L(X.length,1)]},1)):n},1)},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Cthulhu"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Cthulhu"),"Cthulhu_SimplifiedChinese")].concat(N))[0],"ID","Cthulhu:SimplifiedChinese"),v(P[0],"NAME","\u514b\u82cf\u9c81\u7684\u547c\u5524 \u7b2c\u516d\u7248"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Simplified Chinese:\u514b\u82cf\u9c81\u7684\u547c\u5524 \u7b2c\u516d\u7248"),v(P[0],"HELP_MESSAGE","c=\u5927\u6210\u529f\u503c \uff0f f=\u5927\u5931\u8d25\u503c \uff0f s=\u6781\u96be\u6210\u529f\n\n1d100<=n    c\u30fbf\u30fbs\u5168\u90e8\u5173\u95ed\uff08\u53ea\u8fdb\u884c\u6570\u503c\u6bd4\u8f83\u5224\u5b9a\uff09\n\n\u30fb\u5e26cfs\u5224\u5b9a\u7684\u5224\u5b9a\u6307\u4ee4\n\nCC\t \u63b71d100\u9ab0 c=1\u3001f=100\nCCB  \u540c\u4e0a\uff0cc=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u4ee580\u6280\u80fd\u5024\u8fdb\u884c\u884c\u4e3a\u5224\u5b9a\u3002\u5e76\u4ee51%\u7684\u6807\u51c6\u4f7f\u7528cf\u7684\u503c\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u4ee555\u6280\u80fd\u5024\u8fdb\u884c\u884c\u4e3a\u5224\u5b9a\u3002\u5e76\u4ee55%\u7684\u6807\u51c6\u4f7f\u7528cf\u7684\u503c\uff09\n\n\u30fb\u5173\u4e8e\u7ec4\u5408\u9ab0\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u5173\u4e8e\u5bf9\u6297\u9ab0\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u503c\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u503c\u3002\u9ab0\u70b9\u5728x\u4ee5\u4e0a\u5e76\u4e14\u53d1\u751f\u5927\u5931\u8d25\u65f6\uff0c\u4f1a\u548c\u5927\u5931\u8d25\u4e00\u8d77\u663e\u793a\uff08\u6587\u672c\u4e3a\u300c\u5927\u5931\u8d25\uff06\u6545\u969c\u300d\uff09\n\u6ca1\u6709\u53d1\u751f\u5927\u5931\u8d25\u65f6\uff0c\u4e0e\u6210\u529f\u6216\u5931\u8d25\u65e0\u5173\uff0c\u6587\u6597\u90fd\u4f1a\u663e\u793a\u4e3a\u300c\u6545\u969c\u300d\uff08\u4e0d\u663e\u793a\u6210\u529f\u6216\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u8986\u76d6\u663e\u793a\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="zh_hans"},1)})},7810:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=e.top,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.truthy,R=e.send,m=e.def,h=e.to_ary,g=e.neqeq,y=e.rb_plus,k=e.rb_lt,p=e.rb_minus,E=e.rb_le,M=e.rb_ge,L=e.rb_divide,Y=e.eqeq;return H.$require("bcdice/normalize"),H.$require("bcdice/format"),j=t,V=K=[B(t[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=C(I[0],w("Base"),"DarkBlaze")].concat(x),d=e.$r(T),D.$$prototype.randomizer=n,v(T[0],"ID","DarkBlaze"),v(T[0],"NAME","\u30c0\u30fc\u30af\u30d6\u30ec\u30a4\u30ba"),v(T[0],"SORT_KEY","\u305f\u3042\u304f\u3075\u308c\u3044\u3059"),v(T[0],"HELP_MESSAGE",'\u30fb\u884c\u70ba\u5224\u5b9a\u3000(DBxy#n)\n\u3000\u884c\u70ba\u5224\u5b9a\u5c02\u7528\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3000"DB(\u80fd\u529b)(\u6280\u80fd)#(\u4fee\u6b63)"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9(3R6+n[x,y]>=m m\u306f\u96e3\u6613\u5ea6)\u306b\u8aad\u66ff\u3092\u3057\u307e\u3059\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u3082\u81ea\u52d5\u3067\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\n\u3000DB@x@y#m \u3068 DBx,y#m \u306b\u3082\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\u3000\u4f8b\uff09DB33\u3000\u3000\u3000DB32#-1\u3000\u3000\u3000DB@3@1#1\u3000\u3000\u3000DB3,2\u3000\u3000\u3000DB23#1>=4\u3000\u3000\u30003R6+1[3,3]>=4\n\n\u30fb\u6398\u308a\u51fa\u3057\u888b\u8868\u3000(BTx)\n\u3000"BT(\u30c0\u30a4\u30b9\u6570)"\u3067\u6398\u308a\u51fa\u3057\u888b\u8868\u3092\u81ea\u52d5\u3067\u632f\u308a\u3001\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09BT1\u3000\u3000\u3000BT2\u3000\u3000\u3000BT[1...3]\n'),D.$register_prefix("DB","BT","3R6"),m(D,"$replace_text",function($){return S($["$=~"](/DB/i))&&($=R($,"gsub",[/DB(\d),(\d)/],function(){return"DB"+d("Regexp").$last_match(1)+d("Regexp").$last_match(2)},0),$=R($,"gsub",[/DB@(\d)@(\d)/],function(){return"DB"+d("Regexp").$last_match(1)+d("Regexp").$last_match(2)},0),$=R($,"gsub",[/DB(\d)(\d)(#(\d[+\-\d]*))/],function(){return"3R6+"+d("Regexp").$last_match(4)+"["+d("Regexp").$last_match(1)+","+d("Regexp").$last_match(2)+"]"},0),$=R($,"gsub",[/DB(\d)(\d)(#([+\-\d]*))/],function(){return"3R6"+d("Regexp").$last_match(4)+"["+d("Regexp").$last_match(1)+","+d("Regexp").$last_match(2)+"]"},0),$=R($,"gsub",[/DB(\d)(\d)/],function(){return"3R6["+d("Regexp").$last_match(1)+","+d("Regexp").$last_match(2)+"]"},0)),$},1),m(D,"$check_roll",function($){var a,r,i=n,u=n,_=n,c=n,b=n,f=n,q=n,F=n,W=n;return $=this.$replace_text($),S(i=/(^|\s)S?(3[rR]6([+\-\d]+)?(\[(\d+),(\d+)\])(([>=]+)(\d+))?)(\s|$)/i.$match($))?($=i["$[]"](2),u=0,_=1,c=1,b="",f=0,S(i["$[]"](3))&&(u=d("ArithmeticEvaluator").$eval(i["$[]"](3))),S(i["$[]"](4))&&(_=i["$[]"](5).$to_i(),c=i["$[]"](6).$to_i()),S(i["$[]"](7))&&(q=d("Normalize").$comparison_operator(i["$[]"](8)),b=d("Format").$comparison_operator(q),f=i["$[]"](9).$to_i()),r=this.$get_dice(u,_,c),F=null==(a=h(r))[0]?n:a[0],W="("+$+") \uff1e "+(null==a[1]?n:a[1]),g(b,"")&&(q=d("Normalize").$comparison_operator(b),W=y(W,S(F.$send(q,f))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),W):n},1),m(D,"$get_dice",function($,a,r){var c,f,i=n,u=n,_=n,b=n,q=n;return i=0,u=0,_=0,c=y(3,$.$abs()),f=(b=this.randomizer.$roll_barabara(c,6).$sort()).$join(","),R(3,"times",[],function(W){var X=n;return null==W&&(W=n),X=b["$[]"](W),S(k($,0))&&(X=b["$[]"](p(p(c,W),1))),S(E(X,a))&&(i=y(i,1)),S(E(X,r))&&(i=y(i,1)),S(E(X,2))&&(u=y(u,1)),S(M(X,5))?_=y(_,1):n},1),q="",S(M(u,3))&&(q=" \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb",i=y(6,r)),S(M(_,3))&&(q=" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb",i=0),[i,i+"["+f+"]"+q]},3),m(D,"$eval_game_system_specific_command",function($){var a,s=n,i=n,u=n;return S(s=/^BT(\d)?$/i.$match($))?(i=S(u=(a=s["$[]"](1))===n||null==a?n:R(a,"to_i",[]))?u:1,this.$get_horidasibukuro_table(i)):this.$check_roll($)},1),m(D,"$get_horidasibukuro_table",function($){var u,a=this,r=n,s=n,i=n,_=n,b=n;return r="1",s=["\u87f2\u7532","\u91d1\u5c5e","\u91d1\u8ca8","\u690d\u7269","\u7363\u76ae","\u7adc\u9c57","\u30ec\u30a2\u30e2\u30ce","\u30ec\u30a2\u30e2\u30ce"],i=["\u706b\u708e\u77f3","\u96f7\u6483\u77f3","\u6c37\u7d50\u77f3"],u=a.randomizer.$roll_sum(2,6),_=a.randomizer.$roll_sum($,6),a.$debug("dice",$),a.$debug("num1",u),a.$debug("num2",_),S(E(u,4))?(_=a.randomizer.$roll_once(6),r="\u300a"+i["$[]"](p(L(_,2).$to_i(),1))+"\u300b\u3092"+$+"\u500b\u7372\u5f97"):Y(u,7)?r="\u300a\u91d1\u8ca8\u300b\u3092"+_+"\u679a\u7372\u5f97":(b=s["$[]"](p(u,5)),r=S(E(_,3))?"\u300a"+b+" I\u300b\u30921\u500b\u7372\u5f97":S(E(_,5))?"\u300a"+b+" I\u300b\u30922\u500b\u7372\u5f97":S(E(_,7))?"\u300a"+b+" I\u300b\u30923\u500b\u7372\u5f97":S(E(_,9))?"\u300a"+b+" II\u300b\u30921\u500b\u7372\u5f97":S(E(_,11))?"\u300a"+b+" I\u300b\u30922\u500b\u300a"+b+" II\u300b\u30921\u500b\u7372\u5f97":S(E(_,13))?"\u300a"+b+" I\u300b\u30922\u500b\u300a"+b+" II\u300b\u30922\u500b\u7372\u5f97":S(E(_,15))?"\u300a"+b+" III\u300b\u30921\u500b\u7372\u5f97":S(E(_,17))?"\u300a"+b+" II\u300b\u30922\u500b\u300a"+b+" III\u300b\u30921\u500b\u7372\u5f97":"\u300a"+b+" II\u300b\u30922\u500b\u300a"+b+" III\u300b\u30922\u500b\u7372\u5f97"),g(r,"1")&&(r="\u6398\u308a\u51fa\u3057\u888b\u8868["+u+","+_+"] \uff1e "+r),r},1)})},3543:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.hash2,E=e.hash;return L=H,N=G=[B(H[0],"BCDice")].concat(L),P=[B(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=C(P[0],V("Base"),"DarkDaysDrive")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,v(A[0],"ID","DarkDaysDrive"),v(A[0],"NAME","\u30c0\u30fc\u30af\u30c7\u30a4\u30ba\u30c9\u30e9\u30a4\u30d6"),v(A[0],"SORT_KEY","\u305f\u3042\u304f\u3066\u3044\u3059\u3068\u3089\u3044\u3075"),v(A[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u30b9\u30da\u30b7\u30e3\u30eb\uff0f\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u6210\u529f\uff0f\u5931\u6557\u3092\u5224\u5b9a\n\u30fb\u5404\u7a2e\u8868\nRTTn \u30e9\u30f3\u30c0\u30e0\u7279\u6280\u6c7a\u5b9a\u8868(n\uff1a\u5206\u91ce\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\nRCT  \u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u6c7a\u5b9a\u8868\nABRT \u30a2\u30d3\u30ea\u30c6\u30a3\u6c7a\u5b9a\u8868\nDT \u30c0\u30e1\u30fc\u30b8\u8868\nFT \u5931\u6557\u8868\nGJT \u5927\u6210\u529f\u8868\nITT \u79fb\u52d5\u30c8\u30e9\u30d6\u30eb\u8868\nNTT \u4efb\u52d9\u30c8\u30e9\u30d6\u30eb\u8868\nSTT \u8972\u6483\u30c8\u30e9\u30d6\u30eb\u8868\nHTT \u5909\u8eab\u30c8\u30e9\u30d6\u30eb\u8868\nDET \u30c9\u30e9\u30a4\u30d6\u30a4\u30d9\u30f3\u30c8\u8868\nBET \u30d6\u30ec\u30a4\u30af\u30a4\u30d9\u30f3\u30c8\u8868\nCT \u30ad\u30e3\u30f3\u30d7\u8868\nKZT \u95a2\u4fc2\u5c5e\u6027\u8868\nIA \u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6c7a\u5b9a\u8868\n IAA \u9060\u8ddd\u96e2 IAB \u79fb\u52d5 IAC \u8fd1\u8ddd\u96e2 IAD \u5584\u4eba IAE \u60aa\u4eba\n IAF \u5e7c\u3044 IAG \u30d0\u30ab IAH \u6e0b\u3044 IAI \u8ce2\u3044 IAJ \u8d85\u81ea\u7136\nIAX \u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6c7a\u5b9a\u8868 \u2192 IA\u8868\n\u25a0\u672c\u683c\u7684\u306a\u6226\u95d8\nCAC \u30bb\u30f3\u30bf\u30fc\u306e\u884c\u52d5\u6c7a\u5b9a\nDDC \u5bfe\u8a71\u30c0\u30e1\u30fc\u30b8\u8868\n\u30fbD66\u30c0\u30a4\u30b9\u6607\u9806\n"),m(z,"$initialize",function T(d){var l=this;return delete T.$$p,S(l,R(l,"initialize",T,!1,!0),"initialize",[d],null),l.d66_sort_type=n(x("D66SortType"),"ASC")},1),m(z,"$result_2d6",function(d,o,l,$,a){return h($,">=")?g(y(o,2))?x("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb(\u5224\u5b9a\u5931\u6557\u3002\u5931\u6557\u8868(FT)\u3092\u8ffd\u52a0\u3067\uff11\u56de\u632f\u308b)"):g(k(o,12))?x("Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb(\u5224\u5b9a\u6210\u529f\u3002\u5927\u6210\u529f\u8868(GJT)\u3092\uff11\u56de\u4f7f\u7528\u53ef\u80fd)"):h(a,"?")?x("Result").$nothing():g(k(d,a))?x("Result").$success("\u6210\u529f"):x("Result").$failure("\u5931\u6557"):t},5),m(z,"$eval_game_system_specific_command",function(d){var l,$,o=this;return g(l=g($=o.$roll_tables(d,x("TABLES")))?$:o.$command_iax(d))?l:x("RTT").$roll_command(o.$randomizer(),d)},1),z.$private(),m(z,"$command_iax",function(d){var l=t,$=t;return h(d,"IAX")?($=(l=x("TABLES")["$[]"]("IA").$choice(this.randomizer.$roll_d66(n(x("D66SortType"),"ASC")))).$body().$match(/\(([A-Z]+)\)/),g($)?l+" \uff1e "+x("TABLES")["$[]"]($["$[]"](1)).$choice(this.randomizer.$roll_once(6)):l):t},1),v(A[0],"RTT",n(x("DiceTable"),"SaiFicSkillTable").$new([["\u80cc\u666f",["\u546a\u3044","\u7d76\u671b","\u5b64\u5150","\u6b7b\u5225","\u4e00\u822c\u4eba","\u7372\u7269","\u61a7\u308c","\u53cb\u4eba","\u6311\u6226\u8005","\u8840\u7e01","\u6c38\u9060"]],["\u4ed5\u4e8b",["\u8105\u8feb","\u6368\u3066\u308b","\u62c9\u81f4","\u76d7\u3080","\u30cf\u30c3\u30ad\u30f3\u30b0","\u4fb5\u5165","\u5909\u88c5","\u3060\u307e\u3059","\u96a0\u3059","\u306e\u305e\u304f","\u805e\u304d\u51fa\u3059"]],["\u635c\u7d22",["\u30c8\u30a4\u30ec","\u98df\u4e8b","\u81ea\u7136","\u904b\u52d5\u65bd\u8a2d","\u8857","\u53cb\u611b\u4f1a","\u6697\u90e8","\u53f2\u8de1","\u6587\u5316\u65bd\u8a2d","\u6e29\u6cc9","\u5bbf\u6cca"]],["\u8da3\u5473",["\u304a\u9152","\u30b0\u30eb\u30e1","\u30c0\u30f3\u30b9","\u30b9\u30dd\u30fc\u30c4","\u5065\u5eb7","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u604b\u611b","\u30d5\u30a7\u30b9","\u97f3\u697d","\u7269\u8a9e","\u5b66\u554f"]],["\u96f0\u56f2\u6c17",["\u3060\u3089\u3057\u306a\u3044","\u306e\u3093\u3073\u308a","\u6696\u304b\u3044","\u660e\u308b\u3044","\u7518\u3044","\u666e\u901a","\u6d17\u7df4","\u6e0b\u3044","\u9759\u304b","\u771f\u9762\u76ee","\u51b7\u305f\u3044"]],["\u6226\u95d8\u6cd5",["\u5fcd\u8853","\u53e4\u6b66\u8853","\u5263\u8853","\u68d2\u8853","\u62f3\u6cd5","\u30b1\u30f3\u30ab","\u7dcf\u5408\u683c\u95d8\u6280","\u30ec\u30b9\u30ea\u30f3\u30b0","\u8ecd\u968a\u683c\u95d8\u8853","\u5c04\u6483","\u5f13\u8853"]]],p(["rtt_format"],{rtt_format:"\u30e9\u30f3\u30c0\u30e0\u6307\u5b9a\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<category_name>s\u300a%<skill_name>s\u300b"}))),v(A[0],"TABLES",p(["ABRT","DT","FT","GJT","ITT","NTT","STT","HTT","DET","BET","CT","KZT","IA","IAA","IAB","IAC","IAD","IAE","IAF","IAG","IAH","IAI","IAJ","CAC","DDC"],{ABRT:n(x("DiceTable"),"D66Table").$new("\u30a2\u30d3\u30ea\u30c6\u30a3\u6c7a\u5b9a\u8868",n(x("D66SortType"),"ASC"),E(11,"\u30a4\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fc(P155)",12,"\u904b\u9001\u696d(P155)",13,"\u904b\u8ee2\u624b(P155)",14,"\u30ab\u30d5\u30a7\u5e97\u54e1(P155)",15,"\u8da3\u5473\u4eba(P155)",16,"\u30b7\u30e7\u30c3\u30d7\u5e97\u54e1(P155)",22,"\u6b63\u793e\u54e1(P156)",23,"\u5927\u5de5(P156)",24,"\u63a2\u5075(P156)",25,"\u30d0\u30a4\u30e4\u30fc(P156)",26,"\u4ff3\u512a(P156)",33,"\u6d3e\u9063\u793e\u54e1(P156)",34,"\u72af\u7f6a\u8005(P157)",35,"\u30d0\u30f3\u30c9\u30de\u30f3(P157)",36,"\u30d0\u30fc\u30c6\u30f3\u30c0\u30fc(P157)",44,"\u30d2\u30e2(P157)",45,"\u30db\u30b9\u30c8(P157)",46,"\u30db\u30c6\u30eb\u30de\u30f3(P157)",55,"\u7121\u8077(P158)",56,"\u7528\u5fc3\u68d2(P158)",66,"\u6599\u7406\u4eba(P158)")),DT:n(x("DiceTable"),"Table").$new("\u30c0\u30e1\u30fc\u30b8\u8868","1D6",["\u75b2\u308c","\u75db\u307f","\u7126\u308a","\u4e0d\u8abf","\u30b7\u30e7\u30c3\u30af","\u30b1\u30ac"]),FT:n(x("DiceTable"),"Table").$new("\u5931\u6557\u8868","1D6",["\u4efb\u610f\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u4e00\u3064\u5931\u3046","\uff11\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b","\u3010\u6240\u6301\u91d1\u30e9\u30f3\u30af\u3011\u304c\uff11\u6e1b\u5c11\u3059\u308b\uff08\u6700\u4f4e\uff10\uff09","\uff12\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b","\u3010\u6240\u6301\u91d1\u30e9\u30f3\u30af\u3011\u304c\uff12\u6e1b\u5c11\u3059\u308b\uff08\u6700\u4f4e\uff10\uff09","\u6a19\u7684\u30ec\u30d9\u30eb\u304c\uff11\u5897\u52a0\u3059\u308b"]),GJT:n(x("DiceTable"),"Table").$new("\u5927\u6210\u529f\u8868","1D6",["\u4e3b\u4eba\u304b\u3089\u304a\u8912\u3081\u306e\u8a00\u8449\u3092\u3044\u305f\u3060\u304f","\u30c0\u30e1\u30fc\u30b8\u3092\uff11\u56de\u5fa9\u3059\u308b","\u30c0\u30e1\u30fc\u30b8\u3092\uff11\u56de\u5fa9\u3059\u308b","\u95a2\u4fc2\u306e\u30c1\u30a7\u30c3\u30af\u3092\u4e00\u3064\u6d88\u3059","\u30c0\u30e1\u30fc\u30b8\u3092\uff12\u56de\u5fa9\u3059\u308b","\u3010\u6240\u6301\u91d1\u30e9\u30f3\u30af\u3011\u304c\uff11\u5897\u52a0\u3059\u308b"]),ITT:n(x("DiceTable"),"Table").$new("\u79fb\u52d5\u30c8\u30e9\u30d6\u30eb\u8868","1D6",["\u691c\u554f\uff08P220)","\u6025\u306a\u8179\u75db\uff08P220)","\u9ed2\u7159\uff08P221)","\u868a\uff08P221)","\u843d\u3068\u3057\u7269\uff08P222)","\u7a7a\u8179\uff08P222)"]),NTT:n(x("DiceTable"),"Table").$new("\u4efb\u52d9\u30c8\u30e9\u30d6\u30eb\u8868","1D6",["\u901a\u5831\uff08P223)","\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\uff08P223)","\u30de\u30ca\u30fc\u9055\u53cd\uff08P224)","\u5fd7\u9858\u8005\uff08P224)","\u4ef2\u9593\u5272\u308c\uff08P225)","\u72e9\u4eba\u306e\u5642\uff08P225)"]),STT:n(x("DiceTable"),"Table").$new("\u8972\u6483\u30c8\u30e9\u30d6\u30eb\u8868","1D6",["\u5b64\u72ec\u306a\u8ffd\u8de1\u8005\uff08P226)","\u5730\u5143\u306e\u82e5\u8005\u305f\u3061\uff08P226)","V-FILES\uff08P227)","\u30c1\u30f3\u30d4\u30e9\u306e\u7fa4\u308c\uff08P227)","\u5b64\u72ec\u306a\u72e9\u4eba\uff08P228)","\u72e9\u4eba\u306e\u7fa4\u308c\uff08P228)"]),HTT:n(x("DiceTable"),"D66Table").$new("\u5909\u8eab\u30c8\u30e9\u30d6\u30eb\u8868",n(x("D66SortType"),"NO_SORT"),E(11,"\u3042\u308c\u3092\u98df\u3079\u305f\u3044(P214)",12,"\u3042\u308c\u3092\u7740\u305f\u3044(P214)",13,"\u3042\u308c\u3092\u898b\u305f\u3044(P215)",14,"\u3042\u308c\u3092\u72e9\u308a\u305f\u3044(P215)",15,"\u3042\u308c\u3092\u8e0a\u308a\u305f\u3044(P216)",16,"\u3042\u308c\u306b\u5165\u308a\u305f\u3044(P216)",21,"\u5f37\u596a(P217)",22,"\u66b4\u884c(P217)",23,"\u8650\u6bba(P218)",24,"\u8a98\u62d0(P218)",25,"\u7121\u7cbe(P219)",26,"\u5931\u8e2a(P219)",31,"\u3042\u308c\u3092\u98df\u3079\u305f\u3044(P214)",32,"\u3042\u308c\u3092\u7740\u305f\u3044(P214)",33,"\u3042\u308c\u3092\u898b\u305f\u3044(P215)",34,"\u3042\u308c\u3092\u72e9\u308a\u305f\u3044(P215)",35,"\u3042\u308c\u3092\u8e0a\u308a\u305f\u3044(P216)",36,"\u3042\u308c\u306b\u5165\u308a\u305f\u3044(P216)",41,"\u5f37\u596a(P217)",42,"\u66b4\u884c(P217)",43,"\u8650\u6bba(P218)",44,"\u8a98\u62d0(P218)",45,"\u7121\u7cbe(P219)",46,"\u5931\u8e2a(P219)",51,"\u3042\u308c\u3092\u98df\u3079\u305f\u3044(P214)",52,"\u3042\u308c\u3092\u7740\u305f\u3044(P214)",53,"\u3042\u308c\u3092\u898b\u305f\u3044(P215)",54,"\u3042\u308c\u3092\u72e9\u308a\u305f\u3044(P215)",55,"\u3042\u308c\u3092\u8e0a\u308a\u305f\u3044(P216)",56,"\u3042\u308c\u306b\u5165\u308a\u305f\u3044(P216)",61,"\u5f37\u596a(P217)",62,"\u66b4\u884c(P217)",63,"\u8650\u6bba(P218)",64,"\u8a98\u62d0(P218)",65,"\u7121\u7cbe(P219)",66,"\u5931\u8e2a(P219)")),DET:n(x("DiceTable"),"Table").$new("\u30c9\u30e9\u30a4\u30d6\u30a4\u30d9\u30f3\u30c8\u8868","1D6",["\u8eab\u306e\u4e0a\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u80cc\u666f\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u30b9\u30ad\u30eb\u81ea\u6162\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u4ed5\u4e8b\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u3080\u304b\u3057\u884c\u3063\u305f\u5834\u6240\u306e\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u635c\u7d22\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u8da3\u5473\u306e\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u8da3\u5473\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u30c6\u30fc\u30de\u304c\u306a\u3044\u96d1\u8ac7\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u96f0\u56f2\u6c17\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u7269\u9a12\u306a\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u6226\u95d8\u6cd5\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002"]),BET:n(x("DiceTable"),"Table").$new("\u30d6\u30ec\u30a4\u30af\u30a4\u30d9\u30f3\u30c8\u8868","1D6",["\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u98a8\u5149\u660e\u7f8e\u306a\u5834\u6240\u306b\u5230\u7740\u3059\u308b\u3002197\u30da\u30fc\u30b8\u306e\u300c\u89b3\u5149\u5730\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u660e\u308b\u3044\u5149\u306b\u7167\u3089\u3055\u308c\u305f\u5c0f\u3055\u306a\u5e97\u306b\u5230\u7740\u3059\u308b\u3002197\u30da\u30fc\u30b8\u306e\u300c\u30b3\u30f3\u30d3\u30cb\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u5de8\u5927\u304b\u3064\u4f55\u3067\u3082\u58f2\u3063\u3066\u3044\u308b\u5e97\u306b\u5230\u7740\u3059\u308b\u3002198\u30da\u30fc\u30b8\u306e\u300c\u30db\u30fc\u30e0\u30bb\u30f3\u30bf\u30fc\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u30c9\u30e9\u30a4\u30d0\u30fc\u305f\u3061\u306e\u61a9\u3044\u306e\u5730\u306b\u5230\u7740\u3059\u308b\u3002198\u30da\u30fc\u30b8\u306e\u300c\u30b5\u30fc\u30d3\u30b9\u30a8\u30ea\u30a2\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u5927\u304d\u306a\u30b5\u30fc\u30d3\u30b9\u30a8\u30ea\u30a2\u306e\u3088\u3046\u306a\u5834\u6240\u306b\u5230\u7740\u3059\u308b\u3002199\u30da\u30fc\u30b8\u306e\u300c\u9053\u306e\u99c5\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u95c7\u306e\u5e95\u306b\u96a0\u3055\u308c\u305f\u79d8\u5bc6\u306e\u5834\u6240\u306b\u5230\u7740\u3059\u308b\u3002199\u30da\u30fc\u30b8\u306e\u300c\u53cb\u611b\u4f1a\u652f\u90e8\u300d\u3092\u53c2\u7167\u3002"]),CT:n(x("DiceTable"),"Table").$new("\u30ad\u30e3\u30f3\u30d7\u8868","1D6",["\u7121\u6599\u4eee\u7720\u6240\u30fb\u3044\u3044\u611f\u3058\u306e\u7a7a\u304d\u5730\uff1a\u5b9a\u54e1\u7121\u5236\u9650\uff0f\u5c45\u4f4f\u6027-2\uff0f\u4fa1\u683c0\uff0f\u767a\u898b\u73872","\u30ab\u30d7\u30bb\u30eb\u30db\u30c6\u30eb\uff1a\u5b9a\u54e11\uff0f\u5c45\u4f4f\u6027-1\uff0f\u4fa1\u683c3\uff0f\u767a\u898b\u73872","\u30e9\u30d6\u30db\u30c6\u30eb\uff1a\u5b9a\u54e12\uff0f\u5c45\u4f4f\u60270\uff0f\u4fa1\u683c4\uff0f\u767a\u898b\u73871","\u30d3\u30b8\u30cd\u30b9\u30db\u30c6\u30eb\uff1a\u5b9a\u54e12\uff0f\u5c45\u4f4f\u60270\uff0f\u4fa1\u683c4\uff0f\u767a\u898b\u73871","\u89b3\u5149\u30db\u30c6\u30eb\uff1a\u5b9a\u54e14\uff0f\u5c45\u4f4f\u60271\uff0f\u4fa1\u683c5\uff0f\u767a\u898b\u73871","\u9ad8\u7d1a\u30db\u30c6\u30eb\uff1a\u5b9a\u54e14\uff0f\u5c45\u4f4f\u60272\uff0f\u4fa1\u683c6\uff0f\u767a\u898b\u73870"]),KZT:n(x("DiceTable"),"Table").$new("\u95a2\u4fc2\u5c5e\u6027\u8868","1D6",["\u8efd\u8511","\u53cd\u611f","\u6df7\u4e71","\u8208\u5473","\u5171\u611f","\u61a7\u308c"]),IA:n(x("DiceTable"),"D66Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6c7a\u5b9a\u8868",n(x("D66SortType"),"ASC"),E(11,"\u9060\u8ddd\u96e2(IAA)",12,"\u9060\u8ddd\u96e2(IAA)",13,"\u79fb\u52d5(IAB)",14,"\u79fb\u52d5(IAB)",15,"\u8fd1\u8ddd\u96e2(IAC)",16,"\u8fd1\u8ddd\u96e2(IAC)",22,"\u5584\u4eba(IAD)",23,"\u5584\u4eba(IAD)",24,"\u60aa\u4eba(IAE)",25,"\u60aa\u4eba(IAE)",26,"\u5e7c\u3044(IAF)",33,"\u5e7c\u3044(IAF)",34,"\u30d0\u30ab(IAG)",35,"\u30d0\u30ab(IAG)",36,"\u6e0b\u3044(IAH)",44,"\u6e0b\u3044(IAH)",45,"\u8ce2\u3044(IAI)",46,"\u8ce2\u3044(IAI)",55,"\u8d85\u81ea\u7136(IAJ)",56,"\u8d85\u81ea\u7136(IAJ)",66,"\u632f\u308a\u76f4\u3057or\u81ea\u7531\u9078\u629e")),IAA:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u9060\u8ddd\u96e2\uff09\u8868(P172)","1D6",["\u76ee\u3092\u5408\u308f\u305b\u3066\u5fae\u7b11\u3080\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5834\u6240\u3092\u8b72\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u9aea\u3092\u304b\u304d\u3042\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u8907\u96d1\u306a\u30dd\u30fc\u30ba\u3067\u5ea7\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u7269\u6182\u3052\u306a\u8868\u60c5\u3067\u632f\u308a\u8fd4\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u3082\u306e\u3092\u4e0a\u306b\u6301\u3064\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAB:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u79fb\u52d5\uff09\u8868(P172)","1D6",["\u8eca\u9053\u5074\u3092\u6b69\u304f\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u4e57\u308a\u7269\u304b\u3089\u964d\u308a\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u771f\u5263\u306a\u8868\u60c5\u3067\u8fd1\u3065\u304f\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u99ac\u306b\u4e57\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u3064\u3064\u79fb\u52d5\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u77ac\u9593\u79fb\u52d5\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAC:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u8fd1\u8ddd\u96e2\uff09\u8868(P173)","1D6",["\u9ed9\u3063\u3066\u898b\u3064\u3081\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u3061\u3087\u3063\u3068\u3057\u305f\u30d7\u30ec\u30bc\u30f3\u30c8\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u984e\u30af\u30a4\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u58c1\u30c9\u30f3\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u304a\u59eb\u69d8\u62b1\u3063\u3053\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09","\u5e8a\u30c9\u30f3\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09"]),IAD:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u5584\u4eba\uff09\u8868(P173)","1D6",["\u624b\u3092\u5f15\u3044\u3066\u9003\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u6bdb\u5e03\u3092\u639b\u3051\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5b88\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u7b11\u3063\u3066\u53bb\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u5168\u3066\u3092\u6367\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u60aa\u5815\u3061\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAE:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u60aa\u4eba\uff09\u8868(P174)","1D6",["\u653b\u6483\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u6697\u304f\u7b11\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u596a\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u76ee\u8ad6\u898b\u3092\u53e3\u306b\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u7f60\u306b\u304b\u3051\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u6539\u5fc3\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAF:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u5e7c\u3044\uff09\u8868(P174)","1D6",["\u7518\u3048\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u75b2\u308c\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u7121\u90aa\u6c17\u306a\u767a\u8a00\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u304a\u306d\u3060\u308a\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u4e0a\u76ee\u9063\u3044\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09","\u62b1\u304d\u3064\u304f\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09"]),IAG:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u30d0\u30ab\uff09\u8868(P175)","1D6",["\u82e6\u60a9\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5c48\u8a17\u306e\u306a\u3044\u7b11\u9854\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u8ee2\u3076\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u53eb\u3076\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u9593\u9055\u3048\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u6016\u304c\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAH:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u6e0b\u3044\uff09\u8868(P175)","1D6",["\u8aac\u6559\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u6c17\u3065\u304b\u305b\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u898b\u5b88\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u6b8b\u5fc3\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u79f0\u3048\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u3044\u3044\u4f4d\u7f6e\u3092\u53d6\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAI:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u8ce2\u3044\uff09\u8868(P176)","1D6",["\u96e3\u3057\u3044\u672c\u3092\u8aad\u3080\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u30a2\u30c9\u30d0\u30a4\u30b9\u3092\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u773c\u93e1\u3092\u6301\u3061\u4e0a\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u72b6\u6cc1\u3092\u89e3\u8aac\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u8a08\u7b97\u3067\u304d\u306a\u304f\u306a\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09","\u5927\u4e08\u592b\u3060\u3068\u8a00\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09"]),IAJ:n(x("DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u8d85\u81ea\u7136\uff09\u8868(P176)","1D6",["\u6c34\u306b\u6fe1\u308c\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u98a8\u3092\u7e8f\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5730\u5272\u308c\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u706b\u3092\u653e\u3064\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u95c7\u3092\u751f\u307f\u51fa\u3059\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u5149\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),CAC:n(x("DiceTable"),"Table").$new("\u30bb\u30f3\u30bf\u30fc\u306e\u884c\u52d5\u6c7a\u5b9a\u8868","1d6",["\u9003\u8d70","\u4e0d\u610f\u6253\u3061","\u9023\u7d9a\u884c\u52d5","\u5bfe\u8a71","\u5a01\u5687","\u653b\u6483"]),DDC:n(x("DiceTable"),"Table").$new("\u5bfe\u8a71\u30c0\u30e1\u30fc\u30b8\u8868","1d6",["\u7126\u308a","\u7126\u308a","\u4e0d\u8abf","\u4e0d\u8abf","\u30b7\u30e7\u30c3\u30af","\u30b7\u30e7\u30c3\u30af"])}).$freeze()),z.$register_prefix(x("RTT").$prefixes(),x("TABLES").$keys())})},5581:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var M,j,I,w,z,A,K,P,Y,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.def,R=e.rb_plus,m=e.eqeq,h=e.send,g=e.rb_gt,y=e.rb_times,k=e.rb_ge,p=e.rb_lt;return M=H,j=Y=[n(H[0],"BCDice")].concat(M),K=[n(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=B(K[0],P("Base"),"DarkSouls")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,C(z[0],"ID","DarkSouls"),C(z[0],"NAME","\u30c0\u30fc\u30af\u30bd\u30a6\u30ebTRPG"),C(z[0],"SORT_KEY","\u305f\u3042\u304f\u305d\u3046\u308bTRPG"),C(z[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff1a[n]DS[a\xb1b][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\n\u30fb\u80fd\u52d5\u5224\u5b9a\uff1a[n]ADS[a\xb1b][@t]\u3000\u3000FP\u6d88\u8cbb\u3092\u5224\u5b9a\n\u3000n\uff1a\u30c0\u30a4\u30b9\u6570\u3002\u7701\u7565\u6642\u306f\u300c2\u300d\n\u3000a\xb1b\uff1a\u4fee\u6b63\u5024\u3002\u300c1+2-1\u300d\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u5b9a\u53ef\n\u3000@t\uff1a\u76ee\u6a19\u5024\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u3092\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8868\u793a\n\u4f8b\uff09DS \u2192 2D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u30001DS \u2192 1D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u3000ADS+2-2 \u2192 2D6+2\u306e\u9054\u6210\u5024\u3092\u8868\u793a\uff08\u80fd\u52d5\u5224\u5b9a\uff09\n\u3000\u3000DS+2@10 \u2192 2D6+2\u3067\u76ee\u6a19\u502410\u306e\u5224\u5b9a\n"),w.$register_prefix("(\\d+)?(A)?DS([-+\\d]*)(@\\d+)?"),S(w,"$eval_game_system_specific_command",function(T){var o=t,l=t,$=t,a=t,r=t,s=t;return v(o=/(\d+)?(A)?DS([-+\d]*)(@(\d+))?$/i.$match(T.$upcase()))?(l=(v($=o["$[]"](1))?$:2).$to_i(),a=o["$[]"](2)["$nil?"]()["$!"](),r=this.$getValue(o["$[]"](3)),s=(v($=o["$[]"](5))?$:0).$to_i(),this.$checkRoll(l,a,r,s)):t},1),S(w,"$checkRoll",function(T,d,o,l){var r,i,u,_,a=t,s=t,c=t,b=t,f=t,q=t;return r=(a=this.randomizer.$roll_barabara(T,6)).$sum(),s=a.$join(","),i=R(r,o),u=this.$getValueText(o),_=m(l,0)?"":">="+l,v(d)&&(c=h(s.$split(/,/),"map",[],"to_i".$to_proc()),b=h(c,"count",[],function(U){return null==U&&(U=t),U["$=="](1)},1),v(g(b,0))&&(f="\uff08FP"+(f=y("\u25a0",b))+"\u6d88\u8cbb\uff09")),q=R(q="("+T+"D6"+u+_+")"," \uff1e "+r+"("+s+")"+u),q=R(q," \uff1e "+i+_),v(g(l,0))&&(q=v(k(i,l))?R(q," \uff1e \u3010\u6210\u529f\u3011"):R(q," \uff1e \u3010\u5931\u6557\u3011")),R(q,f.$to_s())},4),S(w,"$getValue",function(T){var d;return T=v(d=T)?d:"",A("ArithmeticEvaluator").$eval(T)},1),S(w,"$getValueText",function(T){return m(T,0)?"":v(p(T,0))?T.$to_s():"+"+T},1)})},3264:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var J,A,l,$,a,r,D,T,w,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.hash2,k=e.rb_plus,p=e.to_ary,E=e.eqeqeq,M=e.rb_minus,L=e.eqeq,Y=e.neqeq,G=e.rb_ge,j=e.rb_gt,N=e.rb_divide,K=e.rb_times,P=e.defs;return J=H,A=w=[B(H[0],"BCDice")].concat(J),D=[B(w[0],"GameSystem")].concat(A),T=e.$r(D),l=D,a=[$=C(D[0],T("Base"),"DetatokoSaga")].concat(l),r=e.$r(a),$.$$prototype.randomizer=t,v(a[0],"ID","DetatokoSaga"),v(a[0],"NAME","\u3067\u305f\u3068\u3053\u30b5\u30fc\u30ac"),v(a[0],"SORT_KEY","\u3066\u305f\u3068\u3053\u3055\u3042\u304b"),v(a[0],"HELP_MESSAGE","\u30fb\u901a\u5e38\u5224\u5b9a\u3000xDS or xDSy or xDS>=t or xDSy>=t or xDS+z>=t or xDSy+z>=t\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10)\u3001t\uff1d\u76ee\u6a19\u5024(\u7701\u7565\u6642\uff18))\n\u3000\u4f8b\uff093DS\u30002DS5\u30000DS\u30003DS>=10\u30003DS7>=12 2DS3+1 3DS2+1>=10\n\u30fb\u5224\u5b9a\u5024\u3000xJD or xJDy or xJDy+z or xJDy-z or xJDy/z\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10))\n\u3000\u4f8b\uff093JD\u30002JD5\u30003JD7+1\u30004JD/3\n\u30fb\u4f53\u529b\u70d9\u5370\u8868\u3000SST (StrengthStigmaTable)\n\u30fb\u6c17\u529b\u70d9\u5370\u8868\u3000WST (WillStigmaTable)\n\u30fb\u4f53\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000SBET (StrengthBadEndTable)\n\u30fb\u6c17\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000WBET (WillBadEndTable)\n"),$.$register_prefix("\\d+DS","\\d+JD"),m($,"$initialize",function i(u){var c=this;return delete i.$$p,S(c,R(c,"initialize",i,!1,!0),"initialize",[u],null),c.sort_add_dice=!0,c.d66_sort_type=n(r("D66SortType"),"ASC")},1),m($,"$eval_game_system_specific_command",function(u){var _=this,c=t,b=t;return _.$debug("eval_game_system_specific_command begin string",u),c=_.$checkRoll(u),h(c)||(c=_.$checkJudgeValue(u),h(c))?c:(_.$debug("\u5404\u7a2e\u8868\u3068\u3057\u3066\u51e6\u7406"),_.$roll_tables(h(b=r("ALIAS")["$[]"](u))?b:u,n(_.$class(),"TABLES")))},1),m($,"$checkRoll",function(u){var _,c,b,f=this,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t,ie=t,ne=t,ue=t,_e=t;return f.$debug("checkRoll begin string",u),q=/^(\d+)DS(\d+)?(([+-\/])(\d+))?(?:>=(\d+))?$/i.$match(u),h(q)?(F=q["$[]"](1).$to_i(),U=q["$[]"](2).$to_i(),W=q["$[]"](4),X=q["$[]"](5).$to_i(),Q=h(re=(_=q["$[]"](6))===t||null==_?t:g(_,"to_i",[]))?re:8,O=f.$translate("DetatokoSaga.DS.input_options",y(["skill","flag","target"],{skill:F,flag:U,target:Q})),ie=f.$getModifyText(W,X),h(ie["$empty?"]())||(O=k(O,f.$translate("DetatokoSaga.DS.modifier",y(["modifier"],{modifier:ie})))),b=f.$getRollResult(F),c=p(b),O=k(O," \uff1e "+(ne=null==c[0]?t:c[0])+"["+(null==c[1]?t:c[1])+"]"+ie),ue=f.$getTotalResultValue(ne,X,W),O=k(O," \uff1e "+ue),h(ie["$empty?"]())||(E("+",re=W)?ne=k(ne,X):E("-",re)&&(ne=M(ne,X))),_e=f.$getSuccess(ne,Q),O=k(O," \uff1e "+_e),O=k(O,f.$getCheckFlagResult(ne,U))):t},1),m($,"$getRollResult",function(u){var f,c=t,b=t;return c=k(u,1),L(u,0)&&(c=3),f=(b=this.randomizer.$roll_barabara(c,6)).$join(","),b=b.$sort(),Y(u,0)&&(b=b.$reverse()),[k(b["$[]"](0),b["$[]"](1)),f]},1),m($,"$getSuccess",function(u,_){return h(G(u,_))?this.$translate("DetatokoSaga.DS.success"):this.$translate("DetatokoSaga.DS.failure")},2),m($,"$getCheckFlagResult",function(u,_){var b=t;return h(j(u,_))?"":(b=this.$getDownWill(_),this.$translate("DetatokoSaga.less_than_flag",y(["will"],{will:b})))},2),m($,"$getDownWill",function(u){return h(G(u,10))?"6":"1D6->"+this.randomizer.$roll_once(6)},1),m($,"$checkJudgeValue",function(u){var _,c,b=this,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,ie=t;return b.$debug("checkJudgeValue begin string",u),f=/^(\d+)JD(\d+)?(([+-\/])(\d+))?$/i.$match(u),h(f)?(q=f["$[]"](1).$to_i(),F=f["$[]"](2).$to_i(),U=f["$[]"](4),W=f["$[]"](5).$to_i(),X=b.$translate("DetatokoSaga.JD.input_options",y(["skill","flag"],{skill:q,flag:F})),Q=b.$getModifyText(U,W),h(Q["$empty?"]())||(X=k(X,b.$translate("DetatokoSaga.JD.modifier",y(["modifier"],{modifier:Q})))),c=b.$getRollResult(q),_=p(c),X=k(X," \uff1e "+(re=null==_[0]?t:_[0])+"["+(null==_[1]?t:_[1])+"]"+Q),ie=b.$getTotalResultValue(re,W,U),X=k(X," \uff1e "+ie),X=k(X,b.$getCheckFlagResult(re,F))):t},1),m($,"$getModifyText",function(u,_){var b=t;return L(_,0)?"":(E("+",b=u)?"\uff0b":E("-",b)?"\uff0d":E("/",b)?"\xf7":"")+_},2),m($,"$getTotalResultValue",function(u,_,c){var f,b=this;return E("+",f=c)?k(u+"+"+_+" \uff1e ",b.$translate("DetatokoSaga.total_value",y(["total"],{total:k(u,_)}))):E("-",f)?k(u+"-"+_+" \uff1e ",b.$translate("DetatokoSaga.total_value",y(["total"],{total:M(u,_)}))):E("/",f)?b.$getTotalResultValueWhenSlash(u,_):b.$translate("DetatokoSaga.total_value",y(["total"],{total:u}))},3),m($,"$getTotalResultValueWhenSlash",function(u,_){var b=t;return L(_,0)?this.$translate("DetatokoSaga.division_by_zero_error"):(b=N(K(1,u),_).$ceil(),k(u+"\xf7"+_+" \uff1e ",this.$translate("DetatokoSaga.total_value",y(["total"],{total:b}))))},2),v(a[0],"ALIAS",g(y(["StrengthStigmaTable","WillStigmaTable","StrengthBadEndTable","WillBadEndTable"],{StrengthStigmaTable:"SST",WillStigmaTable:"WST",StrengthBadEndTable:"SBET",WillBadEndTable:"WBET"}),"transform_keys",[],"upcase".$to_proc()).$freeze()),P($,"$translate_tables",function(u){return y(["SST","WST","SBET","WBET"],{SST:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SST",u),WST:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WST",u),SBET:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SBET",u),WBET:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WBET",u)})},1),v(a[0],"TABLES",$.$translate_tables("ja_jp").$freeze()),$.$register_prefix(r("TABLES").$keys(),r("ALIAS").$keys())})},4236:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/DetatokoSaga"]=function(e){var J,A,l,$,a,r,D,T,w,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.hash2,k=e.rb_plus,p=e.to_ary,E=e.eqeqeq,M=e.rb_minus,L=e.eqeq,Y=e.neqeq,G=e.rb_ge,j=e.rb_gt,N=e.rb_divide,K=e.rb_times,P=e.defs;return J=H,A=w=[B(H[0],"BCDice")].concat(J),D=[B(w[0],"GameSystem")].concat(A),T=e.$r(D),l=D,a=[$=C(D[0],T("Base"),"DetatokoSaga")].concat(l),r=e.$r(a),$.$$prototype.randomizer=t,v(a[0],"ID","DetatokoSaga"),v(a[0],"NAME","\u3067\u305f\u3068\u3053\u30b5\u30fc\u30ac"),v(a[0],"SORT_KEY","\u3066\u305f\u3068\u3053\u3055\u3042\u304b"),v(a[0],"HELP_MESSAGE","\u30fb\u901a\u5e38\u5224\u5b9a\u3000xDS or xDSy or xDS>=t or xDSy>=t or xDS+z>=t or xDSy+z>=t\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10)\u3001t\uff1d\u76ee\u6a19\u5024(\u7701\u7565\u6642\uff18))\n\u3000\u4f8b\uff093DS\u30002DS5\u30000DS\u30003DS>=10\u30003DS7>=12 2DS3+1 3DS2+1>=10\n\u30fb\u5224\u5b9a\u5024\u3000xJD or xJDy or xJDy+z or xJDy-z or xJDy/z\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10))\n\u3000\u4f8b\uff093JD\u30002JD5\u30003JD7+1\u30004JD/3\n\u30fb\u4f53\u529b\u70d9\u5370\u8868\u3000SST (StrengthStigmaTable)\n\u30fb\u6c17\u529b\u70d9\u5370\u8868\u3000WST (WillStigmaTable)\n\u30fb\u4f53\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000SBET (StrengthBadEndTable)\n\u30fb\u6c17\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000WBET (WillBadEndTable)\n"),$.$register_prefix("\\d+DS","\\d+JD"),m($,"$initialize",function i(u){var c=this;return delete i.$$p,S(c,R(c,"initialize",i,!1,!0),"initialize",[u],null),c.sort_add_dice=!0,c.d66_sort_type=n(r("D66SortType"),"ASC")},1),m($,"$eval_game_system_specific_command",function(u){var _=this,c=t,b=t;return _.$debug("eval_game_system_specific_command begin string",u),c=_.$checkRoll(u),h(c)||(c=_.$checkJudgeValue(u),h(c))?c:(_.$debug("\u5404\u7a2e\u8868\u3068\u3057\u3066\u51e6\u7406"),_.$roll_tables(h(b=r("ALIAS")["$[]"](u))?b:u,n(_.$class(),"TABLES")))},1),m($,"$checkRoll",function(u){var _,c,b,f=this,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t,ie=t,ne=t,ue=t,_e=t;return f.$debug("checkRoll begin string",u),q=/^(\d+)DS(\d+)?(([+-\/])(\d+))?(?:>=(\d+))?$/i.$match(u),h(q)?(F=q["$[]"](1).$to_i(),U=q["$[]"](2).$to_i(),W=q["$[]"](4),X=q["$[]"](5).$to_i(),Q=h(re=(_=q["$[]"](6))===t||null==_?t:g(_,"to_i",[]))?re:8,O=f.$translate("DetatokoSaga.DS.input_options",y(["skill","flag","target"],{skill:F,flag:U,target:Q})),ie=f.$getModifyText(W,X),h(ie["$empty?"]())||(O=k(O,f.$translate("DetatokoSaga.DS.modifier",y(["modifier"],{modifier:ie})))),b=f.$getRollResult(F),c=p(b),O=k(O," \uff1e "+(ne=null==c[0]?t:c[0])+"["+(null==c[1]?t:c[1])+"]"+ie),ue=f.$getTotalResultValue(ne,X,W),O=k(O," \uff1e "+ue),h(ie["$empty?"]())||(E("+",re=W)?ne=k(ne,X):E("-",re)&&(ne=M(ne,X))),_e=f.$getSuccess(ne,Q),O=k(O," \uff1e "+_e),O=k(O,f.$getCheckFlagResult(ne,U))):t},1),m($,"$getRollResult",function(u){var f,c=t,b=t;return c=k(u,1),L(u,0)&&(c=3),f=(b=this.randomizer.$roll_barabara(c,6)).$join(","),b=b.$sort(),Y(u,0)&&(b=b.$reverse()),[k(b["$[]"](0),b["$[]"](1)),f]},1),m($,"$getSuccess",function(u,_){return h(G(u,_))?this.$translate("DetatokoSaga.DS.success"):this.$translate("DetatokoSaga.DS.failure")},2),m($,"$getCheckFlagResult",function(u,_){var b=t;return h(j(u,_))?"":(b=this.$getDownWill(_),this.$translate("DetatokoSaga.less_than_flag",y(["will"],{will:b})))},2),m($,"$getDownWill",function(u){return h(G(u,10))?"6":"1D6->"+this.randomizer.$roll_once(6)},1),m($,"$checkJudgeValue",function(u){var _,c,b=this,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,ie=t;return b.$debug("checkJudgeValue begin string",u),f=/^(\d+)JD(\d+)?(([+-\/])(\d+))?$/i.$match(u),h(f)?(q=f["$[]"](1).$to_i(),F=f["$[]"](2).$to_i(),U=f["$[]"](4),W=f["$[]"](5).$to_i(),X=b.$translate("DetatokoSaga.JD.input_options",y(["skill","flag"],{skill:q,flag:F})),Q=b.$getModifyText(U,W),h(Q["$empty?"]())||(X=k(X,b.$translate("DetatokoSaga.JD.modifier",y(["modifier"],{modifier:Q})))),c=b.$getRollResult(q),_=p(c),X=k(X," \uff1e "+(re=null==_[0]?t:_[0])+"["+(null==_[1]?t:_[1])+"]"+Q),ie=b.$getTotalResultValue(re,W,U),X=k(X," \uff1e "+ie),X=k(X,b.$getCheckFlagResult(re,F))):t},1),m($,"$getModifyText",function(u,_){var b=t;return L(_,0)?"":(E("+",b=u)?"\uff0b":E("-",b)?"\uff0d":E("/",b)?"\xf7":"")+_},2),m($,"$getTotalResultValue",function(u,_,c){var f,b=this;return E("+",f=c)?k(u+"+"+_+" \uff1e ",b.$translate("DetatokoSaga.total_value",y(["total"],{total:k(u,_)}))):E("-",f)?k(u+"-"+_+" \uff1e ",b.$translate("DetatokoSaga.total_value",y(["total"],{total:M(u,_)}))):E("/",f)?b.$getTotalResultValueWhenSlash(u,_):b.$translate("DetatokoSaga.total_value",y(["total"],{total:u}))},3),m($,"$getTotalResultValueWhenSlash",function(u,_){var b=t;return L(_,0)?this.$translate("DetatokoSaga.division_by_zero_error"):(b=N(K(1,u),_).$ceil(),k(u+"\xf7"+_+" \uff1e ",this.$translate("DetatokoSaga.total_value",y(["total"],{total:b}))))},2),v(a[0],"ALIAS",g(y(["StrengthStigmaTable","WillStigmaTable","StrengthBadEndTable","WillBadEndTable"],{StrengthStigmaTable:"SST",WillStigmaTable:"WST",StrengthBadEndTable:"SBET",WillBadEndTable:"WBET"}),"transform_keys",[],"upcase".$to_proc()).$freeze()),P($,"$translate_tables",function(u){return y(["SST","WST","SBET","WBET"],{SST:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SST",u),WST:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WST",u),SBET:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SBET",u),WBET:n(r("DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WBET",u)})},1),v(a[0],"TABLES",$.$translate_tables("ja_jp").$freeze()),$.$register_prefix(r("TABLES").$keys(),r("ALIAS").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/DetatokoSaga"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("DetatokoSaga"),"DetatokoSaga_Korean")].concat(N))[0],"ID","DetatokoSaga:Korean"),v(P[0],"NAME","\ub370\ud0c0\ud1a0\ucf54 \uc0ac\uac00"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub370\ud0c0\ud1a0\ucf54 \uc0ac\uac00"),v(P[0],"HELP_MESSAGE","\u30fb\ud1b5\uc0c1\ud310\uc815\u3000xDS or xDSy or xDS>=t or xDSy>=t or xDS+z>=t or xDSy+z>=t\n\u3000(x\uff1d\uc2a4\ud0ac\ub808\ubca8, y\uff1d\ud604\uc7ac \ud50c\ub798\uadf8(\uc0dd\ub7b5=0), z\uff1d\uc218\uc815\uce58(\uc0dd\ub7b5=\uff10), t\uff1d\ubaa9\ud45c\uce58(\uc0dd\ub7b5=\uff18))\n\u3000\uc608\uff093DS\u30002DS5\u30000DS\u30003DS>=10\u30003DS7>=12 2DS3+1 3DS2+1>=10\n\u30fb\ud310\uc815\uce58\u3000xJD or xJDy or xJDy+z or xJDy-z or xJDy/z\n\u3000(x\uff1d\uc2a4\ud0ac\ub808\ubca8, y\uff1d\ud604\uc7ac \ud50c\ub798\uadf8(\uc0dd\ub7b5=0), z\uff1d\uc218\uc815\uce58(\uc0dd\ub7b5=\uff10))\n\u3000\uc608\uff093JD\u30002JD5\u30003JD7+1\u30004JD/3\n\u30fb\uccb4\ub825 \ub099\uc778\ud45c\u3000SST (StrengthStigmaTable)\n\u30fb\uae30\ub825 \ub099\uc778\ud45c\u3000WST (WillStigmaTable)\n\u30fb\uccb4\ub825 \ubc30\ub4dc\uc5d4\ub529\ud45c\u3000SBET (StrengthBadEndTable)\n\u30fb\uae30\ub825 \ubc30\ub4dc\uc5d4\ub529\ud45c\u3000WBET (WillBadEndTable)\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr"))})},8618:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var S,g,L,G,k,p,m,H=[],n=e.module,B=e.klass,C=e.const_set;return S=H,g=m=[n(H[0],"BCDice")].concat(S),k=[n(m[0],"GameSystem")].concat(g),p=e.$r(k),L=k,C((G=[B(k[0],p("Base"),"DiceBot")].concat(L))[0],"ID","DiceBot"),C(G[0],"NAME","DiceBot"),C(G[0],"SORT_KEY","*\u305f\u3044\u3059\u307b\u3064\u3068"),C(G[0],"HELP_MESSAGE","3D6+1>=9 \uff1a3d6+1\u3067\u76ee\u6a19\u50249\u4ee5\u4e0a\u304b\u306e\u5224\u5b9a\n1D100<=50 \uff1aD100\u306750\uff05\u76ee\u6a19\u306e\u4e0b\u65b9\u30ed\u30fc\u30eb\u306e\u4f8b\n3U6[5] \uff1a3d6\u306e\u30c0\u30a4\u30b9\u76ee\u304c5\u4ee5\u4e0a\u306e\u5834\u5408\u306b\u632f\u308a\u8db3\u3057\u3057\u3066\u5408\u8a08\u3059\u308b(\u4e0a\u65b9\u7121\u9650)\n3B6 \uff1a3d6\u306e\u30c0\u30a4\u30b9\u76ee\u3092\u30d0\u30e9\u30d0\u30e9\u306e\u307e\u307e\u51fa\u529b\u3059\u308b\uff08\u5408\u8a08\u3057\u306a\u3044\uff09\n10B6>=4 \uff1a10d6\u3092\u632f\u308a4\u4ee5\u4e0a\u306e\u30c0\u30a4\u30b9\u76ee\u306e\u500b\u6570\u3092\u6570\u3048\u308b\n2R6[>3]>=5 \uff1a2D6\u306e\u30c0\u30a4\u30b9\u76ee\u304c3\u3088\u308a\u5927\u304d\u3044\u5834\u5408\u306b\u632f\u308a\u8db3\u3057\u3066\u30015\u4ee5\u4e0a\u306e\u30c0\u30a4\u30b9\u76ee\u306e\u500b\u6570\u3092\u6570\u3048\u308b\n(8/2)D(4+6)<=(5*3)\uff1a\u500b\u6570\u30fb\u30c0\u30a4\u30b9\u30fb\u9054\u6210\u5024\u306b\u306f\u56db\u5247\u6f14\u7b97\u3082\u4f7f\u7528\u53ef\u80fd\nc(10-4*3/2+2)\uff1ac(\u8a08\u7b97\u5f0f\uff09\u3067\u8a08\u7b97\u3060\u3051\u306e\u5b9f\u884c\u3082\u53ef\u80fd\nchoice[a,b,c]\uff1a\u5217\u6319\u3057\u305f\u8981\u7d20\u304b\u3089\u4e00\u3064\u3092\u9078\u629e\u8868\u793a\u3002\u30e9\u30f3\u30c0\u30e0\u653b\u6483\u5bfe\u8c61\u6c7a\u5b9a\u306a\u3069\u306b\nS3d6 \uff1a \u5404\u30b3\u30de\u30f3\u30c9\u306e\u5148\u982d\u306b\u300cS\u300d\u3092\u4ed8\u3051\u308b\u3068\u4ed6\u4eba\u7d50\u679c\u306e\u898b\u3048\u306a\u3044\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ed\u30fc\u30eb\n3d6/2 \uff1a \u30c0\u30a4\u30b9\u51fa\u76ee\u3092\u5272\u308a\u7b97\uff08\u7aef\u6570\u51e6\u7406\u306f\u30b2\u30fc\u30e0\u30b7\u30b9\u30c6\u30e0\u4f9d\u5b58\uff09\u3002\u5207\u308a\u4e0a\u3052\u306f /2C\u3001\u56db\u6368\u4e94\u5165\u306f /2R\u3001\u5207\u308a\u6368\u3066\u306f /2F\nD66 \uff1a D66\u30c0\u30a4\u30b9\u3002\u9806\u5e8f\u306f\u30b2\u30fc\u30e0\u306b\u4f9d\u5b58\u3002D66N\uff1a\u305d\u306e\u307e\u307e\u3001D66A\uff1a\u6607\u9806\u3001D66D\uff1a\u964d\u9806\n\n\u8a73\u7d30\u306f\u4e0b\u8a18URL\u306e\u30b3\u30de\u30f3\u30c9\u30ac\u30a4\u30c9\u3092\u53c2\u7167\nhttps://docs.bcdice.org/\n")})},2533:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.send,k=e.to_a,p=e.rb_minus,E=e.rb_plus,M=e.rb_divide,L=e.to_ary;return G=H,P=N=[B(H[0],"BCDice")].concat(G),J=[B(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=C(J[0],I("Base"),"DiceOfTheDead")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,v(D[0],"ID","DiceOfTheDead"),v(D[0],"NAME","\u30c0\u30a4\u30b9\u30fb\u30aa\u30d6\u30fb\u30b6\u30fb\u30c7\u30c3\u30c9"),v(D[0],"SORT_KEY","\u305f\u3044\u3059\u304a\u3075\u3055\u3066\u3064\u3068"),v(D[0],"HELP_MESSAGE","\u30fb\u30be\u30f3\u30d3\u5316\u8868\u3000ZMB+x\n\uff08x=\u30aa\u30fc\u30d7\u30f3\u4e2d\u306e\u611f\u67d3\u5ea6\u30de\u30b9\u306e\u6570\u3002+x\u306f\u7701\u7565\u53ef\u80fd\u3001\u7701\u7565\u6642\u306f0\uff09\n\u30fb\u611f\u67d3\u5ea6\u8868\u3000BIOx\n\uff08x\u306f\u88ab\u5f3e\u56de\u6570\u3002x\u306f\u7701\u7565\u53ef\u80fd\u3001\u7701\u7565\u6642\u306f1\uff09\n\uff08\u4e0a\u8a18\u4e8c\u3064\u306f\u6700\u521d\u304b\u3089\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30c0\u30a4\u30b9\u3067\u884c\u308f\u308c\u307e\u3059\uff09\n"),x.$register_prefix("ZMB","BIO"),m(x,"$initialize",function o(l){var a=this;return delete o.$$p,S(a,R(a,"initialize",o,!1,!0),"initialize",[l],null),a.sort_add_dice=!0,a.d66_sort_type=n(T("D66SortType"),"ASC")},1),m(x,"$eval_game_system_specific_command",function(l){var a,r=t,s=t,i=t;return h(/^BIO(\d+)?$/,a=l)?(r=(g(s=T("Regexp").$last_match(1))?s:1).$to_i(),y(T("Result").$new(),"tap",[],function u(_){var c=null==u.$$s?this:u.$$s,b=t;return null==_&&(_=t),y(_,"secret=",k(b=[!0])),p(b.length,1),b=[c.$checkInfection(r)],y(_,"text=",k(b)),b[p(b.length,1)]},{$$arity:1,$$s:this})):h(/^ZMB(\+(\d+))?$/,a)?(i=T("Regexp").$last_match(2).$to_i(),y(T("Result").$new(),"tap",[],function u(_){var c=null==u.$$s?this:u.$$s,b=t;return null==_&&(_=t),y(_,"secret=",k(b=[!0])),p(b.length,1),b=[c.$rollZombie(i)],y(_,"text=",k(b)),b[p(b.length,1)]},{$$arity:1,$$s:this})):t},1),m(x,"$checkInfection",function(l){var a=t;return a="\u611f\u67d3\u5ea6\u8868",y(l,"times",[],function r(){var i,u,_,c,s=null==r.$$s?this:r.$$s;return null==s.randomizer&&(s.randomizer=t),i=s.randomizer.$roll_once(6),u=s.randomizer.$roll_once(6),a=E(a,"\u3000\uff1e\u3000\u51fa\u76ee\uff1a"+i+"\u3001"+u+"\u3000"),_=p(M(i,2).$ceil(),1),c=p(M(u,2).$ceil(),1),a=E(a,[["\u300c\u53f3\u4e0b\uff08\u3010\u8db3\u3011\uff0b\uff11\uff09\u300d","\u300c\u53f3\u4e2d\uff08\u3010\u8db3\u3011\uff0b\uff11\uff09\u300d","\u300c\u53f3\u4e0a\uff08\u3010\u8db3\u3011\uff0b\uff11\uff09\u300d"],["\u300c\u4e2d\u4e0b\uff08\u3010\u8155\u3011\uff0b\uff11\uff09\u300d","\u300c\u771f\u4e2d\uff08\u3010\u8155\u3011\uff0b\uff11\uff09\u300d","\u300c\u4e2d\u4e0a\uff08\u3010\u8155\u3011\uff0b\uff11\uff09\u300d"],["\u300c\u5de6\u4e0b\uff08\u3010\u982d\u3011\uff0b\uff11\uff09\u300d","\u300c\u5de6\u4e2d\uff08\u3010\u982d\u3011\uff0b\uff11\uff09\u300d","\u300c\u5de6\u4e0a\uff08\u3010\u982d\u3011\uff0b\uff11\uff09\u300d"]]["$[]"](_)["$[]"](c))},{$$arity:0,$$s:this}),a},1),m(x,"$rollZombie",function(l){var $,a,s,i,u,_=t,c=t,b=t,f=t;return s=this.randomizer.$roll_once(6),i=this.randomizer.$roll_once(6),u=E(E(s,i),l),c=(_=[[5,"\uff15\u4ee5\u4e0b\uff1a\u5f71\u97ff\u306a\u3057"],[6,"\uff16\uff1a\u4efb\u610f\u306e\u90e8\u4f4d\u3092\uff11\u70b9\u56de\u5fa9"],[7,"\uff17\uff1a\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u6b66\u5668\u3092\uff11\u3064\u305d\u306e\u5834\u306b\u843d\u3068\u3059"],[8,"\uff18\uff1a\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u4fbf\u5229\u9053\u5177\uff11\u3064\u3092\u305d\u306e\u5834\u306b\u843d\u3068\u3059"],[9,"\uff19\uff1a\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u6d88\u8017\u54c1\uff11\u3064\u3092\u305d\u306e\u5834\u306b\u843d\u3068\u3059"],[10,"\uff11\uff10\uff1a\u8155\u306e\u50b7\u304c\u5e83\u304c\u308b\u3002\u300c\u90e8\u4f4d\uff1a\u3010\u8155\u3011\u300d\uff11\u70b9\u30c0\u30e1\u30fc\u30b8"],[11,"\uff11\uff11\uff1a\u8db3\u306e\u50b7\u304c\u5e83\u304c\u308b\u3002\u300c\u90e8\u4f4d\uff1a\u3010\u8db3\u3011\u300d\uff11\u70b9\u30c0\u30e1\u30fc\u30b8"],[12,"\uff11\uff12\uff1a\u982d\u306e\u50b7\u304c\u5e83\u304c\u308b\u3002\u300c\u90e8\u4f4d\uff1a\u3010\u982d\u3011\u300d\uff11\u70b9\u30c0\u30e1\u30fc\u30b8"],[13,"\uff11\uff13\uff1a\u3010\u30be\u30f3\u30d3\u5316\u8868\u3011\u304c\u65b0\u305f\u306b\u9069\u7528\u3055\u308c\u308b\u307e\u3067\u300c\u3010\u611f\u67d3\u5ea6\u3011\uff0b\uff11\u30de\u30b9\u300d\u306e\u52b9\u679c\u3092\u53d7\u3051\u308b"],[14,"\uff11\uff14\uff1a\u5373\u5ea7\u306b\u81ea\u5206\u4ee5\u5916\u306e\u5473\u65b9\uff11\u4eba\u306e\u30b9\u30ed\u30c3\u30c8\u5185\u306e\u3008\u30a2\u30a4\u30c6\u30e0\u3009\uff11\u3064\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u6368\u3066\u3055\u305b\u308b"],[15,"\uff11\uff15\uff1a\u5473\u65b9\uff11\u4eba\u306b\u7d20\u624b\u3067\u653b\u6483\u3092\u884c\u3046"],[16,"\uff11\uff16\uff1a\u5373\u5ea7\u306b\u611f\u67d3\u5ea6\u304c\uff11\u4e0a\u6607\u3059\u308b"],[17,"\uff11\uff17\uff1a\u6b21\u306e\u30bf\u30fc\u30f3\u306e\u307f\u3001\u3059\u3079\u3066\u306e\u3010\u80fd\u529b\u5024\u3011\u3092\uff12\u500d\u306b\u3059\u308b"],[18,"\uff11\uff18\u4ee5\u4e0a\uff1a\u81ea\u5206\u4ee5\u5916\u306e\u5473\u65b9\uff11\u4eba\u306b\u3067\u304d\u308b\u9650\u308a\u5168\u529b\u3067\u653b\u6483\u3092\u884c\u3046\u3002\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u3082\u53ef\u80fd\u306a\u9650\u308a\u4f7f\u7528\u3059\u308b"]]).$first().$first(),b=_.$last().$first(),f=[f=[c,f=u].$max(),b].$min(),a=_.$assoc(f),"\u30be\u30f3\u30d3\u5316\u8868\u3000\uff1e\u3000\u51fa\u76ee\uff1a"+s+"\uff0b"+i+"\u3000\u611f\u67d3\u5ea6\uff1a"+l+"\u3000\u5408\u8a08\u5024\uff1a"+u+"\u3000\uff1e\u3000"+(null==($=L(a))[1]?t:$[1])},1)})},8454:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var S,g,L,G,k,p,m,H=[],n=e.module,B=e.klass,C=e.const_set;return S=H,g=m=[n(H[0],"BCDice")].concat(S),k=[n(m[0],"GameSystem")].concat(g),p=e.$r(k),L=k,C((G=[B(k[0],p("Base"),"DungeonsAndDragons")].concat(L))[0],"ID","DungeonsAndDragons"),C(G[0],"NAME","\u30c0\u30f3\u30b8\u30e7\u30f3\u30ba\uff06\u30c9\u30e9\u30b4\u30f3\u30ba"),C(G[0],"SORT_KEY","\u305f\u3093\u3057\u3088\u3093\u3059\u3042\u3093\u3068\u3068\u3089\u3053\u3093\u3059"),C(G[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")})},1329:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,o,I,w,K,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.rb_gt,g=e.rb_lt,y=e.rb_minus,k=e.eqeqeq,p=e.rb_plus,E=e.neqeq,M=e.eqeq,L=e.rb_ge,Y=e.send;return j=H,V=K=[n(H[0],"BCDice")].concat(j),I=[n(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=B(I[0],w("Base"),"EarthDawn")].concat(x),d=e.$r(T),(o=D.$$prototype).string=o.isFailed=t,C(T[0],"ID","EarthDawn"),C(T[0],"NAME","\u30a2\u30fc\u30b9\u30c9\u30fc\u30f3"),C(T[0],"SORT_KEY","\u3042\u3042\u3059\u3068\u304a\u3093"),C(T[0],"HELP_MESSAGE","\u30b9\u30c6\u30c3\u30d7\u30c0\u30a4\u30b9\u3000(xEn+k)\n\u30b9\u30c6\u30c3\u30d7x\u3001\u76ee\u6a19\u5024n(\u7701\u7565\u53ef\u80fd\uff09\u3001\u30ab\u30eb\u30de\u30c0\u30a4\u30b9k(D2-D20)\u3067\u30b9\u30c6\u30c3\u30d7\u30c0\u30a4\u30b9\u3092\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u632f\u308a\u8db3\u3057\u3082\u81ea\u52d5\u3002\n\u4f8b\uff099E\u300010E8\u300010E+D12\n"),D.$register_prefix("\\d+e"),R(D,"$initialize",function l($){var r=this;return delete l.$$p,v(r,S(r,"initialize",l,!1,!0),"initialize",[$],null),r.sort_add_dice=!0},1),R(D,"$eval_game_system_specific_command",function($){return this.$ed_step($)},1),R(D,"$ed_step",function($){return this.$getStepResult($)},1),R(D,"$getStepResult",function($){var a=this,r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t,ie=t,ne=t,ae=t,ue=t;return!m(/(\d+)E(\d+)?(\+)?(\d+)?(d\d+)?/i["$=~"]($))||(r=0,a.isFailed=!0,s=d("Regexp").$last_match(1).$to_i(),i=0,u=!1,_=0,c=0,m(h(s,40))&&(s=40),m(d("Regexp").$last_match(2))&&(i=d("Regexp").$last_match(2).$to_i(),m(h(i,43))&&(i=42)),m(d("Regexp").$last_match(3))&&(u=d("Regexp").$last_match(3).$to_i()),m(d("Regexp").$last_match(4))&&(_=d("Regexp").$last_match(4).$to_i()),m(d("Regexp").$last_match(5))&&(c=d("Regexp").$last_match(5)),m(g(i,0)))?t:(f=(b=a.$getStepTable())["$[]"](0)["$[]"](y(s,1)),q=b["$[]"](1)["$[]"](y(s,1)),F=b["$[]"](2)["$[]"](y(s,1)),U=b["$[]"](3)["$[]"](y(s,1)),W=b["$[]"](4)["$[]"](y(s,1)),X=b["$[]"](5)["$[]"](y(s,1)),Q=b["$[]"](6)["$[]"](y(s,1)),m(u)&&(k(/d20/i,re=c)?q=p(q,_):k(/d12/i,re)?F=p(F,_):k(/d10/i,re)?U=p(U,_):k(/d8/i,re)?W=p(W,_):k(/d6/i,re)?X=p(X,_):k(/d4/i,re)?Q=p(Q,_):f=p(f,_)),a.string="",a.$debug("d20step, d12step, d10step, d8step, d6step, d4step",q,F,U,W,X,Q),r=p(r,a.$rollStep(20,q)),r=p(r,a.$rollStep(12,F)),r=p(r,a.$rollStep(10,U)),r=p(r,a.$rollStep(8,W)),r=p(r,a.$rollStep(6,X)),r=p(r,a.$rollStep(4,Q)),m(h(f,0))&&(a.string=p(a.string,"+")),E(f,0)&&(a.string=p(a.string,f.$to_s()),r=p(r,f)),a.string=p(a.string," \uff1e "+r),O="\u30b9\u30c6\u30c3\u30d7"+s+" \uff1e "+a.string,M(i,0)||(a.string=p(a.string," \uff1e "),ie=b["$[]"](7)["$[]"](y(i,1)),ne=b["$[]"](8)["$[]"](y(i,1)),ae=b["$[]"](9)["$[]"](y(i,1)),ue=b["$[]"](11)["$[]"](y(i,1)),a.string=m(a.isFailed)?p(a.string,"\u81ea\u52d5\u5931\u6557"):m(L(r,ie))?p(a.string,"\u6700\u826f\u6210\u529f"):m(L(r,ne))?p(a.string,"\u512a\u6210\u529f"):m(L(r,ae))?p(a.string,"\u826f\u6210\u529f"):m(L(r,i))?p(a.string,"\u6210\u529f"):m(g(r,ue))?p(a.string,"\u5927\u5931\u6557"):p(a.string,"\u5931\u6557"),O="\u30b9\u30c6\u30c3\u30d7"+s+">="+i+" \uff1e "+a.string),O)},1),R(D,"$getStepTable",function(){return[[-2,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[0,0,0,0,0,1,0,0,0,1,1,2,1,0,0,0,1,0,0,0,1,1,2,1,1,1,1,2,1,1,1,2,3,2,1,1,1,2,1,1,0,0,1,0,0,0,1,0,0,0,1,1,2,1],[0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1,0,1,0,0,1,1,2,1,1,1,2,2,1,1,1,1,2,1,1,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0],[0,0,0,1,0,0,0,2,1,1,0,0,0,0,1,0,0,0,2,1,1,0,0,0,0,1,0,0,0,2,1,0,0,0,0,1,0,0,0,2,0,0,0,0,1,0,0,0,2,1,1,0,0,0],[1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[6,8,10,12,14,17,19,20,22,24,25,27,29,32,33,35,37,38,39,41,42,44,45,47,48,49,51,52,54,55,56,58,59,60,62,64,65,67,68,70,71,72],[4,6,8,10,11,13,15,16,18,19,21,22,24,26,27,29,30,32,33,34,35,37,38,40,41,42,43,45,46,47,48,49,51,52,53,55,56,58,59,60,61,62],[2,4,6,7,9,10,12,13,14,15,17,18,20,21,22,24,25,26,27,28,29,31,32,33,34,35,36,38,39,40,41,42,43,45,46,47,48,50,51,52,53,54],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],[0,1,1,1,1,2,2,3,4,5,5,6,6,7,8,8,9,10,11,12,13,13,14,15,16,17,18,18,18,20,21,22,23,23,24,25,26,26,27,28,29,30]]},0),R(D,"$rollStep",function($,a){var r=this,s=t;return r.$debug("rollStep diceType, diceCount, @string",$,a,r.string),s=0,m(h(a,0))&&(m(r.string["$empty?"]())||(r.string=p(r.string,"+")),r.string=p(r.string,a+"d"+$+"["),r.$debug("rollStep @string",r.string),Y(a,"times",[],function i(u){var c=null==i.$$s?this:i.$$s,b=t,f=t;for(null==c.randomizer&&(c.randomizer=t),null==c.string&&(c.string=t),null==u&&(u=t),b=c.randomizer.$roll_once($),E(b,1)&&(c.isFailed=!1),f=b;M(b,$);)b=c.randomizer.$roll_once($),f=p(f,b);return s=p(s,f),E(u,0)&&(c.string=p(c.string,",")),c.string=p(c.string,f.$to_s())},{$$arity:1,$$s:r}),r.string=p(r.string,"]")),s},2)})},410:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var p,Y,V,J,I,w,j,N,M,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.rb_divide,R=e.truthy,m=e.rb_le,h=e.rb_ge,g=e.rb_minus,y=e.def;return p=H,Y=M=[n(H[0],"BCDice")].concat(p),j=[n(M[0],"GameSystem")].concat(Y),N=e.$r(j),V=j,I=[J=B(j[0],N("Base"),"EclipsePhase")].concat(V),w=e.$r(I),C(I[0],"ID","EclipsePhase"),C(I[0],"NAME","\u30a8\u30af\u30ea\u30d7\u30b9\u30fb\u30d5\u30a7\u30a4\u30ba"),C(I[0],"SORT_KEY","\u3048\u304f\u308a\u3075\u3059\u3075\u3048\u3044\u3059"),C(I[0],"HELP_MESSAGE","1D100<=m \u65b9\u5f0f\u306e\u5224\u5b9a\u3067\u6210\u5426\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u81ea\u52d5\u5224\u5b9a"),y(J,"$result_1d100",function(A,x,D,T){var d=t,o=t,l=t,$=t;return v(T,"?")||!v(D,"<=")?t:(d=A["$%"](100),o=S(d,10).$to_i(),l=d["$%"](10),v(o,l)?v(d,99)?w("Result").$fumble("\u6c7a\u5b9a\u7684\u5931\u6557"):v(d,0)?w("Result").$critical("00 \uff1e \u6c7a\u5b9a\u7684\u6210\u529f"):R(m(A,T))?w("Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):w("Result").$fumble("\u6c7a\u5b9a\u7684\u5931\u6557"):($=30,R(m(A,T))?R(h(A,$))?w("Result").$success("\u30a8\u30af\u30bb\u30ec\u30f3\u30c8"):w("Result").$success("\u6210\u529f"):R(h(g(A,T),$))?w("Result").$failure("\u30b7\u30d3\u30a2"):w("Result").$failure("\u5931\u6557")))},4)})},8326:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var p,Y,V,J,I,w,j,N,M,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_le,m=e.rb_ge,h=e.rb_divide,g=e.rb_lt,y=e.def;return p=H,Y=M=[n(H[0],"BCDice")].concat(p),j=[n(M[0],"GameSystem")].concat(Y),N=e.$r(j),V=j,I=[J=B(j[0],N("Base"),"Elric")].concat(V),w=e.$r(I),C(I[0],"ID","Elric"),C(I[0],"NAME","\u30a8\u30eb\u30ea\u30c3\u30af\uff01"),C(I[0],"SORT_KEY","\u3048\u308b\u308a\u3064\u304f"),C(I[0],"HELP_MESSAGE","\u8cab\u901a\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),y(J,"$result_1d100",function(A,x,D,T){return v(D,"<=")?S(R(A,1))?w("Result").$critical("\u8cab\u901a"):S(m(A,100))?w("Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):v(T,"?")?w("Result").$nothing():S(R(A,h(T,5).$ceil()))?w("Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):S(R(A,T))?w("Result").$success("\u6210\u529f"):S(m(A,99))&&S(g(T,100))?w("Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):w("Result").$failure("\u5931\u6557"):t},4)})},2035:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var N,J,D,T,d,o,w,z,P,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.send,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.rb_plus,E=e.rb_gt,M=e.rb_lt,L=e.eqeqeq,Y=e.neqeq,G=e.rb_minus;return N=H,J=P=[n(H[0],"BCDice")].concat(N),w=[n(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=B(w[0],z("Base"),"EmbryoMachine")].concat(D),o=e.$r(d),T.$$prototype.randomizer=t,C(d[0],"ID","EmbryoMachine"),C(d[0],"NAME","\u30a8\u30e0\u30d6\u30ea\u30aa\u30de\u30b7\u30f3RPG"),C(d[0],"SORT_KEY","\u3048\u3080\u3075\u308a\u304a\u307e\u3057\u3093RPG"),C(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30ed\u30fc\u30eb(EMt+m@c#f)\n\u3000\u76ee\u6a19\u5024t\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c(\u7701\u7565\u6642\u306f20)\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f(\u7701\u7565\u6642\u306f2)\u3067\u653b\u6483\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u547d\u4e2d\u3057\u305f\u5834\u5408\u306f\u547d\u4e2d\u30ec\u30d9\u30eb\u3068\u547d\u4e2d\u90e8\u4f4d\u3082\u81ea\u52d5\u51fa\u529b\u3057\u307e\u3059\u3002\n\u3000R\u30b3\u30de\u30f3\u30c9\u306b\u8aad\u307f\u66ff\u3048\u3055\u308c\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u547d\u4e2d\u90e8\u4f4d\u8868\u3000HLT\n\u3000\u30fb\u767d\u5175\u653b\u6483\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000MFT\n\u3000\u30fb\u5c04\u6483\u653b\u6483\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000SFT\n"),T.$register_prefix("EM","HLT","MFT","SFT","2R10"),R(T,"$initialize",function $(a){var s=this;return delete $.$$p,v(s,S(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0},1),R(T,"$replace_text",function(a){return m(m(m(m(m(m(m(m(a,"gsub",[/EM(\d+)([+\-][+\-\d]+)(@(\d+))(\#(\d+))/i],function(){return"2R10"+o("Regexp").$last_match(2)+">="+o("Regexp").$last_match(1)+"["+o("Regexp").$last_match(4)+","+o("Regexp").$last_match(6)+"]"},0),"gsub",[/EM(\d+)([+\-][+\-\d]+)(\#(\d+))/i],function(){return"2R10"+o("Regexp").$last_match(2)+">="+o("Regexp").$last_match(1)+"[20,"+o("Regexp").$last_match(4)+"]"},0),"gsub",[/EM(\d+)([+\-][+\-\d]+)(@(\d+))/i],function(){return"2R10"+o("Regexp").$last_match(2)+">="+o("Regexp").$last_match(1)+"["+o("Regexp").$last_match(4)+",2]"},0),"gsub",[/EM(\d+)([+\-][+\-\d]+)/i],function(){return"2R10"+o("Regexp").$last_match(2)+">="+o("Regexp").$last_match(1)+"[20,2]"},0),"gsub",[/EM(\d+)(@(\d+))(\#(\d+))/i],function(){return"2R10>="+o("Regexp").$last_match(1)+"["+o("Regexp").$last_match(3)+","+o("Regexp").$last_match(5)+"]"},0),"gsub",[/EM(\d+)(\#(\d+))/i],function(){return"2R10>="+o("Regexp").$last_match(1)+"[20,"+o("Regexp").$last_match(3)+"]"},0),"gsub",[/EM(\d+)(@(\d+))/i],function(){return"2R10>="+o("Regexp").$last_match(1)+"["+o("Regexp").$last_match(3)+",2]"},0),"gsub",[/EM(\d+)/i],function(){return"2R10>="+o("Regexp").$last_match(1)+"[20,2]"},0)},1),R(T,"$result_nd10",function(a,r,s,i,u){return h(i,">=")?g(y(r,2))?o("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):g(k(r,20))?o("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):h(u,"?")?o("Result").$nothing():g(k(a,u))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557"):t},5),R(T,"$checkRoll",function(a){var r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t;return a=r.$replace_text(a),g(/(^|\s)S?(2[rR]10([+\-\d]+)?([>=]+(\d+))(\[(\d+),(\d+)\]))(\s|$)/i["$=~"](a))?(a=o("Regexp").$last_match(2),s=0,i=20,u=2,_=0,c=o("Regexp").$last_match(3),g(o("Regexp").$last_match(5))&&(s=o("Regexp").$last_match(5).$to_i()),g(o("Regexp").$last_match(7))&&(i=o("Regexp").$last_match(7).$to_i()),g(o("Regexp").$last_match(8))&&(u=o("Regexp").$last_match(8).$to_i()),g(c)&&(_=o("ArithmeticEvaluator").$eval(c)),f=(b=r.randomizer.$roll_barabara(2,10).$sort()).$sum(),q=b.$join(","),F=r.randomizer.$roll_sum(2,10),U=b["$[]"](1),W=f+"["+q+"]",X=p(f,_),g(E(_,0))?W=p(W,"+"+_):g(M(_,0))&&(W=p(W,_.$to_s())),W=g(W["$=~"](/[^\d\[\]]+/))?"("+a+") \uff1e "+W+" \uff1e "+X:"("+a+") \uff1e "+W,W=g(y(f,u))?p(W," \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb"):g(k(f,i))?p(W,p(p(" \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb \uff1e ",r.$get_hit_level_table(U)),"(\u30c0\u30e1\u30fc\u30b8+10) \uff1e ["+F+"]"+r.$get_hit_location_table(F))):g(k(X,s))?p(W,p(p(" \uff1e \u6210\u529f \uff1e ",r.$get_hit_level_table(U))," \uff1e ["+F+"]"+r.$get_hit_location_table(F))):p(W," \uff1e \u5931\u6557")):t},1),R(T,"$eval_game_system_specific_command",function(a){var s,r=this,i=t,u=t,_=t,c=t;return r.$debug("eval_game_system_specific_command command",a),g(s=r.$checkRoll(a))?s:(i="1",u="",_=0,L(/HLT/i,c=a)?(u="\u547d\u4e2d\u90e8\u4f4d",_=r.randomizer.$roll_sum(2,10),i=r.$get_hit_location_table(_)):L(/SFT/i,c)?(u="\u5c04\u6483\u30d5\u30a1\u30f3\u30d6\u30eb",_=r.randomizer.$roll_sum(2,10),i=r.$get_shoot_fumble_table(_)):L(/MFT/i,c)&&(u="\u767d\u5175\u30d5\u30a1\u30f3\u30d6\u30eb",_=r.randomizer.$roll_sum(2,10),i=r.$get_melee_fumble_table(_)),Y(i,"1")&&(i=u+"\u8868("+_+") \uff1e "+i),i)},1),R(T,"$get_hit_location_table",function(a){return this.$get_table_by_number(a,[[4,"\u982d"],[7,"\u5de6\u811a"],[9,"\u5de6\u8155"],[12,"\u80f4"],[14,"\u53f3\u8155"],[17,"\u53f3\u811a"],[20,"\u982d"]])},1),R(T,"$get_shoot_fumble_table",function(a){var r=t,s=t;return r="1",g((s=["\u66b4\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u3042\u307e\u308a\u306b\u7121\u69d8\u306a\u8aa4\u5c04\u3092\u3057\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u7cbe\u795e\u7684\u8ca0\u50b7\u304c2\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u81ea\u6a5f\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u5bfe\u8c61\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u6b66\u88c5\u304c\u66b4\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u304c\u7834\u640d\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u306f\u767a\u751f\u3057\u306a\u3044\u3002","\u8ee2\u5012\u3057\u305f\u3002\u6b21\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5f85\u6a5f\u306b\u5909\u66f4\u3055\u308c\u308b\u3002","\u5f3e\u8a70\u307e\u308a\u3092\u8d77\u3053\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306f\u6226\u95d8\u7d42\u4e86\u307e\u3067\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u3002","\u7832\u8eab\u304c\u5927\u304d\u304f\u6b6a\u3093\u3060\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306b\u3088\u308b\u5c04\u6483\u653b\u6483\u306e\u547d\u4e2d\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-3\u3055\u308c\u308b\u3002","\u71b1\u91cf\u304c\u6fc0\u3057\u304f\u5897\u5927\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u6d88\u8cbb\u5f3e\u85ac\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067+3\u3055\u308c\u308b\u3002","\u66b4\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u5f3e\u85ac\u304c\u52a3\u5316\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u5168\u3066\u306e\u30c0\u30e1\u30fc\u30b8\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b\u3002","\u7121\u69d8\u306a\u8aa4\u5c04\u3092\u3057\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u7cbe\u795e\u7684\u8ca0\u50b7\u304c1\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u5bfe\u8c61\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u81ea\u6a5f\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u7832\u8eab\u304c\u6b6a\u3093\u3060\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306b\u3088\u308b\u5c04\u6483\u653b\u6483\u306e\u547d\u4e2d\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b\u3002","\u71b1\u91cf\u304c\u5897\u5927\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u6d88\u8cbb\u5f3e\u85ac\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067+2\u3055\u308c\u308b\u3002","\u7832\u8eab\u304c\u308f\u305a\u304b\u306b\u6b6a\u3093\u3060\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306b\u3088\u308b\u5c04\u6483\u653b\u6483\u306e\u547d\u4e2d\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-1\u3055\u308c\u308b\u3002","\u71b1\u91cf\u304c\u3084\u3084\u5897\u5927\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u6d88\u8cbb\u5f3e\u85ac\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067+1\u3055\u308c\u308b\u3002","\u4f55\u3082\u8d77\u304d\u306a\u304b\u3063\u305f\u3002"])["$[]"](G(a,2)))&&(r=s["$[]"](G(a,2))),r},1),R(T,"$get_melee_fumble_table",function(a){var r=t,s=t;return r="1",g((s=["\u5927\u632f\u308a\u3057\u3059\u304e\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306e\u53cd\u5bfe\u306e\u90e8\u4f4d(\u53f3\u8155\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u5de6\u5074)\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u6fc0\u3057\u304f\u982d\u3092\u6253\u3063\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u8089\u4f53\u7684\u8ca0\u50b7\u304c2\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u904e\u8ca0\u8377\u3067\u90e8\u4f4d\u304c\u7206\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u304c\u5168\u58ca\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u306f\u767a\u751f\u305b\u305a\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u6b66\u88c5\u3082\u7834\u640d\u3057\u306a\u3044\u3002","\u5927\u632f\u308a\u3057\u3059\u304e\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306e\u53cd\u5bfe\u306e\u90e8\u4f4d(\u53f3\u8155\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u5de6\u5074)\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u6b66\u88c5\u304c\u7206\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u7834\u640d\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u306f\u767a\u751f\u3057\u306a\u3044\u3002","\u90e8\u5206\u7684\u306b\u6a5f\u80fd\u505c\u6b62\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u306f\u6226\u95d8\u7d42\u4e86\u307e\u3067\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u3002","\u8ee2\u5012\u3057\u305f\u3002\u6b21\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5f85\u6a5f\u306b\u5909\u66f4\u3055\u308c\u308b\u3002","\u6fc0\u3057\u3044\u5203\u3053\u307c\u308c\u3092\u8d77\u3053\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u306e\u5168\u3066\u306e\u30c0\u30e1\u30fc\u30b8\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-3\u3055\u308c\u308b\u3002","\u5730\u9762\u306e\u51f9\u51f8\u306b\u306f\u307e\u3063\u305f\u3002\u6b21\u306e2\u30bb\u30b0\u30e1\u30f3\u30c8\u306f\u79fb\u52d5\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002","\u5203\u3053\u307c\u308c\u3092\u8d77\u3053\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u306e\u5168\u3066\u306e\u30c0\u30e1\u30fc\u30b8\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b\u3002","\u5927\u632f\u308a\u3057\u3059\u304e\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306e\u53cd\u5bfe\u306e\u90e8\u4f4d(\u53f3\u8155\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u5de6\u5074)\u306b\u547d\u4e2d\u30ec\u30d9\u30ebC\u3067\u547d\u4e2d\u3059\u308b\u3002","\u982d\u3092\u6253\u3063\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u8089\u4f53\u7684\u8ca0\u50b7\u304c1\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u99c6\u52d5\u7cfb\u304c\u640d\u50b7\u3057\u305f\u3002\u79fb\u52d5\u529b\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b(\u6700\u4f4e1)\u3002","\u9593\u5408\u3044\u3092\u53d6\u308a\u640d\u306d\u305f\u3002\u96a3\u63a5\u3057\u3066\u3044\u308b\u6a5f\u4f53(\u8907\u6570\u306e\u5834\u5408\u306f1\u6a5f\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u6c7a\u5b9a)\u306b\u6fc0\u7a81\u3059\u308b\u3002","\u6a5f\u4f53\u3054\u3068\u7a81\u3063\u8fbc\u3093\u3060\u3002\u6a5f\u4f53\u304c\u5411\u3044\u3066\u3044\u308b\u65b9\u89d2\u3078\u79fb\u52d5\u529b\u3092\u3059\u3079\u3066\u6d88\u8cbb\u3059\u308b\u307e\u3067\u79fb\u52d5\u3059\u308b\u3002","\u5236\u5fa1\u7cfb\u304c\u640d\u50b7\u3057\u305f\u3002\u56de\u907f\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-1\u3055\u308c\u308b(\u6700\u4f4e1)\u3002","\u8e0f\u307f\u8aa4\u3063\u305f\u3002\u6a5f\u4f53\u304c\u5411\u3044\u3066\u3044\u308b\u65b9\u89d2\u3078\u79fb\u52d5\u529b\u306e\u534a\u5206\u3092\u6d88\u8cbb\u3059\u308b\u307e\u3067\u79fb\u52d5\u3059\u308b\u3002","\u305f\u305f\u3089\u3092\u8e0f\u3093\u3060\u3002\u6a5f\u4f53\u304c\u5411\u3044\u3066\u3044\u308b\u65b9\u89d2\u30781\u306e\u79fb\u52d5\u529b\u3067\u79fb\u52d5\u3059\u308b\u3002","\u4f55\u3082\u8d77\u304d\u306a\u304b\u3063\u305f\u3002"])["$[]"](G(a,2)))&&(r=s["$[]"](G(a,2))),r},1),R(T,"$get_hit_level_table",function(a){return this.$get_table_by_number(a,[[6,"\u547d\u4e2d\u30ec\u30d9\u30ebC"],[9,"\u547d\u4e2d\u30ec\u30d9\u30ebB"],[10,"\u547d\u4e2d\u30ec\u30d9\u30ebA"]])},1)})},8686:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.def,R=e.send,m=e.rb_le,h=e.rb_minus,g=e.rb_ge,y=e.rb_plus,k=e.rb_times,p=e.to_a,E=e.truthy,M=e.rb_lt,L=e.eqeq;return G=H,P=N=[n(H[0],"BCDice")].concat(G),J=[n(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=B(J[0],I("Base"),"Emoklore")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,C(D[0],"ID","Emoklore"),C(D[0],"NAME","\u30a8\u30e2\u30af\u30ed\u30a2TRPG"),C(D[0],"SORT_KEY","\u3048\u3082\u304f\u308d\u3042TRPG"),C(D[0],"HELP_MESSAGE",'\u30fb\u6280\u80fd\u5024\u5224\u5b9a\uff08xDM<=y\uff09\n  "(\u500b\u6570)DM<=(\u5224\u5b9a\u5024)"\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u306e\u500b\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u54081\u500b\u306b\u306a\u308a\u307e\u3059\u3002\n  \u4f8b\uff092DM<=5 DM<=8\n\u30fb\u6280\u80fd\u5024\u5224\u5b9a\uff08sDAa+z)\n  "(\u6280\u80fd\u30ec\u30d9\u30eb)DA(\u80fd\u529b\u5024)+(\u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9)"\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n  \u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9\u306e\u500b\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u54080\u306b\u306a\u308a\u307e\u3059\u3002\n  \u6280\u80fd\u30ec\u30d9\u30eb\u306f1\uff5e3\u306e\u6570\u5024\u3001\u307e\u305f\u306f\u30d9\u30fc\u30b9\u6280\u80fd\u306e\u5834\u5408"b"\u304c\u5165\u308a\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u306e\u500b\u6570\u306f\u6280\u80fd\u30ec\u30d9\u30eb\u3068\u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9\u306e\u500b\u6570\u306b\u3088\u308a\u6c7a\u5b9a\u3057\u3001s+z\u500b\u306e\u30c0\u30a4\u30b9\u3092\u632f\u308a\u307e\u3059\u3002\uff08s="b"\u306e\u5834\u5408\u306fs=1\uff09\n  \u5224\u5b9a\u5024\u306fs+a\u3068\u306a\u308a\u307e\u3059\u3002\uff08s="b"\u306e\u5834\u5408\u306fs=0\uff09\n'),x.$register_prefix("\\d*DM<=","(B|\\d*)DA"),C(D[0],"CRITICAL_VALUE",1),C(D[0],"FUMBLE_VALUE",10),S(x,"$eval_game_system_specific_command",function(l){var a;return v(/^\d*DM<=\d/,a=l)?this.$roll_dm(l):v(/^(B|\d*)DA\d+(\+)?\d*/,a)?this.$roll_da(l):t},1),x.$private(),S(x,"$dice_roll",function(l,$){var i,u,_,c,f,r=t,s=t,b=t;return r=this.randomizer.$roll_barabara(l,10),s=R(r,"reject",[],function(F){return null==F&&(F=t),m(F,T("CRITICAL_VALUE"))},1),i=h(r.$size(),s.$size()),u=R(s,"count",[],function(F){return null==F&&(F=t),m(F,$)},1),_=R(s,"count",[],function(F){return null==F&&(F=t),g(F,T("FUMBLE_VALUE"))},1),c=h(y(k(2,i),u),_),b=this.$compare_result(c),f=["["+r.$join(", ")+"] \uff1e "+c+" \uff1e \u6210\u529f\u6570"+c+" "+b.$text()],R(b,"text=",p(f)),h(f.length,1),b},2),S(x,"$compare_result",function(l){return E(M(l,0))?T("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb!"):L(l,0)?T("Result").$failure("\u5931\u6557!"):L(l,1)?T("Result").$success("\u6210\u529f!"):L(l,2)?T("Result").$critical("\u30c0\u30d6\u30eb!"):L(l,3)?T("Result").$critical("\u30c8\u30ea\u30d7\u30eb!"):E(m(l,9))?T("Result").$critical("\u30df\u30e9\u30af\u30eb!"):T("Result").$critical("\u30ab\u30bf\u30b9\u30c8\u30ed\u30d5!")},1),S(x,"$roll_dm",function(l){var $,r=t,s=t,i=t,u=t,_=t,c=t;return r=/^(\d+)?DM<=(\d+)$/.$match(l),!E(r)||(s=E(i=($=r["$[]"](1))===t||null==$?t:R($,"to_i",[]))?i:1,u=r["$[]"](2).$to_i(),E(m(s,0)))?t:(c=["("+s+"DM<="+u+") \uff1e "+(_=this.$dice_roll(s,u)).$text()],R(_,"text=",p(c)),h(c.length,1),_)},1),S(x,"$roll_da",function(l){var $,r=t,s=t,i=t,u=t,_=t,c=t,b=t;return r=/^(B|\d+)?DA(\d+)(\+\d+)?$/.$match(l),E(r)?(s=r["$[]"](3).$to_i(),b=["("+l+") \uff1e ("+(i=y(L(r["$[]"](1),"B")?1:E(u=($=r["$[]"](1))===t||null==$?t:R($,"to_i",[]))?u:1,s))+"DM<="+(_=y(r["$[]"](1).$to_i(),r["$[]"](2).$to_i()))+") \uff1e "+(c=this.$dice_roll(i,_)).$text()],R(c,"text=",p(b)),h(b.length,1),c):t},1)})},4869:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var N,J,D,T,d,o,w,z,P,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.eqeqeq,y=e.to_ary,k=e.neqeq,p=e.rb_times,E=e.send,M=e.rb_plus,L=e.rb_gt,Y=e.range,G=e.eqeq;return N=H,J=P=[B(H[0],"BCDice")].concat(N),w=[B(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=C(w[0],z("Base"),"EndBreaker")].concat(D),o=e.$r(d),T.$$prototype.randomizer=t,v(d[0],"ID","EndBreaker"),v(d[0],"NAME","\u30a8\u30f3\u30c9\u30d6\u30ec\u30a4\u30ab\u30fc\uff01"),v(d[0],"SORT_KEY","\u3048\u3093\u3068\u3075\u308c\u3044\u304b\u3042"),v(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a (nEB)\n  n\u500b\u306eD6\u3092\u632f\u308b\u5224\u5b9a\u3002\u30c0\u30d6\u30eb\u30c8\u30ea\u30ac\u30fc\u767a\u52d5\u3067\u81ea\u52d5\u632f\u308a\u8db3\u3057\u3002\n\u30fb\u5404\u7a2e\u8868\n  \u30fb\u751f\u6b7b\u4e0d\u660e\u8868 (LDUT)\n"),T.$register_prefix("\\d+EB","LDUT"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,S(s,R(s,"initialize",$,!1,!0),"initialize",[a],null),s.d66_sort_type=n(o("D66SortType"),"NO_SORT")},1),m(T,"$eval_game_system_specific_command",function(a){var r,s,u=t,_=t,c=t;return h(a["$=~"](/(\d+)EB/i))?(u=o("Regexp").$last_match(1).$to_i(),this.$checkRoll(u)):(_="",c="",g("LDUT",a)?(_="\u751f\u6b7b\u4e0d\u660e\u8868",s=this.$getLifeAndDeathUnknownResult(),c=null==(r=y(s))[0]?t:r[0],_+"("+(null==r[1]?t:r[1])+"):"+c):t)},1),m(T,"$checkRoll",function(a){var i=t,u=t,_=t,c=t;for(this.$debug("EndBreaker diceCount",a),i=a,u="",_=[];k(i,0);)c=this.randomizer.$roll_barabara(i,6).$sort(),_.$concat(c),i=p(E(c,"select",[],function(f){return null==f&&(f=t),f["$=="](1)},1).$size(),2),u=M(u,"["+c.$join()+"]"),h(L(i,0))&&(u=M(u," \u30c0\u30d6\u30eb\u30c8\u30ea\u30ac\u30fc! "));return u=M(u," \uff1e"),E(Y(2,6,!1),"each",[],function(f){var q;return null==f&&(f=t),q=E(_,"select",[],function(U){return null==U&&(U=t),U["$=="](f)},1).$size(),G(q,0)?t:u=M(u," ["+f+":"+q+"\u500b]")},1),u},1),m(T,"$getLifeAndDeathUnknownResult",function(){return this.$get_table_by_d66([" 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 5\u65e5\uff1a\u6575\u306b\u6355\u3089\u308f\u308c\u3001\u3072\u3069\u3044\u66b4\u884c\u3068\u62f7\u554f\u3092\u53d7\u3051\u305f\u3002"," 2\u65e5\uff1a\u8b0e\u306e\u4eba\u7269\u306b\u547d\u3092\u6551\u308f\u308c\u305f\u3002","10\u65e5\uff1a\u5974\u96b7\u3068\u3057\u3066\u58f2\u308a\u98db\u3070\u3055\u308c\u305f\u3002"," 8\u65e5\uff1a\u304a\u305e\u307e\u3057\u3044\u5100\u5f0f\u306e\u751f\u8d04\u3068\u3057\u3066\u9023\u308c\u53bb\u3089\u308c\u305f\u3002"," 9\u65e5\uff1a\u5e7d\u9589\u30fb\u6295\u7344\u3055\u308c\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01"," 7\u65e5\uff1a\u30e2\u30f3\u30b9\u30bf\u30fc\u8822\u304f\u5730\u4e0b\u8ff7\u5bae\u306b\u6ed1\u843d\u3057\u305f\u3002","12\u65e5\u5f37\u529b\u306a\u30de\u30b9\u30ab\u30ec\u30a4\u30c9\u306b\u3068\u3089\u308f\u308c\u3001\u5b9f\u9a13\u53f0\u306b\u3055\u308c\u305f\u3002"," 8\u65e5\uff1a\u653e\u6d6a\u4e2d\u306b\u906d\u9047\u3057\u305f\u4e8b\u4ef6\u3092\u3001\u98af\u723d\u3068\u89e3\u6c7a\u3057\u3066\u3044\u305f\u3002"," 5\u65e5\uff1a\u98e2\u9913\u72b6\u614b\u306b\u8ffd\u3044\u8fbc\u307e\u308c\u305f\u3002","15\u65e5\uff1a\u8a18\u61b6\u3092\u5931\u3044\u653e\u6d6a\u3057\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01","10\u65e5\uff1a\u7570\u6027\u306b\u547d\u3092\u6551\u308f\u308c\u3066\u3001\u624b\u539a\u3044\u770b\u75c5\u3092\u53d7\u3051\u305f\u3002"," 3\u65e5\uff1a\u8ca0\u50b7\u304b\u3089\u304f\u308b\u71b1\u75c5\u3067\u3001\u751f\u6b7b\u306e\u5883\u3092\u5f77\u5fa8\u3063\u305f\u3002","11\u65e5\uff1a\u95d8\u5974\u306b\u3055\u308c\u305f\u304c\u3001\u6226\u3044\u3068\u53cb\u60c5\u306e\u672b\u306b\u81ea\u7531\u3092\u7372\u5f97\u3057\u305f\u3002"," 6\u65e5\uff1a\u8ca0\u50b7\u3057\u305f\u307e\u307e\u5ddd\u306b\u843d\u3061\u3001\u9065\u304b\u4e0b\u6d41\u307e\u3067\u6d41\u3055\u308c\u305f\u3002"," 9\u65e5\uff1a\u6575\u306b\u9023\u308c\u53bb\u3089\u308c\u3001\u57f7\u62d7\u306a\u62f7\u554f\u3092\u53d7\u3051\u7d9a\u3051\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01"," 4\u65e5\uff1a\u7e70\u308a\u8fd4\u3059\u300c\u6b7b\u306e\u60aa\u5922\u300d\u306b\u82db\u307e\u308c\u305f\u3002"," 3\u65e5\uff1a\u5de8\u7363\u306e\u5de3\u306b\u9023\u308c\u53bb\u3089\u308c\u305f\u3002","10\u65e5\uff1a\u8b0e\u306e\u96c6\u56e3\u306b\u6551\u308f\u308c\u3066\u3001\u624b\u539a\u3044\u770b\u75c5\u3092\u53d7\u3051\u305f\u3002"," 3\u65e5\uff1a\u30c1\u30c3\u30bf\u30cb\u30a2\u30f3\u306e\u96c6\u843d\u306b\u8ff7\u3044\u8fbc\u307f\u3001\u3082\u3066\u306a\u3057\u3092\u53d7\u3051\u305f\u3002"," 7\u65e5\uff1a\u30d4\u30e5\u30a2\u30ea\u30a3\u306e\u7fa4\u308c\u306b\u3068\u3089\u308f\u308c\u3001\u5f04\u3070\u308c\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01"," 6\u65e5\uff1a\u697d\u5712\u306e\u3088\u3046\u306a\u5834\u6240\u3092\u767a\u898b\u3057\u3001\u3057\u3070\u3089\u304f\u9017\u7559\u3057\u305f\u3002"," 9\u65e5\uff1a\u76d7\u8cca\u56e3\u306b\u6551\u308f\u308c\u3001\u6069\u8fd4\u3057\u3068\u3057\u3066\u5c11\u3057\u7528\u5fc3\u68d2\u3092\u3057\u305f\u3002","10\u65e5\uff1a\u71b1\u75c5\u306e\u898b\u305b\u308b\u5b98\u80fd\u7684\u306a\u5e7b\u5f71\u306b\u3068\u3089\u308f\u308c\u3001\u5f77\u5fa8\u3063\u305f\u3002"," 5\u65e5\uff1a\u8b0e\u306e\u8cde\u91d1\u9996\u306b\u72d9\u308f\u308c\u3001\u50b7\u3081\u3064\u3051\u3089\u308c\u3066\u3044\u305f\u3002"," - \uff1a\u300c\u4e94\u5206\u4e94\u5206\u300d\u306e\u4e00\u822c\u5224\u5b9a\u3002\u5931\u6557\u3059\u308b\u3068\u6b7b\u4ea1\u3002"])},0)})},3460:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/SRS"]=function(e){var N,J,D,a,r,s,i,T,d,o,l,w,z,P,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send,m=e.def,h=e.send2,g=e.find_super,y=e.truthy,k=e.eqeqeq,p=e.hash2,E=e.rb_plus,M=e.to_a,L=e.rb_minus,Y=e.rb_ge,G=e.rb_le;return e.top.$require("bcdice/arithmetic_evaluator"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"SRS")].concat(D),o=e.$r(d),(l=T.$$prototype).round_type=l.randomizer=l.sort_add_dice=n,S(d[0],"ID","SRS"),S(d[0],"NAME","\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9RPG\u30b7\u30b9\u30c6\u30e0"),S(d[0],"SORT_KEY","\u3059\u305f\u3093\u305f\u3042\u3068RPG\u3057\u3059\u3066\u3080"),S(d[0],"HELP_MESSAGE_1","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\uff1a2D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m\u3001\u76ee\u6a19\u5024t\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u3054\u3068\u7701\u7565\u53ef\uff09\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u65e2\u5b9a\u5024\u306f\u3001\u305d\u308c\u305e\u308c12\u30012\u3067\u3059\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6>=10\u3000\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10\u3000\u3000\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[11]\u3000\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[12,4]\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_2","\u3000\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304a\u3088\u3073\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u307f\u306e\u5224\u5b9a\uff1a2D6+m[c,f]\n\u3000\u3000\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u305b\u305a\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u306f\u7701\u7565\u4e0d\u53ef\uff09\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6[]\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[11]\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[12,4]\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_3","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\uff08\u5165\u308c\u66ff\u3048\u306a\u3057)\n"),S(d[0],"DEFAULT_HELP_MESSAGE",o("HELP_MESSAGE_1")+"\n"+o("HELP_MESSAGE_2")+"\n"+o("HELP_MESSAGE_3")),S(d[0],"HELP_MESSAGE",o("DEFAULT_HELP_MESSAGE")),a=d,s=[r=C(d[0],"ClassMethods")].concat(a),i=e.$r(s),r.$attr_reader("help_message"),r.$attr_reader("aliases_re_for_srs_roll_with_target_value"),r.$attr_reader("aliases_re_for_srs_roll_without_target_value"),m(r,"$set_aliases_for_srs_roll",function(_){var c,f=this,q=n,F=n;return c=e.slice.call(arguments),q=R(c,"map",[],"upcase".$to_proc()),F=R(q,"map",[],function(W){return null==W&&(W=n),i("Regexp").$escape(W)},1).$join("|"),f.aliases_re_for_srs_roll_with_target_value=i("Regexp").$new("^(?:"+F+")((?:[-+][-+\\d]+)?>=\\d+(?:\\[\\d*(?:,\\d+)?\\])?)$"),f.aliases_re_for_srs_roll_without_target_value=i("Regexp").$new("^(?:"+F+")([-+][-+\\d]+)?(\\[\\d*(?:,\\d+)?\\])?$"),f.$prepare_help_msg_for_aliases_for_srs_roll(q),f.help_message=f.$concatenate_help_messages(),f},-1),m(r,"$clear_aliases_for_srs_roll",function(){var _=this;return _.aliases_re_for_srs_roll_with_target_value=n,_.aliases_re_for_srs_roll_without_target_value=n,_.help_message=B(i("SRS"),"DEFAULT_HELP_MESSAGE"),_},0),r.$private(),m(r,"$prepare_help_msg_for_aliases_for_srs_roll",function(_){var c=this;return c.help_msg_for_aliases_for_srs_roll_with_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"+2>=10\u3000\u3000\u3000\u3000 2d6+2>=10\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c.help_msg_for_aliases_for_srs_roll_without_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"\u3000\u3000\u3000\u3000\u3000 2d6[]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n\u3000\u3000\u4f8b) "+f+"+2[12,4]\u3000 2d6+2[12,4]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c},1),m(r,"$concatenate_help_messages",function(){var _=this;return null==_.help_msg_for_aliases_for_srs_roll_with_target_value&&(_.help_msg_for_aliases_for_srs_roll_with_target_value=n),null==_.help_msg_for_aliases_for_srs_roll_without_target_value&&(_.help_msg_for_aliases_for_srs_roll_without_target_value=n),B(i("SRS"),"HELP_MESSAGE_1")+(_.help_msg_for_aliases_for_srs_roll_with_target_value+"\n")+B(i("SRS"),"HELP_MESSAGE_2")+_.help_msg_for_aliases_for_srs_roll_without_target_value+"\n"+B(i("SRS"),"HELP_MESSAGE_3")},0),function($,a){var r=[$].concat(a),s=e.$r(r);m($,"$inherited",function(u){return u.$extend(s("ClassMethods")).$clear_aliases_for_srs_roll()},1),m($,"$help_message",function(){return s("DEFAULT_HELP_MESSAGE")},0),m($,"$aliases_re_for_srs_roll_with_target_value",function(){return n},0),m($,"$aliases_re_for_srs_roll_without_target_value",function(){return n},0)}(e.get_singleton_class(T),d),T.$register_prefix("2D6"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,h(s,g(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.d66_sort_type=B(o("D66SortType"),"NO_SORT")},1),m(T,"$help_message",function(){return this.$class().$help_message()},0),S(d[0],"DEFAULT_CRITICAL_VALUE",12),S(d[0],"DEFAULT_FUMBLE_VALUE",2),S(d[0],"SRS_ROLL_WITH_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?>=(\d+)(?:\[(\d+)?(?:,(\d+))?\])?$/.$freeze()),S(d[0],"SRS_ROLL_WITHOUT_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?\[(\d+)?(?:,(\d+))?\]$/.$freeze()),S(d[0],"SRS_ROLL_DEFAULT_THRESHOLDS","["+o("DEFAULT_CRITICAL_VALUE")+","+o("DEFAULT_FUMBLE_VALUE")+"]"),S(d[0],"SRSRollNode",R(o("Struct"),"new",["modifier","critical_value","fumble_value","target_value"],function $(){return m(null==$.$$s?this:$.$$s,"$to_s",function(){var i,s=this;return i="2D6"+o("Format").$modifier(s.$modifier()),(y(s.$target_value())?i+">="+s.$target_value():i)+"["+s.$critical_value()+","+s.$fumble_value()+"]"},0)},{$$arity:0,$$s:T})),m(T,"$eval_game_system_specific_command",function(a){var s,i,r=this;return s=r.$replace_alias_for_srs_roll_with_2d6(a),y(i=r.$parse(s))?r.$execute_srs_roll(i):n},1),T.$private(),m(T,"$replace_alias_for_srs_roll_with_2d6",function(a){var s,_=n;return k(this.$class().$aliases_re_for_srs_roll_with_target_value(),s=a)?"2D6"+o("Regexp").$last_match(1):k(this.$class().$aliases_re_for_srs_roll_without_target_value(),s)?"2D6"+o("Regexp").$last_match(1)+(y(_=o("Regexp").$last_match(2))?_:o("SRS_ROLL_DEFAULT_THRESHOLDS")):a},1),m(T,"$parse",function(a){var s;return k(o("SRS_ROLL_WITH_TARGET_VALUE_RE"),s=a)?this.$parse_srs_roll_with_target_value(o("Regexp").$last_match()):k(o("SRS_ROLL_WITHOUT_TARGET_VALUE_RE"),s)?this.$parse_srs_roll_without_target_value(o("Regexp").$last_match()):n},1),m(T,"$eval_modifier",function(a){return y(a)?o("ArithmeticEvaluator").$eval(a,p(["round_type"],{round_type:this.round_type})):0},1),m(T,"$parse_srs_roll_with_target_value",function(a){var r,s,u,_,c,f,b=n;return u=this.$eval_modifier(a["$[]"](1)),_=a["$[]"](2).$to_i(),c=y(b=(r=a["$[]"](3))===n||null==r?n:R(r,"to_i",[]))?b:o("DEFAULT_CRITICAL_VALUE"),f=y(b=(s=a["$[]"](4))===n||null==s?n:R(s,"to_i",[]))?b:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,c,f,_)},1),m(T,"$parse_srs_roll_without_target_value",function(a){var r,s,u,_,b,c=n;return u=this.$eval_modifier(a["$[]"](1)),_=y(c=(r=a["$[]"](2))===n||null==r?n:R(r,"to_i",[]))?c:o("DEFAULT_CRITICAL_VALUE"),b=y(c=(s=a["$[]"](3))===n||null==s?n:R(s,"to_i",[]))?c:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,_,b,n)},1),m(T,"$execute_srs_roll",function(a){var i,u,_,f,r=this,s=n,c=n;return s=r.randomizer.$roll_barabara(2,6),y(r.sort_add_dice)&&s["$sort!"](),i=s.$sum(),u=s.$join(","),_=E(i,a.$modifier()),c=r.$compare_result(a,i,_),f=[["("+a+")",i+"["+u+"]"+o("Format").$modifier(a.$modifier()),_,c.$text()].$compact().$join(" \uff1e ")],R(c,"text=",M(f)),L(f.length,1),c},1),m(T,"$compare_result",function(a,r,s){return y(Y(r,a.$critical_value()))?o("Result").$critical("\u81ea\u52d5\u6210\u529f"):y(G(r,a.$fumble_value()))?o("Result").$fumble("\u81ea\u52d5\u5931\u6557"):y(a.$target_value()["$nil?"]())?o("Result").$new():y(Y(s,a.$target_value()))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")},3)},Opal.queue(function(e){var R,y,Y,G,j,p,E,h,t=[],B=e.module,C=e.klass,v=e.const_set;return e.top.$require("bcdice/game_system/SRS"),R=t,y=h=[B(t[0],"BCDice")].concat(R),p=[B(h[0],"GameSystem")].concat(y),E=e.$r(p),Y=p,v((j=[G=C(p[0],E("SRS"),"EtrianOdysseySRS")].concat(Y))[0],"ID","EtrianOdysseySRS"),v(j[0],"NAME","\u4e16\u754c\u6a39\u306e\u8ff7\u5baeSRS"),v(j[0],"SORT_KEY","\u305b\u304b\u3044\u3057\u3086\u306e\u3081\u3044\u304d\u3086\u3046SRS"),G.$register_prefix("2D6","EO","SQ"),G.$set_aliases_for_srs_roll("EO","SQ"),v(j[0],"HELP_MESSAGE",G.$help_message())})},5925:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,T,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.def,R=e.hash2,m=e.truthy,h=e.rb_plus,g=e.send,y=e.to_a,k=e.rb_minus,p=e.eqeqeq,E=e.eqeq,M=e.rb_ge;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"FateCoreSystem")].concat(z),D=e.$r(x),(T=A.$$prototype).round_type=T.randomizer=t,v(x[0],"ID","FateCoreSystem"),v(x[0],"NAME","Fate Core System"),v(x[0],"SORT_KEY","\u3075\u3048\u3044\u3068\u3053\u3042\u3057\u3059\u3066\u3080"),v(x[0],"HELP_MESSAGE","\u25a0 \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u306b\u3088\u308b\u5224\u5b9a (xDF+y>=t)\n  \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u7d50\u679c\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff094DF, 4DF>=3, 4DF+1>=3\n"),A.$register_prefix("\\d+DF"),S(A,"$eval_game_system_specific_command",function(o){return this.$roll_df(o)},1),A.$private(),S(A,"$roll_df",function(o){var l=this,a=t,r=t,s=t,i=t,u=t,c=t;return a=n(D("Command"),"Parser").$new("DF",R(["round_type"],{round_type:l.round_type})).$enable_prefix_number().$restrict_cmp_op_to(">=",t).$parse(o),m(a)?(r=l.$roll_fate_dice(a.$prefix_number()),s=h(r.$sum(),a.$modify_number()),i=g(r,"map",[],function(f){return null==f&&(f=t),m(f["$zero?"]())?"[ ]":m(f["$positive?"]())?"[+]":"[-]"},1),u=l.$outcome(s,a.$target_number()),c=[["("+a+")",""+i.$join()+D("Format").$modifier(a.$modify_number()),l.$result_ladder(s),u.$text()].$compact().$join(" \uff1e ")],g(u,"text=",y(c)),k(c.length,1),u):t},1),S(A,"$roll_fate_dice",function(o){return g(this.randomizer.$roll_barabara(o,3),"map",[],function(a){return null==a&&(a=t),k(a,2)},1)},1),S(A,"$result_ladder",function(o){var a;return(p(8,a=o.$clamp(-2,8))?"Legendary":p(7,a)?"Epic":p(6,a)?"Fantastic":p(5,a)?"Superb":p(4,a)?"Great":p(3,a)?"Good":p(2,a)?"Fair":p(1,a)?"Average":p(0,a)?"Mediocre":p(-1,a)?"Poor":"Terrible")+"("+this.$format("%+d",o)+")"},1),S(A,"$outcome",function(o,l){return m(l["$nil?"]())?D("Result").$new():E(o,l)?D("Result").$success("Tie"):m(M(o,h(l,3)))?D("Result").$critical("Succeed with Style"):m(M(o,l))?D("Result").$success("Succeed"):D("Result").$failure("Fail")},2)})},6587:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,o,l,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.def,R=e.send,m=e.rb_plus,h=e.to_a,g=e.rb_minus,y=e.hash2,k=e.eqeqeq,p=e.eqeq,E=e.rb_gt;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"Fiasco")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","Fiasco"),C(A[0],"NAME","\u30d5\u30a3\u30a2\u30b9\u30b3"),C(A[0],"SORT_KEY","\u3075\u3044\u3042\u3059\u3053"),C(A[0],"HELP_MESSAGE","  \u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(FSx, WxBx)\n    \u76f8\u95a2\u56f3\u30fb\u8ee2\u843d\u8981\u7d20\u7528(FSx)\uff1a\u76f8\u95a2\u56f3\u3084\u8ee2\u843d\u8981\u7d20\u306e\u305f\u3081\u306bx\u500b\u30c0\u30a4\u30b9\u3092\u632f\u308a\u3001\u51fa\u76ee\u3054\u3068\u306b\u5206\u985e\u3059\u308b\n    \u9ed2\u767d\u5dee\u5206\u5224\u5b9a\u7528(WxBx)  \uff1a\u8ee2\u843d\u3001\u6b8b\u97ff\u306e\u305f\u3081\u306b\u767d\u30c0\u30a4\u30b9(W\u6307\u5b9a)\u3068\u9ed2\u30c0\u30a4\u30b9(B\u6307\u5b9a)\u3067\u5dee\u5206\u3092\u6c42\u3081\u308b\n      \u203b W\u3068B\u306f\u7247\u65b9\u6307\u5b9a(Bx, Wx)\u3001\u5165\u66ff\u6307\u5b9a(WxBx,BxWx)\u53ef\u80fd\n"),z.$register_prefix("FS","W","B"),S(z,"$eval_game_system_specific_command",function(d){var l,$,o=this;return v(l=v($=o.$roll_fs(d))?$:o.$roll_white_black(d))?l:o.$roll_white_black_single(d)},1),z.$private(),S(z,"$roll_fs",function(d){var l=t,$=t,a=t,r=t;return l=/^FS(\d+)$/.$match(d),v(l)?($=l["$[]"](1).$to_i(),a=this.randomizer.$roll_barabara($,6),r=[t,0,0,0,0,0,0],R(a,"each",[],function(i){var u;return null==i&&(i=t),u=[i,m(r["$[]"](i),1)],R(r,"[]=",h(u)),u[g(u.length,1)]},1),R(r,"map!",[],function s(i){return null==i&&(i=t),(null==s.$$s?this:s.$$s).$translate("Fiasco.fs.count",y(["count"],{count:i}))},{$$arity:1,$$s:this}),"1 => "+r["$[]"](1)+", 2 => "+r["$[]"](2)+", 3 => "+r["$[]"](3)+", 4 => "+r["$[]"](4)+", 5 => "+r["$[]"](5)+", 6 => "+r["$[]"](6)):t},1),S(z,"$roll_white_black_single",function(d){var l=t,$=t;return l=/^([WB])(\d+)$/.$match(d),v(l)?($=x("Side").$new(this.$color(l["$[]"](1)),l["$[]"](2).$to_i())).$roll(this.randomizer)+" \uff1e "+$.$color()+$.$total():t},1),S(z,"$roll_white_black",function(d){var o=this,l=t,$=t,a=t,s=t;return l=/^([WB])(\d+)([WB])(\d+)$/.$match(d),v(l)?k(/^W\d+W\d+$/,$=d)?d+"\uff1a"+o.$translate("Fiasco.wb.duplicate_error.white"):k(/^B\d+B\d+$/,$)?d+"\uff1a"+o.$translate("Fiasco.wb.duplicate_error.black"):(a=x("Side").$new(o.$color(l["$[]"](1)),l["$[]"](2).$to_i())).$roll(o.randomizer)+" "+(s=x("Side").$new(o.$color(l["$[]"](3)),l["$[]"](4).$to_i())).$roll(o.randomizer)+" \uff1e "+a.$diff(s):t},1),S(z,"$color",function(d){return p(d,"W")?this.$translate("Fiasco.white"):this.$translate("Fiasco.black")},1),(l=(o=B(A[0],null,"Side")).$$prototype).count=l.dice_list=l.color=l.total=t,S(o,"$initialize",function(a,r){return this.color=a,this.count=r},2),S(o,"$roll",function(a){var r=this;return r.dice_list=p(r.count,0)?[0]:a.$roll_barabara(r.count,6),r.total=r.dice_list.$sum(),""+r.color+r.total+"["+r.dice_list.$join(",")+"]"},1),S(o,"$diff",function(a){var r=this;return p(r.total,a.$total())?"0":v(E(r.total,a.$total()))?""+r.color+g(r.total,a.$total()):""+a.$color()+g(a.$total(),r.total)},1),o.$attr_reader("color","total")})},3734:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/Fiasco"]=function(e){var L,N,w,o,l,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.def,R=e.send,m=e.rb_plus,h=e.to_a,g=e.rb_minus,y=e.hash2,k=e.eqeqeq,p=e.eqeq,E=e.rb_gt;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"Fiasco")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","Fiasco"),C(A[0],"NAME","\u30d5\u30a3\u30a2\u30b9\u30b3"),C(A[0],"SORT_KEY","\u3075\u3044\u3042\u3059\u3053"),C(A[0],"HELP_MESSAGE","  \u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(FSx, WxBx)\n    \u76f8\u95a2\u56f3\u30fb\u8ee2\u843d\u8981\u7d20\u7528(FSx)\uff1a\u76f8\u95a2\u56f3\u3084\u8ee2\u843d\u8981\u7d20\u306e\u305f\u3081\u306bx\u500b\u30c0\u30a4\u30b9\u3092\u632f\u308a\u3001\u51fa\u76ee\u3054\u3068\u306b\u5206\u985e\u3059\u308b\n    \u9ed2\u767d\u5dee\u5206\u5224\u5b9a\u7528(WxBx)  \uff1a\u8ee2\u843d\u3001\u6b8b\u97ff\u306e\u305f\u3081\u306b\u767d\u30c0\u30a4\u30b9(W\u6307\u5b9a)\u3068\u9ed2\u30c0\u30a4\u30b9(B\u6307\u5b9a)\u3067\u5dee\u5206\u3092\u6c42\u3081\u308b\n      \u203b W\u3068B\u306f\u7247\u65b9\u6307\u5b9a(Bx, Wx)\u3001\u5165\u66ff\u6307\u5b9a(WxBx,BxWx)\u53ef\u80fd\n"),z.$register_prefix("FS","W","B"),S(z,"$eval_game_system_specific_command",function(d){var l,$,o=this;return v(l=v($=o.$roll_fs(d))?$:o.$roll_white_black(d))?l:o.$roll_white_black_single(d)},1),z.$private(),S(z,"$roll_fs",function(d){var l=t,$=t,a=t,r=t;return l=/^FS(\d+)$/.$match(d),v(l)?($=l["$[]"](1).$to_i(),a=this.randomizer.$roll_barabara($,6),r=[t,0,0,0,0,0,0],R(a,"each",[],function(i){var u;return null==i&&(i=t),u=[i,m(r["$[]"](i),1)],R(r,"[]=",h(u)),u[g(u.length,1)]},1),R(r,"map!",[],function s(i){return null==i&&(i=t),(null==s.$$s?this:s.$$s).$translate("Fiasco.fs.count",y(["count"],{count:i}))},{$$arity:1,$$s:this}),"1 => "+r["$[]"](1)+", 2 => "+r["$[]"](2)+", 3 => "+r["$[]"](3)+", 4 => "+r["$[]"](4)+", 5 => "+r["$[]"](5)+", 6 => "+r["$[]"](6)):t},1),S(z,"$roll_white_black_single",function(d){var l=t,$=t;return l=/^([WB])(\d+)$/.$match(d),v(l)?($=x("Side").$new(this.$color(l["$[]"](1)),l["$[]"](2).$to_i())).$roll(this.randomizer)+" \uff1e "+$.$color()+$.$total():t},1),S(z,"$roll_white_black",function(d){var o=this,l=t,$=t,a=t,s=t;return l=/^([WB])(\d+)([WB])(\d+)$/.$match(d),v(l)?k(/^W\d+W\d+$/,$=d)?d+"\uff1a"+o.$translate("Fiasco.wb.duplicate_error.white"):k(/^B\d+B\d+$/,$)?d+"\uff1a"+o.$translate("Fiasco.wb.duplicate_error.black"):(a=x("Side").$new(o.$color(l["$[]"](1)),l["$[]"](2).$to_i())).$roll(o.randomizer)+" "+(s=x("Side").$new(o.$color(l["$[]"](3)),l["$[]"](4).$to_i())).$roll(o.randomizer)+" \uff1e "+a.$diff(s):t},1),S(z,"$color",function(d){return p(d,"W")?this.$translate("Fiasco.white"):this.$translate("Fiasco.black")},1),(l=(o=B(A[0],null,"Side")).$$prototype).count=l.dice_list=l.color=l.total=t,S(o,"$initialize",function(a,r){return this.color=a,this.count=r},2),S(o,"$roll",function(a){var r=this;return r.dice_list=p(r.count,0)?[0]:a.$roll_barabara(r.count,6),r.total=r.dice_list.$sum(),""+r.color+r.total+"["+r.dice_list.$join(",")+"]"},1),S(o,"$diff",function(a){var r=this;return p(r.total,a.$total())?"0":v(E(r.total,a.$total()))?""+r.color+g(r.total,a.$total()):""+a.$color()+g(a.$total(),r.total)},1),o.$attr_reader("color","total")},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Fiasco"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Fiasco"),"Fiasco_Korean")].concat(N))[0],"ID","Fiasco:Korean"),v(P[0],"NAME","\ud53c\uc544\uc2a4\ucf54"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud53c\uc544\uc2a4\ucf54"),v(P[0],"HELP_MESSAGE","  \u30fb\ud310\uc815 \ucee4\ub9e8\ub4dc(FSx, WxBx)\n    \uad00\uacc4, \ube44\ud2c0\uae30 \uc694\uc18c\uc6a9(FSx)\uff1a\uad00\uacc4\ub098 \ube44\ud2c0\uae30 \uc694\uc18c\ub97c \uc704\ud574 x\uac1c\uc758 \ub2e4\uc774\uc2a4\ub97c \uad74\ub824 \ub098\uc628 \uac12\ubcc4\ub85c \ubd84\ub958\ud55c\ub2e4.\n    \ud751\ubc31\ucc28\uc774\ud310\uc815\uc6a9(WxBx)    \uff1a\ube44\ud2c0\uae30, \ud6c4\uae30\ub97c \uc704\ud574 \ud770 \ub2e4\uc774\uc2a4(W\uc9c0\uc815)\uacfc \uac80\uc740 \ub2e4\uc774\uc2a4(B\uc9c0\uc815)\uc73c\ub85c \ucc28\uc774\ub97c \uad6c\ud55c\ub2e4.\n      \u203b W\uc640B\ub294 \ud55c \ucabd\ub9cc \uc9c0\uc815(Bx, Wx), \uc55e\ub4a4 \ubc14\uafd4 \uc9c0\uc815(WxBx,BxWx)\ub3c4 \uac00\ub2a5\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1)})},1959:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/SRS"]=function(e){var N,J,D,a,r,s,i,T,d,o,l,w,z,P,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send,m=e.def,h=e.send2,g=e.find_super,y=e.truthy,k=e.eqeqeq,p=e.hash2,E=e.rb_plus,M=e.to_a,L=e.rb_minus,Y=e.rb_ge,G=e.rb_le;return e.top.$require("bcdice/arithmetic_evaluator"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"SRS")].concat(D),o=e.$r(d),(l=T.$$prototype).round_type=l.randomizer=l.sort_add_dice=n,S(d[0],"ID","SRS"),S(d[0],"NAME","\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9RPG\u30b7\u30b9\u30c6\u30e0"),S(d[0],"SORT_KEY","\u3059\u305f\u3093\u305f\u3042\u3068RPG\u3057\u3059\u3066\u3080"),S(d[0],"HELP_MESSAGE_1","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\uff1a2D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m\u3001\u76ee\u6a19\u5024t\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u3054\u3068\u7701\u7565\u53ef\uff09\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u65e2\u5b9a\u5024\u306f\u3001\u305d\u308c\u305e\u308c12\u30012\u3067\u3059\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6>=10\u3000\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10\u3000\u3000\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[11]\u3000\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[12,4]\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_2","\u3000\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304a\u3088\u3073\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u307f\u306e\u5224\u5b9a\uff1a2D6+m[c,f]\n\u3000\u3000\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u305b\u305a\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u306f\u7701\u7565\u4e0d\u53ef\uff09\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6[]\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[11]\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[12,4]\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_3","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\uff08\u5165\u308c\u66ff\u3048\u306a\u3057)\n"),S(d[0],"DEFAULT_HELP_MESSAGE",o("HELP_MESSAGE_1")+"\n"+o("HELP_MESSAGE_2")+"\n"+o("HELP_MESSAGE_3")),S(d[0],"HELP_MESSAGE",o("DEFAULT_HELP_MESSAGE")),a=d,s=[r=C(d[0],"ClassMethods")].concat(a),i=e.$r(s),r.$attr_reader("help_message"),r.$attr_reader("aliases_re_for_srs_roll_with_target_value"),r.$attr_reader("aliases_re_for_srs_roll_without_target_value"),m(r,"$set_aliases_for_srs_roll",function(_){var c,f=this,q=n,F=n;return c=e.slice.call(arguments),q=R(c,"map",[],"upcase".$to_proc()),F=R(q,"map",[],function(W){return null==W&&(W=n),i("Regexp").$escape(W)},1).$join("|"),f.aliases_re_for_srs_roll_with_target_value=i("Regexp").$new("^(?:"+F+")((?:[-+][-+\\d]+)?>=\\d+(?:\\[\\d*(?:,\\d+)?\\])?)$"),f.aliases_re_for_srs_roll_without_target_value=i("Regexp").$new("^(?:"+F+")([-+][-+\\d]+)?(\\[\\d*(?:,\\d+)?\\])?$"),f.$prepare_help_msg_for_aliases_for_srs_roll(q),f.help_message=f.$concatenate_help_messages(),f},-1),m(r,"$clear_aliases_for_srs_roll",function(){var _=this;return _.aliases_re_for_srs_roll_with_target_value=n,_.aliases_re_for_srs_roll_without_target_value=n,_.help_message=B(i("SRS"),"DEFAULT_HELP_MESSAGE"),_},0),r.$private(),m(r,"$prepare_help_msg_for_aliases_for_srs_roll",function(_){var c=this;return c.help_msg_for_aliases_for_srs_roll_with_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"+2>=10\u3000\u3000\u3000\u3000 2d6+2>=10\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c.help_msg_for_aliases_for_srs_roll_without_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"\u3000\u3000\u3000\u3000\u3000 2d6[]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n\u3000\u3000\u4f8b) "+f+"+2[12,4]\u3000 2d6+2[12,4]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c},1),m(r,"$concatenate_help_messages",function(){var _=this;return null==_.help_msg_for_aliases_for_srs_roll_with_target_value&&(_.help_msg_for_aliases_for_srs_roll_with_target_value=n),null==_.help_msg_for_aliases_for_srs_roll_without_target_value&&(_.help_msg_for_aliases_for_srs_roll_without_target_value=n),B(i("SRS"),"HELP_MESSAGE_1")+(_.help_msg_for_aliases_for_srs_roll_with_target_value+"\n")+B(i("SRS"),"HELP_MESSAGE_2")+_.help_msg_for_aliases_for_srs_roll_without_target_value+"\n"+B(i("SRS"),"HELP_MESSAGE_3")},0),function($,a){var r=[$].concat(a),s=e.$r(r);m($,"$inherited",function(u){return u.$extend(s("ClassMethods")).$clear_aliases_for_srs_roll()},1),m($,"$help_message",function(){return s("DEFAULT_HELP_MESSAGE")},0),m($,"$aliases_re_for_srs_roll_with_target_value",function(){return n},0),m($,"$aliases_re_for_srs_roll_without_target_value",function(){return n},0)}(e.get_singleton_class(T),d),T.$register_prefix("2D6"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,h(s,g(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.d66_sort_type=B(o("D66SortType"),"NO_SORT")},1),m(T,"$help_message",function(){return this.$class().$help_message()},0),S(d[0],"DEFAULT_CRITICAL_VALUE",12),S(d[0],"DEFAULT_FUMBLE_VALUE",2),S(d[0],"SRS_ROLL_WITH_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?>=(\d+)(?:\[(\d+)?(?:,(\d+))?\])?$/.$freeze()),S(d[0],"SRS_ROLL_WITHOUT_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?\[(\d+)?(?:,(\d+))?\]$/.$freeze()),S(d[0],"SRS_ROLL_DEFAULT_THRESHOLDS","["+o("DEFAULT_CRITICAL_VALUE")+","+o("DEFAULT_FUMBLE_VALUE")+"]"),S(d[0],"SRSRollNode",R(o("Struct"),"new",["modifier","critical_value","fumble_value","target_value"],function $(){return m(null==$.$$s?this:$.$$s,"$to_s",function(){var i,s=this;return i="2D6"+o("Format").$modifier(s.$modifier()),(y(s.$target_value())?i+">="+s.$target_value():i)+"["+s.$critical_value()+","+s.$fumble_value()+"]"},0)},{$$arity:0,$$s:T})),m(T,"$eval_game_system_specific_command",function(a){var s,i,r=this;return s=r.$replace_alias_for_srs_roll_with_2d6(a),y(i=r.$parse(s))?r.$execute_srs_roll(i):n},1),T.$private(),m(T,"$replace_alias_for_srs_roll_with_2d6",function(a){var s,_=n;return k(this.$class().$aliases_re_for_srs_roll_with_target_value(),s=a)?"2D6"+o("Regexp").$last_match(1):k(this.$class().$aliases_re_for_srs_roll_without_target_value(),s)?"2D6"+o("Regexp").$last_match(1)+(y(_=o("Regexp").$last_match(2))?_:o("SRS_ROLL_DEFAULT_THRESHOLDS")):a},1),m(T,"$parse",function(a){var s;return k(o("SRS_ROLL_WITH_TARGET_VALUE_RE"),s=a)?this.$parse_srs_roll_with_target_value(o("Regexp").$last_match()):k(o("SRS_ROLL_WITHOUT_TARGET_VALUE_RE"),s)?this.$parse_srs_roll_without_target_value(o("Regexp").$last_match()):n},1),m(T,"$eval_modifier",function(a){return y(a)?o("ArithmeticEvaluator").$eval(a,p(["round_type"],{round_type:this.round_type})):0},1),m(T,"$parse_srs_roll_with_target_value",function(a){var r,s,u,_,c,f,b=n;return u=this.$eval_modifier(a["$[]"](1)),_=a["$[]"](2).$to_i(),c=y(b=(r=a["$[]"](3))===n||null==r?n:R(r,"to_i",[]))?b:o("DEFAULT_CRITICAL_VALUE"),f=y(b=(s=a["$[]"](4))===n||null==s?n:R(s,"to_i",[]))?b:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,c,f,_)},1),m(T,"$parse_srs_roll_without_target_value",function(a){var r,s,u,_,b,c=n;return u=this.$eval_modifier(a["$[]"](1)),_=y(c=(r=a["$[]"](2))===n||null==r?n:R(r,"to_i",[]))?c:o("DEFAULT_CRITICAL_VALUE"),b=y(c=(s=a["$[]"](3))===n||null==s?n:R(s,"to_i",[]))?c:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,_,b,n)},1),m(T,"$execute_srs_roll",function(a){var i,u,_,f,r=this,s=n,c=n;return s=r.randomizer.$roll_barabara(2,6),y(r.sort_add_dice)&&s["$sort!"](),i=s.$sum(),u=s.$join(","),_=E(i,a.$modifier()),c=r.$compare_result(a,i,_),f=[["("+a+")",i+"["+u+"]"+o("Format").$modifier(a.$modifier()),_,c.$text()].$compact().$join(" \uff1e ")],R(c,"text=",M(f)),L(f.length,1),c},1),m(T,"$compare_result",function(a,r,s){return y(Y(r,a.$critical_value()))?o("Result").$critical("\u81ea\u52d5\u6210\u529f"):y(G(r,a.$fumble_value()))?o("Result").$fumble("\u81ea\u52d5\u5931\u6557"):y(a.$target_value()["$nil?"]())?o("Result").$new():y(Y(s,a.$target_value()))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")},3)},Opal.queue(function(e){var R,y,Y,G,j,p,E,h,t=[],B=e.module,C=e.klass,v=e.const_set;return e.top.$require("bcdice/game_system/SRS"),R=t,y=h=[B(t[0],"BCDice")].concat(R),p=[B(h[0],"GameSystem")].concat(y),E=e.$r(p),Y=p,v((j=[G=C(p[0],E("SRS"),"FullMetalPanic")].concat(Y))[0],"ID","FullMetalPanic"),v(j[0],"NAME","\u30d5\u30eb\u30e1\u30bf\u30eb\u30fb\u30d1\u30cb\u30c3\u30af\uff01RPG"),v(j[0],"SORT_KEY","\u3075\u308b\u3081\u305f\u308b\u306f\u306b\u3064\u304fRPG"),G.$register_prefix("2D6","MG","FP"),G.$set_aliases_for_srs_roll("MG","FP"),v(j[0],"HELP_MESSAGE",G.$help_message())})},2729:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,d,l,$,A,x,D,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.rb_le,k=e.rb_ge,p=e.to_a,E=e.rb_minus,M=e.hash2;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"FutariSousa")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,v(x[0],"ID","FutariSousa"),v(x[0],"NAME","\u30d5\u30bf\u30ea\u30bd\u30a6\u30b5"),v(x[0],"SORT_KEY","\u3075\u305f\u308a\u305d\u3046\u3055"),v(x[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\n\u63a2\u5075\u7528\uff1a\u3010DT\u3011\u202610\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103DT\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101DT\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u52a9\u624b\u7528\uff1a\u3010AS\u3011\u20266\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103AS\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101AS\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3010\u8abf\u67fb\u6642\u3011\n\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868\u3000\u3000\u3000\u3000\u3000 SHRD\uff0f\u65b0\u30fb\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868\u3000\u3000 SHND\n\u666e\u901a\u306e\uff1f\u30fb\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868 SHAD\uff0f\u30b1\u30a4\u30b8\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868\u3000 SHKD\n\u3000\u53e3\u304b\u3089\u51fa\u308b\u8868\u3000\u3000\u3000 SHFM\uff0f\u5f37\u5f15\u306a\u635c\u67fb\u8868\u3000\u3000\u3000\u3000\u3000 SHBT\uff0f\u3059\u3063\u3068\u307c\u3051\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHPI\n\u3000\u4e8b\u4ef6\u306b\u5922\u4e2d\u8868\u3000\u3000\u3000 SHEG\uff0f\u30d1\u30fc\u30c8\u30ca\u30fc\u3068\u2026\u2026\u8868\u3000\u3000\u3000 SHWP\uff0f\u4f55\u304b\u3057\u3066\u3044\u308b\u8868\u3000\u3000\u3000\u3000\u3000 SHDS\n\u3000\u5947\u60f3\u5929\u5916\u8868\u3000\u3000\u3000\u3000 SHFT\uff0f\u6025\u306a\u3072\u3089\u3081\u304d\u8868\u3000\u3000\u3000\u3000 SHIN\uff0f\u559c\u6012\u54c0\u697d\u8868\u3000\u3000\u3000\u3000\u3000\u3000\u3000 SHEM\n\u3000\u4eba\u9593\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u8868 SHHE\uff0f\u4eba\u9593\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u5931\u6557\u8868 SHHF\uff0f\u30d1\u30fc\u30c8\u30ca\u30fc\u3078\u306e\u3044\u305f\u305a\u3089\u8868 SHMP\n\u3000\u601d\u308f\u305b\u3076\u308a\u8868\u3000\u3000\u3000 SHSB\uff0f\u3082\u3069\u304b\u3057\u3044\u8868\u3000\u3000\u3000\u3000\u3000 SHFR\uff0f\u7a81\u7136\u3069\u3046\u3057\u305f\u8868\u3000\u3000\u3000\u3000\u3000 SHIS\n\u3000\u308f\u304c\u307e\u307e\u3092\u8a00\u3046\u8868\u3000 SHSE\uff0f\u666e\u901a\u306b\u898b\u3048\u308b\u8868\u3000\u3000\u3000\u3000 SHLM\uff0f\u5ac9\u59ac\u306b\u72c2\u3046\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHJS\n\u3000\u50b2\u6162\u306a\u614b\u5ea6\u8868\u3000\u3000\u3000 SHAR\uff0f\u6bd4\u8f03\u7684\u8efd\u5ea6\u306a\u3082\u306e\u8868\u3000\u3000 SHRM\uff0f\u30ce\u30fc\u30bf\u30a4\u30e0\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHNT\n\u3000\u635c\u67fb\u306e\u3084\u308a\u65b9\u8868\u3000\u3000 SHIM\uff0f\u8cb4\u65cf\u8868\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 SHNO\uff0f\u8aac\u660e\u3057\u306a\u3044\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHNE\n\u3000\u5211\u4e8b\u3068\u3057\u3066\u306e\u7656\u8868\u3000 SHHD\n\u30a4\u30d9\u30f3\u30c8\u8868\n\u3000\u73fe\u5834\u306b\u3066\u3000 EVS\uff0f\u306a\u305c\uff1f\u3000 EVW\uff0f\u5354\u529b\u8005\u3068\u5171\u306b EVN\n\u3000\u5411\u3053\u3046\u304b\u3089 EVC\uff0fVS\u5bb9\u7591\u8005 EVV\n\u3000\u9589\u9396\u7a7a\u9593\u3000 EVE\n\u3000\u63a2\u5075\u306e\u307f\u635c\u67fb EVD\uff0f\u52a9\u624b\u306e\u307f\u635c\u67fb\u3000\u3000 EVA\uff0f\u89b3\u5149\u635c\u67fb\u3000 EVT\n\u3000\u601d\u308f\u306c\u30d2\u30f3\u30c8 EVH\uff0f\u5b9f\u9a13\u3092\u3057\u3066\u307f\u3088\u3046 EVX\uff0f\u30b2\u30b9\u30c8\u635c\u67fb EVG\n\u3000\u30b1\u30a4\u30b8\u805e\u304d\u8fbc\u307f\u635c\u67fb\u3000\u3000\u3000 EVQ\uff0f\u30b1\u30a4\u30b8\u5927\u898f\u6a21\u635c\u67fb\u3000\u3000\u3000\u3000\u3000 EVM\uff0f\u3053\u3063\u305d\u308a\u60c5\u5831\u306e\u53d7\u3051\u6e21\u3057 EVP\n\u3000\u540c\u50da\u305f\u3061\u3068\u4e00\u7dd2\u306b\u635c\u67fb\u3059\u308b EVO\uff0f\u983b\u67d3\u307f\u306e\u5e97\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3 EVF\uff0f\u30cf\u30fc\u30c9B\u30c7\u30ab\u30a2\u30af\u30b7\u30e7\u30f3  EVB\n\u8abf\u67fb\u306e\u969c\u5bb3\u8868 OBT\u3000\u3000\u5909\u8abf\u8868 ACT\u3000\u3000\u76ee\u6483\u8005\u8868 EWT\u3000\u3000\u8ff7\u5bae\u5165\u308a\u8868 WMT\n\u3010\u8a2d\u5b9a\u6642\u3011\n\u80cc\u666f\u8868\n\u3000\u63a2\u5075\u3000\u904b\u547d\u306e\u8840\u7d71 BGDD\uff0f\u5929\u6027\u306e\u624d\u80fd BGDG\uff0f\u30de\u30cb\u30a2\u3000\u3000\u3000\u3000 BGDM\n\u3000\u52a9\u624b\u3000\u6b63\u7fa9\u306e\u4eba\u3000 BGAJ\uff0f\u60c5\u71b1\u306e\u4eba\u3000 BGAP\uff0f\u5dfb\u304d\u8fbc\u307e\u308c\u306e\u4eba BGAI\n\u8eab\u9577\u8868 HT\u3000\u3000\u305f\u307e\u308a\u5834\u8868 BT\u3000\u3000\u95a2\u4fc2\u8868 GRT\u3000\u3000\u601d\u3044\u51fa\u306e\u54c1\u6c7a\u5b9a\u8868 MIT\n\u8077\u696d\u8868A\u30fbB\u3000\u3000JBT66\u30fbJBT10\u3000\u3000\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3\u7279\u5fb4\u8868A\u30fbB\u3000\u3000\u3000\u3000FST66\u30fbFST10\n\u611f\u60c5\u8868A\uff0fB\u3000\u3000FLT66\u30fbFLT10\u3000\u3000\u597d\u304d\u306a\u3082\u306e\uff0f\u5acc\u3044\u306a\u3082\u306e\u8868A\u30fbB\u3000LDT66\u30fbLDT10\n\u547c\u3073\u540d\u8868A\u30fbB\u3000NCT66\u30fbNCT10\n"),m(A,"$initialize",function d(o){var $=this;return delete d.$$p,S($,R($,"initialize",d,!1,!0),"initialize",[o],null),$.d66_sort_type=n(D("D66SortType"),"ASC")},1),A.$register_prefix("(\\d+)?DT","(\\d+)?AS"),m(A,"$eval_game_system_specific_command",function(o){var l,$,a=this,r=t,s=t,i=t;return h(r=/^(\d+)?DT$/i.$match(o))?(s=h(i=(l=r["$[]"](1))===t||null==l?t:g(l,"to_i",[]))?i:2,a.$roll_dt(o,s)):h(r=/^(\d+)?AS$/i.$match(o))?(s=h(i=($=r["$[]"](1))===t||null==$?t:g($,"to_i",[]))?i:2,a.$roll_as(o,s)):a.$roll_tables(o,n(a.$class(),"TABLES"))},1),A.$private(),v(x[0],"SUCCESS_THRESHOLD",4),v(x[0],"SPECIAL_DICE",6),m(A,"$roll_dt",function(o,l){var r,i,$=this,a=t,s=t;return r=(a=$.randomizer.$roll_barabara(l,10)).$max(),s=h(y(r,1))?D("Result").$fumble($.$translate("FutariSousa.DT.fumble")):h(a["$include?"](D("SPECIAL_DICE")))?D("Result").$critical($.$translate("FutariSousa.DT.special")):h(k(r,D("SUCCESS_THRESHOLD")))?D("Result").$success($.$translate("success")):D("Result").$failure($.$translate("failure")),i=[o+"("+a.$join(",")+") \uff1e "+s.$text()],g(s,"text=",p(i)),E(i.length,1),s},2),m(A,"$roll_as",function(o,l){var r,i,$=this,a=t,s=t;return r=(a=$.randomizer.$roll_barabara(l,6)).$max(),s=h(y(r,1))?D("Result").$fumble($.$translate("FutariSousa.AS.fumble")):h(a["$include?"](D("SPECIAL_DICE")))?D("Result").$critical($.$translate("FutariSousa.AS.special")):h(k(r,D("SUCCESS_THRESHOLD")))?D("Result").$success($.$translate("FutariSousa.AS.success")):D("Result").$failure($.$translate("failure")),i=[o+"("+a.$join(",")+") \uff1e "+s.$text()],g(s,"text=",p(i)),E(i.length,1),s},2),l=[d=e.get_singleton_class(A)].concat(x),$=e.$r(l),d.$private(),m(d,"$translate_tables",function(r){return M(["SHRD","SHND","SHAD","SHKD","SHFM","SHBT","SHPI","SHEG","SHWP","SHDS","SHFT","SHIN","SHEM","SHHE","SHHF","SHMP","SHSB","SHFR","SHIS","SHSE","SHLM","SHJS","SHAR","SHRM","SHNT","SHIM","SHNO","SHNE","SHHD","EVS","EVW","EVN","EVC","EVV","EVE","EVD","EVA","EVT","EVH","EVX","EVG","EVQ","EVM","EVP","EVO","EVF","EVB","OBT","ACT","EWT","WMT","BGDD","BGDG","BGDM","BGAJ","BGAP","BGAI","HT","BT","GRT","MIT","JBT66","JBT10","FST66","FST10","LDT66","LDT10","FLT66","FLT10","NCT66","NCT10"],{SHRD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHRD",r),SHND:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHND",r),SHAD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHAD",r),SHKD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHKD",r),SHFM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFM",r),SHBT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHBT",r),SHPI:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHPI",r),SHEG:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEG",r),SHWP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHWP",r),SHDS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHDS",r),SHFT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFT",r),SHIN:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIN",r),SHEM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEM",r),SHHE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHHE",r),SHHF:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHHF",r),SHMP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHMP",r),SHSB:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHSB",r),SHFR:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFR",r),SHIS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIS",r),SHSE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHSE",r),SHLM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHLM",r),SHJS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHJS",r),SHAR:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHAR",r),SHRM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHRM",r),SHNT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHNT",r),SHIM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIM",r),SHNO:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHNO",r),SHNE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHNE",r),SHHD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHHD",r),EVS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVS",r),EVW:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVW",r),EVN:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVN",r),EVC:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVC",r),EVV:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVV",r),EVE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVE",r),EVD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVD",r),EVA:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVA",r),EVT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVT",r),EVH:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVH",r),EVX:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVX",r),EVG:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVG",r),EVQ:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVQ",r),EVM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVM",r),EVP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVP",r),EVO:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVO",r),EVF:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVF",r),EVB:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVB",r),OBT:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.OBT",r),ACT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.ACT",r),EWT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EWT",r),WMT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.WMT",r),BGDD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDD",r),BGDG:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDG",r),BGDM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDM",r),BGAJ:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAJ",r),BGAP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAP",r),BGAI:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAI",r),HT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.HT",r),BT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BT",r),GRT:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.GRT",r),MIT:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.MIT",r),JBT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.JBT66",r),JBT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.JBT10",r),FST66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FST66",r),FST10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.FST10",r),LDT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.LDT66",r),LDT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.LDT10",r),FLT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FLT66",r),FLT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.FLT10",r),NCT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.NCT66",r),NCT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.NCT10",r)})},1),v(x[0],"TABLES",A.$translate_tables("ja_jp")),A.$register_prefix(D("TABLES").$keys())})},4424:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/FutariSousa"]=function(e){var Y,K,z,d,l,$,A,x,D,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.rb_le,k=e.rb_ge,p=e.to_a,E=e.rb_minus,M=e.hash2;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"FutariSousa")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,v(x[0],"ID","FutariSousa"),v(x[0],"NAME","\u30d5\u30bf\u30ea\u30bd\u30a6\u30b5"),v(x[0],"SORT_KEY","\u3075\u305f\u308a\u305d\u3046\u3055"),v(x[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\n\u63a2\u5075\u7528\uff1a\u3010DT\u3011\u202610\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103DT\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101DT\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u52a9\u624b\u7528\uff1a\u3010AS\u3011\u20266\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103AS\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101AS\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3010\u8abf\u67fb\u6642\u3011\n\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868\u3000\u3000\u3000\u3000\u3000 SHRD\uff0f\u65b0\u30fb\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868\u3000\u3000 SHND\n\u666e\u901a\u306e\uff1f\u30fb\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868 SHAD\uff0f\u30b1\u30a4\u30b8\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868\u3000 SHKD\n\u3000\u53e3\u304b\u3089\u51fa\u308b\u8868\u3000\u3000\u3000 SHFM\uff0f\u5f37\u5f15\u306a\u635c\u67fb\u8868\u3000\u3000\u3000\u3000\u3000 SHBT\uff0f\u3059\u3063\u3068\u307c\u3051\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHPI\n\u3000\u4e8b\u4ef6\u306b\u5922\u4e2d\u8868\u3000\u3000\u3000 SHEG\uff0f\u30d1\u30fc\u30c8\u30ca\u30fc\u3068\u2026\u2026\u8868\u3000\u3000\u3000 SHWP\uff0f\u4f55\u304b\u3057\u3066\u3044\u308b\u8868\u3000\u3000\u3000\u3000\u3000 SHDS\n\u3000\u5947\u60f3\u5929\u5916\u8868\u3000\u3000\u3000\u3000 SHFT\uff0f\u6025\u306a\u3072\u3089\u3081\u304d\u8868\u3000\u3000\u3000\u3000 SHIN\uff0f\u559c\u6012\u54c0\u697d\u8868\u3000\u3000\u3000\u3000\u3000\u3000\u3000 SHEM\n\u3000\u4eba\u9593\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u8868 SHHE\uff0f\u4eba\u9593\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u5931\u6557\u8868 SHHF\uff0f\u30d1\u30fc\u30c8\u30ca\u30fc\u3078\u306e\u3044\u305f\u305a\u3089\u8868 SHMP\n\u3000\u601d\u308f\u305b\u3076\u308a\u8868\u3000\u3000\u3000 SHSB\uff0f\u3082\u3069\u304b\u3057\u3044\u8868\u3000\u3000\u3000\u3000\u3000 SHFR\uff0f\u7a81\u7136\u3069\u3046\u3057\u305f\u8868\u3000\u3000\u3000\u3000\u3000 SHIS\n\u3000\u308f\u304c\u307e\u307e\u3092\u8a00\u3046\u8868\u3000 SHSE\uff0f\u666e\u901a\u306b\u898b\u3048\u308b\u8868\u3000\u3000\u3000\u3000 SHLM\uff0f\u5ac9\u59ac\u306b\u72c2\u3046\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHJS\n\u3000\u50b2\u6162\u306a\u614b\u5ea6\u8868\u3000\u3000\u3000 SHAR\uff0f\u6bd4\u8f03\u7684\u8efd\u5ea6\u306a\u3082\u306e\u8868\u3000\u3000 SHRM\uff0f\u30ce\u30fc\u30bf\u30a4\u30e0\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHNT\n\u3000\u635c\u67fb\u306e\u3084\u308a\u65b9\u8868\u3000\u3000 SHIM\uff0f\u8cb4\u65cf\u8868\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 SHNO\uff0f\u8aac\u660e\u3057\u306a\u3044\u8868\u3000\u3000\u3000\u3000\u3000\u3000 SHNE\n\u3000\u5211\u4e8b\u3068\u3057\u3066\u306e\u7656\u8868\u3000 SHHD\n\u30a4\u30d9\u30f3\u30c8\u8868\n\u3000\u73fe\u5834\u306b\u3066\u3000 EVS\uff0f\u306a\u305c\uff1f\u3000 EVW\uff0f\u5354\u529b\u8005\u3068\u5171\u306b EVN\n\u3000\u5411\u3053\u3046\u304b\u3089 EVC\uff0fVS\u5bb9\u7591\u8005 EVV\n\u3000\u9589\u9396\u7a7a\u9593\u3000 EVE\n\u3000\u63a2\u5075\u306e\u307f\u635c\u67fb EVD\uff0f\u52a9\u624b\u306e\u307f\u635c\u67fb\u3000\u3000 EVA\uff0f\u89b3\u5149\u635c\u67fb\u3000 EVT\n\u3000\u601d\u308f\u306c\u30d2\u30f3\u30c8 EVH\uff0f\u5b9f\u9a13\u3092\u3057\u3066\u307f\u3088\u3046 EVX\uff0f\u30b2\u30b9\u30c8\u635c\u67fb EVG\n\u3000\u30b1\u30a4\u30b8\u805e\u304d\u8fbc\u307f\u635c\u67fb\u3000\u3000\u3000 EVQ\uff0f\u30b1\u30a4\u30b8\u5927\u898f\u6a21\u635c\u67fb\u3000\u3000\u3000\u3000\u3000 EVM\uff0f\u3053\u3063\u305d\u308a\u60c5\u5831\u306e\u53d7\u3051\u6e21\u3057 EVP\n\u3000\u540c\u50da\u305f\u3061\u3068\u4e00\u7dd2\u306b\u635c\u67fb\u3059\u308b EVO\uff0f\u983b\u67d3\u307f\u306e\u5e97\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3 EVF\uff0f\u30cf\u30fc\u30c9B\u30c7\u30ab\u30a2\u30af\u30b7\u30e7\u30f3  EVB\n\u8abf\u67fb\u306e\u969c\u5bb3\u8868 OBT\u3000\u3000\u5909\u8abf\u8868 ACT\u3000\u3000\u76ee\u6483\u8005\u8868 EWT\u3000\u3000\u8ff7\u5bae\u5165\u308a\u8868 WMT\n\u3010\u8a2d\u5b9a\u6642\u3011\n\u80cc\u666f\u8868\n\u3000\u63a2\u5075\u3000\u904b\u547d\u306e\u8840\u7d71 BGDD\uff0f\u5929\u6027\u306e\u624d\u80fd BGDG\uff0f\u30de\u30cb\u30a2\u3000\u3000\u3000\u3000 BGDM\n\u3000\u52a9\u624b\u3000\u6b63\u7fa9\u306e\u4eba\u3000 BGAJ\uff0f\u60c5\u71b1\u306e\u4eba\u3000 BGAP\uff0f\u5dfb\u304d\u8fbc\u307e\u308c\u306e\u4eba BGAI\n\u8eab\u9577\u8868 HT\u3000\u3000\u305f\u307e\u308a\u5834\u8868 BT\u3000\u3000\u95a2\u4fc2\u8868 GRT\u3000\u3000\u601d\u3044\u51fa\u306e\u54c1\u6c7a\u5b9a\u8868 MIT\n\u8077\u696d\u8868A\u30fbB\u3000\u3000JBT66\u30fbJBT10\u3000\u3000\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3\u7279\u5fb4\u8868A\u30fbB\u3000\u3000\u3000\u3000FST66\u30fbFST10\n\u611f\u60c5\u8868A\uff0fB\u3000\u3000FLT66\u30fbFLT10\u3000\u3000\u597d\u304d\u306a\u3082\u306e\uff0f\u5acc\u3044\u306a\u3082\u306e\u8868A\u30fbB\u3000LDT66\u30fbLDT10\n\u547c\u3073\u540d\u8868A\u30fbB\u3000NCT66\u30fbNCT10\n"),m(A,"$initialize",function d(o){var $=this;return delete d.$$p,S($,R($,"initialize",d,!1,!0),"initialize",[o],null),$.d66_sort_type=n(D("D66SortType"),"ASC")},1),A.$register_prefix("(\\d+)?DT","(\\d+)?AS"),m(A,"$eval_game_system_specific_command",function(o){var l,$,a=this,r=t,s=t,i=t;return h(r=/^(\d+)?DT$/i.$match(o))?(s=h(i=(l=r["$[]"](1))===t||null==l?t:g(l,"to_i",[]))?i:2,a.$roll_dt(o,s)):h(r=/^(\d+)?AS$/i.$match(o))?(s=h(i=($=r["$[]"](1))===t||null==$?t:g($,"to_i",[]))?i:2,a.$roll_as(o,s)):a.$roll_tables(o,n(a.$class(),"TABLES"))},1),A.$private(),v(x[0],"SUCCESS_THRESHOLD",4),v(x[0],"SPECIAL_DICE",6),m(A,"$roll_dt",function(o,l){var r,i,$=this,a=t,s=t;return r=(a=$.randomizer.$roll_barabara(l,10)).$max(),s=h(y(r,1))?D("Result").$fumble($.$translate("FutariSousa.DT.fumble")):h(a["$include?"](D("SPECIAL_DICE")))?D("Result").$critical($.$translate("FutariSousa.DT.special")):h(k(r,D("SUCCESS_THRESHOLD")))?D("Result").$success($.$translate("success")):D("Result").$failure($.$translate("failure")),i=[o+"("+a.$join(",")+") \uff1e "+s.$text()],g(s,"text=",p(i)),E(i.length,1),s},2),m(A,"$roll_as",function(o,l){var r,i,$=this,a=t,s=t;return r=(a=$.randomizer.$roll_barabara(l,6)).$max(),s=h(y(r,1))?D("Result").$fumble($.$translate("FutariSousa.AS.fumble")):h(a["$include?"](D("SPECIAL_DICE")))?D("Result").$critical($.$translate("FutariSousa.AS.special")):h(k(r,D("SUCCESS_THRESHOLD")))?D("Result").$success($.$translate("FutariSousa.AS.success")):D("Result").$failure($.$translate("failure")),i=[o+"("+a.$join(",")+") \uff1e "+s.$text()],g(s,"text=",p(i)),E(i.length,1),s},2),l=[d=e.get_singleton_class(A)].concat(x),$=e.$r(l),d.$private(),m(d,"$translate_tables",function(r){return M(["SHRD","SHND","SHAD","SHKD","SHFM","SHBT","SHPI","SHEG","SHWP","SHDS","SHFT","SHIN","SHEM","SHHE","SHHF","SHMP","SHSB","SHFR","SHIS","SHSE","SHLM","SHJS","SHAR","SHRM","SHNT","SHIM","SHNO","SHNE","SHHD","EVS","EVW","EVN","EVC","EVV","EVE","EVD","EVA","EVT","EVH","EVX","EVG","EVQ","EVM","EVP","EVO","EVF","EVB","OBT","ACT","EWT","WMT","BGDD","BGDG","BGDM","BGAJ","BGAP","BGAI","HT","BT","GRT","MIT","JBT66","JBT10","FST66","FST10","LDT66","LDT10","FLT66","FLT10","NCT66","NCT10"],{SHRD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHRD",r),SHND:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHND",r),SHAD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHAD",r),SHKD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHKD",r),SHFM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFM",r),SHBT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHBT",r),SHPI:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHPI",r),SHEG:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEG",r),SHWP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHWP",r),SHDS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHDS",r),SHFT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFT",r),SHIN:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIN",r),SHEM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEM",r),SHHE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHHE",r),SHHF:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHHF",r),SHMP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHMP",r),SHSB:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHSB",r),SHFR:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFR",r),SHIS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIS",r),SHSE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHSE",r),SHLM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHLM",r),SHJS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHJS",r),SHAR:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHAR",r),SHRM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHRM",r),SHNT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHNT",r),SHIM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIM",r),SHNO:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHNO",r),SHNE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHNE",r),SHHD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.SHHD",r),EVS:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVS",r),EVW:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVW",r),EVN:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVN",r),EVC:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVC",r),EVV:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVV",r),EVE:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVE",r),EVD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVD",r),EVA:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVA",r),EVT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVT",r),EVH:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVH",r),EVX:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVX",r),EVG:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVG",r),EVQ:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVQ",r),EVM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVM",r),EVP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVP",r),EVO:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVO",r),EVF:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVF",r),EVB:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EVB",r),OBT:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.OBT",r),ACT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.ACT",r),EWT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.EWT",r),WMT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.WMT",r),BGDD:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDD",r),BGDG:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDG",r),BGDM:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDM",r),BGAJ:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAJ",r),BGAP:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAP",r),BGAI:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAI",r),HT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.HT",r),BT:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.BT",r),GRT:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.GRT",r),MIT:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.MIT",r),JBT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.JBT66",r),JBT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.JBT10",r),FST66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FST66",r),FST10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.FST10",r),LDT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.LDT66",r),LDT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.LDT10",r),FLT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FLT66",r),FLT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.FLT10",r),NCT66:n($("DiceTable"),"D66Table").$from_i18n("FutariSousa.table.NCT66",r),NCT10:n($("DiceTable"),"Table").$from_i18n("FutariSousa.table.NCT10",r)})},1),v(x[0],"TABLES",A.$translate_tables("ja_jp")),A.$register_prefix(D("TABLES").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/FutariSousa"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("FutariSousa"),"FutariSousa_Korean")].concat(N))[0],"ID","FutariSousa:Korean"),v(P[0],"NAME","\ub458\uc774\uc11c \uc218\uc0ac(\ud6c4\ud0c0\ub9ac\uc18c\uc6b0\uc0ac)"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub458\uc774\uc11c \uc218\uc0ac"),v(P[0],"HELP_MESSAGE","\u30fb\ud310\uc815\uc6a9 \ucee4\ub9e8\ub4dc\n\ud0d0\uc815\uc6a9\uff1a\u3010DT\u3011\u202610\uba74\uccb4 \uc8fc\uc0ac\uc704\ub97c 2\uac1c \uad74\ub824 \ud310\uc815\ud569\ub2c8\ub2e4.\u300e\uc720\ub9ac\u300f\ub77c\uba74\u30103DT\u3011, \u300e\ubd88\ub9ac\u300f\ub77c\uba74\u30101DT\u3011\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\uc870\uc218\uc6a9\uff1a\u3010AS\u3011\u20266\uba74\uccb4 \uc8fc\uc0ac\uc704\ub97c 2\uac1c \uad74\ub824 \ud310\uc815\ud569\ub2c8\ub2e4. \u300e\uc720\ub9ac\u300f\ub77c\uba74\u30103AS\u3011, \u300e\ubd88\ub9ac\u300f\ub77c\uba74\u30101AS\u3011\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\u30fb\uac01\uc885\ud45c\n\u3010\uc870\uc0ac\u3011\n\uc774\uc0c1\ud55c \ubc84\ub987 \uacb0\uc815\ud45c SHRD\n\u3000\uc9c0\uaec4\uc774\ub2e4\ud45c  \u3000SHFM\uff0f\uac15\uc555\uc801\uc778 \uc218\uc0ac\ud45c \u3000SHBT\uff0f\uc2dc\uce58\ubbf8 \ub5bc\uae30\ud45c\u3000\u3000\u3000SHPI\n\u3000\uc0ac\uac74\uc5d0 \ubab0\ub450\ud45c SHEG\uff0f\ud30c\ud2b8\ub108\uc640\u2026\u2026\ud45c\u3000\u3000SHWP\uff0f\ubb34\uc5b8\uac00 \ud558\uace0 \uc788\ub2e4\ud45c SHDS\n\u3000\uae30\uc0c1\ucc9c\uc678\ud45c\u3000\u3000SHFT\uff0f\uac11\uc791\uc2a4\ub7f0 \ubc88\ub729\uc784\ud45c SHIN\uff0f\ud76c\ub178\uc560\ub77d\ud45c \u3000\u3000\u3000\u3000SHEM\n\uc774\ubca4\ud2b8\ud45c\n\u3000\ud604\uc7a5\uc5d0\uc11c\u3000 EVS\uff0f\uc5b4\uc9f8\uc11c?\u3000EVW\uff0f\ud611\ub825\uc790\uc640 \ud568\uaed8 EVN\n\u3000\uc0c1\ub300\ucabd\uc5d0\uc11c EVC\uff0fVS\uc6a9\uc758\uc790 EVV\n\uc870\uc0ac\uc758 \uc7a5\uc560\ud45c OBT\u3000\u3000\ubcc0\uc870\ud45c ACT\u3000\u3000\ubaa9\uaca9\uc790\ud45c EWT\u3000\u3000\ubbf8\uc81c\uc0ac\uac74\ud45c WMT\n\u3010\uc124\uc815\u3011\n\ubc30\uacbd\ud45c\n\u3000\ud0d0\uc815\u3000\uc6b4\uba85\uc758 \ud608\ud1b5 \u3000BGDD\uff0f\ucc9c\uc0c1\uc758 \uc7ac\ub2a5 \u3000BGDG\uff0f\ub9c8\ub2c8\uc544 \u3000\u3000 BGDM\n\u3000\uc870\uc218\u3000\uc815\uc758\ub85c\uc6b4 \uc0ac\ub78c BGAJ\uff0f\uc815\ub82c\uc801\uc778 \uc0ac\ub78c BGAP\uff0f\ub9d0\ub824\ub4e0 \uc0ac\ub78c BGAI\n\uc2e0\uc7a5\ud45c HT\u3000\u3000\uc544\uc9c0\ud2b8\ud45c BT\u3000\u3000\uad00\uacc4\ud45c GRT\u3000\u3000\ucd94\uc5b5\uc758 \ubb3c\uac74 \uacb0\uc815\ud45c MIT\n\uc9c1\uc5c5\ud45cA\u30fbB\u3000\u3000JBT66\u30fbJBT10\u3000\u3000\ud328\uc158 \ud2b9\uc9d5\ud45cA\u30fbB\u3000\u3000\u3000\u3000FST66\u30fbFST10\n\uac10\uc815\ud45cA\u30fbB\u3000\u3000FLT66\u30fbFLT10\u3000\u3000\uc88b\uc544\ud558\ub294 \uac83\uff0f\uc2eb\uc5b4\ud558\ub294 \uac83\ud45cA\u30fbB\u3000LDT66\u30fbLDT10\n\ud638\uce6d\ud45cA\u30fbB\u3000NCT66\u30fbNCT10\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr"))})},1647:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var N,J,D,T,d,o,w,z,P,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.send,h=e.truthy,g=e.neqeq,y=e.rb_lt,k=e.rb_ge,p=e.rb_plus,E=e.rb_gt,M=e.rb_times,L=e.rb_minus,Y=e.eqeq,G=e.rb_divide;return N=H,J=P=[n(H[0],"BCDice")].concat(N),w=[n(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=B(w[0],z("Base"),"GehennaAn")].concat(D),o=e.$r(d),T.$$prototype.randomizer=t,C(d[0],"ID","GehennaAn"),C(d[0],"NAME","\u30b2\u30d8\u30ca\u30fb\u30a2\u30ca\u30b9\u30bf\u30b7\u30b9"),C(d[0],"SORT_KEY","\u3051\u3078\u306a\u3042\u306a\u3059\u305f\u3057\u3059"),C(d[0],"HELP_MESSAGE","\u6226\u95d8\u5224\u5b9a\u3068\u901a\u5e38\u5224\u5b9a\u306b\u5bfe\u5fdc\u3002\u5e78\u904b\u306e\u52a9\u3051\u3001\u9023\u6483\u5897\u52a0\u5024(\u6226\u95d8\u5224\u5b9a)\u3001\u95d8\u6280\u30c1\u30c3\u30c8(\u6226\u95d8\u5224\u5b9a)\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u6226\u95d8\u5224\u5b9a\u3000(nGAt+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u76ee\u6a19\u5024t\u3001\u4fee\u6b63\u5024m\u3067\u6226\u95d8\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u5e78\u904b\u306e\u52a9\u3051\u3001\u9023\u6483\u5897\u52a0\u5024\u3001\u95d8\u6280\u30c1\u30c3\u30c8\u3092\u81ea\u52d5\u51e6\u7406\u3057\u307e\u3059\u3002\n\u30fb\u901a\u5e38\u5224\u5b9a\u3000(nGt+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u76ee\u6a19\u5024t\u3001\u4fee\u6b63\u5024m\u3067\u901a\u5e38\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u5e78\u904b\u306e\u52a9\u3051\u3092\u81ea\u52d5\u51e6\u7406\u3057\u307e\u3059\u3002(\u9023\u6483\u5897\u52a0\u5024\u3001\u95d8\u6280\u30c1\u30c3\u30c8\u3092\u8868\u793a\u6291\u5236\u3057\u307e\u3059)\n"),T.$register_prefix("\\d+G\\d+","\\d+GA\\d+","\\d+R6"),R(T,"$initialize",function $(a){var s=this;return delete $.$$p,v(s,S(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.sort_barabara_dice=!0},1),T.$private(),R(T,"$replace_text",function(a){return m(m(m(m(a,"gsub",[/(\d+)GA(\d+)([+\-][+\-\d]+)/],function(){return o("Regexp").$last_match(1)+"R6"+o("Regexp").$last_match(3)+">="+o("Regexp").$last_match(2)+"[1]"},0),"gsub",[/(\d+)GA(\d+)/],function(){return o("Regexp").$last_match(1)+"R6>="+o("Regexp").$last_match(2)+"[1]"},0),"gsub",[/(\d+)G(\d+)([+\-][+\-\d]+)/],function(){return o("Regexp").$last_match(1)+"R6"+o("Regexp").$last_match(3)+">="+o("Regexp").$last_match(2)+"[0]"},0),"gsub",[/(\d+)G(\d+)/],function(){return o("Regexp").$last_match(1)+"R6>="+o("Regexp").$last_match(2)+"[0]"},0)},1),T.$public(),R(T,"$eval_game_system_specific_command",function(a){var r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t;return a=r.$replace_text(a),h(/(^|\s)S?((\d+)[rR]6([+\-\d]+)?([>=]+(\d+))(\[(\d)\]))(\s|$)/i["$=~"](a))?(a=o("Regexp").$last_match(2),s=o("Regexp").$last_match(3).$to_i(),i=o("Regexp").$last_match(4),u=o("Regexp").$last_match(6).$to_i(),_=o("Regexp").$last_match(8).$to_i(),c=o("ArithmeticEvaluator").$eval(i),b=r.randomizer.$roll_barabara(s,6).$sort(),f=b.$sum(),q=b.$join(","),F="",U=!0,f=0,m(b,"each",[],function(O){return null==O&&(O=t),g(F,"")?(g(F,O)||h(y(O,u)))&&(U=!1):F=O,h(k(O,u))?f=p(f,1):t},1),h(U)&&h(E(s,1))&&(f=M(f,2)),W=f+"["+q+"]",X=p(f,c),h(y(X,0))&&(X=0),Q=L(s,f),h(y(Q,0))&&(Q=0),h(E(c,0))?W=p(W,"+"+c):h(y(c,0))&&(W=p(W,c.$to_s())),W=h(/[^\d\[\]]+/["$=~"](W))?"("+a+") \uff1e "+W+" \uff1e \u6210\u529f"+X+"\u3001\u5931\u6557"+Q:"("+a+") \uff1e "+W,W=p(W,r.$getAnastasisBonusText(_,X))):t},1),T.$private(),R(T,"$getAnastasisBonusText",function(a,r){var i=t,u=t;return Y(a,0)?"":(i=G(L(r,1),2).$to_i(),h(E(i,7))&&(i=7),u="",h(E(i,0))&&(u=p(u,"\u9023\u6483[+"+i+"]/"))," \uff1e "+(u=p(u,"\u95d8\u6280["+this.$getTougiBonus(r)+"]")))},2),R(T,"$getTougiBonus",function(a){return this.$get_table_by_number(a,[[6,"1"],[13,"2"],[18,"3"],[22,"4"],[99,"5"]])},1)})},5593:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.to_ary,R=e.eqeq,m=e.def,h=e.rb_le,g=e.hash;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"GeishaGirlwithKatana")].concat(P),I=e.$r(J),V.$$prototype.randomizer=t,C(J[0],"ID","GeishaGirlwithKatana"),C(J[0],"NAME","\u30b2\u30a4\u30b7\u30e3\u30fb\u30ac\u30fc\u30eb\u30fb\u30a6\u30a3\u30ba\u30fb\u30ab\u30bf\u30ca"),C(J[0],"SORT_KEY","\u3051\u3044\u3057\u3084\u304b\u3042\u308b\u3046\u3044\u3059\u304b\u305f\u306a"),C(J[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a (GK#n)\n  \u5f79\u3084\u30c1\u30e7\u30e0\u30d0\u3092\u542b\u3081\u30661\u56de\u5206\u306e\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u5f79\u306f\u3000\uff08\u901a\u5e38\u5224\u5b9a\uff09\uff0f\uff08\u6226\u95d8\u6642\uff09\u3000\u306e\u9806\u3067\u4e21\u65b9\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n  GK \u306e\u307f\u306e\u5834\u54085%\u306e\u78ba\u7387\u3067\u30c1\u30e7\u30e0\u30d0\u307e\u3059\u3002\n  GK#3 \u306e\u69d8\u306b #n \u3092\u3064\u3051\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u30c1\u30e7\u30e0\u30d0\u306e\u78ba\u7387\u3092n%\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3000\u4f8b\uff09GK\u3000GK#10\n\u30fb\u96a0\u3057\u30b3\u30de\u30f3\u30c9 (GL)\n  \u5fc5\u305a\u30c1\u30e7\u30e0\u30d0\u3057\u307e\u3059\u3002GM\u304c\u7a7a\u6c17\u3092\u8aad\u3093\u3067\u30c1\u30e7\u30e0\u30d0\u3055\u305b\u305f\u3044\u3068\u304d\u3084\u3001\n  GK\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3061\u9593\u9055\u3048\u3066\u30c1\u30e7\u30e0\u30d0\u3059\u308b\u3092\u60f3\u5b9a\u3057\u3066\u307e\u3059\u3002\n\u3000\u4f8b\uff09GL\n"),V.$register_prefix("GK","GL"),m(V,"$eval_game_system_specific_command",function(A){var x,D,T=this,d=t,o=t,l=t,$=t,a=t,r=t,s=t;return d=t,v(/^GL$/i["$=~"](A))?T.$getChombaResultText():v(/^GK(#(\d+))?$/i["$=~"](A))?(o=I("Regexp").$last_match(2),v(T.$isChomba(o))?T.$getChombaResultText():(l=T.randomizer.$roll_barabara(3,6).$sort(),$=T.$getYaku(l),v($["$nil?"]())?(D=T.$getDemeZorome(l),r=null==(x=S(D))[1]?t:x[1],R(a=null==x[0]?t:x[0],0)?T.$getResultTextByDice(l,"\u5931\u6557"):(s=R(r,1)?" YP\u304c1\u5897\u52a0":"",d=T.$getResultTextByDice(l,"\u9054\u6210\u5024"+a+s),T.$debug("getGGwKResult(command) result",d),d)):T.$getResultTextByDice(l,"\u3010\u5f79\u3011"+$))):d},1),m(V,"$isChomba",function(A){var D,T;return A=(A=v(D=A)?D:5).$to_i(),T=this.randomizer.$roll_once(100),h(T,A)},1),m(V,"$getChombaResultText",function(){return this.$getResultText("\u30c1\u30e7\u30e0\u30d0\uff01\uff01")},0),m(V,"$getYaku",function(A){return g([1,2,3],"\u81ea\u52d5\u5931\u6557\uff0f\u81ea\u5206\u306e\u88c5\u7532\u52b9\u679c\u7121\u3057\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u3066\u3057\u307e\u3046",[4,5,6],"\u81ea\u52d5\u6210\u529f\uff0f\u6575\u306e\u88c5\u7532\u3092\u7121\u8996\u3057\u3066\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b",[1,1,1],"10\u500d\u6210\u529f YP\u304c10\u5897\u52a0\uff0f10\u500d\u30c0\u30e1\u30fc\u30b8 YP\u304c10\u5897\u52a0",[2,2,2],"2\u500d\u6210\u529f\uff0f2\u500d\u30c0\u30e1\u30fc\u30b8",[3,3,3],"3\u500d\u6210\u529f\uff0f3\u500d\u30c0\u30e1\u30fc\u30b8",[4,4,4],"4\u500d\u6210\u529f\uff0f4\u500d\u30c0\u30e1\u30fc\u30b8",[5,5,5],"5\u500d\u6210\u529f\uff0f5\u500d\u30c0\u30e1\u30fc\u30b8",[6,6,6],"6\u500d\u6210\u529f\uff0f6\u500d\u30c0\u30e1\u30fc\u30b8")["$[]"](A)},1),m(V,"$getDemeZorome",function(A){var x=t,D=t;return x=0,D=0,R(A["$[]"](0),A["$[]"](1))?(x=A["$[]"](2),D=A["$[]"](0)):R(A["$[]"](1),A["$[]"](2))&&(x=A["$[]"](0),D=A["$[]"](1)),[x,D]},1),m(V,"$getResultTextByDice",function(A,x){return this.$getResultText(A.$join(",")+" \uff1e "+x)},2),m(V,"$getResultText",function(A){return"(3B6) \uff1e "+A},1)})},3983:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.rb_le,k=e.rb_plus,p=e.not,E=e.eqeq,M=e.rb_ge,L=e.rb_lt,Y=e.rb_gt;return j=H,V=K=[B(H[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=C(I[0],w("Base"),"GoblinSlayer")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,v(T[0],"ID","GoblinSlayer"),v(T[0],"NAME","\u30b4\u30d6\u30ea\u30f3\u30b9\u30ec\u30a4\u30e4\u30fcTRPG"),v(T[0],"SORT_KEY","\u3053\u3075\u308a\u3093\u3059\u308c\u3044\u3084\u3042TRPG"),v(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000GS(x)>=y\n\u30002d6\u306e\u5224\u5b9a\u3092\u884c\u3044\u3001\u9054\u6210\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u3000x\u306f\u57fa\u6e96\u5024\u3001y\u306f\u76ee\u6a19\u5024\u3067\u3059\u3002\u3044\u305a\u308c\u3082\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u3000y\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u5927\u6210\u529f/\u6210\u529f/\u5931\u6557/\u5927\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09GS>=12\u3000GS>10\u3000GS(10)>14\u3000GS+10>=15\u3000GS10>=15\u3000GS(10)\u3000GS+10\u3000GS10\u3000GS\n\n\u30fb\u7948\u5ff5\u3000MCPI(n)$m\n\u3000\u7948\u5ff5\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000n\u306f\u3010\u5e78\u904b\u3011\u306a\u3069\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9\u3067\u3059\u3002\u3053\u306e\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u3000m\u306f\u56e0\u679c\u70b9\u306e\u73fe\u5728\u5024\u3067\u3059\u3002\n\u3000\u56e0\u679c\u70b9\u306e\u73fe\u5728\u5024\u3092\u4f7f\u7528\u3057\u3066\u7948\u5ff5\u3092\u884c\u3044\u3001\u6210\u529f/\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09MCPI$3\u3000MCPI(1)$4\u3000MCPI+2$5\u3000MCPI2$6\n\n\u30fb\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9\u3000DB(n)\n\u3000\u30c0\u30e1\u30fc\u30b8\u52b9\u529b\u8868\u306b\u3088\u308b\u5a01\u529b\u3078\u306e\u30dc\u30fc\u30ca\u30b9\u3092\u81ea\u52d5\u3067\u6c42\u3081\u307e\u3059\u3002\n\u3000n\u306f\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u3067\u3059\u3002\n\u3000\u4f8b\uff09DB(15)\u3000DB12\n\n\u203b\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u306e\u8a08\u7b97\u5185\u3067\u5272\u308a\u7b97\u3092\u884c\u3063\u305f\u5834\u5408\u3001\u5c0f\u6570\u70b9\u4ee5\u4e0b\u306f\u5207\u308a\u4e0a\u3052\u3055\u308c\u307e\u3059\u3002\n\u3000\u305f\u3060\u3057\u30c0\u30a4\u30b9\u51fa\u76ee\u3092\u5272\u308a\u7b97\u3057\u305f\u5834\u5408\u3001\u5c0f\u6570\u70b9\u4ee5\u4e0b\u306f\u5207\u308a\u6368\u3066\u3055\u308c\u307e\u3059\u3002\n\u3000\u4f8b\uff09\u5165\u529b\uff1aGS(8+3/2)\u3000\u5b9f\u884c\u7d50\u679c\uff1a(GS10) \uff1e 10 + 3[1,2] \uff1e 13\n\u3000\u3000\u3000\u5165\u529b\uff1a2d6/2    \u3000\u5b9f\u884c\u7d50\u679c\uff1a(2D6/2) \uff1e 3[1,2]/2 \uff1e 1\n\n\u203bMCPI\u3067\u306f\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30c0\u30a4\u30b9\u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n"),D.$register_prefix("GS","^MCPI.*$","DB"),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.round_type=n(d("RoundType"),"CEIL")},1),m(D,"$eval_game_system_specific_command",function($){var r,a=this;return h(/^GS/i,r=$)?a.$getCheckResult($):h(/^MCPI/i,r)?a.$murmurChantPrayInvoke($):h(/^DB/i,r)?a.$damageBonus($):t},1),m(D,"$getCheckResult",function($){var r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t;return r=/^GS([-+]?\d+)?((>=?)(\d+))?$/i.$match($),g(r)?(s=r["$[]"](1).$to_i(),i=r["$[]"](4).$to_i(),u=g(_=r["$[]"](2)["$nil?"]())?_:y(i,0),c=r["$[]"](3),f=(b=this.randomizer.$roll_barabara(2,6)).$sum(),q=b.$join(","),F=k(s,f),U=q["$=="]("1,1"),W=q["$=="]("6,6"),X=" \uff1e "+this.$resultStr(F,i,c,U,W),g(u)&&p(U)&&p(W)&&(X=""),"("+$+") \uff1e "+(E(s,0)?"":s+" + ")+f+"["+q+"] \uff1e "+F+X):t},1),m(D,"$murmurChantPrayInvoke",function($){var r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t;return r=/^MCPI(\+?\d+)?\$(\d+)$/i.$match($),g(r)?(s=r["$[]"](1).$to_i(),i=r["$[]"](2).$to_i(),g(M(i,12))?"\u56e0\u679c\u70b9\u304c12\u70b9\u4ee5\u4e0a\u306e\u5834\u5408\u3001\u56e0\u679c\u70b9\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002":(_=(u=this.randomizer.$roll_barabara(2,6)).$sum(),c=u.$join(","),b=k(_,s),f=" \uff1e "+this.$resultStr(b,i,">=",!1,!1),"\u7948\u5ff5(2d6"+(q=E(s,0)?"":"+"+s)+") \uff1e "+_+"["+c+"]"+q+" \uff1e "+b+f+", \u56e0\u679c\u70b9\uff1a"+i+"\u70b9 \u2192 "+k(i,1)+"\u70b9")):t},1),m(D,"$damageBonus",function($){var r=t,s=t,i=t,u=t,_=t,c=t,b=t;return r=/^DB(\d+)$/i.$match($),g(r)?(s=r["$[]"](1).$to_i(),i="\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9 \uff1e ",g(L(s,15))?k(i,"\u306a\u3057"):(u=g(M(s,40))?5:g(M(s,30))?4:g(M(s,25))?3:g(M(s,20))?2:1,c=(_=this.randomizer.$roll_barabara(u,6)).$sum(),b=_.$join(","),k(i,c+"["+b+"] \uff1e "+c))):t},1),m(D,"$resultStr",function($,a,r,s,i){return g(s)?"\u5927\u5931\u6557":g(i)?"\u5927\u6210\u529f":E(r,">=")?g(M($,a))?"\u6210\u529f":"\u5931\u6557":g(Y($,a))?"\u6210\u529f":"\u5931\u6557"},5)})},3437:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeqeq,h=e.truthy,g=e.rb_plus;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"GoldenSkyStories")].concat(P),V.$$prototype.randomizer=t,C(J[0],"ID","GoldenSkyStories"),C(J[0],"NAME","\u3086\u3046\u3084\u3051\u3053\u3084\u3051"),C(J[0],"SORT_KEY","\u3086\u3046\u3084\u3051\u3053\u3084\u3051"),C(J[0],"HELP_MESSAGE","\u203b\u300c\u3086\u3046\u3084\u3051\u3053\u3084\u3051\u300d\u306f\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002\n\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u30fb\u4e0b\u99c4\u5360\u3044 (GETA)\n  \u3042\u30fc\u3057\u305f\u3066\u3093\u304d\u306b\u306a\u30fc\u308c\n"),V.$register_prefix("geta"),R(V,"$initialize",function w(z){var x=this;return delete w.$$p,v(x,S(x,"initialize",w,!1,!0),"initialize",[z],null),x.enabled_upcase_input=!1},1),R(V,"$eval_game_system_specific_command",function(z){var x=t;return this.$debug("eval_game_system_specific_command command",z),x="",m(/geta/i,z)&&(x=this.$getaRoll()),h(x["$empty?"]())?t:z+" \uff1e "+x},1),R(V,"$getaRoll",function(){var x,T,A=t,D=t;return A="",x=this.randomizer.$roll_once(7),A=g(A,"\u4e0b\u99c4\u5360\u3044 \uff1e "),D="",m(1,T=x)?D="\u88cf\uff1a\u3042\u3081":m(2,T)?D="\u8868\uff1a\u306f\u308c":m(3,T)?D="\u88cf\uff1a\u3042\u3081":m(4,T)?D="\u8868\uff1a\u306f\u308c":m(5,T)?D="\u88cf\uff1a\u3042\u3081":m(6,T)?D="\u8868\uff1a\u306f\u308c":m(7,T)&&(D="\u6a2a\uff1a\u304f\u3082\u308a"),g(A,D)},0)})},6362:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var h,p,j,N,K,P,M,L,y,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send,S=e.def,R=e.eqeq;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[n(y[0],"GameSystem")].concat(p),L=e.$r(M),j=M,K=[N=B(M[0],L("Base"),"Gorilla")].concat(j),P=e.$r(K),C(K[0],"ID","Gorilla"),C(K[0],"NAME","\u30b4\u30ea\u30e9TRPG"),C(K[0],"SORT_KEY","\u3053\u308a\u3089TRPG"),C(K[0],"HELP_MESSAGE","2D6\u30ed\u30fc\u30eb\u6642\u306e\u30b4\u30ea\u30c6\u30a3\u30ab\u30eb\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nG = 2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\n\n\u4f8b) G>=7 : 2D6\u3057\u30667\u4ee5\u4e0a\u306a\u3089\u6210\u529f\n"),N.$register_prefix("G"),S(N,"$change_text",function(J){return v(J,"gsub",[/^(S)?G/i],function(){return P("Regexp").$last_match(1)+"2D6"},0)},1),S(N,"$result_2d6",function(J,I,w,z,A){return R(w,[5,5])?P("Result").$critical("\u30b4\u30ea\u30c6\u30a3\u30ab\u30eb\uff08\u81ea\u52d5\u7684\u6210\u529f\uff09"):t},5)})},8166:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeq,h=e.truthy,g=e.rb_ge,y=e.rb_le,k=e.rb_divide,p=e.rb_minus,E=e.rb_times,M=e.rb_plus;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"Gundog")].concat(z),D=e.$r(x),C(x[0],"ID","Gundog"),C(x[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0"),C(x[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f"),C(x[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n"),R(A,"$initialize",function T(d){var l=this;return delete T.$$p,v(l,S(l,"initialize",T,!1,!0),"initialize",[d],null),l.enabled_d9=!0},1),R(A,"$result_1d100",function(d,o,l,$){var a=t,r=t;return m(l,"<=")?h(g(d,100))?D("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):h(y(d,1))?D("Result").$critical("\u7d76\u5bfe\u6210\u529f(\u9054\u6210\u50241+SL)"):m($,"?")?D("Result").$nothing():h(y(d,$))?(a=k(d,10).$to_i(),r=p(d,E(a,10)),h(g(a,10))&&(a=0),h(g(r,10))&&(r=0),h(y(r,0))?D("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(\u9054\u6210\u502420+SL)"):D("Result").$success("\u6210\u529f(\u9054\u6210\u5024"+M(a,r)+"+SL)")):D("Result").$failure("\u5931\u6557"):t},4)})},4196:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/Gundog"]=function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeq,h=e.truthy,g=e.rb_ge,y=e.rb_le,k=e.rb_divide,p=e.rb_minus,E=e.rb_times,M=e.rb_plus;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"Gundog")].concat(z),D=e.$r(x),C(x[0],"ID","Gundog"),C(x[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0"),C(x[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f"),C(x[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n"),R(A,"$initialize",function T(d){var l=this;return delete T.$$p,v(l,S(l,"initialize",T,!1,!0),"initialize",[d],null),l.enabled_d9=!0},1),R(A,"$result_1d100",function(d,o,l,$){var a=t,r=t;return m(l,"<=")?h(g(d,100))?D("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):h(y(d,1))?D("Result").$critical("\u7d76\u5bfe\u6210\u529f(\u9054\u6210\u50241+SL)"):m($,"?")?D("Result").$nothing():h(y(d,$))?(a=k(d,10).$to_i(),r=p(d,E(a,10)),h(g(a,10))&&(a=0),h(g(r,10))&&(r=0),h(y(r,0))?D("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(\u9054\u6210\u502420+SL)"):D("Result").$success("\u6210\u529f(\u9054\u6210\u5024"+M(a,r)+"+SL)")):D("Result").$failure("\u5931\u6557"):t},4)},Opal.queue(function(e){var V,z,o,l,$,a,x,D,I,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_ge,k=e.rb_le,p=e.rb_divide,E=e.rb_minus,M=e.rb_times,L=e.rb_plus,Y=e.to_ary,G=e.send,j=e.rb_lt,N=e.rb_gt,K=e.eqeqeq;return e.top.$require("bcdice/game_system/Gundog"),V=t,z=I=[B(t[0],"BCDice")].concat(V),x=[B(I[0],"GameSystem")].concat(z),D=e.$r(x),o=x,$=[l=C(x[0],D("Base"),"GundogRevised")].concat(o),a=e.$r($),l.$$prototype.randomizer=n,v($[0],"ID","GundogRevised"),v($[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0\u30fb\u30ea\u30f4\u30a1\u30a4\u30ba\u30c9"),v($[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f\u308a\u3046\u3042\u3044\u3059\u3068"),v($[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n\u30fb\u30c0\u30e1\u30fc\u30b8\u30da\u30ca\u30eb\u30c6\u30a3\u8868\u3000\u3000(\uff5eDPTx) (x:\u4fee\u6b63)\n\u3000\u5c04\u6483(SDPT)\u3001\u683c\u95d8(MDPT)\u3001\u8eca\u4e21(VDPT)\u3001\u6c4e\u7528(GDPT)\u306e\u5404\u8868\u3092\u5f15\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u3092\u5f8c\u308d\u306b\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000\u3000\u3000\u3000\u3000\u3000(\uff5eFTx)  (x:\u4fee\u6b63)\n\u3000\u5c04\u6483(SFT)\u3001\u683c\u95d8(MFT)\u3001\u6295\u64f2(TFT)\u306e\u5404\u8868\u3092\u5f15\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u3092\u5f8c\u308d\u306b\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n"),l.$register_prefix(".DPT",".FT"),m(l,"$initialize",function s(i){var _=this;return delete s.$$p,S(_,R(_,"initialize",s,!1,!0),"initialize",[i],null),_.enabled_d9=!0},1),m(l,"$result_1d100",function(i,u,_,c){var b=n,f=n;return h(_,"<=")?g(y(i,100))?a("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):g(k(i,1))?a("Result").$critical("\u30d9\u30a2\u30ea\u30fc(\u9054\u6210\u50241+SL)"):h(c,"?")?a("Result").$nothing():g(k(i,c))?(b=p(i,10).$to_i(),f=E(i,M(b,10)),g(y(b,10))&&(b=0),g(y(f,10))&&(f=0),g(k(f,0))?a("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(\u9054\u6210\u502420+SL)"):a("Result").$success("\u6210\u529f(\u9054\u6210\u5024"+L(b,f)+"+SL)")):a("Result").$failure("\u5931\u6557"):n},4),m(l,"$eval_game_system_specific_command",function(i){var u,_,b,c=this,f=n,q=n,F=n,U=n,W=n,X=n,Q=n,re=n;return b=i.$upcase(),f=[],q="",F="",U=0,g(/(\w)DPT([+\-\d]*)/i["$=~"](b))&&(q="\u30c0\u30e1\u30fc\u30b8\u30da\u30ca\u30eb\u30c6\u30a3\u30fc",W=a("Regexp").$last_match(1),g(a("Regexp").$last_match(2))&&(U=a("ArithmeticEvaluator").$eval(a("Regexp").$last_match(2))),_=c.$getDamageTypeAndTable(W),F=null==(u=Y(_))[0]?n:u[0],f=null==u[1]?n:u[1]),g(/(\w)FT([+\-\d]*)/i["$=~"](b))&&(q="\u30d5\u30a1\u30f3\u30d6\u30eb",W=a("Regexp").$last_match(1),g(a("Regexp").$last_match(2))&&(U=a("ArithmeticEvaluator").$eval(a("Regexp").$last_match(2))),_=c.$getFumbleTypeAndTable(W),F=null==(u=Y(_))[0]?n:u[0],f=null==u[1]?n:u[1]),g(F["$empty?"]())?"1":(X=c.randomizer.$roll_barabara(2,10),re=Q=L(U,G(X,"select",[],function(ne){return null==ne&&(ne=n),j(ne,10)},1).$sum()),g(j(Q,0))&&(Q=0),g(N(Q,18))&&(Q=18),""+F+q+"\u8868["+re+"] \uff1e "+f["$[]"](Q))},1),m(l,"$getDamageTypeAndTable",function(i){var u,_,b,f=n,q=n;return K("S",b=i)?(f="\u5c04\u6483",q=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-40\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]13","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]11","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]11","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05","[\u30b7\u30e7\u30c3\u30af]-20\uff05","[\u30b7\u30e7\u30c3\u30af]-10\uff05","[\u4e0d\u5b89\u5b9a]","\u624b\u306b\u6301\u3063\u305f\u6b66\u5668\u3092\u843d\u3068\u3059\u3002\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):K("M",b)?(f="\u683c\u95d8",q=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-40\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14/[\u4e0d\u5b89\u5b9a]","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12/[\u4e0d\u5b89\u5b9a]","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]11","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05/[\u4e0d\u5b89\u5b9a]","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05","[\u30b7\u30e7\u30c3\u30af]-20\uff05","[\u30b7\u30e7\u30c3\u30af]-10\uff05","[\u4e0d\u5b89\u5b9a]","\u624b\u306b\u6301\u3063\u305f\u6b66\u5668\u3092\u843d\u3068\u3059\u3002\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):K("V",b)?(f="\u8eca\u4e21",q=["[\u30af\u30e9\u30c3\u30b7\u30e5]\u3059\u308b\u3002[\u30c1\u30a7\u30a4\u30b9]\u304b\u3089\u9664\u5916","[\u8eca\u4e21D]4D6/[\u4e57\u54e1D]3D6/[\u64cd\u4f5c\u6027]-40%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u8eca\u4e21D]3D6/[\u4e57\u54e1D]3D6/[\u64cd\u4f5c\u6027]-30%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u64cd\u4f5c\u6027]-20%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u64cd\u4f5c\u6027]-20%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u64cd\u4f5c\u6027]-10%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u64cd\u4f5c\u6027]-10%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u30b9\u30d4\u30fc\u30c9]-2/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u30b9\u30d4\u30fc\u30c9]-2/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20%/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20%","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20%","[\u4e57\u54e1D]1D6/[\u64cd\u7e26\u5224\u5b9a]-20%","[\u4e57\u54e1D]1D6/[\u64cd\u7e26\u5224\u5b9a]-10%","\u653b\u6483\u304c\u4e57\u54e1\u3092\u304b\u3059\u3081\u308b\u3002\u30e9\u30f3\u30c0\u30e0\u306a\u4e57\u54e11\u4eba\u306b[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u653b\u6483\u304c\u4e57\u54e1\u306b\u5f53\u305f\u308a\u304b\u3051\u308b\u3002\u30e9\u30f3\u30c0\u30e0\u306a\u4e57\u54e11\u4eba\u306b[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u8eca\u4e21\u304c\u86c7\u884c\u3002\u4e57\u54e1\u5168\u54e1\u306f\u3008\u904b\u52d5\u3009\u5224\u5b9a\u3002\u5931\u6557\u3067[\u4e0d\u5b89\u5b9a]","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):K("G",b)?(f="\u6c4e\u7528",q=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-40\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]13/[\u4e0d\u5b89\u5b9a]","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12/[\u4e0d\u5b89\u5b9a]","[\u8ffd\u52a0D]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]11","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-20\uff05/[\u4e0d\u5b89\u5b9a]","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","[\u30b7\u30e7\u30c3\u30af]-20\uff05","[\u30b7\u30e7\u30c3\u30af]-10\uff05","[\u4e0d\u5b89\u5b9a]","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):(_=this.$getDamageTypeAndTable(i="S"),f=null==(u=Y(_))[0]?n:u[0],q=null==u[1]?n:u[1]),[f,q]},1),m(l,"$getFumbleTypeAndTable",function(i){var u,_,b,f=n,q=n;return K("S",b=i)?(f="\u5c04\u6483",q=["\u9283\u5668\u304c\u66b4\u767a\u3001\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]\u3002\u6b66\u88c5\u55aa\u5931","\u9283\u5668\u304c\u66b4\u767a\u3001\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]\u3002\u6b66\u88c5\u55aa\u5931","\u8aa4\u5c04\u3002\u5c04\u7dda\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u8aa4\u5c04\u3002\u5c04\u7dda\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u9283\u5668\u304c\u5b8c\u5168\u306b\u6545\u969c\u3002\u76f4\u305b\u306a\u3044","\u6545\u969c\u300230\u5206\u304b\u3051\u3066\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef\u3002","\u6545\u969c\u3002\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009-20\uff05\u306e\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef\u3002","\u6545\u969c\u3002\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u30922\u56de\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u3092\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u8db3\u304c\u3082\u3064\u308c\u3066\u5012\u308c\u308b\u3002[\u8ee2\u5012]","\u7121\u7406\u306a\u5c04\u6483\u59ff\u52e2\u3067\u8155\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u5c04\u6483\u59ff\u52e2\u3067\u3069\u3053\u304b\u306e\u7b4b\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-10\uff05","\u6b66\u88c5\u3092\u843d\u3068\u3059\u3002\u30b9\u30ea\u30f3\u30b0\uff08\u80a9\u3072\u3082\uff09\u3082\u5207\u308c\u308b","\u6b66\u88c5\u3092\u843d\u3068\u3059\u3002\u30b9\u30ea\u30f3\u30b0\uff08\u80a9\u3072\u3082\uff09\u304c\u3042\u308c\u3070\u843d\u3068\u3055\u306a\u3044","\u6392\u83a2\u3055\u308c\u305f\u85ac\u83a2\u304c\u670d\u306e\u4e2d\u306b\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u6392\u83a2\u3055\u308c\u305f\u85ac\u83a2\u304c\u9854\u306b\u5f53\u305f\u308b\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u85ac\u83a2\u3092\u8e0f\u3093\u3067\u614b\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):K("M",b)?(f="\u683c\u95d8",q=["\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u6700\u3082\u8fd1\u3044\u5473\u65b9\uff08\u5c04\u7a0b\u5185\u306b\u3044\u306a\u3051\u308c\u3070\u81ea\u5206\uff09\u306b[\u8cab\u901aD]","\u6700\u3082\u8fd1\u3044\u5473\u65b9\uff08\u5c04\u7a0b\u5185\u306b\u3044\u306a\u3051\u308c\u3070\u81ea\u5206\uff09\u306b[\u975e\u8cab\u901aD]","\u982d\u3092\u5f37\u304f\u6253\u3061\u3064\u3051\u308b\u3002[\u6726\u6727]","\u6b66\u88c5\u304c\u58ca\u308c\u308b\u3002\u76f4\u305b\u306a\u3044\u3002[\u683c\u95d8\u30bf\u30a4\u30d7]\u306a\u3089[\u91cd\u50b7]-20\uff05","\u6b66\u88c5\u304c\u3059\u3063\u307d\u629c\u3051\u308b\u3002\u30b0\u30ec\u30cd\u30fc\u30c9\u306e\u8aa4\u5dee\u3067\u843d\u4e0b\u5148\u3092\u6c7a\u5b9a","\u6b66\u88c5\u304c\u640d\u50b7\u300230\u5206\u304b\u3051\u3066\u3008\u624b\u5148\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef\u3002[\u683c\u95d8\u30bf\u30a4\u30d7]\u306a\u3089[\u91cd\u50b7]-10\uff05","\u6b66\u88c5\u304c\u30ac\u30bf\u3064\u304f\u3002\u3008\u624b\u5148\u3009\u5224\u5b9a\uff08[\u683c\u95d8\u30bf\u30a4\u30d7]\u306a\u3089\u3008\u5f37\u976d\u3009\uff09\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef\u3002","\u6b66\u88c5\u306b\u9055\u548c\u611f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u3092\u884c\u3063\u3066\u8abf\u6574\u3059\u308b\u307e\u3067\u3001\u547d\u4e2d\u7387-20\uff05","\u8db3\u304c\u3082\u3064\u308c\u308b\u3002[\u8ee2\u5012]","\u8db3\u304c\u3064\u308b\u30022[\u30e9\u30a6\u30f3\u30c9]\u306e\u9593\u3001\u79fb\u52d5\u8ddd\u96e21/2","\u7121\u7406\u306a\u4f53\u52e2\u3067\u8155\uff08\u3042\u308b\u3044\u306f\u811a\uff09\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u4f53\u52e2\u3067\u3069\u3053\u304b\u306e\u7b4b\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-10\uff05","\u6b66\u88c5\u3092\u843d\u3068\u3059","\u6b66\u88c5\u3067\u81ea\u5206\u304c\u8ca0\u50b7\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u6b66\u88c5\u306e\u6271\u3044\u3092\u9593\u9055\u3048\u308b\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u653b\u6483\u3092\u907f\u3051\u3089\u308c\u3066\u4f53\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):K("T",b)?(f="\u6295\u64f2",q=["\u52e2\u3044\u3092\u3064\u3051\u3059\u304e\u3066\u8ee2\u5012\u3057\u3001\u982d\u3092\u6253\u3064\u3002[\u6c17\u7d76]","\u81ea\u5206\u306b\u547d\u4e2d\u3002\uff08\u624b\u69b4\u5f3e\u306a\u3089\u81ea\u5206\u306e\u8db3\u5143\u306b\u843d\u3061\u308b\uff09[\u8cab\u901aD]","\u81ea\u5206\u306b\u547d\u4e2d\u3002\uff08\u624b\u69b4\u5f3e\u306a\u3089\u81ea\u5206\u306e\u8db3\u5143\u306b\u843d\u3061\u308b\uff09[\u975e\u8cab\u901aD]","\u66b4\u6295\u3002\u5c04\u7dda\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]\u3002\u624b\u69b4\u5f3e\u306a\u3089\u65b0\u305f\u306a\u4e2d\u5fc3\u70b9\u304b\u3089\u3055\u3089\u306b\u8aa4\u5dee\u304c\u751f\u3058\u308b","\u66b4\u6295\u3002\u5c04\u7dda\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]\u3002\u624b\u69b4\u5f3e\u306a\u3089\u65b0\u305f\u306a\u4e2d\u5fc3\u70b9\u304b\u3089\u3055\u3089\u306b\u8aa4\u5dee\u304c\u751f\u3058\u308b","\u982d\u3092\u5f37\u304f\u6253\u3061\u3064\u3051\u308b\u3002[\u6726\u6727]","\u80a9\u306e\u7b4b\u8089\u65ad\u88c2\u3002\u3053\u306e\u8155\u3092\u4f7f\u3046\u5224\u5b9a\u306b\u3001[\u91cd\u50b7]-20\uff05","\u30d2\u30b8\u306e\u7b4b\u8089\u65ad\u88c2\u3002\u3053\u306e\u8155\u3092\u4f7f\u3046\u5224\u5b9a\u306b\u3001[\u91cd\u50b7]-10\uff05","\u80a9\u306e\u7b4b\u3092\u3072\u3069\u304f\u75db\u3081\u308b\u3002\u3008\u533b\u7642\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u3001\u3053\u306e\u8155\u3092\u4f7f\u3046\u5224\u5b9a\u306b-20\uff05","\u80a9\u306e\u7b4b\u3092\u75db\u3081\u308b\u3002[\u884c\u52d5]\u3092\u4f7f\u3063\u3066\u4f11\u3081\u308b\u307e\u3067\u3001\u3053\u306e\u8155\u3092\u4f7f\u3046\u5224\u5b9a\u306b-20\uff05","\u8170\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-30\uff05","\u8db3\u304c\u3082\u3064\u308c\u3066\u5012\u308c\u308b\u3002[\u8ee2\u5012]","\u8db3\u304c\u3064\u308b\u30022[\u30e9\u30a6\u30f3\u30c9]\u306e\u9593\u3001\u79fb\u52d5\u8ddd\u96e21/2","\u7121\u7406\u306a\u6295\u64f2\u4f53\u52e2\u3067\u8155\uff08\u3042\u308b\u3044\u306f\u811a\uff09\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u6295\u64f2\u4f53\u52e2\u3067\u3069\u3053\u304b\u306e\u7b4b\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-10\uff05","\u80a9\u306b\u9055\u548c\u611f\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u30d2\u30b8\u306b\u9055\u548c\u611f\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u3064\u307e\u305a\u3044\u3066\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):(_=this.$getFumbleTypeAndTable(i="S"),f=null==(u=Y(_))[0]?n:u[0],q=null==u[1]?n:u[1]),[f,q]},1)})},5273:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/Gundog"]=function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeq,h=e.truthy,g=e.rb_ge,y=e.rb_le,k=e.rb_divide,p=e.rb_minus,E=e.rb_times,M=e.rb_plus;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"Gundog")].concat(z),D=e.$r(x),C(x[0],"ID","Gundog"),C(x[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0"),C(x[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f"),C(x[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n"),R(A,"$initialize",function T(d){var l=this;return delete T.$$p,v(l,S(l,"initialize",T,!1,!0),"initialize",[d],null),l.enabled_d9=!0},1),R(A,"$result_1d100",function(d,o,l,$){var a=t,r=t;return m(l,"<=")?h(g(d,100))?D("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):h(y(d,1))?D("Result").$critical("\u7d76\u5bfe\u6210\u529f(\u9054\u6210\u50241+SL)"):m($,"?")?D("Result").$nothing():h(y(d,$))?(a=k(d,10).$to_i(),r=p(d,E(a,10)),h(g(a,10))&&(a=0),h(g(r,10))&&(r=0),h(y(r,0))?D("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(\u9054\u6210\u502420+SL)"):D("Result").$success("\u6210\u529f(\u9054\u6210\u5024"+M(a,r)+"+SL)")):D("Result").$failure("\u5931\u6557"):t},4)},Opal.queue(function(e){var E,G,J,I,w,z,N,K,L,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.truthy,R=e.to_ary,m=e.rb_plus,h=e.rb_lt,g=e.rb_gt,y=e.def,k=e.eqeqeq;return e.top.$require("bcdice/game_system/Gundog"),E=t,G=L=[B(t[0],"BCDice")].concat(E),N=[B(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=C(N[0],K("Gundog"),"GundogZero")].concat(J),z=e.$r(w),I.$$prototype.randomizer=n,v(w[0],"ID","GundogZero"),v(w[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0\u30bc\u30ed"),v(w[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f\u305b\u308d"),v(w[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n\u30fb\u30c0\u30e1\u30fc\u30b8\u30da\u30ca\u30eb\u30c6\u30a3\u8868\u3000\u3000(\u301cDPTx) (x:\u4fee\u6b63)\n\u3000\u5c04\u6483(SDPT)\u3001\u683c\u95d8(MDPT)\u3001\u8eca\u4e21(VDPT)\u3001\u6c4e\u7528(GDPT)\u306e\u5404\u8868\u3092\u5f15\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u3092\u5f8c\u308d\u306b\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000\u3000\u3000\u3000\u3000\u3000(\u301cFTx)  (x:\u4fee\u6b63)\n\u3000\u5c04\u6483(SFT)\u3001\u683c\u95d8(MFT)\u3001\u6295\u64f2(TFT)\u306e\u5404\u8868\u3092\u5f15\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u3092\u5f8c\u308d\u306b\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n"),I.$register_prefix(".DPT",".FT"),y(I,"$eval_game_system_specific_command",function(D){var T,d,l,o=this,$=n,a=n,r=n,s=n,i=n,u=n,_=n;return l=D.$upcase(),$=[],a="",r="",s=0,S(/(\w)DPT([+\-\d]*)/i["$=~"](l))&&(a="\u30c0\u30e1\u30fc\u30b8\u30da\u30ca\u30eb\u30c6\u30a3\u30fc",i=z("Regexp").$last_match(1),S(z("Regexp").$last_match(2))&&(s=z("ArithmeticEvaluator").$eval(z("Regexp").$last_match(2))),d=o.$getDamageTypeAndTable(i),r=null==(T=R(d))[0]?n:T[0],$=null==T[1]?n:T[1]),S(/(\w)FT([+\-\d]*)/i["$=~"](l))&&(a="\u30d5\u30a1\u30f3\u30d6\u30eb",i=z("Regexp").$last_match(1),S(z("Regexp").$last_match(2))&&(s=z("ArithmeticEvaluator").$eval(z("Regexp").$last_match(2))),d=o.$getFumbleTypeAndTable(i),r=null==(T=R(d))[0]?n:T[0],$=null==T[1]?n:T[1]),S(r["$empty?"]())?"1":(_=u=m(m(o.randomizer.$roll_index(10),o.randomizer.$roll_index(10)),s),S(h(u,0))&&(u=0),S(g(u,18))&&(u=18),""+r+a+"\u8868["+_+"] \uff1e "+$["$[]"](u))},1),y(I,"$getDamageTypeAndTable",function(D){var T,d,l,$=n,a=n;return k("S",l=D)?($="\u5c04\u6483",a=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-10\uff05","\u624b\u306b\u6301\u3063\u305f\u6b66\u5668\u3092\u843d\u3068\u3059","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):k("M",l)?($="\u683c\u95d8",a=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-10\uff05","\u624b\u306b\u6301\u3063\u305f\u6b66\u5668\u3092\u843d\u3068\u3059","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):k("V",l)?($="\u8eca\u4e21",a=["[\u30af\u30e9\u30c3\u30b7\u30e5]\u3059\u308b\u3002[\u30c1\u30a7\u30a4\u30b9]\u304b\u3089\u9664\u5916","[\u4e57\u54e1D]3D6/[\u64cd\u7e26\u6027]-20\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u64cd\u7e26\u6027]-20\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u6027]-10\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u6027]-10\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u30b9\u30d4\u30fc\u30c9]-2/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u30b9\u30d4\u30fc\u30c9]-2/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u30b9\u30d4\u30fc\u30c9]-1/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u30b9\u30d4\u30fc\u30c9]-1/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20\uff05","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20\uff05","[\u4e57\u54e1D]1D6/[\u64cd\u7e26\u5224\u5b9a]-10\uff05","[\u4e57\u54e1D]1D6/[\u64cd\u7e26\u5224\u5b9a]-10\uff05","[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u30b9\u30d4\u30f3\u5224\u5b9a]","\u4e57\u54e1\u306b[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u4e57\u54e1\u306b[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u4e57\u54e1\u306b[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):k("G",l)?($="\u6c4e\u7528",a=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]18","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]16","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):(d=this.$getDamageTypeAndTable(D="S"),$=null==(T=R(d))[0]?n:T[0],a=null==T[1]?n:T[1]),[$,a]},1),y(I,"$getFumbleTypeAndTable",function(D){var T,d,l,$=n,a=n;return k("S",l=D)?($="\u5c04\u6483",a=["\u9283\u5668\u304c\u66b4\u767a\u3001\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u9283\u5668\u304c\u66b4\u767a\u3001\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u8aa4\u5c04\u3002\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u8aa4\u5c04\u3002\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u9283\u5668\u304c\u5b8c\u5168\u306b\u6545\u969c","\u9283\u5668\u304c\u5b8c\u5168\u306b\u6545\u969c","\u6545\u969c\u3002\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u6545\u969c\u3002\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u30922\u56de\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u30922\u56de\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u3092\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u3092\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):k("M",l)?($="\u683c\u95d8",a=["\u907f\u3051\u3089\u308c\u3066[\u8ee2\u5012]\u3001[\u6726\u6727]\u72b6\u614b","\u30e9\u30f3\u30c0\u30e0\u306b[\u81f3\u8fd1\u8ddd\u96e2]\u306e\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u30e9\u30f3\u30c0\u30e0\u306b[\u81f3\u8fd1\u8ddd\u96e2]\u306e\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u6b66\u5668\u304c\u5b8c\u5168\u306b\u58ca\u308c\u308b","\u6b66\u5668\u304c\u30ac\u30bf\u3064\u304f\u3002\u3008\u624b\u5148\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef","\u6b66\u5668\u304c\u30ac\u30bf\u3064\u304f\u3002\u3008\u624b\u5148\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-30\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-30\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-10\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):k("T",l)?($="\u6295\u64f2",a=["[\u8ee2\u5012]\u3001[\u6726\u6727]\u72b6\u614b","\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u6b66\u5668\u304c\u5b8c\u5168\u306b\u58ca\u308c\u308b","\u6b66\u5668\u304c\u5b8c\u5168\u306b\u58ca\u308c\u308b","\u8170\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-30\uff05","\u80a9\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u80a9\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u8098\u306b\u9055\u548c\u611f\u3002[\u8efd\u50b7]-10\uff05","\u8098\u306b\u9055\u548c\u611f\u3002[\u8efd\u50b7]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):(d=this.$getFumbleTypeAndTable(D="S"),$=null==(T=R(d))[0]?n:T[0],a=null==T[1]?n:T[1]),[$,a]},1)})},6765:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var y,M,K,P,V,J,Y,G,p,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_le,m=e.def,h=e.eqeqeq;return y=H,M=p=[n(H[0],"BCDice")].concat(y),Y=[n(p[0],"GameSystem")].concat(M),G=e.$r(Y),K=Y,V=[P=B(Y[0],G("Base"),"HarnMaster")].concat(K),J=e.$r(V),P.$$prototype.randomizer=t,C(V[0],"ID","HarnMaster"),C(V[0],"NAME","\u30cf\u30fc\u30f3\u30de\u30b9\u30bf\u30fc"),C(V[0],"SORT_KEY","\u306f\u3042\u3093\u307e\u3059\u305f\u3042"),C(V[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u30001D100<=XX \u306e\u5224\u5b9a\u6642\u306b\u81f4\u547d\u7684\u5931\u6557\u30fb\u6c7a\u5b9a\u7684\u6210\u529f\u3092\u5224\u5b9a\n\u30fb\u30b7\u30e7\u30c3\u30af\u5224\u5b9a\uff08SHKx\uff09\n\u3000\u4f8b\uff09SHK13,3\n\u30fb\u4eba\u578b\u7528\u3000\u4e2d\u6bb5\u547d\u4e2d\u90e8\u4f4d\u8868 (SLH)\uff0f\u4e0a\u6bb5\u547d\u4e2d\u90e8\u4f4d (SLHU)\uff0f\u4e0a\u6bb5\u547d\u4e2d\u90e8\u4f4d (SLHD)\n"),P.$register_prefix("SHK","SLH","SLHU","SLHD"),m(P,"$result_1d100",function(z,A,x,D){return v(D,"?")?J("Result").$nothing():v(x,"<=")?S(R(z,D))?v(z["$%"](5),0)?J("Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):J("Result").$success("\u6210\u529f"):v(z["$%"](5),0)?J("Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):J("Result").$failure("\u5931\u6557"):t},4),m(P,"$eval_game_system_specific_command",function(z){var x=t,D=t,T=t,d=t,o=t,l=t;try{return x=t,h(/^SHK(\d*),(\d+)/i,D=z)?(T=J("Regexp").$last_match(1).$to_i(),d=J("Regexp").$last_match(2).$to_i(),x=this.$getCheckShockResult(d,T)):h(/SLH(U|D)?/i,D)?(o=J("Regexp").$last_match(1),x=this.$getStrikeLocationHuman(o)):x=t,x}catch($){if(!e.rescue($,[J("StandardError")]))throw $;l=$;try{return l.$message()}finally{e.pop_exception()}}},1),m(P,"$getCheckShockResult",function(z,A){var T,D=t;return"\u30b7\u30e7\u30c3\u30af\u5224\u5b9a(\u30c0\u30e1\u30fc\u30b8:"+z+", \u8010\u4e45\u529b:"+A+") \uff1e ("+(T=(D=this.randomizer.$roll_barabara(z,6)).$sum())+"["+D.$join(",")+"]) \uff1e "+(S(R(T,A))?"\u6210\u529f":"\u5931\u6557")},2),m(P,"$getStrikeLocationHuman",function(z){var T,d,A=this,x=t,D=t,o=t;return x="",D=t,h("U",T=z)?(x="\u547d\u4e2d\u90e8\u4f4d(\u4eba\u578b \u4e0a\u6bb5)",D=A.$getStrikeLocationHumanUpperTable()):h("D",T)?(x="\u547d\u4e2d\u90e8\u4f4d(\u4eba\u578b \u4e0b\u6bb5)",D=A.$getStrikeLocationHumanDownTable()):h(t,T)?(x="\u547d\u4e2d\u90e8\u4f4d(\u4eba\u578b \u4e2d\u6bb5)",D=A.$getStrikeLocationHumanNormalTable()):A.$raise("unknow atak type "+z),d=A.randomizer.$roll_once(100),o=A.$get_table_by_number(d,D),o=A.$getLocationSide(o,d),x+" \uff1e ("+d+")"+A.$getFaceLocation(o)},1),m(P,"$getLocationSide",function(z,A){var D=t;return S(z["$=~"](/^\*/))?(this.$debug("part has side",z),D=S(A["$odd?"]())?"\u5de6":"\u53f3",z.$sub(/\*/,D)):(this.$debug("part has NO side",z),z)},2),m(P,"$getFaceLocation",function(z){var A=this,x=t,D=t,T=t;return A.$debug("getFaceLocation part",z),S(z["$=~"](/\+$/))?(A.$debug("is Face"),x=[[15,"\u984e"],[30,"*\u76ee"],[64,"*\u982c"],[80,"\u9f3b"],[90,"*\u8033"],[100,"\u53e3"]],D=A.randomizer.$roll_once(100),T=A.$get_table_by_number(D,x),A.$debug("faceLocation",T),A.$debug("number",D),T=A.$getLocationSide(T,D),z.$sub(/\+$/," \uff1e ("+D+")"+T)):(A.$debug("is NOT Face"),z)},1),m(P,"$getStrikeLocationHumanUpperTable",function(){return[[15,"\u982d\u90e8"],[30,"\u9854+"],[45,"\u9996"],[57,"*\u80a9"],[69,"*\u4e0a\u8155"],[73,"*\u8098"],[81,"*\u524d\u8155"],[85,"*\u624b"],[95,"\u80f8\u90e8"],[100,"\u8179\u90e8"]]},0),m(P,"$getStrikeLocationHumanNormalTable",function(){return[[5,"\u982d\u90e8"],[10,"\u9854+"],[15,"\u9996"],[27,"*\u80a9"],[33,"*\u4e0a\u8155"],[35,"*\u8098"],[39,"*\u524d\u8155"],[43,"*\u624b"],[60,"\u80f8\u90e8"],[70,"\u8179\u90e8"],[74,"\u80a1\u9593"],[80,"*\u81c0\u90e8"],[88,"*\u817f"],[90,"*\u819d"],[96,"*\u811b"],[100,"*\u8db3"]]},0),m(P,"$getStrikeLocationHumanDownTable",function(){return[[6,"*\u524d\u8155"],[12,"*\u624b"],[19,"\u80f8\u90e8"],[29,"\u8179\u90e8"],[35,"\u80a1\u9593"],[49,"*\u81c0\u90e8"],[70,"*\u817f"],[78,"*\u819d"],[92,"*\u811b"],[100,"*\u8db3"]]},0)})},7418:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_ge,m=e.rb_le,h=e.rb_divide,g=e.def;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"Hieizan")].concat(P),I=e.$r(J),C(J[0],"ID","Hieizan"),C(J[0],"NAME","\u6bd4\u53e1\u5c71\u708e\u4e0a"),C(J[0],"SORT_KEY","\u3072\u3048\u3044\u3055\u3093\u3048\u3093\u3057\u3088\u3046"),C(J[0],"HELP_MESSAGE","\u5927\u6210\u529f\u3001\u81ea\u52d5\u6210\u529f\u3001\u5931\u6557\u3001\u81ea\u52d5\u5931\u6557\u3001\u5927\u5931\u6557\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),g(V,"$result_1d100",function(z,A,x,D){return v(D,"?")?I("Result").$nothing():v(x,"<=")?S(R(z,100))?I("Result").$fumble("\u5927\u5931\u6557"):S(R(z,96))?I("Result").$failure("\u81ea\u52d5\u5931\u6557"):S(m(z,h(D,5).$to_i()))?I("Result").$critical("\u5927\u6210\u529f"):S(m(z,1))?I("Result").$success("\u81ea\u52d5\u6210\u529f"):S(m(z,D))?I("Result").$success("\u6210\u529f"):I("Result").$failure("\u5931\u6557"):t},4)})},7945:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.def,R=e.truthy,m=e.rb_le,h=e.rb_plus,g=e.rb_minus,y=e.rb_gt,k=e.rb_lt,p=e.send,E=e.to_ary;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"HouraiGakuen")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","HouraiGakuen"),C(A[0],"NAME","\u84ec\u83b1\u5b66\u5712\u306e\u5192\u967a!!"),C(A[0],"SORT_KEY","\u307b\u3046\u3089\u3044\u304b\u304f\u3048\u3093\u306e\u307b\u3046\u3051\u3093"),C(A[0],"HELP_MESSAGE","\u30fb\u57fa\u672c\u30ed\u30fc\u30eb\uff1aROL(x+n)\n  ROLL(\u81ea\u5206\u306e\u80fd\u529b\u5024 + \u7c21\u5358\u5024 + \u5fdc\u77f3 or \u84ec\u83b1\u30d1\u30ef\u30fc)\u3068\u8a18\u8ff0\u3057\u307e\u3059\u30023D6\u3092\u30ed\u30fc\u30eb\u3057\u3001\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n  \u4f8b\uff09ROL(4+6)\n\u30fb\u5bfe\u4eba\u5224\u5b9a\uff1aMED(x,y)\n  \u81ea\u5206\u306e\u80fd\u529b\u5024 x \u3068 \u76f8\u624b\u306e\u80fd\u529b\u5024 y \u3067\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n  \u4f8b\uff09MED(5,2)\n\u30fb\u5bfe\u6297\u5224\u5b9a\uff1aRES(x,y)\n  \u81ea\u5206\u306e\u80fd\u529b\u5024 x \u3068 \u76f8\u624b\u306e\u80fd\u529b\u5024 y \u3067\u76f8\u4e92\u306b\u30ed\u30fc\u30eb\u3057\u3001\u3069\u3061\u3089\u304c\u6210\u529f\u3057\u305f\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u4e21\u8005\u3068\u3082\u6210\u529f or \u5931\u6557\u306e\u5834\u5408\u306f\u5f15\u304d\u5206\u3051\u3068\u306a\u308a\u307e\u3059\u3002\n  \u4f8b\uff09RES(6,4)\n\u30fb\u9670\u967d\u30b3\u30de\u30f3\u30c9 INY\n  \u4f8b\uff09Hourai : \u967d\uff08\u5947\u6570\u306e\u65b9\u304c\u591a\u3044\uff09\n\u30fb\u4e94\u884c\u30b3\u30de\u30f3\u30c9\uff1aGOG\n  \u4f8b\uff09Hourai : \u4e94\u884c\u8868(3) \u2192 \u4e94\u884c\u3010\u571f\u3011\n\u30fb\u516b\u5fb3\u30b3\u30de\u30f3\u30c9\uff1aHTK\n  \u4f8b\uff09Hourai : \u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u7fa9\u3011(\u5947\u6570\u3001\u5947\u6570\u3001\u5076\u6570)\n"),z.$register_prefix("ROL","MED","RES","INY","HTK","GOG"),S(z,"$eval_game_system_specific_command",function(d){var l,o=this;return v(/^ROL/i,l=d)?o.$getRollResult(d):v(/^MED/i,l)?o.$getMedResult(d):v(/^RES/i,l)?o.$getResResult(d):v(/^INY/i,l)?o.$getInnyouResult(d):v(/^HTK/i,l)?o.$getHattokuResult(d):v(/^GOG$/i,l)?o.$getGogyouResult(d):t},1),C(A[0],"CRITICAL","\u5927\u6210\u529f"),C(A[0],"SUCCESS","\u6210\u529f"),C(A[0],"FAILURE","\u5931\u6557"),C(A[0],"FUMBLE","\u5927\u5931\u6557"),S(z,"$getRollResult",function(d){var l=t,$=t,a=t;return R(/rol([-\d]+)/i["$=~"](d))?(l=x("Regexp").$last_match(1).$to_i(),a=($=this.randomizer.$roll_barabara(3,6)).$sum(),"(3d6<="+l+") \uff1e \u51fa\u76ee"+$.$join(",")+"\uff1d\u5408\u8a08"+a+" \uff1e "+this.$getCheckResult($,a,l)):t},1),S(z,"$getCheckResult",function(d,o,l){return d=d.$sort(),R(this.$isFamble(d))?x("FUMBLE"):R(this.$isCritical(d))?x("CRITICAL"):R(m(o,l))?x("SUCCESS"):x("FAILURE")},3),S(z,"$isFamble",function(d){return d["$=="]([6,6,6])},1),S(z,"$isCritical",function(d){return d["$=="]([1,2,3])},1),S(z,"$getMedResult",function(d){var o=this,l=t,$=t,a=t,r=t,s=t;return R(/med\((\d+),(\d+)\)/i["$=~"](d))?(l=x("Regexp").$last_match(1).$to_i(),$=x("Regexp").$last_match(2).$to_i(),a=o.$getTargetFromValue(l,$),s=(r=o.randomizer.$roll_barabara(3,6)).$sum(),"(\u3042\u306a\u305f\u306e\u5024"+l+"\u3001\u76f8\u624b\u306e\u5024"+$+"\u30013d6<="+a+") \uff1e \u51fa\u76ee"+r.$join(",")+"\uff1d\u5408\u8a08"+s+" \uff1e "+o.$getCheckResult(r,s,a)):t},1),S(z,"$getTargetFromValue",function(d,o){return h(d,g(10,o))},2),S(z,"$getResResult",function(d){var o=this,l=t,$=t,a=t,r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t;return R(/res\((\d+),(\d+)\)/i["$=~"](d))?(l=x("Regexp").$last_match(1).$to_i(),$=x("Regexp").$last_match(2).$to_i(),a=o.$getTargetFromValue(l,$),r=o.$getTargetFromValue($,l),i=(s=o.randomizer.$roll_barabara(3,6)).$sum(),u=s.$join(","),c=(_=o.randomizer.$roll_barabara(3,6)).$sum(),b=_.$join(","),"\u3042\u306a\u305f\u306e\u5024"+l+"\u3001\u76f8\u624b\u306e\u5024"+$+"\n(\u3042\u306a\u305f\u306e\u30ed\u30fc\u30eb 3d6<="+a+") \uff1e "+u+"="+i+" \uff1e "+(f=o.$getCheckResult(s,i,a))+"\n(\u76f8\u624b\u306e\u30ed\u30fc\u30eb 3d6<="+r+") \uff1e "+b+"="+c+" \uff1e "+(q=o.$getCheckResult(_,c,r))+"\n\uff1e"+o.$getResistCheckResult(f,q)):t},1),S(z,"$getResistCheckResult",function(d,o){var $,a;return $=this.$getResultRank(d),a=this.$getResultRank(o),R(y($,a))?"\u3042\u306a\u305f\u304c\u52dd\u5229":R(k($,a))?"\u76f8\u624b\u304c\u52dd\u5229":"\u5f15\u304d\u5206\u3051"},2),S(z,"$getResultRank",function(d){return[x("FUMBLE"),x("FAILURE"),x("SUCCESS"),x("CRITICAL")].$index(d)},1),S(z,"$getInnyouResult",function(d){var l=t,$=t;return l=0,$=0,p(3,"times",[],function a(){var r=null==a.$$s?this:a.$$s,s=t;return null==r.randomizer&&(r.randomizer=t),s=r.randomizer.$roll_once(6),R(s["$even?"]())?$=h($,1):l=h(l,1)},{$$arity:0,$$s:this}),R(k($,l))?"\u967d\uff08\u5947\u6570\u306e\u65b9\u304c\u591a\u3044\uff09":"\u9670\uff08\u5076\u6570\u306e\u65b9\u304c\u591a\u3044\uff09"},1),S(z,"$getHattokuResult",function(d){var $,a,l=t;return l=[],p(3,"times",[],function r(){return l["$<<"]((null==r.$$s?this:r.$$s).$getOddEven())},{$$arity:0,$$s:this}),$=l.$join("\u3001"),v("\u5947\u6570\u3001\u5947\u6570\u3001\u5947\u6570",a=$)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u4ec1\u3011("+$+")":v("\u5947\u6570\u3001\u5947\u6570\u3001\u5076\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u7fa9\u3011("+$+")":v("\u5947\u6570\u3001\u5076\u6570\u3001\u5947\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u793c\u3011("+$+")":v("\u5947\u6570\u3001\u5076\u6570\u3001\u5076\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u667a\u3011("+$+")":v("\u5076\u6570\u3001\u5947\u6570\u3001\u5947\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u5fe0\u3011("+$+")":v("\u5076\u6570\u3001\u5947\u6570\u3001\u5076\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u4fe1\u3011("+$+")":v("\u5076\u6570\u3001\u5076\u6570\u3001\u5947\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u5b5d\u3011("+$+")":v("\u5076\u6570\u3001\u5076\u6570\u3001\u5076\u6570",a)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u608c\u3011("+$+")":"\u7570\u5e38\u7d42\u4e86"},1),S(z,"$getOddEven",function(){var o=t;return o=this.randomizer.$roll_once(6),R(o["$even?"]())?"\u5076\u6570":"\u5947\u6570"},0),S(z,"$getGogyouResult",function(d){var o,l,r;return r=this.$getGogyouTable(),l=this.$get_table_by_1d6(r),"\u4e94\u884c\u8868("+(null==(o=E(l))[1]?t:o[1])+") \uff1e "+(null==o[0]?t:o[0])},1),S(z,"$getGogyouTable",function(){return["\u4e94\u884c\u3010\u6728\u3011","\u4e94\u884c\u3010\u706b\u3011","\u4e94\u884c\u3010\u571f\u3011","\u4e94\u884c\u3010\u91d1\u3011","\u4e94\u884c\u3010\u6c34\u3011","\u4e94\u884c\u306f\u3010\u4efb\u610f\u9078\u629e\u3011"]},0)})},3843:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.send,g=e.rb_gt,y=e.rb_plus,k=e.rb_lt;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=B(N[0],K("Base"),"Illusio")].concat(J),I.$$prototype.randomizer=t,C(w[0],"ID","Illusio"),C(w[0],"NAME","\u6643\u5929\u306e\u30a4\u30eb\u30fc\u30b8\u30aa"),C(w[0],"SORT_KEY","\u3053\u3046\u3066\u3093\u306e\u3044\u308b\u3046\u3057\u304a"),C(w[0],"HELP_MESSAGE","\u5224\u5b9a\uff1a[n]IL(BNo)[P]\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3002\n(BNo)\u3067\u30d6\u30ed\u30c3\u30af\u30ca\u30f3\u30d0\u30fc\u3092\u6307\u5b9a\u3002\u300c236\u300d\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3002\u9806\u4e0d\u540c\u53ef\u3002\n\u30b3\u30de\u30f3\u30c9\u672b\u306b\u300cP\u300d\u3092\u6307\u5b9a\u3067\u3001(BNo)\u306e\u30d1\u30ea\u30a3\u5224\u5b9a\u3002\uff08\u4e00\u5fdc\u3001\u8907\u6570\u6307\u5b9a\u53ef\uff09\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb6IL236 \u2192 6d\u3067\u30d6\u30ed\u30c3\u30af\u30ca\u30f3\u30d0\u30fc\u300c2,3,6\u300d\u306e\u5224\u5b9a\u3002\n\u30fbIL4512 \u2192 1d\u3067\u30d6\u30ed\u30c3\u30af\u30ca\u30f3\u30d0\u30fc\u300c1,2,4,5\u300d\u306e\u5224\u5b9a\u3002\n\u30fb2IL1P \u2192 2d\u3067\u30d1\u30ea\u30a3\u30ca\u30f3\u30d0\u30fc\u300c1\u300d\u306e\u5224\u5b9a\u3002\n"),R(I,"$initialize",function A(x){var T=this;return delete A.$$p,v(T,S(T,"initialize",A,!1,!0),"initialize",[x],null),T.sort_add_dice=!0},1),I.$register_prefix("(\\d+)?IL([1-6]{0,6})(P)?"),R(I,"$eval_game_system_specific_command",function(x){var T=t,d=t,o=t,l=t,$=t;return T=x.$match(/(\d+)?IL([1-6]{0,6})(P)?$/i),m(T)?(d=(m(o=T["$[]"](1))?o:1).$to_i(),l=h((m(o=T["$[]"](2))?o:"").$each_char(),"map",[],"to_i".$to_proc()).$uniq().$sort(),$=T["$[]"](3)["$nil?"]()["$!"](),this.$check_roll(d,l,$)):t},1),R(I,"$check_roll",function(x,D,T){var l,r,u,o=t,$=t,a=t;return l=(o=this.randomizer.$roll_barabara(x,6).$sort()).$join(","),$=[],a=0,h(o,"each",[],function(c){return null==c&&(c=t),m(g(D.$count(c),0))?$.$push("\xd7"):($.$push(c),a=y(a,1))},1),r=D.$join(","),u=x+"D6("+(m(T)?"Parry":"Block")+":"+r+") \uff1e "+l+" \uff1e "+$.$join(",")+" \uff1e ",m(T)?m(k(a,x))?u+"\u30d1\u30ea\u30a3\u6210\u7acb\uff01\u3000\u6b21\u306e\u975e\u30c0\u30e1\u30fc\u30b82\u500d\u3002":u+"\u6210\u529f\u6570\uff1a"+a+"\u3000\u30d1\u30ea\u30a3\u5931\u6557":u+"\u6210\u529f\u6570\uff1a"+a},3)})},6391:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_gt,m=e.rb_le,h=e.rb_divide,g=e.send,y=e.to_a,k=e.rb_minus,p=e.rb_plus,E=e.def;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"InfiniteFantasia")].concat(w),x=e.$r(A),C(A[0],"ID","InfiniteFantasia"),C(A[0],"NAME","\u7121\u9650\u306e\u30d5\u30a1\u30f3\u30bf\u30b8\u30a2"),C(A[0],"SORT_KEY","\u3080\u3051\u3093\u306e\u3075\u3042\u3093\u305f\u3057\u3042"),C(A[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u30ec\u30d9\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002"),E(z,"$result_1d20",function(T,d,o,l){var $=t;return v(l,"?")?x("Result").$nothing():v(o,"<=")?S(R(T,l))?x("Result").$failure("\u5931\u6557"):($=S(m(T,h(l,32).$to_i()))?"32\u30ec\u30d9\u30eb\u6210\u529f(32Lv+)":S(m(T,h(l,16).$to_i()))?"16\u30ec\u30d9\u30eb\u6210\u529f(16Lv+)":S(m(T,h(l,8).$to_i()))?"8\u30ec\u30d9\u30eb\u6210\u529f":S(m(T,h(l,4).$to_i()))?"4\u30ec\u30d9\u30eb\u6210\u529f":S(m(T,h(l,2).$to_i()))?"2\u30ec\u30d9\u30eb\u6210\u529f":"1\u30ec\u30d9\u30eb\u6210\u529f",g(x("Result").$new(),"tap",[],function(r){var s=t;return null==r&&(r=t),g(r,"text=",y(s=[$])),k(s.length,1),g(r,"success=",y(s=[!0])),k(s.length,1),S(m(T,1))?(g(r,"critical=",y(s=[!0])),k(s.length,1),s=[p(r.$text(),"/\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")],g(r,"text=",y(s)),s[k(s.length,1)]):t},1)):t},4)})},5844:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,l,a,r,D,T,d,I,w,K,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.eqeqeq,E=e.to_ary,M=e.send,L=e.hash2,Y=e.rb_plus;return j=H,V=K=[B(H[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=C(I[0],w("Base"),"Insane")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,v(T[0],"ID","Insane"),v(T[0],"NAME","\u30a4\u30f3\u30bb\u30a4\u30f3"),v(T[0],"SORT_KEY","\u3044\u3093\u305b\u3044\u3093"),v(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff08\u30b9\u30da\u30b7\u30e3\u30eb\uff0f\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u6210\u529f\uff0f\u5931\u6557\u3092\u5224\u5b9a\uff09\n\u30fb\u5404\u7a2e\u8868\n\u30b7\u30fc\u30f3\u8868\u3000ST\n\u3000\u672c\u5f53\u306f\u6016\u3044\u73fe\u4ee3\u65e5\u672c\u30b7\u30fc\u30f3\u8868 HJST\uff0f\u72c2\u9a12\u306e\u4e8c\u3007\u5e74\u4ee3\u30b7\u30fc\u30f3\u8868 MTST\n\u3000\u6697\u9ed2\u306e\u30f4\u30a3\u30af\u30c8\u30ea\u30a2\u30b7\u30fc\u30f3\u8868 DVST\n\u5f62\u5bb9\u8868 DT\uff0f\u672c\u4f53\u8868 BT\uff0f\u90e8\u4f4d\u8868 PT\n\u611f\u60c5\u8868\u3000\u3000\u3000\u3000\u3000\u3000FT\n\u8077\u696d\u8868\u3000\u3000\u3000\u3000\u3000\u3000JT\n\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000\u3000BET\n\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868\u3000\u3000RCT\n\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868\u3000\u3000RTTn(n\uff1a\u5206\u91ce\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\n  1\u66b4\u529b(TVT)\u30012\u60c5\u52d5(TET)\u30013\u77e5\u899a(TPT)\n  4\u6280\u8853(TST)\u30015\u77e5\u8b58(TKT)\u30016\u602a\u7570(TMT)\n\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868\n  \u4f1a\u8a71(CHT)    \uff0f\u8857\u4e2d(VHT)\u3000\u3000\uff0f\u4e0d\u610f\u8a2a\u554f(IHT)\n  \u5ec3\u589f\u906d\u9047(RHT)\uff0f\u91ce\u5916\u906d\u9047(MHT)\uff0f\u60c5\u5831\u6f5c\u5728(LHT)\n\u906d\u9047\u8868\u3000\u90fd\u5e02(ECT)\uff0f\u5c71\u6797(EMT)\uff0f\u6d77\u8fba(EAT)\uff0f\u53cd\u5fdc\u8868\u3000RET\n\u6b8b\u696d\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868(OHT)\u3000 \uff0f\u6b8b\u696d\u96fb\u8a71\u8868(OPT)\uff0f\u6b8b\u696d\u30b7\u30fc\u30f3\u8868(OWT)\n\u793e\u540d\u6c7a\u5b9a\u88681(CNT1)\uff0f\u793e\u540d\u6c7a\u5b9a\u88682(CNT2)\uff0f\u793e\u540d\u6c7a\u5b9a\u88683(CNT3)\n\u66ab\u5b9a\u6574\u7406\u756a\u53f7\u4f5c\u6210\u8868(IRN)\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.sort_add_dice=!0,r.sort_barabara_dice=!0,r.d66_sort_type=n(d("D66SortType"),"ASC")},1),m(D,"$result_2d6",function($,a,r,s,i){var u=this;return h(s,">=")?g(y(a,2))?d("Result").$fumble(u.$translate("Insane.fumble")):g(k(a,12))?d("Result").$critical(u.$translate("Insane.special")):h(i,"?")?d("Result").$nothing():g(k($,i))?d("Result").$success(u.$translate("success")):d("Result").$failure(u.$translate("failure")):t},5),m(D,"$eval_game_system_specific_command",function($){var a,r,i,s=this,u=t,_=t,c=t,b=t;if(p("BET",i=$))u=s.$translate("Insane.BET.name"),r=s.$get_badend_table(),_=null==(a=E(r))[0]?t:a[0],c=null==a[1]?t:a[1];else{if(!p("IRN",i))return g(b=n(s.$class(),"RTT").$roll_command(s.randomizer,$))?b:s.$roll_tables($,n(s.$class(),"TABLES"));u=s.$translate("Insane.IRN.name"),r=s.$get_interim_reference_number(),_=null==(a=E(r))[0]?t:a[0],c=null==a[1]?t:a[1]}return u+"("+c+") \uff1e "+_},1),D.$private(),m(D,"$get_badend_table",function(){var a,$=this;return a=[$.$translate("Insane.BET.items.2"),M($,"lambda",[],function r(){var s=null==r.$$s?this:r.$$s;return null==s.randomizer&&(s.randomizer=t),s.$translate("Insane.BET.items.3",L(["skill"],{skill:n(s.$class(),"RTT").$roll_skill(s.randomizer)}))},{$$arity:0,$$s:$}),$.$translate("Insane.BET.items.4"),$.$translate("Insane.BET.items.5"),$.$translate("Insane.BET.items.6"),$.$translate("Insane.BET.items.7"),$.$translate("Insane.BET.items.8"),$.$translate("Insane.BET.items.9"),$.$translate("Insane.BET.items.10"),M($,"lambda",[],function r(){var s=null==r.$$s?this:r.$$s;return null==s.randomizer&&(s.randomizer=t),s.$translate("Insane.BET.items.11",L(["skill"],{skill:n(s.$class(),"RTT").$roll_skill(s.randomizer)}))},{$$arity:0,$$s:$}),$.$translate("Insane.BET.items.12")],$.$get_table_by_2d6(a)},0),m(D,"$get_interim_reference_number",function(){var a,r=t,s=t,i=t,u=t;return a=[[11,"1"],[12,"2"],[13,"3"],[14,"4"],[15,"5"],[16,"6"],[22,"G"],[23,"I"],[24,"J"],[25,"K"],[26,"O"],[33,"P"],[34,"Q"],[35,"S"],[36,"T"],[44,"U"],[45,"V"],[46,"X"],[55,"Y"],[56,"Z"],[66,"-"]],r=this.randomizer.$roll_once(6),s=r.$to_s(),i=3,g(y(r,4))?i=Y(r,5):h(r,5)&&(i=4),u="",M(i,"times",[],function _(){var c,b;return b=(null==_.$$s?this:_.$$s).$get_table_by_d66_swap(a),c=E(b),r=null==c[1]?t:c[1],u=Y(u,null==c[0]?t:c[0]),s=Y(s,","+r)},{$$arity:0,$$s:this}),[u,s]},0),a=[l=e.get_singleton_class(D)].concat(T),r=e.$r(a),l.$private(),m(l,"$translate_tables",function(i){return L(["ST","HJST","MTST","DVST","DT","BT","PT","FT","JT","CHT","VHT","IHT","RHT","MHT","LHT","ECT","EMT","EAT","OHT","OPT","OWT","CNT1","CNT2","CNT3","RET"],{ST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.ST",i),HJST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.HJST",i),MTST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.MTST",i),DVST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.DVST",i),DT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.DT",i),BT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.BT",i),PT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.PT",i),FT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.FT",i),JT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.JT",i),CHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CHT",i),VHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.VHT",i),IHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.IHT",i),RHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.RHT",i),MHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.MHT",i),LHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.LHT",i),ECT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.ECT",i),EMT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.EMT",i),EAT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.EAT",i),OHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.OHT",i),OPT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.OPT",i),OWT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.OWT",i),CNT1:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CNT1",i),CNT2:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CNT2",i),CNT3:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CNT3",i),RET:n(r("DiceTable"),"Table").$from_i18n("Insane.table.RET",i)})},1),m(l,"$translate_rtt",function(i){return n(r("DiceTable"),"SaiFicSkillTable").$from_i18n("Insane.RTT",i,L(["rttn"],{rttn:["TVT","TET","TPT","TST","TKT","TMT"]}))},1),v(T[0],"TABLES",D.$translate_tables("ja_jp")),v(T[0],"RTT",D.$translate_rtt("ja_jp")),D.$register_prefix("BET","IRN",d("RTT").$prefixes(),d("TABLES").$keys())})},9199:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/Insane"]=function(e){var j,V,x,l,a,r,D,T,d,I,w,K,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.eqeqeq,E=e.to_ary,M=e.send,L=e.hash2,Y=e.rb_plus;return j=H,V=K=[B(H[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=C(I[0],w("Base"),"Insane")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,v(T[0],"ID","Insane"),v(T[0],"NAME","\u30a4\u30f3\u30bb\u30a4\u30f3"),v(T[0],"SORT_KEY","\u3044\u3093\u305b\u3044\u3093"),v(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff08\u30b9\u30da\u30b7\u30e3\u30eb\uff0f\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u6210\u529f\uff0f\u5931\u6557\u3092\u5224\u5b9a\uff09\n\u30fb\u5404\u7a2e\u8868\n\u30b7\u30fc\u30f3\u8868\u3000ST\n\u3000\u672c\u5f53\u306f\u6016\u3044\u73fe\u4ee3\u65e5\u672c\u30b7\u30fc\u30f3\u8868 HJST\uff0f\u72c2\u9a12\u306e\u4e8c\u3007\u5e74\u4ee3\u30b7\u30fc\u30f3\u8868 MTST\n\u3000\u6697\u9ed2\u306e\u30f4\u30a3\u30af\u30c8\u30ea\u30a2\u30b7\u30fc\u30f3\u8868 DVST\n\u5f62\u5bb9\u8868 DT\uff0f\u672c\u4f53\u8868 BT\uff0f\u90e8\u4f4d\u8868 PT\n\u611f\u60c5\u8868\u3000\u3000\u3000\u3000\u3000\u3000FT\n\u8077\u696d\u8868\u3000\u3000\u3000\u3000\u3000\u3000JT\n\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000\u3000BET\n\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868\u3000\u3000RCT\n\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868\u3000\u3000RTTn(n\uff1a\u5206\u91ce\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\n  1\u66b4\u529b(TVT)\u30012\u60c5\u52d5(TET)\u30013\u77e5\u899a(TPT)\n  4\u6280\u8853(TST)\u30015\u77e5\u8b58(TKT)\u30016\u602a\u7570(TMT)\n\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868\n  \u4f1a\u8a71(CHT)    \uff0f\u8857\u4e2d(VHT)\u3000\u3000\uff0f\u4e0d\u610f\u8a2a\u554f(IHT)\n  \u5ec3\u589f\u906d\u9047(RHT)\uff0f\u91ce\u5916\u906d\u9047(MHT)\uff0f\u60c5\u5831\u6f5c\u5728(LHT)\n\u906d\u9047\u8868\u3000\u90fd\u5e02(ECT)\uff0f\u5c71\u6797(EMT)\uff0f\u6d77\u8fba(EAT)\uff0f\u53cd\u5fdc\u8868\u3000RET\n\u6b8b\u696d\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868(OHT)\u3000 \uff0f\u6b8b\u696d\u96fb\u8a71\u8868(OPT)\uff0f\u6b8b\u696d\u30b7\u30fc\u30f3\u8868(OWT)\n\u793e\u540d\u6c7a\u5b9a\u88681(CNT1)\uff0f\u793e\u540d\u6c7a\u5b9a\u88682(CNT2)\uff0f\u793e\u540d\u6c7a\u5b9a\u88683(CNT3)\n\u66ab\u5b9a\u6574\u7406\u756a\u53f7\u4f5c\u6210\u8868(IRN)\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.sort_add_dice=!0,r.sort_barabara_dice=!0,r.d66_sort_type=n(d("D66SortType"),"ASC")},1),m(D,"$result_2d6",function($,a,r,s,i){var u=this;return h(s,">=")?g(y(a,2))?d("Result").$fumble(u.$translate("Insane.fumble")):g(k(a,12))?d("Result").$critical(u.$translate("Insane.special")):h(i,"?")?d("Result").$nothing():g(k($,i))?d("Result").$success(u.$translate("success")):d("Result").$failure(u.$translate("failure")):t},5),m(D,"$eval_game_system_specific_command",function($){var a,r,i,s=this,u=t,_=t,c=t,b=t;if(p("BET",i=$))u=s.$translate("Insane.BET.name"),r=s.$get_badend_table(),_=null==(a=E(r))[0]?t:a[0],c=null==a[1]?t:a[1];else{if(!p("IRN",i))return g(b=n(s.$class(),"RTT").$roll_command(s.randomizer,$))?b:s.$roll_tables($,n(s.$class(),"TABLES"));u=s.$translate("Insane.IRN.name"),r=s.$get_interim_reference_number(),_=null==(a=E(r))[0]?t:a[0],c=null==a[1]?t:a[1]}return u+"("+c+") \uff1e "+_},1),D.$private(),m(D,"$get_badend_table",function(){var a,$=this;return a=[$.$translate("Insane.BET.items.2"),M($,"lambda",[],function r(){var s=null==r.$$s?this:r.$$s;return null==s.randomizer&&(s.randomizer=t),s.$translate("Insane.BET.items.3",L(["skill"],{skill:n(s.$class(),"RTT").$roll_skill(s.randomizer)}))},{$$arity:0,$$s:$}),$.$translate("Insane.BET.items.4"),$.$translate("Insane.BET.items.5"),$.$translate("Insane.BET.items.6"),$.$translate("Insane.BET.items.7"),$.$translate("Insane.BET.items.8"),$.$translate("Insane.BET.items.9"),$.$translate("Insane.BET.items.10"),M($,"lambda",[],function r(){var s=null==r.$$s?this:r.$$s;return null==s.randomizer&&(s.randomizer=t),s.$translate("Insane.BET.items.11",L(["skill"],{skill:n(s.$class(),"RTT").$roll_skill(s.randomizer)}))},{$$arity:0,$$s:$}),$.$translate("Insane.BET.items.12")],$.$get_table_by_2d6(a)},0),m(D,"$get_interim_reference_number",function(){var a,r=t,s=t,i=t,u=t;return a=[[11,"1"],[12,"2"],[13,"3"],[14,"4"],[15,"5"],[16,"6"],[22,"G"],[23,"I"],[24,"J"],[25,"K"],[26,"O"],[33,"P"],[34,"Q"],[35,"S"],[36,"T"],[44,"U"],[45,"V"],[46,"X"],[55,"Y"],[56,"Z"],[66,"-"]],r=this.randomizer.$roll_once(6),s=r.$to_s(),i=3,g(y(r,4))?i=Y(r,5):h(r,5)&&(i=4),u="",M(i,"times",[],function _(){var c,b;return b=(null==_.$$s?this:_.$$s).$get_table_by_d66_swap(a),c=E(b),r=null==c[1]?t:c[1],u=Y(u,null==c[0]?t:c[0]),s=Y(s,","+r)},{$$arity:0,$$s:this}),[u,s]},0),a=[l=e.get_singleton_class(D)].concat(T),r=e.$r(a),l.$private(),m(l,"$translate_tables",function(i){return L(["ST","HJST","MTST","DVST","DT","BT","PT","FT","JT","CHT","VHT","IHT","RHT","MHT","LHT","ECT","EMT","EAT","OHT","OPT","OWT","CNT1","CNT2","CNT3","RET"],{ST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.ST",i),HJST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.HJST",i),MTST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.MTST",i),DVST:n(r("DiceTable"),"Table").$from_i18n("Insane.table.DVST",i),DT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.DT",i),BT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.BT",i),PT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.PT",i),FT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.FT",i),JT:n(r("DiceTable"),"D66Table").$from_i18n("Insane.table.JT",i),CHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CHT",i),VHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.VHT",i),IHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.IHT",i),RHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.RHT",i),MHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.MHT",i),LHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.LHT",i),ECT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.ECT",i),EMT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.EMT",i),EAT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.EAT",i),OHT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.OHT",i),OPT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.OPT",i),OWT:n(r("DiceTable"),"Table").$from_i18n("Insane.table.OWT",i),CNT1:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CNT1",i),CNT2:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CNT2",i),CNT3:n(r("DiceTable"),"Table").$from_i18n("Insane.table.CNT3",i),RET:n(r("DiceTable"),"Table").$from_i18n("Insane.table.RET",i)})},1),m(l,"$translate_rtt",function(i){return n(r("DiceTable"),"SaiFicSkillTable").$from_i18n("Insane.RTT",i,L(["rttn"],{rttn:["TVT","TET","TPT","TST","TKT","TMT"]}))},1),v(T[0],"TABLES",D.$translate_tables("ja_jp")),v(T[0],"RTT",D.$translate_rtt("ja_jp")),D.$register_prefix("BET","IRN",d("RTT").$prefixes(),d("TABLES").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Insane"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Insane"),"Insane_Korean")].concat(N))[0],"ID","Insane:Korean"),v(P[0],"NAME","\uc778\uc138\uc778"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uc778\uc138\uc778"),v(P[0],"HELP_MESSAGE","\u30fb\ud310\uc815\n\uc2a4\ud398\uc15c\uff0f\ud38c\ube14\uff0f\uc131\uacf5\uff0f\uc2e4\ud328\ub97c \ud310\uc815\n\u30fb\uac01\uc885\ud45c\n\uc52c\ud45c\u3000\u3000\u3000ST\n\u3000\uc0ac\uc2e4\uc740 \ubb34\uc11c\uc6b4 \ud604\ub300 \uc77c\ubcf8 \uc52c\ud45c HJST\uff0f\uad11\uc870\uc758 20\ub144\ub300 \uc52c\ud45c MTST\n\u3000\uc554\ud751\uc758 \ube45\ud1a0\ub9ac\uc544 \uc52c\ud45c DVST\n\uc218\uc2dd\ud45c\u3000\u3000\u3000\u3000DT\n\u3000\ubcf8\uccb4\ud45c BT\uff0f\ubd80\uc704\ud45c PT\n\uac10\uc815\ud45c\u3000\u3000\u3000\u3000\u3000\u3000FT\n\uc9c1\uc5c5\ud45c\u3000\u3000\u3000\u3000\u3000\u3000JT\n\ubc30\ub4dc\uc5d4\ub529\ud45c\u3000\u3000BET\n\ub79c\ub364 \ud2b9\uae30 \uacb0\uc815\ud45c\u3000RTT\n\uc9c0\uc815\ud2b9\uae30(\ud3ed\ub825)\ud45c\u3000\u3000(TVT)\n\uc9c0\uc815\ud2b9\uae30(\uac10\uc815)\ud45c\u3000\u3000(TET)\n\uc9c0\uc815\ud2b9\uae30(\uc9c0\uac01)\ud45c\u3000\u3000(TPT)\n\uc9c0\uc815\ud2b9\uae30(\uae30\uc220)\ud45c\u3000\u3000(TST)\n\uc9c0\uc815\ud2b9\uae30(\uc9c0\uc2dd)\ud45c\u3000\u3000(TKT)\n\uc9c0\uc815\ud2b9\uae30(\uad34\uc774)\ud45c\u3000\u3000(TMT)\n\ud68c\ud654 \uc911\uc5d0 \ubc1c\uc0dd\ud558\ub294 \uacf5\ud3ec\ud45c(CHT)\n\uac70\ub9ac\uc5d0\uc11c \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c(VHT)\n\uac11\uc790\uae30 \ucc3e\uc544\uc624\ub294 \uacf5\ud3ec\ud45c(IHT)\n\ud3d0\ud5c8\uc5d0\uc11c \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c(RHT)\n\uc57c\uc678\uc5d0\uc11c \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c(MHT)\n\uc815\ubcf4 \uc18d\uc5d0 \uc228\uc5b4 \uc788\ub294 \uacf5\ud3ec\ud45c(LHT)\n\uc870\uc6b0\ud45c\u3000\ub3c4\uc2dc\u3000(ECT)\u3000\uc0b0\ub9bc\u3000(EMT)\u3000\ud574\ubcc0\u3000(EAT)/\ubc18\uc751\ud45c\u3000RET\n\uc57c\uadfc \uc2dc \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c\u3000OHT/\uc57c\uadfc \uc2dc \uc804\ud654\ud45c\u3000OPT/\uc57c\uadfc \uc52c\ud45c\u3000OWT\n\ud68c\uc0ac\uba85 \uacb0\uc815\ud45c1\u3000CNT1/\ud68c\uc0ac\uba85 \uacb0\uc815\ud45c2\u3000CNT2/\ud68c\uc0ac\uba85 \uacb0\uc815\ud45c3\u3000CNT3\n\u30fbD66 \ub2e4\uc774\uc2a4 \uc788\uc74c.\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr")),v(P[0],"RTT",K.$translate_rtt("ko_kr"))})},4167:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var P,w,d,o,l,$,A,x,J,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.rb_lt,y=e.rb_le,k=e.send,p=e.rb_times,E=e.rb_gt,M=e.to_a,L=e.rb_minus,Y=e.rb_plus,G=e.eqeqeq,j=e.hash2,N=e.range;return P=H,w=J=[B(H[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"Irisbane")].concat(d),$=e.$r(l),o.$$prototype.randomizer=t,v(l[0],"ID","Irisbane"),v(l[0],"NAME","\u77b3\u9038\u3089\u3055\u306c\u30a4\u30ea\u30b9\u30d9\u30a4\u30f3"),v(l[0],"SORT_KEY","\u3072\u3068\u307f\u305d\u3089\u3055\u306c\u3044\u308a\u3059\u3078\u3044\u3093"),v(l[0],"HELP_MESSAGE","\u25a0\u653b\u6483\u5224\u5b9a\uff08 ATTACKx@y<=z \uff09\nx: \u653b\u6483\u529b\ny: \u5224\u5b9a\u6570\nz: \u76ee\u6a19\u5024\n\uff08\u203b ATTACK \u306f ATK \u307e\u305f\u306f AT \u3068\u7c21\u7565\u5316\u53ef\u80fd\uff09\n\u4f8b\uff09 ATTACK2@3<=5\n\u4f8b\uff09 ATK10@2<=4\n\u4f8b\uff09 AT8@3<=2\n\n\u4e0a\u8a18 x y z \u306b\u306f\u305d\u308c\u305e\u308c\u56db\u5247\u6f14\u7b97\u3092\u6307\u5b9a\u53ef\u80fd\u3002\n\u4f8b\uff09 ATTACK2+7@3*2<=5-1\n\n\u25a1\u653b\u6483\u5224\u5b9a\u306e\u30c0\u30e1\u30fc\u30b8\u5897\u6e1b\uff08 ATTACKx@y<=z[+a]  ATTACKx@y<=z[-a]\uff09\n\u672b\u5c3e\u306b [+a] \u307e\u305f\u306f [-a] \u3068\u6307\u5b9a\u3059\u308b\u3068\u3001\u6700\u7d42\u7684\u306a\u30c0\u30e1\u30fc\u30b8\u3092\u5897\u6e1b\u3067\u304d\u308b\u3002\na: \u5897\u6e1b\u91cf\n\u4f8b\uff09 ATTACK2@3<=5[+10]\n\u4f8b\uff09 ATK10@2<=4[-8]\n\u4f8b\uff09 AT8@3<=2[-8+5]\n\n\u25a0\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\uff08p115\uff09\nSceneSituation, SSi\n"),v(l[0],"ATTACK_ROLL_REG",/^AT(TACK|K)?([+\-*\/()\d]+)@([+\-*\/()\d]+)<=([+\-*\/()\d]+)(\[([+\-])([+\-*\/()\d]+)\])?/i.$freeze()),o.$register_prefix("AT(TACK|K)?"),m(o,"$initialize",function r(s){var u=this;return delete r.$$p,S(u,R(u,"initialize",r,!1,!0),"initialize",[s],null),u.sort_barabara_dice=!0,u.round_type=n($("RoundType"),"CEIL")},1),m(o,"$eval_game_system_specific_command",function(s){var u,_=t;return s=h(u=$("ALIAS")["$[]"](s))?u:s,h(_=$("ATTACK_ROLL_REG").$match(s))?this.$roll_attack(_["$[]"](2),_["$[]"](3),_["$[]"](4),_["$[]"](6),_["$[]"](7)):this.$roll_tables(s,$("TABLES"))},1),o.$private(),m(o,"$roll_attack",function(s,i,u,_,c){var b=this,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t;return f=$("Arithmetic").$eval(s,n($("RoundType"),"CEIL")),q=$("Arithmetic").$eval(i,n($("RoundType"),"CEIL")),F=$("Arithmetic").$eval(u,n($("RoundType"),"CEIL")),U=h(c["$nil?"]())?t:$("Arithmetic").$eval(c,n($("RoundType"),"CEIL")),h(f["$nil?"]())||h(q["$nil?"]())||h(F["$nil?"]())||h(_)&&h(U["$nil?"]())?t:(h(g(f,0))&&(f=0),F=F.$clamp(1,6),W=b.$make_command_text(f,q,F,_,U),h(y(q,0))?W+" \uff1e \u5224\u5b9a\u6570\u304c 0 \u3067\u3059":(X=b.randomizer.$roll_barabara(q,6).$sort(),Q=k(X,"count",[],function(ne){return null==ne&&(ne=t),y(ne,F)},1),re=p(Q,f),(O=[])["$<<"](W),O["$<<"](X.$join(",")),O["$<<"]("\u6210\u529f\u30c0\u30a4\u30b9\u6570 "+Q),h(E(Q,0))&&O["$<<"]("\xd7 \u653b\u6483\u529b "+f),h(E(Q,0))&&(h(_)&&h(U)?(O["$<<"]("\u30c0\u30e1\u30fc\u30b8 "+re+_+U),re=b.$parse_operator(_).$call(re,U),h(g(re,0))&&(re=0),O["$<<"](re.$to_s())):O["$<<"]("\u30c0\u30e1\u30fc\u30b8 "+re)),k($("Result").$new(O.$join(" \uff1e ")),"tap",[],function(ne){var ae;return null==ne&&(ne=t),ae=[E(Q,0)],k(ne,"condition=",M(ae)),ae[L(ae.length,1)]},1)))},5),m(o,"$make_command_text",function(s,i,u,_,c){var b=t;return b="(ATTACK"+s+"@"+i+"<="+u,h(_)&&(b=Y(b,"["+_+c+"]")),Y(b,")")},5),m(o,"$parse_operator",function(s){var u;return G("+",u=s)?k(this,"lambda",[],function(c,b){return null==c&&(c=t),null==b&&(b=t),Y(c,b)},2):G("-",u)?k(this,"lambda",[],function(c,b){return null==c&&(c=t),null==b&&(b=t),L(c,b)},2):t},1),v(l[0],"TABLES",k(j(["SceneSituation"],{SceneSituation:n($("DiceTable"),"D66LeftRangeTable").$new("\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3",n(n($("BCDice"),"D66SortType"),"NO_SORT"),[[N(1,3,!1),["\u3010\u65e5\u5e38\u3011\u4f55\u4e00\u3064\u5909\u308f\u308b\u3053\u3068\u306e\u7121\u3044\u65e5\u3005\u306e\u4e00\u5e55\u3002\u79fb\u308d\u3044\u6613\u3044\u4e16\u754c\u3067\u306f\u3001\u305d\u308c\u306f\u3068\u3066\u3082\u5927\u5207\u3067\u3042\u308b\u3002","\u3010\u6e96\u5099\u3011\u4f55\u304b\u3092\u70ba\u3059\u305f\u3081\u306e\u7528\u610f\u3092\u3059\u308b\u4e00\u5e55\u3002\u60c5\u5831\u53ce\u96c6\u3001\u8cb7\u7269\u9060\u5f81\u3001\u3084\u308b\u3079\u304d\u3053\u3068\u306f\u4e00\u676f\u3060\u3002","\u3010\u8da3\u5473\u3011\u81ea\u5206\u306e\u6642\u9593\u3092\u3001\u6709\u52b9\u6d3b\u7528\u3057\u3066\u3044\u308b\u4e00\u5e55\u3002\u5fc5\u8981\u306b\u8ffd\u308f\u308c\u3066\u3044\u306a\u3044\u5206\u3001\u5fc3\u306f\u8efd\u304f\u6674\u308c\u3084\u304b\u3060\u3002","\u3010\u55ab\u8336\u3011\u4e00\u606f\u5165\u308c\u3001\u55dc\u597d\u54c1\u3092\u55dc\u3080\u6642\u306e\u4e00\u5e55\u3002\u7a4f\u3084\u304b\u306a\u7a7a\u6c17\u306f\u3001\u3060\u304c\u3001\u5f80\u3005\u306b\u3057\u3066\u5909\u308f\u308a\u3084\u3059\u3044\u3002","\u3010\u935b\u932c\u3011\u4f53\u3092\u935b\u3048\u3001\u5fc3\u3092\u990a\u3046\u4fee\u7df4\u306e\u4e00\u5e55\u3002\u5df1\u3055\u3048\u826f\u3051\u308c\u3070\u3001\u305d\u306e\u65b9\u6cd5\u3082\u4f55\u3060\u3063\u3066\u826f\u3044\u3002","\u3010\u8077\u52d9\u3011\u5f79\u5272\u306e\u5143\u3001\u4ed5\u4e8b\u306b\u7cbe\u3092\u51fa\u3059\u6642\u306e\u4e00\u5e55\u3002\u76ee\u7684\u304c\u4f55\u3067\u3042\u308c\u3001\u70ba\u3059\u3079\u304d\u3053\u3068\u306b\u5909\u308f\u308a\u306f\u306a\u3044\u3002"]],[N(4,6,!1),["\u3010\u79fb\u52d5\u3011\u4f55\u51e6\u304b\u304b\u3089\u4f55\u51e6\u304b\u3078\u3068\u5411\u304b\u3046\u4e00\u5e55\u3002\u9032\u3093\u3067\u3044\u308b\u306a\u3089\u3001\u624b\u6bb5\u3082\u76ee\u7684\u5730\u3082\u95a2\u4fc2\u3042\u308b\u307e\u3044\u3002","\u3010\u5893\u524d\u3011\u6545\u4eba\u304c\u7720\u308b\u5834\u6240\u3078\u3068\u8d74\u304f\u4e00\u5e55\u3002\u5171\u306b\u7720\u308b\u3053\u3068\u3060\u3051\u306f\u7121\u3044\u3088\u3046\u306b\u3002","\u3010\u64cd\u4f5c\u3011\u4f55\u304b\u3092\u64cd\u308a\u3001\u671b\u307f\u3092\u679c\u305f\u3057\u3066\u3044\u308b\u4e00\u5e55\u3002\u904b\u8ee2\u306b\u305b\u3088\u4f55\u306b\u305b\u3088\u3001\u8107\u898b\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3060\u3002","\u3010\u98df\u4e8b\u3011\u4f55\u304b\u3092\u7ce7\u3068\u3057\u3001\u5df1\u306e\u529b\u3092\u84c4\u3048\u308b\u4e00\u5e55\u3002\u884c\u52d5\u3059\u308c\u3070\u6d88\u8017\u3059\u308b\u3002\u8179\u304c\u6e1b\u3063\u3066\u306f\u4f55\u3068\u3084\u3089\u3060\u3002","\u3010\u4f11\u606f\u3011\u65e5\u3005\u306e\u5408\u9593\u306e\u3001\u61a9\u3044\u306e\u4e00\u5e55\u3002\u201c\u4f55\u3082\u3057\u306a\u3044\u201d\u3068\u3044\u3046\u306e\u3082\u3001\u7acb\u6d3e\u306a\u884c\u3044\u3067\u3042\u308b\u3002","\u3010\u5922\u5e7b\u3011\u73fe\u5b9f\u306b\u5b58\u5728\u3057\u306a\u3044\u4f55\u304b\u3078\u3068\u803d\u308b\u4e00\u5e55\u3002\u6642\u9593\u5e2f\u306b\u95a2\u308f\u3089\u305a\u3001\u4f55\u6642\u304b\u306f\u5fc5\u305a\u899a\u3081\u308b\u3060\u308d\u3046\u3002"]]])}),"transform_keys",[],"upcase".$to_proc()).$freeze()),v(l[0],"ALIAS",k(k(j(["SSi"],{SSi:"SceneSituation"}),"transform_keys",[],"upcase".$to_proc()),"transform_values",[],"upcase".$to_proc()).$freeze()),o.$register_prefix($("TABLES").$keys(),$("ALIAS").$keys())})},2726:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var m,k,G,j,N,K,E,M,g,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.def;return m=H,k=g=[n(H[0],"BCDice")].concat(m),E=[n(g[0],"GameSystem")].concat(k),M=e.$r(E),G=E,N=[j=B(E[0],M("Base"),"IthaWenUa")].concat(G),K=e.$r(N),C(N[0],"ID","IthaWenUa"),C(N[0],"NAME","\u30a4\u30b5\u30fc\u30fb\u30a6\u30a7\u30f3\uff1d\u30a2\u30fc"),C(N[0],"SORT_KEY","\u3044\u3055\u3042\u3046\u3048\u3093\u3042\u3042"),C(N[0],"HELP_MESSAGE","1D100<=m \u65b9\u5f0f\u306e\u5224\u5b9a\u3067\u6210\u5426\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(01)\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb(00)\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n"),S(j,"$result_1d100",function(V,J,I,w){return v(I,"<=")?v(V["$%"](100),1)?K("Result").$critical("01 \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):v(V["$%"](100),0)?K("Result").$fumble("00 \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb"):v(w,"?")?K("Result").$nothing():t:t},4)})},4866:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,z,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.rb_divide,R=e.rb_plus,m=e.truthy,h=e.rb_ge,g=e.rb_le,y=e.rb_times,k=e.def;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=B(N[0],K("Base"),"JamesBond")].concat(J),z=e.$r(w),C(w[0],"ID","JamesBond"),C(w[0],"NAME","\u30b8\u30a7\u30fc\u30e0\u30ba\u30fb\u30dc\u30f3\u30c9007"),C(w[0],"SORT_KEY","\u3057\u3048\u3048\u3080\u3059\u307b\u3093\u3068007"),C(w[0],"HELP_MESSAGE","\u30fb1D100\u306e\u76ee\u6a19\u5024\u5224\u5b9a\u3067\u3001\u52b9\u679c\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30921\uff5e4\u3067\u81ea\u52d5\u5224\u5b9a\u3002\n\u3000\u4f8b\uff091D100<=50\n\u3000\u3000\u3000JamesBond : (1D100<=50) \uff1e 20 \uff1e \u52b9\u679c3\uff08\u826f\uff09\n"),k(I,"$result_1d100",function(x,D,T,d){var o=t;return v(d,"?")?z("Result").$nothing():v(T,"<=")?(o=S(R(d,9),10).$floor(),m(h(x,100))?z("Result").$failure("\u5931\u6557"):m(g(x,o))?z("Result").$success("\u52b9\u679c1\uff08\u5b8c\u74a7\uff09"):m(g(x,y(o,2)))?z("Result").$success("\u52b9\u679c2\uff08\u304b\u306a\u308a\u826f\u3044\uff09"):m(g(x,y(o,5)))?z("Result").$success("\u52b9\u679c3\uff08\u826f\uff09"):m(g(x,d))?z("Result").$success("\u52b9\u679c4\uff08\u307e\u3042\u307e\u3042\uff09"):z("Result").$failure("\u5931\u6557")):t},4)})},2920:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,d,l,$,A,x,D,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.to_ary,k=e.hash2,p=e.rb_plus,E=e.rb_lt,M=e.rb_gt;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"Kamigakari")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,v(x[0],"ID","Kamigakari"),v(x[0],"NAME","\u795e\u6211\u72e9"),v(x[0],"SORT_KEY","\u304b\u307f\u304b\u304b\u308a"),v(x[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n \u30fb\u611f\u60c5\u8868(ET)\n \u30fb\u970a\u7d0b\u6d88\u8cbb\u306e\u4ee3\u511f\u8868(RT)\n \u30fb\u4f1d\u5947\u540d\u5b57\u30fb\u540d\u524d\u6c7a\u5b9a\u8868(NT)\n \u30fb\u9b54\u5883\u81e8\u754c\u8868(KT)\n \u30fb\u7372\u5f97\u7d20\u6750\u30c1\u30e3\u30fc\u30c8(MTx x\u306f\uff3b\u6cd5\u5247\u969c\u5bb3\uff3d\u306e\uff3b\u5f37\u5ea6\uff3d\u3002\u7701\u7565\u6642\u306f\uff11)\n\u3000\u3000\u4f8b\uff09 MT\u3000MT3\u3000MT9\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),m(A,"$initialize",function d(o){var $=this;return delete d.$$p,S($,R($,"initialize",d,!1,!0),"initialize",[o],null),$.sort_add_dice=!0,$.d66_sort_type=n(D("D66SortType"),"NO_SORT")},1),m(A,"$eval_game_system_specific_command",function(o){var l,$,a=this,r=t,s=t,u=t,_=t,c=t;return r="",s="",a.$debug("eval_game_system_specific_command command",o),h(/^MT(\d*)$/,o.$upcase())?(u=D("Regexp").$last_match(1),u=(u=g(_=u)?_:1).$to_i(),$=a.$getGetMaterialTableResult(u),r=null==(l=y($))[0]?t:l[0],c=null==l[2]?t:l[2],g((s=null==l[1]?t:l[1])["$empty?"]())?"":r+"("+c+") \uff1e "+s):a.$roll_tables(o,n(a.$class(),"TABLES"))},1),m(A,"$getGetMaterialTableResult",function(o){var l,$,r,s,_,a=this,i=t,u=t,b=t;return r=a.$translate("Kamigakari.MT.name"),s=a.$translate("Kamigakari.MT.items"),$=a.$get_table_by_d66(s),i=null==(l=y($))[0]?t:l[0],u=null==l[1]?t:l[1],$=a.$getMaterialEffect(o),u=u+","+(null==(l=y($))[1]?t:l[1]),b=a.$getPrice(_=null==l[0]?t:l[0]),i=a.$translate("Kamigakari.MT.result_format",k(["material","effect"],{material:i,effect:_})),g(b["$nil?"]())||(i=p(i,"\uff1a"+b)),[r,i,u]},1),m(A,"$getMaterialEffect",function(o){var l,$,a=this,r=t,s=t,i=t,u=t;return r=a.randomizer.$roll_once(6),s="",i="",g(E(r,6))?($=a.$getMaterialEffectNomal(o),s=null==(l=y($))[0]?t:l[0],u=null==l[1]?t:l[1],i=a.$translate("Kamigakari.MT.common_material.name")):($=a.$getMaterialEffectRare(),s=null==(l=y($))[0]?t:l[0],u=null==l[1]?t:l[1],i=a.$translate("Kamigakari.MT.rare_material.name")),[s=i+"\uff1a"+s,r=r+","+u]},1),m(A,"$getMaterialEffectNomal",function(o){var l,$,r,a=this,s=t,i=t,_=t;return r=a.$translate("Kamigakari.MT.common_material.items"),s=a.randomizer.$roll_d66(n(D("D66SortType"),"NO_SORT")),i=a.$get_table_by_number(s,r),a.$debug("getMaterialEffectNomal result",i),g(i["$=~"](/\+n/))&&($=a.$getMaterialEffectPower(o),_=null==(l=y($))[1]?t:l[1],i=i.$sub(/\+n/,"+"+(null==l[0]?t:l[0])),s=s+","+_),[i,s]},1),m(A,"$getMaterialEffectPower",function(o){var l,$,r,s;return r=[[4,[1,1,1,2,2,3]],[8,[1,1,2,2,3,3]],[9,[1,2,3,3,4,5]]],g(M(o,9))&&(o=9),s=this.$get_table_by_number(o,r),$=this.$get_table_by_1d6(s),[null==(l=y($))[0]?t:l[0],null==l[1]?t:l[1]]},1),m(A,"$getMaterialEffectRare",function(){var o,l,a,$=this,r=t,s=t,u=t;return a=[[3,p("**",$.$translate("Kamigakari.MT.rare_material.give_attribute"))],[5,p("**",$.$translate("Kamigakari.MT.rare_material.halve_damage"))],[6,$.$translate("Kamigakari.MT.rare_material.optional_by_GM")]],r=$.randomizer.$roll_once(6),s=$.$get_table_by_number(r,a),$.$debug("getMaterialEffectRare result",s),g(s["$include?"]("**"))&&(l=$.$getAttribute(),u=null==(o=y(l))[1]?t:o[1],s=s.$sub("**",(null==o[0]?t:o[0]).$to_s()),r=r+","+u),[s,r]},0),m(A,"$getAttribute",function(){var l,$,o=this;return l=o.$translate("Kamigakari.MT.attribute"),$=o.randomizer.$roll_d66(n(D("D66SortType"),"NO_SORT")),[o.$get_table_by_number($,l),$]},0),m(A,"$getPrice",function(o){var $,l=this,a=t;return $=g(a=o.$match(/\+(\d+)/))?a["$[]"](1).$to_i():g(o["$include?"](l.$translate("Kamigakari.MT.rare_material.give_attribute")))?3:g(o["$include?"](l.$translate("Kamigakari.MT.rare_material.halve_damage")))?4:0,[t,"500G("+l.$translate("Kamigakari.MT.effect_power")+":1)","1000G("+l.$translate("Kamigakari.MT.effect_power")+":2)","1500G("+l.$translate("Kamigakari.MT.effect_power")+":3)","2000G("+l.$translate("Kamigakari.MT.effect_power")+":4)","3000G("+l.$translate("Kamigakari.MT.effect_power")+":5)"]["$[]"]($)},1),l=[d=e.get_singleton_class(A)].concat(x),$=e.$r(l),d.$private(),m(d,"$translate_tables",function(r){return k(["RT","ET","KT","NT"],{RT:n($("DiceTable"),"Table").$from_i18n("Kamigakari.table.RT",r),ET:n($("DiceTable"),"D66Table").$from_i18n("Kamigakari.table.ET",r),KT:n($("DiceTable"),"D66Table").$from_i18n("Kamigakari.table.KT",r),NT:n($("DiceTable"),"D66Table").$from_i18n("Kamigakari.table.NT",r)})},1),v(x[0],"TABLES",A.$translate_tables("ja_jp")),A.$register_prefix("MT",D("TABLES").$keys())})},6250:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/Kamigakari"]=function(e){var Y,K,z,d,l,$,A,x,D,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.truthy,y=e.to_ary,k=e.hash2,p=e.rb_plus,E=e.rb_lt,M=e.rb_gt;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"Kamigakari")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,v(x[0],"ID","Kamigakari"),v(x[0],"NAME","\u795e\u6211\u72e9"),v(x[0],"SORT_KEY","\u304b\u307f\u304b\u304b\u308a"),v(x[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n \u30fb\u611f\u60c5\u8868(ET)\n \u30fb\u970a\u7d0b\u6d88\u8cbb\u306e\u4ee3\u511f\u8868(RT)\n \u30fb\u4f1d\u5947\u540d\u5b57\u30fb\u540d\u524d\u6c7a\u5b9a\u8868(NT)\n \u30fb\u9b54\u5883\u81e8\u754c\u8868(KT)\n \u30fb\u7372\u5f97\u7d20\u6750\u30c1\u30e3\u30fc\u30c8(MTx x\u306f\uff3b\u6cd5\u5247\u969c\u5bb3\uff3d\u306e\uff3b\u5f37\u5ea6\uff3d\u3002\u7701\u7565\u6642\u306f\uff11)\n\u3000\u3000\u4f8b\uff09 MT\u3000MT3\u3000MT9\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),m(A,"$initialize",function d(o){var $=this;return delete d.$$p,S($,R($,"initialize",d,!1,!0),"initialize",[o],null),$.sort_add_dice=!0,$.d66_sort_type=n(D("D66SortType"),"NO_SORT")},1),m(A,"$eval_game_system_specific_command",function(o){var l,$,a=this,r=t,s=t,u=t,_=t,c=t;return r="",s="",a.$debug("eval_game_system_specific_command command",o),h(/^MT(\d*)$/,o.$upcase())?(u=D("Regexp").$last_match(1),u=(u=g(_=u)?_:1).$to_i(),$=a.$getGetMaterialTableResult(u),r=null==(l=y($))[0]?t:l[0],c=null==l[2]?t:l[2],g((s=null==l[1]?t:l[1])["$empty?"]())?"":r+"("+c+") \uff1e "+s):a.$roll_tables(o,n(a.$class(),"TABLES"))},1),m(A,"$getGetMaterialTableResult",function(o){var l,$,r,s,_,a=this,i=t,u=t,b=t;return r=a.$translate("Kamigakari.MT.name"),s=a.$translate("Kamigakari.MT.items"),$=a.$get_table_by_d66(s),i=null==(l=y($))[0]?t:l[0],u=null==l[1]?t:l[1],$=a.$getMaterialEffect(o),u=u+","+(null==(l=y($))[1]?t:l[1]),b=a.$getPrice(_=null==l[0]?t:l[0]),i=a.$translate("Kamigakari.MT.result_format",k(["material","effect"],{material:i,effect:_})),g(b["$nil?"]())||(i=p(i,"\uff1a"+b)),[r,i,u]},1),m(A,"$getMaterialEffect",function(o){var l,$,a=this,r=t,s=t,i=t,u=t;return r=a.randomizer.$roll_once(6),s="",i="",g(E(r,6))?($=a.$getMaterialEffectNomal(o),s=null==(l=y($))[0]?t:l[0],u=null==l[1]?t:l[1],i=a.$translate("Kamigakari.MT.common_material.name")):($=a.$getMaterialEffectRare(),s=null==(l=y($))[0]?t:l[0],u=null==l[1]?t:l[1],i=a.$translate("Kamigakari.MT.rare_material.name")),[s=i+"\uff1a"+s,r=r+","+u]},1),m(A,"$getMaterialEffectNomal",function(o){var l,$,r,a=this,s=t,i=t,_=t;return r=a.$translate("Kamigakari.MT.common_material.items"),s=a.randomizer.$roll_d66(n(D("D66SortType"),"NO_SORT")),i=a.$get_table_by_number(s,r),a.$debug("getMaterialEffectNomal result",i),g(i["$=~"](/\+n/))&&($=a.$getMaterialEffectPower(o),_=null==(l=y($))[1]?t:l[1],i=i.$sub(/\+n/,"+"+(null==l[0]?t:l[0])),s=s+","+_),[i,s]},1),m(A,"$getMaterialEffectPower",function(o){var l,$,r,s;return r=[[4,[1,1,1,2,2,3]],[8,[1,1,2,2,3,3]],[9,[1,2,3,3,4,5]]],g(M(o,9))&&(o=9),s=this.$get_table_by_number(o,r),$=this.$get_table_by_1d6(s),[null==(l=y($))[0]?t:l[0],null==l[1]?t:l[1]]},1),m(A,"$getMaterialEffectRare",function(){var o,l,a,$=this,r=t,s=t,u=t;return a=[[3,p("**",$.$translate("Kamigakari.MT.rare_material.give_attribute"))],[5,p("**",$.$translate("Kamigakari.MT.rare_material.halve_damage"))],[6,$.$translate("Kamigakari.MT.rare_material.optional_by_GM")]],r=$.randomizer.$roll_once(6),s=$.$get_table_by_number(r,a),$.$debug("getMaterialEffectRare result",s),g(s["$include?"]("**"))&&(l=$.$getAttribute(),u=null==(o=y(l))[1]?t:o[1],s=s.$sub("**",(null==o[0]?t:o[0]).$to_s()),r=r+","+u),[s,r]},0),m(A,"$getAttribute",function(){var l,$,o=this;return l=o.$translate("Kamigakari.MT.attribute"),$=o.randomizer.$roll_d66(n(D("D66SortType"),"NO_SORT")),[o.$get_table_by_number($,l),$]},0),m(A,"$getPrice",function(o){var $,l=this,a=t;return $=g(a=o.$match(/\+(\d+)/))?a["$[]"](1).$to_i():g(o["$include?"](l.$translate("Kamigakari.MT.rare_material.give_attribute")))?3:g(o["$include?"](l.$translate("Kamigakari.MT.rare_material.halve_damage")))?4:0,[t,"500G("+l.$translate("Kamigakari.MT.effect_power")+":1)","1000G("+l.$translate("Kamigakari.MT.effect_power")+":2)","1500G("+l.$translate("Kamigakari.MT.effect_power")+":3)","2000G("+l.$translate("Kamigakari.MT.effect_power")+":4)","3000G("+l.$translate("Kamigakari.MT.effect_power")+":5)"]["$[]"]($)},1),l=[d=e.get_singleton_class(A)].concat(x),$=e.$r(l),d.$private(),m(d,"$translate_tables",function(r){return k(["RT","ET","KT","NT"],{RT:n($("DiceTable"),"Table").$from_i18n("Kamigakari.table.RT",r),ET:n($("DiceTable"),"D66Table").$from_i18n("Kamigakari.table.ET",r),KT:n($("DiceTable"),"D66Table").$from_i18n("Kamigakari.table.KT",r),NT:n($("DiceTable"),"D66Table").$from_i18n("Kamigakari.table.NT",r)})},1),v(x[0],"TABLES",A.$translate_tables("ja_jp")),A.$register_prefix("MT",D("TABLES").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Kamigakari"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Kamigakari"),"Kamigakari_Korean")].concat(N))[0],"ID","Kamigakari:Korean"),v(P[0],"NAME","\uce74\ubbf8\uac00\uce74\ub9ac"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uce74\ubbf8\uac00\uce74\ub9ac"),v(P[0],"HELP_MESSAGE","\u30fb\uac01\uc885\ud45c\n \u30fb\uac10\uc815\ud45c(ET)\n \u30fb\uc601\ubb38\uc18c\ube44\uc758 \ub313\uac00\ud45c(RT)\n \u30fb\uc804\uae30 \uc131\uc528\u30fb\uc774\ub984 \uacb0\uc815\ud45c(NT)\n \u30fb\ub9c8\uacbd\uc784\uacc4\ud45c(KT)\n \u30fb\ud68d\ub4dd \uc18c\uc7ac \ucc28\ud2b8(MTx x\ub294\uff3b\ubc95\uce59\uc7a5\ud574\uff3d\uc758\uff3b\uac15\ub3c4\uff3d.\uc0dd\ub7b5\ud560 \ub54c\ub294\uff11)\n\u3000\u3000\uc608\uff09 MT\u3000MT3\u3000MT9\n\u30fbD66\uc8fc\uc0ac\uc704 \uac00\ub2a5\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr").$freeze())})},2838:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,T,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.def,R=e.hash2,m=e.truthy,h=e.rb_le,g=e.rb_gt,y=e.send,k=e.rb_ge,p=e.rb_plus,E=e.to_a,M=e.rb_minus;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"Karukami")].concat(z),D=e.$r(x),(T=A.$$prototype).round_type=T.randomizer=t,v(x[0],"ID","Karukami"),v(x[0],"NAME","\u30ab\u30eb\u30ab\u30df"),v(x[0],"SORT_KEY","\u304b\u308b\u304b\u307f"),v(x[0],"HELP_MESSAGE","\u25a0 \u884c\u70ba\u5224\u5b9a\u3001\u30c0\u30e1\u30fc\u30b8\u7b97\u51fa (xUB+y@c>=t)\n  6\u9762\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u4ee5\u4e0a\u306e\u51fa\u76ee\u304c\u51fa\u305f\u3089\u632f\u308a\u8db3\u3057\u3066\u5408\u8a08\u5024\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  c: \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff092UB, 2UB>=7, 3UB+1@5, 3UB+1@5<10\n"),A.$register_prefix("\\d+UB"),S(A,"$eval_game_system_specific_command",function(o){return this.$roll_ub(o)},1),S(A,"$roll_ub",function(o){var s,i,r=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t;if(r=n(D("Command"),"Parser").$new("UB",R(["round_type"],{round_type:this.round_type})).$has_prefix_number().$enable_critical().$parse(o),!m(r))return t;if(s=m(i=r.$critical())?i:6,m(h(s,1)))return"("+r+") \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306f2\u4ee5\u4e0a\u3068\u3057\u3066\u304f\u3060\u3055\u3044";for(u=[],_=0,c=r.$prefix_number();m(g(c,0));)b=this.randomizer.$roll_barabara(c,6),u.$push(b),c=y(b,"count",[],function(X){return null==X&&(X=t),k(X,s)},1),_=p(_,c);return f=p(u.$flatten().$sum(),r.$modify_number()),q=m(u.$first()["$all?"](1))?(f=0,D("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb")):m(r.$cmp_op()["$nil?"]())?D("Result").$new():m(f.$send(r.$cmp_op(),r.$target_number()))?D("Result").$success("\u6210\u529f"):D("Result").$failure("\u5931\u6557"),F=[g(_,0)],y(q,"critical=",E(F)),M(F.length,1),F=[["("+r+")"].concat(E(y(u,"map",[],function(X){return null==X&&(X=t),"["+X.$join(",")+"]"},1))).concat([f,m(q["$critical?"]())?_+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":t,q.$text()]).$compact().$join(" \uff1e ")],y(q,"text=",E(F)),M(F.length,1),q},1)})},6543:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var g,E,N,K,P,V,L,Y,k,H=[],n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return g=H,E=k=[B(H[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,P=[K=C(L[0],Y("Base"),"LostRecord")].concat(N),V=e.$r(P),v(P[0],"ID","LostRecord"),v(P[0],"NAME","\u30ed\u30b9\u30c8\u30ec\u30b3\u30fc\u30c9"),v(P[0],"SORT_KEY","\u308d\u3059\u3068\u308c\u3053\u304a\u3068"),v(P[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\nD66\u3092\u632f\u3063\u305f\u6642\u3001\u5c0f\u3055\u3044\u76ee\u304c\u5341\u306e\u4f4d\u306b\u306a\u308a\u307e\u3059\u3002\n"),m(K,"$initialize",function J(I){var z=this;return delete J.$$p,S(z,R(z,"initialize",J,!1,!0),"initialize",[I],null),z.d66_sort_type=n(V("D66SortType"),"ASC")},1)})},9348:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var P,w,d,o,l,$,A,x,J,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeqeq,g=e.send,y=e.range,k=e.rb_minus,p=e.truthy,E=e.rb_plus,M=e.rb_ge,L=e.rb_gt,Y=e.eqeq,G=e.not,j=e.to_ary,N=e.neqeq;return P=H,w=J=[B(H[0],"BCDice")].concat(P),A=[B(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=C(A[0],x("Base"),"LostRoyal")].concat(d),$=e.$r(l),o.$$prototype.randomizer=t,v(l[0],"ID","LostRoyal"),v(l[0],"NAME","\u30ed\u30b9\u30c8\u30ed\u30a4\u30e4\u30eb"),v(l[0],"SORT_KEY","\u308d\u3059\u3068\u308d\u3044\u3084\u308b"),v(l[0],"HELP_MESSAGE","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n\n\u884c\u70ba\u5224\u5b9a\n\u3000LR[x,x,x,x,x,x]\n\u3000\u3000x \u306e\u4e26\u3073\u306b\u306f\u3010\u5224\u5b9a\u8868\u3011\u306e\u6570\u5024\u3092\u9806\u756a\u306b\u5165\u529b\u3059\u308b\u3002\n\u3000\u3000\uff08\u4f8b\uff1a LR[1,3,0,1,2,3] \uff09\n\n\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\n\u3000FC\n\n\u98a8\u529b\u6c7a\u5b9a\u8868\n\u3000WPC\n\n\u611f\u60c5\u6c7a\u5b9a\u8868\n\u3000EC\n\n\u5e0c\u671b\u70b9\u306e\u6c7a\u5b9a\n\u3000HRx\n\u3000\u3000x \u306b\u306f\u30c0\u30a4\u30b9\u306e\u6570\uff08 1 - 2 \uff09\u3092\u6307\u5b9a\n"),o.$register_prefix("LR\\[[0-5],[0-5],[0-5],[0-5],[0-5],[0-5]\\]","FC","WPC","EC","HR[1-2]"),m(o,"$initialize",function r(s){var u=this;return delete r.$$p,S(u,R(u,"initialize",r,!1,!0),"initialize",[s],null),u.sort_add_dice=!0,u.d66_sort_type=n($("D66SortType"),"NO_SORT")},1),m(o,"$eval_game_system_specific_command",function(s){var u,i=this;return h(/LR\[([0-5]),([0-5]),([0-5]),([0-5]),([0-5]),([0-5])\]/i,u=s)?i.$check_lostroyal([$("Regexp").$last_match(1).$to_i(),$("Regexp").$last_match(2).$to_i(),$("Regexp").$last_match(3).$to_i(),$("Regexp").$last_match(4).$to_i(),$("Regexp").$last_match(5).$to_i(),$("Regexp").$last_match(6).$to_i()]):h(/FC/,u)?i.$roll_fumble_chart():h(/WPC/,u)?i.$roll_wind_power_chart():h(/EC/,u)?i.$roll_emotion_chart():h(/HR([1-2])/,u)?i.$roll_hope($("Regexp").$last_match(1).$to_i()):t},1),m(o,"$check_lostroyal",function(s){var c,i=this,u=t,_=t,b=t,f=t,q=t;return u=[],g(y(0,3,!0),"each",[],function F(U){var X,W=null==F.$$s?this:F.$$s;return null==W.randomizer&&(W.randomizer=t),null==U&&(U=t),X=W.randomizer.$roll_once(6),u["$<<"](X)},{$$arity:1,$$s:i}),c=(_=g(u,"map",[],function(U){return null==U&&(U=t),s["$[]"](k(U,1))},1).$to_a()).$inject("+"),b=i.$find_sequence(u),f="3D6 => ["+u.$join(",")+"] => ("+_.$join("+")+") => "+c,p(b["$nil?"]())||p(b["$empty?"]())||(q=p(i["$fumble_?"](u,b))?3:b.$size(),f=E(f," | "+b.$size()+" chain! ("+b.$join(",")+") => "+E(c,q)),p(M(b.$size(),3))&&(f=E(f," [\u30b9\u30da\u30b7\u30e3\u30eb]")),p(i["$fumble_?"](u,b))&&(f=E(f," [\u30d5\u30a1\u30f3\u30d6\u30eb]"))),f},1),m(o,"$find_sequence",function(s){var u;return s=s.$sort(),u=g(y(1,6,!0),"map",[],function _(c){return null==c&&(c=t),(null==_.$$s?this:_.$$s).$find_sequence_from_start_key(s,c)},{$$arity:1,$$s:this}),g(g(u,"select",[],function(c){return null==c&&(c=t),L(c.$size(),1)},1),"max",[],function(c,b){return null==c&&(c=t),null==b&&(b=t),c.$size()["$<=>"](b.$size())},2)},1),m(o,"$find_sequence_from_start_key",function(s,i){var _=t,c=t;for(_=[],c=i;p(s["$include?"](c));)_["$<<"](c),c=E(c,1);if(G(_["$empty?"]())&&Y(_["$[]"](0),1))for(c=6;p(s["$include?"](c));)_.$unshift(c),c=k(c,1);return _},2),m(o,"$fumble_?",function(s,i){try{return g(i,"each",[],function(_){if(null==_&&(_=t),!p(M(s.$count(_),2)))return t;e.ret(!0)},1),!1}catch(u){if(u===e.returner)return u.$v;throw u}},2),m(o,"$roll_fumble_chart",function(){var i;return"1D6 => ["+(i=this.randomizer.$roll_once(6))+"] "+["\u4f55\u304b\u306e\u554f\u984c\u3067\u8a00\u3044\u4e89\u3044\u3001\u4e3b\u541b\u306b\u7121\u793c\u3092\u50cd\u3044\u3066\u3057\u307e\u3046\u3002\u3042\u306a\u305f\u306f\u4e3b\u541b\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3001\u3010\u6642\u9593\u3011\u3092\uff11\u70b9\u6d88\u8cbb\u3057\u3066\u548c\u89e3\u306e\u8a71\u3057\u5408\u3044\u3092\u6301\u3064\u304b\u9078\u3079\u308b\u3002","\u898b\u904e\u3054\u305b\u3070\u4eba\u3005\u3092\u4e0d\u5e78\u306b\u3059\u308b\u5371\u967a\u306b\u906d\u9047\u3059\u308b\u3002\u3042\u306a\u305f\u306f\u9003\u3052\u51fa\u3057\u3066\u5192\u967a\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3001\u3053\u308c\u306b\u7acb\u3061\u5411\u304b\u3044\u3010\u547d\u6570\u3011\u3092\uff12\u70b9\u6e1b\u3089\u3059\u304b\u3092\u9078\u3079\u308b\u3002","\u3042\u306a\u305f\u304c\u60f9\u304b\u308c\u305f\u306e\u306f\u597d\u610f\u306b\u4ed8\u3051\u8fbc\u3080\u4eba\u3060\u3063\u305f\u3002\u3042\u306a\u305f\u306f\u305d\u306e\u5834\u3092\u53bb\u3063\u3066\u604b\u6155\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3010\u6b63\u7fa9\u3011\u3092\uff11\u70b9\u6e1b\u3089\u3057\u3066\u793c\u3092\u5c3d\u304f\u3059\u304b\u3092\u9078\u3079\u308b\u3002","\u91d1\u92ad\u7684\u306a\u554f\u984c\u3067\u3001\u751f\u547d\u3068\u9b42\u306e\u82e6\u3057\u307f\u3092\u80cc\u8ca0\u3046\u4eba\u306b\u51fa\u4f1a\u3046\u3002\u3042\u306a\u305f\u306f\u5e87\u8b77\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u51fa\u8cbb\u3092\uff13\u70b9\u5897\u3084\u3059\u304b\u3092\u9078\u3079\u308b\u3002","\u8972\u6483\u3092\u53d7\u3051\u308b\u3002\u82e6\u3082\u306a\u304f\u53e9\u304d\u4f0f\u305b\u308b\u3068\u3001\u5351\u5c48\u306a\u614b\u5ea6\u3067\u547d\u4e5e\u3044\u3092\u3057\u3066\u304d\u305f\u3002\u5bb9\u8d66\u306a\u304f\u547d\u3092\u596a\u3044\u5bdb\u5bb9\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3001\u5bc6\u544a\u306b\u3088\u3063\u3066\u3010\u8840\u8def\u3011\u304c\uff11\uff24\uff16\u70b9\u5897\u3048\u308b\u304b\u3092\u9078\u3076\u3053\u3068\u304c\u3067\u304d\u308b\u3002","\u98a8\u805e\u306b\u3088\u308a\u3001\u53cb\u304c\u60aa\u306b\u8eab\u3092\u8cb6\u3081\u305f\u3068\u77e5\u308b\u3002\u5171\u306b\u4e26\u3093\u3060\u6226\u5834\u304c\u8272\u892a\u305b\u308b\u60f3\u3044\u3060\u3002\u6226\u53cb\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u6e1b\u3089\u3059\u304b\u3001\u3010\u9152\u3068\u6b4c\u3011\u3059\u3079\u3066\u3092\u5931\u3046\u304b\u3092\u9078\u3079\u308b\u3002"]["$[]"](k(i,1))},0),m(o,"$roll_wind_power_chart",function(){try{var i=t,u=t,_=t;return i=0,u=0,_="",g(this,"loop",[],function c(){var b,f,F,U,q=null==c.$$s?this:c.$$s,X=t;if(null==q.randomizer&&(q.randomizer=t),F=q.randomizer.$roll_once(6),i=E(i,F),f=[[!0,0,"\u307b\u307c\u51ea\uff08\u632f\u308a\u8db3\u3057\uff09"],[!0,0,"\u5f31\u3044\u98a8\uff08\u632f\u308a\u8db3\u3057\uff09"],[!1,0,"\u3086\u308b\u3084\u304b\u306a\u98a8"],[!1,0,"\u3086\u308b\u3084\u304b\u306a\u98a8"],[!1,1,"\u3084\u3084\u5f37\u3044\u98a8\uff08\u5100\u5f0f\u70b9\u30d7\u30e9\u30b9\uff11\uff09"],[!1,2,"\u5f37\u3044\u98a8\uff08\u9f8d\u3092\u5e7b\u8996\u3001\u5100\u5f0f\u70b9\u30d7\u30e9\u30b9\uff12\uff09"],[!1,3,"\u4f53\u304c\u63fa\u3089\u3050\u307b\u3069\u306e\u98a8\uff08\u9f8d\u3092\u5e7b\u8996\u3001\u5100\u5f0f\u70b9\u30d7\u30e9\u30b9\uff13\uff09"]]["$[]"](k([i,7].$min(),1)),U=null==(b=j(f))[0]?t:b[0],X=null==b[2]?t:b[2],u=E(u,null==b[1]?t:b[1]),X=N(i,F)?"1D6["+F+"]+"+k(i,F)+" "+X:"1D6["+F+"] "+X,_=p(_["$empty?"]())?X:_+" => "+X,p(U))return t;_=E(_," [\u5408\u8a08\uff1a\u5100\u5f0f\u70b9 +"+u+" ]"),e.ret(_)},{$$arity:0,$$s:this})}catch(c){if(c===e.returner)return c.$v;throw c}},0),m(o,"$roll_emotion_chart",function(){var i;return"1D6 => ["+(i=this.randomizer.$roll_once(6))+"] "+["\u611b\u60c5\uff0f\u6bba\u610f","\u53cb\u60c5\uff0f\u8ca0\u76ee","\u5d07\u62dd\uff0f\u5acc\u60aa","\u8208\u5473\uff0f\u4fae\u8511","\u4fe1\u983c\uff0f\u5ac9\u59ac","\u5b88\u8b77\uff0f\u6b32\u60c5"]["$[]"](k(i,1))},0),m(o,"$roll_hope",function(s){try{var u=t,_=t;return u=0,_="",g(this,"loop",[],function c(){var f,b=null==c.$$s?this:c.$$s,q=t;if(null==b.randomizer&&(b.randomizer=t),f=b.randomizer.$roll_once(6),q=0,p(M(s,2))&&(q=b.randomizer.$roll_once(6)),u=E(u,E(f,q)),_=Y(s,2)?E(_,"2D6["+f+","+q+"]"):E(_,"1D6["+f+"]"),p(b.$is_1or2(f))||p(b.$is_1or2(q)))return _=E(_," \uff08\u632f\u308a\u8db3\u3057\uff09 => ");_=E(_," => \u5408\u8a08 "+u),e.ret(_)},{$$arity:0,$$s:this})}catch(c){if(c===e.returner)return c.$v;throw c}},1),m(o,"$is_1or2",function(s){return[1,2]["$include?"](s)},1)})},1245:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.modules["bcdice/game_system/SRS"]=function(e){var N,J,D,a,r,s,i,T,d,o,l,w,z,P,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send,m=e.def,h=e.send2,g=e.find_super,y=e.truthy,k=e.eqeqeq,p=e.hash2,E=e.rb_plus,M=e.to_a,L=e.rb_minus,Y=e.rb_ge,G=e.rb_le;return e.top.$require("bcdice/arithmetic_evaluator"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"SRS")].concat(D),o=e.$r(d),(l=T.$$prototype).round_type=l.randomizer=l.sort_add_dice=n,S(d[0],"ID","SRS"),S(d[0],"NAME","\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9RPG\u30b7\u30b9\u30c6\u30e0"),S(d[0],"SORT_KEY","\u3059\u305f\u3093\u305f\u3042\u3068RPG\u3057\u3059\u3066\u3080"),S(d[0],"HELP_MESSAGE_1","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\uff1a2D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m\u3001\u76ee\u6a19\u5024t\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u3054\u3068\u7701\u7565\u53ef\uff09\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u65e2\u5b9a\u5024\u306f\u3001\u305d\u308c\u305e\u308c12\u30012\u3067\u3059\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6>=10\u3000\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10\u3000\u3000\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[11]\u3000\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[12,4]\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_2","\u3000\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304a\u3088\u3073\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u307f\u306e\u5224\u5b9a\uff1a2D6+m[c,f]\n\u3000\u3000\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u305b\u305a\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u306f\u7701\u7565\u4e0d\u53ef\uff09\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6[]\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[11]\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[12,4]\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_3","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\uff08\u5165\u308c\u66ff\u3048\u306a\u3057)\n"),S(d[0],"DEFAULT_HELP_MESSAGE",o("HELP_MESSAGE_1")+"\n"+o("HELP_MESSAGE_2")+"\n"+o("HELP_MESSAGE_3")),S(d[0],"HELP_MESSAGE",o("DEFAULT_HELP_MESSAGE")),a=d,s=[r=C(d[0],"ClassMethods")].concat(a),i=e.$r(s),r.$attr_reader("help_message"),r.$attr_reader("aliases_re_for_srs_roll_with_target_value"),r.$attr_reader("aliases_re_for_srs_roll_without_target_value"),m(r,"$set_aliases_for_srs_roll",function(_){var c,f=this,q=n,F=n;return c=e.slice.call(arguments),q=R(c,"map",[],"upcase".$to_proc()),F=R(q,"map",[],function(W){return null==W&&(W=n),i("Regexp").$escape(W)},1).$join("|"),f.aliases_re_for_srs_roll_with_target_value=i("Regexp").$new("^(?:"+F+")((?:[-+][-+\\d]+)?>=\\d+(?:\\[\\d*(?:,\\d+)?\\])?)$"),f.aliases_re_for_srs_roll_without_target_value=i("Regexp").$new("^(?:"+F+")([-+][-+\\d]+)?(\\[\\d*(?:,\\d+)?\\])?$"),f.$prepare_help_msg_for_aliases_for_srs_roll(q),f.help_message=f.$concatenate_help_messages(),f},-1),m(r,"$clear_aliases_for_srs_roll",function(){var _=this;return _.aliases_re_for_srs_roll_with_target_value=n,_.aliases_re_for_srs_roll_without_target_value=n,_.help_message=B(i("SRS"),"DEFAULT_HELP_MESSAGE"),_},0),r.$private(),m(r,"$prepare_help_msg_for_aliases_for_srs_roll",function(_){var c=this;return c.help_msg_for_aliases_for_srs_roll_with_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"+2>=10\u3000\u3000\u3000\u3000 2d6+2>=10\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c.help_msg_for_aliases_for_srs_roll_without_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"\u3000\u3000\u3000\u3000\u3000 2d6[]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n\u3000\u3000\u4f8b) "+f+"+2[12,4]\u3000 2d6+2[12,4]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c},1),m(r,"$concatenate_help_messages",function(){var _=this;return null==_.help_msg_for_aliases_for_srs_roll_with_target_value&&(_.help_msg_for_aliases_for_srs_roll_with_target_value=n),null==_.help_msg_for_aliases_for_srs_roll_without_target_value&&(_.help_msg_for_aliases_for_srs_roll_without_target_value=n),B(i("SRS"),"HELP_MESSAGE_1")+(_.help_msg_for_aliases_for_srs_roll_with_target_value+"\n")+B(i("SRS"),"HELP_MESSAGE_2")+_.help_msg_for_aliases_for_srs_roll_without_target_value+"\n"+B(i("SRS"),"HELP_MESSAGE_3")},0),function($,a){var r=[$].concat(a),s=e.$r(r);m($,"$inherited",function(u){return u.$extend(s("ClassMethods")).$clear_aliases_for_srs_roll()},1),m($,"$help_message",function(){return s("DEFAULT_HELP_MESSAGE")},0),m($,"$aliases_re_for_srs_roll_with_target_value",function(){return n},0),m($,"$aliases_re_for_srs_roll_without_target_value",function(){return n},0)}(e.get_singleton_class(T),d),T.$register_prefix("2D6"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,h(s,g(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.d66_sort_type=B(o("D66SortType"),"NO_SORT")},1),m(T,"$help_message",function(){return this.$class().$help_message()},0),S(d[0],"DEFAULT_CRITICAL_VALUE",12),S(d[0],"DEFAULT_FUMBLE_VALUE",2),S(d[0],"SRS_ROLL_WITH_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?>=(\d+)(?:\[(\d+)?(?:,(\d+))?\])?$/.$freeze()),S(d[0],"SRS_ROLL_WITHOUT_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?\[(\d+)?(?:,(\d+))?\]$/.$freeze()),S(d[0],"SRS_ROLL_DEFAULT_THRESHOLDS","["+o("DEFAULT_CRITICAL_VALUE")+","+o("DEFAULT_FUMBLE_VALUE")+"]"),S(d[0],"SRSRollNode",R(o("Struct"),"new",["modifier","critical_value","fumble_value","target_value"],function $(){return m(null==$.$$s?this:$.$$s,"$to_s",function(){var i,s=this;return i="2D6"+o("Format").$modifier(s.$modifier()),(y(s.$target_value())?i+">="+s.$target_value():i)+"["+s.$critical_value()+","+s.$fumble_value()+"]"},0)},{$$arity:0,$$s:T})),m(T,"$eval_game_system_specific_command",function(a){var s,i,r=this;return s=r.$replace_alias_for_srs_roll_with_2d6(a),y(i=r.$parse(s))?r.$execute_srs_roll(i):n},1),T.$private(),m(T,"$replace_alias_for_srs_roll_with_2d6",function(a){var s,_=n;return k(this.$class().$aliases_re_for_srs_roll_with_target_value(),s=a)?"2D6"+o("Regexp").$last_match(1):k(this.$class().$aliases_re_for_srs_roll_without_target_value(),s)?"2D6"+o("Regexp").$last_match(1)+(y(_=o("Regexp").$last_match(2))?_:o("SRS_ROLL_DEFAULT_THRESHOLDS")):a},1),m(T,"$parse",function(a){var s;return k(o("SRS_ROLL_WITH_TARGET_VALUE_RE"),s=a)?this.$parse_srs_roll_with_target_value(o("Regexp").$last_match()):k(o("SRS_ROLL_WITHOUT_TARGET_VALUE_RE"),s)?this.$parse_srs_roll_without_target_value(o("Regexp").$last_match()):n},1),m(T,"$eval_modifier",function(a){return y(a)?o("ArithmeticEvaluator").$eval(a,p(["round_type"],{round_type:this.round_type})):0},1),m(T,"$parse_srs_roll_with_target_value",function(a){var r,s,u,_,c,f,b=n;return u=this.$eval_modifier(a["$[]"](1)),_=a["$[]"](2).$to_i(),c=y(b=(r=a["$[]"](3))===n||null==r?n:R(r,"to_i",[]))?b:o("DEFAULT_CRITICAL_VALUE"),f=y(b=(s=a["$[]"](4))===n||null==s?n:R(s,"to_i",[]))?b:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,c,f,_)},1),m(T,"$parse_srs_roll_without_target_value",function(a){var r,s,u,_,b,c=n;return u=this.$eval_modifier(a["$[]"](1)),_=y(c=(r=a["$[]"](2))===n||null==r?n:R(r,"to_i",[]))?c:o("DEFAULT_CRITICAL_VALUE"),b=y(c=(s=a["$[]"](3))===n||null==s?n:R(s,"to_i",[]))?c:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,_,b,n)},1),m(T,"$execute_srs_roll",function(a){var i,u,_,f,r=this,s=n,c=n;return s=r.randomizer.$roll_barabara(2,6),y(r.sort_add_dice)&&s["$sort!"](),i=s.$sum(),u=s.$join(","),_=E(i,a.$modifier()),c=r.$compare_result(a,i,_),f=[["("+a+")",i+"["+u+"]"+o("Format").$modifier(a.$modifier()),_,c.$text()].$compact().$join(" \uff1e ")],R(c,"text=",M(f)),L(f.length,1),c},1),m(T,"$compare_result",function(a,r,s){return y(Y(r,a.$critical_value()))?o("Result").$critical("\u81ea\u52d5\u6210\u529f"):y(G(r,a.$fumble_value()))?o("Result").$fumble("\u81ea\u52d5\u5931\u6557"):y(a.$target_value()["$nil?"]())?o("Result").$new():y(Y(s,a.$target_value()))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")},3)},Opal.queue(function(e){var R,y,Y,G,j,p,E,h,t=[],B=e.module,C=e.klass,v=e.const_set;return e.top.$require("bcdice/game_system/SRS"),R=t,y=h=[B(t[0],"BCDice")].concat(R),p=[B(h[0],"GameSystem")].concat(y),E=e.$r(p),Y=p,j=[G=C(p[0],E("SRS"),"MetallicGuardian")].concat(Y),G.$register_prefix("2D6","MG"),G.$set_aliases_for_srs_roll("MG"),v(j[0],"NAME","\u30e1\u30bf\u30ea\u30c3\u30af\u30ac\u30fc\u30c7\u30a3\u30a2\u30f3RPG"),v(j[0],"SORT_KEY","\u3081\u305f\u308a\u3064\u304f\u304b\u3042\u3066\u3044\u3042\u3093RPG"),v(j[0],"ID","MetallicGuardian"),v(j[0],"HELP_MESSAGE",G.$help_message())})},4351:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var g,E,j,N,K,P,V,L,k,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.truthy,R=e.def,m=e.rb_minus;return g=H,E=k=[n(H[0],"BCDice")].concat(g),j=L=[n(k[0],"DiceTable")].concat(E),K=[N=B(L[0],null,"Table")].concat(j),P=e.$r(K),(V=N.$$prototype).times=V.sides=V.name=V.items=t,v(N,"$from_i18n",function(I,w){var A=t;return A=P("I18n").$t(I,C(["locale"],{locale:w})),this.$new(A["$[]"]("name"),A["$[]"]("type"),A["$[]"]("items"))},2),R(N,"$initialize",function(I,w,z){var A=this,x=t;return A.name=I,A.items=z.$freeze(),x=/(\d+)D(\d+)/i.$match(w),S(x)||A.$raise(P("ArgumentError"),"Unexpected table type: "+w),A.times=x["$[]"](1).$to_i(),A.sides=x["$[]"](2).$to_i()},3),R(N,"$roll",function(I){var z,w=this;return z=I.$roll_sum(w.times,w.sides),w.$choice(z)},1),R(N,"$choice",function(I){var z,w=this;return z=m(I,w.times),P("RollResult").$new(w.name,I,w.items["$[]"](z))},1)},Opal.modules["bcdice/dice_table/d66_range_table"]=function(e){var h,p,G,j,N,K,P,M,y,H=[],t=e.nil,n=e.module,B=e.klass,C=e.def,v=e.rb_plus,S=e.rb_times,R=e.send;return h=H,p=y=[n(H[0],"BCDice")].concat(h),G=M=[n(y[0],"DiceTable")].concat(p),N=[j=B(M[0],null,"D66RangeTable")].concat(G),K=e.$r(N),(P=j.$$prototype).items=P.name=t,C(j,"$initialize",function(J,I){return this.name=J,this.items=I.$freeze()},2),C(j,"$roll",function(J){var w,z,A,x=t;return w=J.$roll_once(6),z=J.$roll_once(6),A=v(S(w,10),z),x=R(this.items,"find",[],function(T){return null==T&&(T=t),T["$[]"](0)["$include?"](A)},1),K("RollResult").$new(this.name,A,x["$[]"](1))},1)},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(e){var y,M,N,K,P,V,J,Y,p,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.def,R=e.rb_plus,m=e.rb_times,h=e.rb_minus;return y=H,M=p=[n(H[0],"BCDice")].concat(y),N=Y=[n(p[0],"DiceTable")].concat(M),P=[K=B(Y[0],null,"D66GridTable")].concat(N),V=e.$r(P),(J=K.$$prototype).name=J.items=t,v(K,"$from_i18n",function(w,z){var x=t;return x=V("I18n").$t(w,C(["locale","raise"],{locale:z,raise:!0})),this.$new(x["$[]"]("name"),x["$[]"]("items"))},2),S(K,"$initialize",function(w,z){return this.name=w,this.items=z.$freeze()},2),S(K,"$roll",function(w){var A,x,D,T,d;return A=w.$roll_once(6),x=w.$roll_once(6),D=R(m(A,10),x),T=h(A,1),d=h(x,1),V("RollResult").$new(this.name,D,this.items["$[]"](T)["$[]"](d))},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var P,w,d,i,u,_,c,o,l,$,A,x,J,H=e.top,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.send,k=e.rb_plus,p=e.rb_le,E=e.rb_ge,M=e.to_a,L=e.rb_minus,Y=e.hash2,G=e.defs,j=e.neqeq,N=e.range;return H.$require("bcdice/dice_table/table"),H.$require("bcdice/dice_table/d66_range_table"),H.$require("bcdice/dice_table/d66_grid_table"),H.$require("bcdice/format"),P=t,w=J=[C(t[0],"BCDice")].concat(P),A=[C(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=v(A[0],x("Base"),"MonotoneMuseum")].concat(d),$=e.$r(l),o.$$prototype.randomizer=n,S(l[0],"ID","MonotoneMuseum"),S(l[0],"NAME","\u30e2\u30ce\u30c8\u30fc\u30f3\u30df\u30e5\u30fc\u30b8\u30a2\u30e0RPG"),S(l[0],"SORT_KEY","\u3082\u306e\u3068\u304a\u3093\u307f\u3086\u3046\u3057\u3042\u3080RPG"),S(l[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\u3000\u3000\u3000\u3000\u3000\u30002D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m,\u76ee\u6a19\u5024t,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c,\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002([]\u3054\u3068\u7701\u7565\u3067\u304d\u307e\u3059)\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u611f\u60c5\u8868\u3000ET\uff0f\u611f\u60c5\u8868 2.0\u3000ET2\n\u3000\u30fb\u5146\u5019\u8868\u3000OT\uff0f\u5146\u5019\u8868ver2.0\u3000OT2\uff0f\u5146\u5019\u8868ver3.0\u3000OT3\n\u3000\u30fb\u6b6a\u307f\u8868\u3000DT\uff0f\u6b6a\u307f\u8868ver2.0\u3000DT2\uff0f\u6b6a\u307f\u8868(\u91ce\u5916)\u3000DTO\uff0f\u6b6a\u307f\u8868(\u6d77)\u3000DTS\uff0f\u6b6a\u307f\u8868(\u9928\u30fb\u57ce)\u3000DTM\n\u3000\u30fb\u4e16\u754c\u6b6a\u66f2\u8868\u3000WDT\uff0f\u4e16\u754c\u6b6a\u66f2\u88682.0\u3000WDT2\n\u3000\u30fb\u6c38\u52ab\u6d88\u5931\u8868\u3000EDT\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),h(o,"$initialize",function r(s){var u=this;return delete r.$$p,R(u,m(u,"initialize",r,!1,!0),"initialize",[s],null),u.d66_sort_type=B($("D66SortType"),"NO_SORT"),u.sort_add_dice=!0},1),h(o,"$eval_game_system_specific_command",function(s){var u,i=this;return g(u=i.$check_roll(s))?u:i.$roll_tables(s,B(i.$class(),"TABLES"))},1),o.$private(),h(o,"$check_roll",function(s){var i,u,_=this,c=n,b=n,f=n,q=n,F=n,U=n,W=n,X=n,Q=n,re=n,O=n,ie=n,ae=n;return c=/^(\d+)D6([+\-\d]*)>=(\d+)(\[(\d+)?(,(\d+))?\])?$/i.$match(s),g(c)?(b=c["$[]"](1).$to_i(),f=g(c["$[]"](2))?$("ArithmeticEvaluator").$eval(c["$[]"](2)):0,q=c["$[]"](3).$to_i(),F=g(U=(i=c["$[]"](5))===n||null==i?n:y(i,"to_i",[]))?U:12,W=g(U=(u=c["$[]"](7))===n||null==u?n:y(u,"to_i",[]))?U:2,Q=(X=_.randomizer.$roll_barabara(b,6).$sort()).$sum(),re=X.$join(","),O=k(Q,f),ie=g(p(Q,W))?$("Result").$fumble(_.$translate("MonotoneMuseum.automatic_failure")):g(E(Q,F))?$("Result").$critical(_.$translate("MonotoneMuseum.automatic_success")):g(E(O,q))?$("Result").$success(_.$translate("success")):$("Result").$failure(_.$translate("failure")),ae=[["("+s+")",Q+"["+re+"]"+$("Format").$modifier(f),O.$to_s(),ie.$text()].$join(" \uff1e ")],y(ie,"text=",M(ae)),L(ae.length,1),ie):n},1),i=l,_=[u=v(l[0],B($("DiceTable"),"D66RangeTable"),"MMTable")].concat(i),c=e.$r(_),G(u,"$from_i18n",function(f,q){var U=n;return U=c("I18n").$translate(f,Y(["locale","raise"],{locale:q,raise:!0})),this.$new(U["$[]"]("name"),U["$[]"]("items"))},2),h(u,"$initialize",function b(f,q){var W,U=this;return delete b.$$p,j(q.$size(),c("RANGE").$size())&&U.$raise(c("UnexpectedTableSize").$new(f,q.$size())),W=c("RANGE").$zip(q),R(U,m(U,"initialize",b,!1,!0),"initialize",[f,W],null)},2),S(_[0],"RANGE",[N(11,12,!1),N(13,14,!1),N(15,16,!1),N(21,22,!1),N(23,24,!1),N(25,26,!1),N(31,32,!1),N(33,34,!1),N(35,36,!1),N(41,42,!1),N(43,44,!1),N(45,46,!1),N(51,52,!1),N(53,54,!1),N(55,56,!1),N(61,62,!1),N(63,64,!1),N(65,66,!1)].$freeze()),function(r,s){var i=[r].concat(s),u=e.$r(i);r.$private(),h(r,"$translate_tables",function(c){return Y(["ET","ET2","OT","DT","DT2","WDT","WDT2","OT2","DTO","DTS","EDT","DTM","OT3"],{ET:B(u("DiceTable"),"D66GridTable").$from_i18n("MonotoneMuseum.table.ET",c),ET2:B(u("DiceTable"),"D66GridTable").$from_i18n("MonotoneMuseum.table.ET2",c),OT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.OT",c),DT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.DT",c),DT2:u("MMTable").$from_i18n("MonotoneMuseum.table.DT2",c),WDT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.WDT",c),WDT2:u("MMTable").$from_i18n("MonotoneMuseum.table.WDT2",c),OT2:u("MMTable").$from_i18n("MonotoneMuseum.table.OT2",c),DTO:u("MMTable").$from_i18n("MonotoneMuseum.table.DTO",c),DTS:u("MMTable").$from_i18n("MonotoneMuseum.table.DTS",c),EDT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.EDT",c),DTM:u("MMTable").$from_i18n("MonotoneMuseum.table.DTM",c),OT3:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.OT3",c)})},1)}(e.get_singleton_class(o),l),S(l[0],"TABLES",o.$translate_tables("ja_jp").$freeze()),o.$register_prefix("\\d+D6",$("TABLES").$keys())})},3989:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var g,E,j,N,K,P,V,L,k,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.truthy,R=e.def,m=e.rb_minus;return g=H,E=k=[n(H[0],"BCDice")].concat(g),j=L=[n(k[0],"DiceTable")].concat(E),K=[N=B(L[0],null,"Table")].concat(j),P=e.$r(K),(V=N.$$prototype).times=V.sides=V.name=V.items=t,v(N,"$from_i18n",function(I,w){var A=t;return A=P("I18n").$t(I,C(["locale"],{locale:w})),this.$new(A["$[]"]("name"),A["$[]"]("type"),A["$[]"]("items"))},2),R(N,"$initialize",function(I,w,z){var A=this,x=t;return A.name=I,A.items=z.$freeze(),x=/(\d+)D(\d+)/i.$match(w),S(x)||A.$raise(P("ArgumentError"),"Unexpected table type: "+w),A.times=x["$[]"](1).$to_i(),A.sides=x["$[]"](2).$to_i()},3),R(N,"$roll",function(I){var z,w=this;return z=I.$roll_sum(w.times,w.sides),w.$choice(z)},1),R(N,"$choice",function(I){var z,w=this;return z=m(I,w.times),P("RollResult").$new(w.name,I,w.items["$[]"](z))},1)},Opal.modules["bcdice/dice_table/d66_range_table"]=function(e){var h,p,G,j,N,K,P,M,y,H=[],t=e.nil,n=e.module,B=e.klass,C=e.def,v=e.rb_plus,S=e.rb_times,R=e.send;return h=H,p=y=[n(H[0],"BCDice")].concat(h),G=M=[n(y[0],"DiceTable")].concat(p),N=[j=B(M[0],null,"D66RangeTable")].concat(G),K=e.$r(N),(P=j.$$prototype).items=P.name=t,C(j,"$initialize",function(J,I){return this.name=J,this.items=I.$freeze()},2),C(j,"$roll",function(J){var w,z,A,x=t;return w=J.$roll_once(6),z=J.$roll_once(6),A=v(S(w,10),z),x=R(this.items,"find",[],function(T){return null==T&&(T=t),T["$[]"](0)["$include?"](A)},1),K("RollResult").$new(this.name,A,x["$[]"](1))},1)},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(e){var y,M,N,K,P,V,J,Y,p,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.def,R=e.rb_plus,m=e.rb_times,h=e.rb_minus;return y=H,M=p=[n(H[0],"BCDice")].concat(y),N=Y=[n(p[0],"DiceTable")].concat(M),P=[K=B(Y[0],null,"D66GridTable")].concat(N),V=e.$r(P),(J=K.$$prototype).name=J.items=t,v(K,"$from_i18n",function(w,z){var x=t;return x=V("I18n").$t(w,C(["locale","raise"],{locale:z,raise:!0})),this.$new(x["$[]"]("name"),x["$[]"]("items"))},2),S(K,"$initialize",function(w,z){return this.name=w,this.items=z.$freeze()},2),S(K,"$roll",function(w){var A,x,D,T,d;return A=w.$roll_once(6),x=w.$roll_once(6),D=R(m(A,10),x),T=h(A,1),d=h(x,1),V("RollResult").$new(this.name,D,this.items["$[]"](T)["$[]"](d))},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.modules["bcdice/game_system/MonotoneMuseum"]=function(e){var P,w,d,i,u,_,c,o,l,$,A,x,J,H=e.top,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.send,k=e.rb_plus,p=e.rb_le,E=e.rb_ge,M=e.to_a,L=e.rb_minus,Y=e.hash2,G=e.defs,j=e.neqeq,N=e.range;return H.$require("bcdice/dice_table/table"),H.$require("bcdice/dice_table/d66_range_table"),H.$require("bcdice/dice_table/d66_grid_table"),H.$require("bcdice/format"),P=t,w=J=[C(t[0],"BCDice")].concat(P),A=[C(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=v(A[0],x("Base"),"MonotoneMuseum")].concat(d),$=e.$r(l),o.$$prototype.randomizer=n,S(l[0],"ID","MonotoneMuseum"),S(l[0],"NAME","\u30e2\u30ce\u30c8\u30fc\u30f3\u30df\u30e5\u30fc\u30b8\u30a2\u30e0RPG"),S(l[0],"SORT_KEY","\u3082\u306e\u3068\u304a\u3093\u307f\u3086\u3046\u3057\u3042\u3080RPG"),S(l[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\u3000\u3000\u3000\u3000\u3000\u30002D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m,\u76ee\u6a19\u5024t,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c,\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002([]\u3054\u3068\u7701\u7565\u3067\u304d\u307e\u3059)\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u611f\u60c5\u8868\u3000ET\uff0f\u611f\u60c5\u8868 2.0\u3000ET2\n\u3000\u30fb\u5146\u5019\u8868\u3000OT\uff0f\u5146\u5019\u8868ver2.0\u3000OT2\uff0f\u5146\u5019\u8868ver3.0\u3000OT3\n\u3000\u30fb\u6b6a\u307f\u8868\u3000DT\uff0f\u6b6a\u307f\u8868ver2.0\u3000DT2\uff0f\u6b6a\u307f\u8868(\u91ce\u5916)\u3000DTO\uff0f\u6b6a\u307f\u8868(\u6d77)\u3000DTS\uff0f\u6b6a\u307f\u8868(\u9928\u30fb\u57ce)\u3000DTM\n\u3000\u30fb\u4e16\u754c\u6b6a\u66f2\u8868\u3000WDT\uff0f\u4e16\u754c\u6b6a\u66f2\u88682.0\u3000WDT2\n\u3000\u30fb\u6c38\u52ab\u6d88\u5931\u8868\u3000EDT\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),h(o,"$initialize",function r(s){var u=this;return delete r.$$p,R(u,m(u,"initialize",r,!1,!0),"initialize",[s],null),u.d66_sort_type=B($("D66SortType"),"NO_SORT"),u.sort_add_dice=!0},1),h(o,"$eval_game_system_specific_command",function(s){var u,i=this;return g(u=i.$check_roll(s))?u:i.$roll_tables(s,B(i.$class(),"TABLES"))},1),o.$private(),h(o,"$check_roll",function(s){var i,u,_=this,c=n,b=n,f=n,q=n,F=n,U=n,W=n,X=n,Q=n,re=n,O=n,ie=n,ae=n;return c=/^(\d+)D6([+\-\d]*)>=(\d+)(\[(\d+)?(,(\d+))?\])?$/i.$match(s),g(c)?(b=c["$[]"](1).$to_i(),f=g(c["$[]"](2))?$("ArithmeticEvaluator").$eval(c["$[]"](2)):0,q=c["$[]"](3).$to_i(),F=g(U=(i=c["$[]"](5))===n||null==i?n:y(i,"to_i",[]))?U:12,W=g(U=(u=c["$[]"](7))===n||null==u?n:y(u,"to_i",[]))?U:2,Q=(X=_.randomizer.$roll_barabara(b,6).$sort()).$sum(),re=X.$join(","),O=k(Q,f),ie=g(p(Q,W))?$("Result").$fumble(_.$translate("MonotoneMuseum.automatic_failure")):g(E(Q,F))?$("Result").$critical(_.$translate("MonotoneMuseum.automatic_success")):g(E(O,q))?$("Result").$success(_.$translate("success")):$("Result").$failure(_.$translate("failure")),ae=[["("+s+")",Q+"["+re+"]"+$("Format").$modifier(f),O.$to_s(),ie.$text()].$join(" \uff1e ")],y(ie,"text=",M(ae)),L(ae.length,1),ie):n},1),i=l,_=[u=v(l[0],B($("DiceTable"),"D66RangeTable"),"MMTable")].concat(i),c=e.$r(_),G(u,"$from_i18n",function(f,q){var U=n;return U=c("I18n").$translate(f,Y(["locale","raise"],{locale:q,raise:!0})),this.$new(U["$[]"]("name"),U["$[]"]("items"))},2),h(u,"$initialize",function b(f,q){var W,U=this;return delete b.$$p,j(q.$size(),c("RANGE").$size())&&U.$raise(c("UnexpectedTableSize").$new(f,q.$size())),W=c("RANGE").$zip(q),R(U,m(U,"initialize",b,!1,!0),"initialize",[f,W],null)},2),S(_[0],"RANGE",[N(11,12,!1),N(13,14,!1),N(15,16,!1),N(21,22,!1),N(23,24,!1),N(25,26,!1),N(31,32,!1),N(33,34,!1),N(35,36,!1),N(41,42,!1),N(43,44,!1),N(45,46,!1),N(51,52,!1),N(53,54,!1),N(55,56,!1),N(61,62,!1),N(63,64,!1),N(65,66,!1)].$freeze()),function(r,s){var i=[r].concat(s),u=e.$r(i);r.$private(),h(r,"$translate_tables",function(c){return Y(["ET","ET2","OT","DT","DT2","WDT","WDT2","OT2","DTO","DTS","EDT","DTM","OT3"],{ET:B(u("DiceTable"),"D66GridTable").$from_i18n("MonotoneMuseum.table.ET",c),ET2:B(u("DiceTable"),"D66GridTable").$from_i18n("MonotoneMuseum.table.ET2",c),OT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.OT",c),DT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.DT",c),DT2:u("MMTable").$from_i18n("MonotoneMuseum.table.DT2",c),WDT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.WDT",c),WDT2:u("MMTable").$from_i18n("MonotoneMuseum.table.WDT2",c),OT2:u("MMTable").$from_i18n("MonotoneMuseum.table.OT2",c),DTO:u("MMTable").$from_i18n("MonotoneMuseum.table.DTO",c),DTS:u("MMTable").$from_i18n("MonotoneMuseum.table.DTS",c),EDT:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.EDT",c),DTM:u("MMTable").$from_i18n("MonotoneMuseum.table.DTM",c),OT3:B(u("DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.OT3",c)})},1)}(e.get_singleton_class(o),l),S(l[0],"TABLES",o.$translate_tables("ja_jp").$freeze()),o.$register_prefix("\\d+D6",$("TABLES").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/MonotoneMuseum"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("MonotoneMuseum"),"MonotoneMuseum_Korean")].concat(N))[0],"ID","MonotoneMuseum:Korean"),v(P[0],"NAME","\ubaa8\ub178\ud1a4 \ubba4\uc9c0\uc5c4"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ubaa8\ub178\ud1a4 \ubba4\uc9c0\uc5c4"),v(P[0],"HELP_MESSAGE","\u30fb\ud310\uc815\n\u3000\u30fb\ud1b5\uc0c1\ud310\uc815\u3000\u3000\u3000\u3000\u3000\u30002D6+m>=t[c,f]\n\u3000\u3000\uc218\uc815\uce58m,\ubaa9\ud45c\uce58t,\ud06c\ub9ac\ud2f0\uceec\uce58c,\ud38c\ube14\uce58f\ub85c \ud310\uc815 \uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\u3000\ud06c\ub9ac\ud2f0\uceec, \ud38c\ube14\uce58\ub294 \uc0dd\ub7b5\uac00\ub2a5\ud569\ub2c8\ub2e4. ([]\uc790\uccb4\ub97c \uc0dd\ub7b5\uac00\ub2a5)\n\u3000\u3000\uc790\ub3d9\uc131\uacf5, \uc790\ub3d9\uc2e4\ud328, \uc131\uacf5, \uc2e4\ud328\ub97c \uc790\ub3d9\ud45c\uae30\ud569\ub2c8\ub2e4.\n\u30fb\uac01\uc885\ud45c\n\u3000\u30fb\uac10\uc815\ud45c\u3000ET\uff0f\uac10\uc815\ud45c 2.0\u3000ET2\n\u3000\u30fb\uc9d5\uc870\ud45c\u3000OT\uff0f\uc9d5\uc870\ud45cver2.0\u3000OT2\uff0f\uc9d5\uc870\ud45cver3.0\u3000OT3\n\u3000\u30fb\uc77c\uadf8\ub7ec\uc9d0\ud45c\u3000DT\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45cver2.0\u3000DT2\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45c(\uc57c\uc678)\u3000DTO\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45c(\ubc14\ub2e4)\u3000DTS\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45c(\uc800\ud0dd\u30fb\uc131)\u3000DTM\n\u3000\u30fb\uc138\uacc4\uc65c\uace1\ud45c\u3000\u3000WDT\uff0f\uc138\uacc4\uc65c\uace1\ud45c2.0\u3000WDT2\n\u3000\u30fb\uc601\uad6c\uc18c\uc2e4\ud45c\u3000EDT\n\u30fbD66\ub2e4\uc774\uc2a4 \uc788\uc74c\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr").$freeze())})},6681:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.def,R=e.rb_plus,m=e.eqeq,h=e.rb_ge,g=e.rb_minus,y=e.send,k=e.rb_gt,p=e.eqeqeq,E=e.rb_le;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"NSSQ")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","NSSQ"),C(A[0],"NAME","SRS\u3058\u3083\u306a\u3044\u4e16\u754c\u6a39\u306e\u8ff7\u5baeTRPG"),C(A[0],"SORT_KEY","\u3048\u3059\u3042\u3042\u308b\u3048\u3059\u3057\u3084\u306a\u3044\u305b\u304b\u3044\u3057\u3086\u306e\u3081\u3044\u304d\u3086\u3046TRPG"),C(A[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a (xSQ\xb1y)\n  xD6\u306e\u5224\u5b9a\u30023\u3064\u4ee5\u4e0a\u632f\u3063\u305f\u3068\u304d\u3001\u51fa\u76ee\u306e\u9ad8\u30442\u3064\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3082\u8a08\u7b97\u3057\u307e\u3059\u3002\n  \xb1y: y\u306b\u4fee\u6b63\u5024\u3092\u5165\u529b\u3002\xb1\u306e\u8a08\u7b97\u306b\u5bfe\u5fdc\u3002\u7701\u7565\u53ef\u80fd\u3002\n\n\u25a0 \u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb (xDR(C)(+)y)\n  xD6\u306e\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002C\u3092\u4ed8\u3051\u308b\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30a2\u30c3\u30d7\u72b6\u614b\u3067\u8a08\u7b97\u3067\u304d\u307e\u3059\u3002+\u3092\u4ed8\u3051\u308b\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6642\u306e\u30c0\u30a4\u30b9\u304c8\u500b\u306b\u306a\u308a\u307e\u3059\u3002\n  x: x\u306b\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3092\u5165\u529b\u3002\n  y: y\u306b\u8010\u6027\u3092\u5165\u529b\u3002\n  \u4f8b) 5DR3 5DRC4 5DRC+4\n\n\u25a0 \u56de\u5fa9\u30ed\u30fc\u30eb (xHRy)\n  xD6\u306e\u56de\u5fa9\u30ed\u30fc\u30eb\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304c\u767a\u751f\u3057\u307e\u305b\u3093\u3002\n  x: x\u306b\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3092\u5165\u529b\u3002\n  y: y\u306b\u8010\u6027\u3092\u5165\u529b\u3002\u7701\u7565\u3057\u305f\u5834\u54083\u3002\n  \u4f8b) 2HR 10HR2\n\n\u25a0 \u63a1\u53d6\u30ed\u30fc\u30eb (TC\xb1z,SC\xb1z,GC\xb1z)\n  \u3061\u3087\u3063\u3068(T)\u3001\u305d\u3053\u305d\u3053(S)\u3001\u304c\u3063\u3064\u308a(G)\u63a1\u53d6\u63a1\u6398\u4f10\u63a1\u3092\u884c\u3046\u3002\n  z: z\u306b\u8ffd\u52a0\u3067\u30ed\u30fc\u30eb\u3059\u308b\u56de\u6570\u3092\u5165\u529b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  \u4f8b) TC SC+1 GC-1\n"),z.$register_prefix("\\d+SQ[\\+\\-\\d]*","\\d+DR(C)?(\\+)?\\d+","[TSG]C","\\d+HR\\d*"),S(z,"$eval_game_system_specific_command",function(d){var l,$,a,o=this;return v(l=v($=v(a=o.$roll_sq(d))?a:o.$damage_roll(d))?$:o.$heal_roll(d))?l:o.$collecting_roll(d)},1),z.$private(),S(z,"$roll_sq",function(d){var l=t,$=t,a=t,r=t,s=t,i=t,u=t;return l=/(\d+)SQ([+\-\d]+)?/i.$match(d),v(l)?($=l["$[]"](1).$to_i(),a=x("ArithmeticEvaluator").$eval(l["$[]"](2)),s=(r=this.randomizer.$roll_barabara($,6)).$sort().$reverse().$take(2),i=R(s.$sum(),a),u=m(s,[6,6])?" \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01":m(s,[1,1])?" \u30d5\u30a1\u30f3\u30d6\u30eb\uff01":t,["("+d+")","["+r.$join(",")+"]"+x("Format").$modifier(a),i+"["+s.$join(",")+"]"+u].$join(" \uff1e ")):t},1),S(z,"$damage_roll",function(d){var o=this,l=t,$=t,a=t,r=t,s=t,i=t,u=t,_=t;return l=/(\d+)DR(C)?(\+)?(\d+)/i.$match(d),v(l)?($=l["$[]"](1).$to_i(),a=l["$[]"](2)["$nil?"]()["$!"](),r=l["$[]"](3)["$nil?"]()["$!"](),s=l["$[]"](4).$to_i(),u="("+d+") \uff1e ["+(i=o.randomizer.$roll_barabara($,6)).$join(",")+"]"+s+" \uff1e "+o.$damage(i,s)+"\u30c0\u30e1\u30fc\u30b8",_=v(a)?1:2,v(h(g(i.$count(6),i.$count(1)),_))&&(u=R(u," \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01\n"),u=R(u,o.$additional_damage_roll(r,s))),u):t},1),S(z,"$additional_damage_roll",function(d,o){var $,a=t;return"("+($=v(d)?8:4)+"DR"+o+") \uff1e ["+(a=this.randomizer.$roll_barabara($,6)).$join(",")+"]"+o+" \uff1e "+this.$damage(a,o)+"\u30c0\u30e1\u30fc\u30b8"},2),S(z,"$heal_roll",function(d){var o,$=t,a=t,r=t,s=t,i=t;return $=/^(\d+)HR(\d+)?$/i.$match(d),v($)?(a=$["$[]"](1).$to_i(),r=v(s=(o=$["$[]"](2))===t||null==o?t:y(o,"to_i",[]))?s:3,"("+d+") \uff1e ["+(i=this.randomizer.$roll_barabara(a,6)).$join(",")+"]"+r+" \uff1e "+this.$damage(i,r)+"\u56de\u5fa9"):t},1),S(z,"$damage",function(d,o){return y(d,"count",[],function($){return null==$&&($=t),k($,o)},1)},2),S(z,"$collecting_roll",function(d){var l=t,$=t,a=t,r=t,s=t,i=t;return l=/([TSG])C([+\-\d]+)?/i.$match(d),!v(l)||($=l["$[]"](1),a=x("ArithmeticEvaluator").$eval(l["$[]"](2)),r=p("T",s=$)?3:p("S",s)?4:p("G",s)?5:t,i=R(g(r,2),a),v(E(i,0)))?t:y(x("Array"),"new",[i],function _(c){var q,b=null==_.$$s?this:_.$$s,f=t;return null==b.randomizer&&(b.randomizer=t),null==c&&(c=t),q=(f=b.randomizer.$roll_barabara(2,6)).$sum(),"("+d+") \uff1e "+q+"["+f.$join(",")+"]: "+b.$result_collecting(c,q,r)},{$$arity:1,$$s:this}).$join("\n")},1),S(z,"$result_collecting",function(d,o,l){return v(E(o,l))&&v(k(g(l,2),d))?"\uff01\u3042\u3042\u3063\u3068\uff01":v(E(g(l,2),d))?"\u6210\u529f\uff08\u8ffd\u52a0\u5206\uff09":"\u6210\u529f"},3)})},8885:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var g,E,j,N,K,P,V,L,k,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.truthy,R=e.def,m=e.rb_minus;return g=H,E=k=[n(H[0],"BCDice")].concat(g),j=L=[n(k[0],"DiceTable")].concat(E),K=[N=B(L[0],null,"Table")].concat(j),P=e.$r(K),(V=N.$$prototype).times=V.sides=V.name=V.items=t,v(N,"$from_i18n",function(I,w){var A=t;return A=P("I18n").$t(I,C(["locale"],{locale:w})),this.$new(A["$[]"]("name"),A["$[]"]("type"),A["$[]"]("items"))},2),R(N,"$initialize",function(I,w,z){var A=this,x=t;return A.name=I,A.items=z.$freeze(),x=/(\d+)D(\d+)/i.$match(w),S(x)||A.$raise(P("ArgumentError"),"Unexpected table type: "+w),A.times=x["$[]"](1).$to_i(),A.sides=x["$[]"](2).$to_i()},3),R(N,"$roll",function(I){var z,w=this;return z=I.$roll_sum(w.times,w.sides),w.$choice(z)},1),R(N,"$choice",function(I){var z,w=this;return z=m(I,w.times),P("RollResult").$new(w.name,I,w.items["$[]"](z))},1)},Opal.queue(function(e){var P,w,d,r,i,u,o,l,$,A,x,J,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.eqeq,k=e.neqeq,p=e.rb_ge,E=e.send,M=e.rb_le,L=e.rb_gt,Y=e.hash2,G=e.rb_plus,j=e.to_a,N=e.rb_minus;return e.top.$require("bcdice/dice_table/table"),P=t,w=J=[C(t[0],"BCDice")].concat(P),A=[C(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=v(A[0],x("Base"),"Nechronica")].concat(d),$=e.$r(l),o.$$prototype.randomizer=n,S(l[0],"ID","Nechronica"),S(l[0],"NAME","\u30cd\u30af\u30ed\u30cb\u30ab"),S(l[0],"SORT_KEY","\u306d\u304f\u308d\u306b\u304b"),S(l[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000(nNC+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000(nNA+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u653b\u6483\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u547d\u4e2d\u90e8\u4f4d\u3068\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),h(o,"$initialize",function r(s){var u=this;return delete r.$$p,R(u,m(u,"initialize",r,!1,!0),"initialize",[s],null),u.sort_add_dice=!0,u.sort_barabara_dice=!0,u.default_target_number=6},1),h(o,"$eval_game_system_specific_command",function(s){var u,i=this;return g(u=i.$roll_tables(s,B(i.$class(),"TABLES")))?u:i.$nechronica_check(s)},1),h(o,"$result_nd10",function(s,i,u,_,c){return k(u.$count(),1)||k(_,">=")||g(c["$nil?"]())||y(c,"?")?n:this.$result_nechronica([s],c)},5),o.$private(),h(o,"$result_nechronica",function(s,i){var u=this,_=n,c=n;return g(p(s.$max(),i))?g(p(s.$max(),11))?$("Result").$critical(u.$translate("Nechronica.critical")):$("Result").$success(u.$translate("success")):y(E(s,"count",[],function(f){return null==f&&(f=n),M(f,1)},1),0)?$("Result").$failure(u.$translate("failure")):g(L(s.$size(),1))?(_=u.$translate("Nechronica.break_all_parts"),c=u.$translate("Nechronica.fumble"),$("Result").$fumble(c+" \uff1e "+_)):$("Result").$fumble(u.$translate("Nechronica.fumble"))},2),h(o,"$r_backward_compatibility",function(s){var i=n;return i=s.$match(/^(\d)?R10([+\-\d]+)?(\[(\d+)\])?$/),g(i)?y(i["$[]"](4),"1")?i["$[]"](1)+"NA"+i["$[]"](2):i["$[]"](1)+"NC"+i["$[]"](2):s},1),h(o,"$nechronica_check",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n,F=n,U=n,W=n,Q=n;return s=i.$r_backward_compatibility(s),u=B($("Command"),"Parser").$new(/N[CA](10)?/,Y(["round_type"],{round_type:i.$round_type()})).$enable_prefix_number().$parse(s),g(u)?(_=[1,u.$prefix_number().$to_i()].$max(),c=g(b=u.$modify_number())?b:0,f=i.randomizer.$roll_barabara(_,10).$sort(),F=(q=E(f,"map",[],function(O){return null==O&&(O=n),G(O,c)},1)).$max(),g(u.$command()["$start_with?"]("NA"))&&(U=i.$get_hit_location(F)),W=i.$result_nechronica(q,6),Q=[["("+u+")","["+f.$join(",")+"]"+$("Format").$modifier(c),F+"["+q.$join(",")+"]",W.$text(),U].$compact().$join(" \uff1e ")],E(W,"text=",j(Q)),N(Q.length,1),W):n},1),h(o,"$get_hit_location",function(s){var _=n;return g(M(s,5))?n:(_=this.$translate("Nechronica.hit_location.table")["$[]"](N(s,6).$clamp(0,5)),g(L(s,10))?G(_,this.$translate("Nechronica.hit_location.additional_damage",Y(["damage"],{damage:N(s,10)}))):_)},1),i=[r=e.get_singleton_class(o)].concat(l),u=e.$r(i),r.$private(),h(r,"$translate_tables",function(c){return Y(["NM","NMN","NME"],{NM:B(u("DiceTable"),"Table").$from_i18n("Nechronica.table.NM",c),NMN:B(u("DiceTable"),"Table").$from_i18n("Nechronica.table.NMN",c),NME:B(u("DiceTable"),"Table").$from_i18n("Nechronica.table.NME",c)})},1),S(l[0],"TABLES",o.$translate_tables("ja_jp")),o.$register_prefix("\\d?NC","\\d?NA","\\dR10",$("TABLES").$keys())})},4361:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var g,E,j,N,K,P,V,L,k,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.truthy,R=e.def,m=e.rb_minus;return g=H,E=k=[n(H[0],"BCDice")].concat(g),j=L=[n(k[0],"DiceTable")].concat(E),K=[N=B(L[0],null,"Table")].concat(j),P=e.$r(K),(V=N.$$prototype).times=V.sides=V.name=V.items=t,v(N,"$from_i18n",function(I,w){var A=t;return A=P("I18n").$t(I,C(["locale"],{locale:w})),this.$new(A["$[]"]("name"),A["$[]"]("type"),A["$[]"]("items"))},2),R(N,"$initialize",function(I,w,z){var A=this,x=t;return A.name=I,A.items=z.$freeze(),x=/(\d+)D(\d+)/i.$match(w),S(x)||A.$raise(P("ArgumentError"),"Unexpected table type: "+w),A.times=x["$[]"](1).$to_i(),A.sides=x["$[]"](2).$to_i()},3),R(N,"$roll",function(I){var z,w=this;return z=I.$roll_sum(w.times,w.sides),w.$choice(z)},1),R(N,"$choice",function(I){var z,w=this;return z=m(I,w.times),P("RollResult").$new(w.name,I,w.items["$[]"](z))},1)},Opal.modules["bcdice/game_system/Nechronica"]=function(e){var P,w,d,r,i,u,o,l,$,A,x,J,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.eqeq,k=e.neqeq,p=e.rb_ge,E=e.send,M=e.rb_le,L=e.rb_gt,Y=e.hash2,G=e.rb_plus,j=e.to_a,N=e.rb_minus;return e.top.$require("bcdice/dice_table/table"),P=t,w=J=[C(t[0],"BCDice")].concat(P),A=[C(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=v(A[0],x("Base"),"Nechronica")].concat(d),$=e.$r(l),o.$$prototype.randomizer=n,S(l[0],"ID","Nechronica"),S(l[0],"NAME","\u30cd\u30af\u30ed\u30cb\u30ab"),S(l[0],"SORT_KEY","\u306d\u304f\u308d\u306b\u304b"),S(l[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000(nNC+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000(nNA+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u653b\u6483\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u547d\u4e2d\u90e8\u4f4d\u3068\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),h(o,"$initialize",function r(s){var u=this;return delete r.$$p,R(u,m(u,"initialize",r,!1,!0),"initialize",[s],null),u.sort_add_dice=!0,u.sort_barabara_dice=!0,u.default_target_number=6},1),h(o,"$eval_game_system_specific_command",function(s){var u,i=this;return g(u=i.$roll_tables(s,B(i.$class(),"TABLES")))?u:i.$nechronica_check(s)},1),h(o,"$result_nd10",function(s,i,u,_,c){return k(u.$count(),1)||k(_,">=")||g(c["$nil?"]())||y(c,"?")?n:this.$result_nechronica([s],c)},5),o.$private(),h(o,"$result_nechronica",function(s,i){var u=this,_=n,c=n;return g(p(s.$max(),i))?g(p(s.$max(),11))?$("Result").$critical(u.$translate("Nechronica.critical")):$("Result").$success(u.$translate("success")):y(E(s,"count",[],function(f){return null==f&&(f=n),M(f,1)},1),0)?$("Result").$failure(u.$translate("failure")):g(L(s.$size(),1))?(_=u.$translate("Nechronica.break_all_parts"),c=u.$translate("Nechronica.fumble"),$("Result").$fumble(c+" \uff1e "+_)):$("Result").$fumble(u.$translate("Nechronica.fumble"))},2),h(o,"$r_backward_compatibility",function(s){var i=n;return i=s.$match(/^(\d)?R10([+\-\d]+)?(\[(\d+)\])?$/),g(i)?y(i["$[]"](4),"1")?i["$[]"](1)+"NA"+i["$[]"](2):i["$[]"](1)+"NC"+i["$[]"](2):s},1),h(o,"$nechronica_check",function(s){var i=this,u=n,_=n,c=n,b=n,f=n,q=n,F=n,U=n,W=n,Q=n;return s=i.$r_backward_compatibility(s),u=B($("Command"),"Parser").$new(/N[CA](10)?/,Y(["round_type"],{round_type:i.$round_type()})).$enable_prefix_number().$parse(s),g(u)?(_=[1,u.$prefix_number().$to_i()].$max(),c=g(b=u.$modify_number())?b:0,f=i.randomizer.$roll_barabara(_,10).$sort(),F=(q=E(f,"map",[],function(O){return null==O&&(O=n),G(O,c)},1)).$max(),g(u.$command()["$start_with?"]("NA"))&&(U=i.$get_hit_location(F)),W=i.$result_nechronica(q,6),Q=[["("+u+")","["+f.$join(",")+"]"+$("Format").$modifier(c),F+"["+q.$join(",")+"]",W.$text(),U].$compact().$join(" \uff1e ")],E(W,"text=",j(Q)),N(Q.length,1),W):n},1),h(o,"$get_hit_location",function(s){var _=n;return g(M(s,5))?n:(_=this.$translate("Nechronica.hit_location.table")["$[]"](N(s,6).$clamp(0,5)),g(L(s,10))?G(_,this.$translate("Nechronica.hit_location.additional_damage",Y(["damage"],{damage:N(s,10)}))):_)},1),i=[r=e.get_singleton_class(o)].concat(l),u=e.$r(i),r.$private(),h(r,"$translate_tables",function(c){return Y(["NM","NMN","NME"],{NM:B(u("DiceTable"),"Table").$from_i18n("Nechronica.table.NM",c),NMN:B(u("DiceTable"),"Table").$from_i18n("Nechronica.table.NMN",c),NME:B(u("DiceTable"),"Table").$from_i18n("Nechronica.table.NME",c)})},1),S(l[0],"TABLES",o.$translate_tables("ja_jp")),o.$register_prefix("\\d?NC","\\d?NA","\\dR10",$("TABLES").$keys())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/Nechronica"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("Nechronica"),"Nechronica_Korean")].concat(N))[0],"ID","Nechronica:Korean"),v(P[0],"NAME","\ub124\ud06c\ub85c\ub2c8\uce74"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub124\ud06c\ub85c\ub2c8\uce74"),v(P[0],"HELP_MESSAGE","\u30fb\ud310\uc815\u3000(nNC+m)\n\u3000\uc8fc\uc0ac\uc704 \uc218n\u3001\uc218\uc815\uce58m\uc73c\ub85c \ud310\uc815\uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\uc8fc\uc0ac\uc704 \uc218\uac00 2\uac1c \uc774\uc0c1\uc77c \ub54c\uc5d0 \ud30c\uce20\ud30c\uc190 \uc218\ub3c4 \ud45c\uc2dc\ud569\ub2c8\ub2e4.\n\u30fb\uacf5\uaca9\ud310\uc815\u3000(nNA+m)\n\u3000\uc8fc\uc0ac\uc704 \uc218n\u3001\uc218\uc815\uce58m\uc73c\ub85c \uacf5\uaca9\ud310\uc815\uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\uba85\uc911\ubd80\uc704\uc640 \uc8fc\uc0ac\uc704 \uc218\uac00 2\uac1c \uc774\uc0c1\uc77c \ub54c\uc5d0 \ud30c\uce20\ud30c\uc190 \uc218\ub3c4 \ud45c\uc2dc\ud569\ub2c8\ub2e4.\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr"))})},7740:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var j,V,z,A,x,a,D,T,d,o,I,w,K,H=e.top,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.to_ary,y=e.rb_plus,k=e.regexp,p=e.send,E=e.to_a,M=e.rb_minus,L=e.eqeq,Y=e.neqeq;return H.$require("bcdice/normalize"),H.$require("bcdice/format"),j=t,V=K=[B(t[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),z=I[0],A=w("Base"),x=I,T=[D=C(z,A,"NightWizard")].concat(x),d=e.$r(T),(o=D.$$prototype).nw_command=o.randomizer=o.total=o.interim_expr=o.status=o.fumble_numbers=o.critical_numbers=n,v(T[0],"ID","NightWizard"),v(T[0],"NAME","\u30ca\u30a4\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9 The 2nd Edition"),v(T[0],"SORT_KEY","\u306a\u3044\u3068\u3046\u3044\u3055\u3042\u30682"),v(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\u3000(aNW+b@x#y$z+c)\n\u3000\u3000a : \u57fa\u672c\u5024\n\u3000\u3000b : \u5e38\u6642\u306b\u6e96\u3058\u308b\u7279\u6280\u306b\u3088\u308b\u88dc\u6b63\n\u3000\u3000c : \u5e38\u6642\u4ee5\u5916\u306e\u7279\u6280\u3001\u304a\u3088\u3073\u652f\u63f4\u52b9\u679c\u306b\u3088\u308b\u88dc\u6b63\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u6642\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff09\n\u3000\u3000x : \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\uff08\u7701\u7565\u6642 10\uff09\n\u3000\u3000y : \u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\uff08\u7701\u7565\u6642 5\uff09\n\u3000\u3000z : \u30d7\u30e9\u30fc\u30ca\u306b\u3088\u308b\u9054\u6210\u5024\u88dc\u6b63\u306e\u30d7\u30e9\u30fc\u30ca\u6d88\u8cbb\u6570\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u6642\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff09\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u304c\u7121\u3044\u5834\u5408\u306f1\u308413\u306a\u3069\u306e\u3042\u308a\u5f97\u306a\u3044\u6570\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u3000\u4f8b\uff0912NW-5@7#2$3 1NW 50nw+5@7,10#2,5 50nw-5+10@7,10#2,5+15+25\n"),D.$register_prefix("([-+]?\\d+)?NW","2R6"),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.nw_command="NW"},1),m(D,"$eval_game_system_specific_command",function($){var a,r,u,s=this,i=n,_=n,c=n,b=n,f=n;return i=h(u=s.$parse_nw($))?u:s.$parse_2r6($),h(i)?(r=s.$roll_nw(i),_=null==(a=g(r))[0]?n:a[0],c=null==a[1]?n:a[1],b=null==a[2]?n:a[2],f=h(i.$cmp_op())?h(_.$send(i.$cmp_op(),i.$target_number()))?"\u6210\u529f":"\u5931\u6557":n,["("+i+")",c,b,_.$to_s(),f].$compact().$join(" \uff1e ")):n},1),D.$private(),(a=C(T[0],null,"Parsed")).$attr_accessor("critical_numbers"),a.$attr_accessor("fumble_numbers"),a.$attr_accessor("prana"),a.$attr_accessor("active_modify_number"),a.$attr_accessor("cmp_op"),a.$attr_accessor("target_number"),function(l,$,a){var r=C(l,$,"ParsedNW"),s=[r].concat(a),i=e.$r(s),u=r.$$prototype;u.base=u.modify_number=u.active_modify_number=u.prana=u.command=u.critical_numbers=u.fumble_numbers=u.cmp_op=u.target_number=n,r.$attr_accessor("base"),r.$attr_accessor("modify_number"),m(r,"$initialize",function _(c){var f=this;return delete _.$$p,S(f,R(f,"initialize",_,!1,!0),"initialize",[],null),f.command=c},1),m(r,"$passive_modify_number",function(){return y(this.base,this.modify_number)},0),m(r,"$to_s",function(){var b,f,q,F,U,c=this;return b=h(c.base["$zero?"]())?n:c.base,f=i("Format").$modifier(c.modify_number),q=i("Format").$modifier(c.active_modify_number),F=h(U=c.prana)?"$"+c.prana:U,""+b+c.command+f+"@"+c.critical_numbers.$join(",")+"#"+c.fumble_numbers.$join(",")+F+q+c.cmp_op+c.target_number},0)}(T[0],d("Parsed"),T),function(l,$){var a=C(l,$,"Parsed2R6"),r=a.$$prototype;r.passive_modify_number=r.active_modify_number=r.critical_numbers=r.fumble_numbers=r.cmp_op=r.target_number=n,a.$attr_accessor("passive_modify_number"),m(a,"$to_s",function(){var i=this;return"2R6M["+i.passive_modify_number+","+i.active_modify_number+"]C["+i.critical_numbers.$join(",")+"]F["+i.fumble_numbers.$join(",")+"]"+i.cmp_op+i.target_number},0)}(T[0],d("Parsed")),m(D,"$parse_nw",function($){var a,r,i=n,u=n,_=n;return i=k(["^([-+]?\\d+)?",this.nw_command,"((?:[-+]\\d+)+)?(?:@(\\d+(?:,\\d+)*))?(?:#(\\d+(?:,\\d+)*))?(?:\\$(\\d+(?:,\\d+)*))?((?:[-+]\\d+)+)?(?:([>=]+)(\\d+))?$"]).$match($),h(i)?(u=d("ParsedNW").$new(this.nw_command),_=[i["$[]"](1).$to_i()],p(u,"base=",E(_)),M(_.length,1),_=[d("ArithmeticEvaluator").$eval(i["$[]"](2))],p(u,"modify_number=",E(_)),M(_.length,1),_=[h(i["$[]"](3))?p(i["$[]"](3).$split(","),"map",[],"to_i".$to_proc()):[10]],p(u,"critical_numbers=",E(_)),M(_.length,1),_=[h(i["$[]"](4))?p(i["$[]"](4).$split(","),"map",[],"to_i".$to_proc()):[5]],p(u,"fumble_numbers=",E(_)),M(_.length,1),_=[(a=i["$[]"](5),a===n||null==a?n:p(a,"to_i",[]))],p(u,"prana=",E(_)),M(_.length,1),_=[d("ArithmeticEvaluator").$eval(i["$[]"](6))],p(u,"active_modify_number=",E(_)),M(_.length,1),_=[d("Normalize").$comparison_operator(i["$[]"](7))],p(u,"cmp_op=",E(_)),M(_.length,1),_=[(r=i["$[]"](8),r===n||null==r?n:p(r,"to_i",[]))],p(u,"target_number=",E(_)),M(_.length,1),u):n},1),m(D,"$parse_2r6",function($){var a,r=n,s=n,i=n;return r=/^2R6m\[([-+]?\d+(?:[-+]\d+)*)(?:,([-+]?\d+(?:[-+]\d+)*))?\](?:c\[(\d+(?:,\d+)*)\])?(?:f\[(\d+(?:,\d+)*)\])?(?:([>=]+)(\d+))?/i.$match($),h(r)?(s=d("Parsed2R6").$new(),i=[d("ArithmeticEvaluator").$eval(r["$[]"](1))],p(s,"passive_modify_number=",E(i)),M(i.length,1),i=[d("ArithmeticEvaluator").$eval(r["$[]"](2))],p(s,"active_modify_number=",E(i)),M(i.length,1),i=[h(r["$[]"](3))?p(r["$[]"](3).$split(","),"map",[],"to_i".$to_proc()):[10]],p(s,"critical_numbers=",E(i)),M(i.length,1),i=[h(r["$[]"](4))?p(r["$[]"](4).$split(","),"map",[],"to_i".$to_proc()):[5]],p(s,"fumble_numbers=",E(i)),M(i.length,1),i=[d("Normalize").$comparison_operator(r["$[]"](5))],p(s,"cmp_op=",E(i)),M(i.length,1),i=[(a=r["$[]"](6),a===n||null==a?n:p(a,"to_i",[]))],p(s,"target_number=",E(i)),M(i.length,1),s):n},1),m(D,"$roll_nw",function($){var r=this,s=n,i=n,u=n,_=n,c=n;for(r.critical_numbers=$.$critical_numbers(),r.fumble_numbers=$.$fumble_numbers(),r.total=0,r.interim_expr="",r.status=n,s=r.$roll_once_first();L(s,"critical");)s=r.$roll_once();return Y(s,"fumble")&&h($.$prana())&&(u=(i=r.randomizer.$roll_barabara($.$prana(),6)).$sum(),_=i.$join(","),r.total=y(r.total,u),r.interim_expr=y(r.interim_expr,"+"+u+"["+_+"]")),c=L(s,"fumble")?r.$fumble_base_number($):y($.$passive_modify_number(),$.$active_modify_number()),r.total=y(r.total,c),r.interim_expr=y(c.$to_s(),r.interim_expr),[r.total,r.interim_expr,r.status]},1),m(D,"$roll_once",function($){var s,i,a=this,r=n;return null==$&&($=!1),s=(r=a.randomizer.$roll_barabara(2,6)).$sum(),i=r.$join(","),h($)&&h(a.fumble_numbers["$include?"](s))?(a.total=M(a.total,10),a.interim_expr=y(a.interim_expr,"-10["+i+"]"),a.status="\u30d5\u30a1\u30f3\u30d6\u30eb","fumble"):h(a.critical_numbers["$include?"](s))?(a.total=y(a.total,10),a.interim_expr=y(a.interim_expr,"+10["+i+"]"),a.status="\u30af\u30ea\u30c6\u30a3\u30ab\u30eb","critical"):(a.total=y(a.total,s),a.interim_expr=y(a.interim_expr,"+"+s+"["+i+"]"),n)},-1),m(D,"$roll_once_first",function(){return this.$roll_once(!0)},0),m(D,"$fumble_base_number",function($){return $.$passive_modify_number()},1)})},4933:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.modules["bcdice/game_system/NightWizard"]=function(e){var j,V,z,A,x,a,D,T,d,o,I,w,K,H=e.top,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.to_ary,y=e.rb_plus,k=e.regexp,p=e.send,E=e.to_a,M=e.rb_minus,L=e.eqeq,Y=e.neqeq;return H.$require("bcdice/normalize"),H.$require("bcdice/format"),j=t,V=K=[B(t[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),z=I[0],A=w("Base"),x=I,T=[D=C(z,A,"NightWizard")].concat(x),d=e.$r(T),(o=D.$$prototype).nw_command=o.randomizer=o.total=o.interim_expr=o.status=o.fumble_numbers=o.critical_numbers=n,v(T[0],"ID","NightWizard"),v(T[0],"NAME","\u30ca\u30a4\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9 The 2nd Edition"),v(T[0],"SORT_KEY","\u306a\u3044\u3068\u3046\u3044\u3055\u3042\u30682"),v(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\u3000(aNW+b@x#y$z+c)\n\u3000\u3000a : \u57fa\u672c\u5024\n\u3000\u3000b : \u5e38\u6642\u306b\u6e96\u3058\u308b\u7279\u6280\u306b\u3088\u308b\u88dc\u6b63\n\u3000\u3000c : \u5e38\u6642\u4ee5\u5916\u306e\u7279\u6280\u3001\u304a\u3088\u3073\u652f\u63f4\u52b9\u679c\u306b\u3088\u308b\u88dc\u6b63\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u6642\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff09\n\u3000\u3000x : \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\uff08\u7701\u7565\u6642 10\uff09\n\u3000\u3000y : \u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\uff08\u7701\u7565\u6642 5\uff09\n\u3000\u3000z : \u30d7\u30e9\u30fc\u30ca\u306b\u3088\u308b\u9054\u6210\u5024\u88dc\u6b63\u306e\u30d7\u30e9\u30fc\u30ca\u6d88\u8cbb\u6570\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u6642\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff09\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u304c\u7121\u3044\u5834\u5408\u306f1\u308413\u306a\u3069\u306e\u3042\u308a\u5f97\u306a\u3044\u6570\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u3000\u4f8b\uff0912NW-5@7#2$3 1NW 50nw+5@7,10#2,5 50nw-5+10@7,10#2,5+15+25\n"),D.$register_prefix("([-+]?\\d+)?NW","2R6"),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.nw_command="NW"},1),m(D,"$eval_game_system_specific_command",function($){var a,r,u,s=this,i=n,_=n,c=n,b=n,f=n;return i=h(u=s.$parse_nw($))?u:s.$parse_2r6($),h(i)?(r=s.$roll_nw(i),_=null==(a=g(r))[0]?n:a[0],c=null==a[1]?n:a[1],b=null==a[2]?n:a[2],f=h(i.$cmp_op())?h(_.$send(i.$cmp_op(),i.$target_number()))?"\u6210\u529f":"\u5931\u6557":n,["("+i+")",c,b,_.$to_s(),f].$compact().$join(" \uff1e ")):n},1),D.$private(),(a=C(T[0],null,"Parsed")).$attr_accessor("critical_numbers"),a.$attr_accessor("fumble_numbers"),a.$attr_accessor("prana"),a.$attr_accessor("active_modify_number"),a.$attr_accessor("cmp_op"),a.$attr_accessor("target_number"),function(l,$,a){var r=C(l,$,"ParsedNW"),s=[r].concat(a),i=e.$r(s),u=r.$$prototype;u.base=u.modify_number=u.active_modify_number=u.prana=u.command=u.critical_numbers=u.fumble_numbers=u.cmp_op=u.target_number=n,r.$attr_accessor("base"),r.$attr_accessor("modify_number"),m(r,"$initialize",function _(c){var f=this;return delete _.$$p,S(f,R(f,"initialize",_,!1,!0),"initialize",[],null),f.command=c},1),m(r,"$passive_modify_number",function(){return y(this.base,this.modify_number)},0),m(r,"$to_s",function(){var b,f,q,F,U,c=this;return b=h(c.base["$zero?"]())?n:c.base,f=i("Format").$modifier(c.modify_number),q=i("Format").$modifier(c.active_modify_number),F=h(U=c.prana)?"$"+c.prana:U,""+b+c.command+f+"@"+c.critical_numbers.$join(",")+"#"+c.fumble_numbers.$join(",")+F+q+c.cmp_op+c.target_number},0)}(T[0],d("Parsed"),T),function(l,$){var a=C(l,$,"Parsed2R6"),r=a.$$prototype;r.passive_modify_number=r.active_modify_number=r.critical_numbers=r.fumble_numbers=r.cmp_op=r.target_number=n,a.$attr_accessor("passive_modify_number"),m(a,"$to_s",function(){var i=this;return"2R6M["+i.passive_modify_number+","+i.active_modify_number+"]C["+i.critical_numbers.$join(",")+"]F["+i.fumble_numbers.$join(",")+"]"+i.cmp_op+i.target_number},0)}(T[0],d("Parsed")),m(D,"$parse_nw",function($){var a,r,i=n,u=n,_=n;return i=k(["^([-+]?\\d+)?",this.nw_command,"((?:[-+]\\d+)+)?(?:@(\\d+(?:,\\d+)*))?(?:#(\\d+(?:,\\d+)*))?(?:\\$(\\d+(?:,\\d+)*))?((?:[-+]\\d+)+)?(?:([>=]+)(\\d+))?$"]).$match($),h(i)?(u=d("ParsedNW").$new(this.nw_command),_=[i["$[]"](1).$to_i()],p(u,"base=",E(_)),M(_.length,1),_=[d("ArithmeticEvaluator").$eval(i["$[]"](2))],p(u,"modify_number=",E(_)),M(_.length,1),_=[h(i["$[]"](3))?p(i["$[]"](3).$split(","),"map",[],"to_i".$to_proc()):[10]],p(u,"critical_numbers=",E(_)),M(_.length,1),_=[h(i["$[]"](4))?p(i["$[]"](4).$split(","),"map",[],"to_i".$to_proc()):[5]],p(u,"fumble_numbers=",E(_)),M(_.length,1),_=[(a=i["$[]"](5),a===n||null==a?n:p(a,"to_i",[]))],p(u,"prana=",E(_)),M(_.length,1),_=[d("ArithmeticEvaluator").$eval(i["$[]"](6))],p(u,"active_modify_number=",E(_)),M(_.length,1),_=[d("Normalize").$comparison_operator(i["$[]"](7))],p(u,"cmp_op=",E(_)),M(_.length,1),_=[(r=i["$[]"](8),r===n||null==r?n:p(r,"to_i",[]))],p(u,"target_number=",E(_)),M(_.length,1),u):n},1),m(D,"$parse_2r6",function($){var a,r=n,s=n,i=n;return r=/^2R6m\[([-+]?\d+(?:[-+]\d+)*)(?:,([-+]?\d+(?:[-+]\d+)*))?\](?:c\[(\d+(?:,\d+)*)\])?(?:f\[(\d+(?:,\d+)*)\])?(?:([>=]+)(\d+))?/i.$match($),h(r)?(s=d("Parsed2R6").$new(),i=[d("ArithmeticEvaluator").$eval(r["$[]"](1))],p(s,"passive_modify_number=",E(i)),M(i.length,1),i=[d("ArithmeticEvaluator").$eval(r["$[]"](2))],p(s,"active_modify_number=",E(i)),M(i.length,1),i=[h(r["$[]"](3))?p(r["$[]"](3).$split(","),"map",[],"to_i".$to_proc()):[10]],p(s,"critical_numbers=",E(i)),M(i.length,1),i=[h(r["$[]"](4))?p(r["$[]"](4).$split(","),"map",[],"to_i".$to_proc()):[5]],p(s,"fumble_numbers=",E(i)),M(i.length,1),i=[d("Normalize").$comparison_operator(r["$[]"](5))],p(s,"cmp_op=",E(i)),M(i.length,1),i=[(a=r["$[]"](6),a===n||null==a?n:p(a,"to_i",[]))],p(s,"target_number=",E(i)),M(i.length,1),s):n},1),m(D,"$roll_nw",function($){var r=this,s=n,i=n,u=n,_=n,c=n;for(r.critical_numbers=$.$critical_numbers(),r.fumble_numbers=$.$fumble_numbers(),r.total=0,r.interim_expr="",r.status=n,s=r.$roll_once_first();L(s,"critical");)s=r.$roll_once();return Y(s,"fumble")&&h($.$prana())&&(u=(i=r.randomizer.$roll_barabara($.$prana(),6)).$sum(),_=i.$join(","),r.total=y(r.total,u),r.interim_expr=y(r.interim_expr,"+"+u+"["+_+"]")),c=L(s,"fumble")?r.$fumble_base_number($):y($.$passive_modify_number(),$.$active_modify_number()),r.total=y(r.total,c),r.interim_expr=y(c.$to_s(),r.interim_expr),[r.total,r.interim_expr,r.status]},1),m(D,"$roll_once",function($){var s,i,a=this,r=n;return null==$&&($=!1),s=(r=a.randomizer.$roll_barabara(2,6)).$sum(),i=r.$join(","),h($)&&h(a.fumble_numbers["$include?"](s))?(a.total=M(a.total,10),a.interim_expr=y(a.interim_expr,"-10["+i+"]"),a.status="\u30d5\u30a1\u30f3\u30d6\u30eb","fumble"):h(a.critical_numbers["$include?"](s))?(a.total=y(a.total,10),a.interim_expr=y(a.interim_expr,"+10["+i+"]"),a.status="\u30af\u30ea\u30c6\u30a3\u30ab\u30eb","critical"):(a.total=y(a.total,s),a.interim_expr=y(a.interim_expr,"+"+s+"["+i+"]"),n)},-1),m(D,"$roll_once_first",function(){return this.$roll_once(!0)},0),m(D,"$fumble_base_number",function($){return $.$passive_modify_number()},1)},Opal.queue(function(e){var h,p,j,N,K,M,L,y,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.rb_plus,R=e.def;return e.top.$require("bcdice/game_system/NightWizard"),h=t,p=y=[B(t[0],"BCDice")].concat(h),M=[B(y[0],"GameSystem")].concat(p),L=e.$r(M),j=M,v((K=[N=C(M[0],L("NightWizard"),"NightWizard3rd")].concat(j))[0],"NAME","\u30ca\u30a4\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9 The 3rd Edition"),v(K[0],"SORT_KEY","\u306a\u3044\u3068\u3046\u3044\u3055\u3042\u30683"),v(K[0],"ID","NightWizard3rd"),N.$register_prefix("([-+]?\\d+)?NW","2R6"),R(N,"$fumble_base_number",function(V){return S(V.$passive_modify_number(),V.$active_modify_number())},1)})},1387:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var V,z,o,l,$,a,x,D,I,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.send,y=e.rb_minus,k=e.rb_times,p=e.rb_plus,E=e.hash2,M=e.truthy,L=e.to_ary,Y=e.eqeq,G=e.neqeq,j=e.rb_ge,N=e.rb_divide,K=e.rb_gt;return e.top.$require("bcdice/format"),V=t,z=I=[C(t[0],"BCDice")].concat(V),x=[C(I[0],"GameSystem")].concat(z),D=e.$r(x),o=x,$=[l=v(x[0],D("Base"),"NightmareHunterDeep")].concat(o),a=e.$r($),l.$$prototype.randomizer=n,S($[0],"ID","NightmareHunterDeep"),S($[0],"NAME","\u30ca\u30a4\u30c8\u30e1\u30a2\u30cf\u30f3\u30bf\u30fc=\u30c7\u30a3\u30fc\u30d7"),S($[0],"SORT_KEY","\u306a\u3044\u3068\u3081\u3042\u306f\u3093\u305f\u3042\u3066\u3044\u3044\u3075"),S($[0],"HELP_MESSAGE","\u5224\u5b9a\uff08xD6+y>=a, xD6+y, xD6)\n  \u51fa\u76ee6\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3001\u305d\u306e4\u500d\u3092\u5408\u8a08\u5024\u306b\u52a0\u7b97\u3057\u307e\u3059\u3002\n  \u307e\u305f\u3001\u5bbf\u547d\u3092\u7372\u5f97\u3057\u305f\u304b\u8868\u793a\u3057\u307e\u3059\u3002\n\n  Lv\u76ee\u6a19\u5024 (xD6+y>=LVn, xD6+y>=NLn)\n    \u30ec\u30d9\u30eb\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n    LVn -> n*5+1, NLn -> n*5+5 \u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n  \u76ee\u6a19\u5024'?' (xD6+y>=?)\n    \u76ee\u6a19\u5024\u3092 '?' \u306b\u3059\u308b\u3068\u4f55Lv\u6210\u529f\u304b\u3001\u4f55NL\u6210\u529f\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u203b\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u306f xD6 \u304b\u3089\u59cb\u307e\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f xD6 \u304c\u8907\u6570\u3042\u308b\u3068\u53cd\u5fdc\u3057\u307e\u305b\u3093\u3002\n"),l.$register_prefix("\\d+D6"),h(l,"$initialize",function s(i){var _=this;return delete s.$$p,R(_,m(_,"initialize",s,!1,!0),"initialize",[i],null),_.sort_add_dice=!0},1),h(l,"$eval_game_system_specific_command",function(i){var u,_,c=this,f=n,q=n,F=n,U=n,W=n,X=n,re=n,O=n;return i=g(g(i,"sub",[/Lv(\d+)/i],function(){return y(k(a("Regexp").$last_match(1).$to_i(),5),1).$to_s()},0),"sub",[/NL(\d+)/i],function(){return p(k(a("Regexp").$last_match(1).$to_i(),5),5).$to_s()},0),f=B(a("Command"),"Parser").$new(/\d+D6/,E(["round_type"],{round_type:c.$round_type()})).$restrict_cmp_op_to(n,">=").$enable_question_target().$parse(i),M(f)?(q=f.$command().$to_i(),U=(F=c.randomizer.$roll_barabara(q,6).$sort()).$sum(),W=p(U,f.$modify_number()),_=c.$dice_revision(F),X=null==(u=L(_))[0]?n:u[0],W=p(W,null==u[1]?n:u[1]),re=M(f["$question_target?"]())?"?":f.$target_number(),O=c.$result_text(W,f.$cmp_op(),re),["("+f+")",c.$interim_expr(f,U,F),c.$expr_with_revision(p(U,f.$modify_number()),X),W,O,c.$fate(F)].$compact().$join(" \uff1e ")):n},1),h(l,"$result_text",function(i,u,_){var c=n,b=n;return Y(u,">=")?G(_,"?")?M(j(i,_))?"\u6210\u529f":"\u5931\u6557":(c=N(p(i,1),5).$to_i(),b=N(y(i,5),5).$to_i(),M(K(c,0))?"Lv"+c+"/NL"+b+"\u6210\u529f":"\u5931\u6557"):n},3),h(l,"$fate",function(i){return M(K(i.$count(1),0))?"\u5bbf\u547d\u7372\u5f97":n},1),h(l,"$interim_expr",function(i,u,_){var c=n;return M(K(_.$size(),1))||G(i.$modify_number(),0)?(c=a("Format").$modifier(i.$modify_number()),u+"["+_.$join(",")+"]"+c):n},3),h(l,"$expr_with_revision",function(i,u){return M(u)?""+i+u:n},2),h(l,"$dice_revision",function(i){var u;return u=i.$count(6),M(K(u,0))?["+"+u+"*4",k(u,4)]:[n,0]},1)})},596:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.neqeq,R=e.truthy,m=e.rb_le,h=e.rb_plus,g=e.send,y=e.to_a,k=e.rb_minus,p=e.def,E=e.rb_gt;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"NjslyrBattle")].concat(w),x=e.$r(A),C(A[0],"ID","NjslyrBattle"),C(A[0],"NAME","NJSLYRBATTLE"),C(A[0],"SORT_KEY","\u306b\u3093\u3057\u3084\u3059\u308c\u3044\u3084\u3042\u306f\u3068\u308b"),C(A[0],"HELP_MESSAGE","\u30fb\u30ab\u30e9\u30c6\u30ed\u30fc\u30eb\n2d6<=(\u30ab\u30e9\u30c6\u70b9)\n\u4f8b\uff092d6<=5\n(2D6<=5) \uff1e 2[1,1] \uff1e 2 \uff1e \u6210\u529f \u91cd\u70b9 3 \u6e9c\u307e\u308b\n"),p(z,"$result_2d6",function(T,d,o,l,$){var r=t,s=t;return v($,"?")?x("Result").$nothing():S(l,"<=")?t:(r=R(m(T,$))?x("Result").$success("\u6210\u529f"):x("Result").$failure("\u5931\u6557"),s=[h(r.$text(),this.$juuten(o))],g(r,"text=",y(s)),k(s.length,1),r)},5),z.$private(),p(z,"$juuten",function(T){var d=t;return d=h(T.$count(1),T.$count(6)),v(T["$[]"](0),T["$[]"](1))&&(d=h(d,1)),R(E(d,0))?" \u91cd\u70b9 "+d+" \u6e9c\u307e\u308b":""},1)})},1848:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var y,M,K,P,V,J,Y,G,p,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.to_ary,R=e.eqeqeq,m=e.def,h=e.hash2;return y=H,M=p=[n(H[0],"BCDice")].concat(y),Y=[n(p[0],"GameSystem")].concat(M),G=e.$r(Y),K=Y,V=[P=B(Y[0],G("Base"),"Nuekagami")].concat(K),J=e.$r(V),C(V[0],"ID","Nuekagami"),C(V[0],"NAME","\u9d7a\u93e1"),C(V[0],"SORT_KEY","\u306c\u3048\u304b\u304b\u307f"),C(V[0],"HELP_MESSAGE","\u30fb\u55aa\u5931\u8868\uff08xL\uff09\n\u3000BL\uff1a\u8840\u8108\u3001LL\uff1a\u751f\u69d8\u3001SL\uff1a\u9b42\u9b44\u3001FL\uff1a\u56e0\u7e01\n\u30fbLR\uff1a\u55aa\u5931\u53d6\u623b\u8868\n\u30fb\u9580\u901a\u904e\u63cf\u5199\u8868\uff08xG\uff09\n\u3000HG\uff1a\u5730\u7344\u9580\u3001RG\uff1a\u7f85\u751f\u9580\u3001VG\uff1a\u6731\u96c0\u9580\u3001OG\uff1a\u5fdc\u5929\u9580\n"),m(P,"$eval_game_system_specific_command",function(w){var z,A,D=t,T=t,d=t,o=t,$=t,a=t;return D=J("TABLES")["$[]"](w.$upcase()),v(D["$nil?"]())||(T=D["$[]"]("name"),d=D["$[]"]("type"),o=D["$[]"]("table"),A=R("1D20",d)?this.$get_table_by_nDx(o,1,20):t,a=null==(z=S(A))[1]?t:z[1],v(($=null==z[0]?t:z[0])["$nil?"]()))?t:T+"("+a+") \uff1e "+$},1),C(V[0],"TABLES",h(["LR","BL","LL","SL","FL","HG","RG","VG","OG"],{LR:h(["name","type","table"],{name:"\u55aa\u5931\u53d6\u623b\u8868",type:"1D20",table:["\u9b3c\u5316\u3002\u5984\u57f7\u304b\u304f\u3057\u3066\u9b3c\u3068\u7d50\u5b9f\u3059\u3002\u6b20\u3051\u305f\u308b\u3068\u3053\u308d\u3059\u3067\u306b\u306a\u3057\u3002\u3042\u3084\u304b\u3057\u3001\u5df1\u306e\u6b20\u3051\u305f\u308b\u3092\u8db3\u305b\u308a\u3002\u3059\u306a\u308f\u3061\u305d\u306e\u8eab\u3001\u4eba\u306a\u3089\u305a\u3002","\u5984\u60f3\u3002\u3068\u304f\u3068\u898b\u3088\u3002\u4f55\u3082\u5931\u3063\u3066\u306a\u3069\u304a\u3089\u306c\u3002\u3053\u306e\u8089\u3053\u306e\u9b42\u3053\u306e\u8eab\u4e0a\u3001\u6b20\u3051\u305f\u308b\u3068\u3053\u308d\u305e\u306a\u3057\u3002\u6b20\u3051\u3057\u5922\u3092\u898b\u3057\u306e\u307f\u3002\u5168\u3066\u5922\u306a\u308a\u3002","\u9d7a\u578b\u3002\u8089\u306b\u5185\u306b\u6697\u96f2\u3086\u3089\u3081\u304f\u3002\u6b20\u3051\u305f\u308b\u3068\u3053\u308d\u6f02\u3046\u305d\u308c\u306f\u3001\u9db4\u304c\u6b20\u7247\u3002\u6696\u6627\u306e\u5883\u754c\u306a\u308c\u3070\u3001\u5931\u3044\u3057\u3082\u306e\u307e\u305f\u623b\u308a\u305f\u308b\u304c\u5982\u304f\u3002","\u8ae6\u89b3\u3002\u5df1\u304c\u8eab\u3092\u77e5\u308b\u3002\u671b\u3080\u611a\u304b\u3092\u77e5\u308b\u3002\u8db3\u63bb\u304f\u611a\u304b\u3092\u77e5\u308b\u3002\u5fc3\u306f\u6298\u308c\u308a\u3002\u671b\u307f\u306f\u7d76\u3048\u308a\u3002\u8ae6\u3081\u308b\u3053\u3068\u3067\u8db3\u308b\u3082\u306e\u3082\u3042\u308b\u77e5\u3089\u3080\u3002","\u5c4d\u6f01\u3002\u3082\u306f\u3084\u3044\u304b\u306a\u6240\u696d\u3082\u3044\u3068\u308f\u305a\u3002\u3055\u308c\u3070\u6570\u591a\u306e\u9ab8\u3092\u6f01\u308a\u3001\u3064\u3044\u306b\u6b20\u3051\u305f\u308b\u3092\u6e80\u305f\u305b\u308a\u3002\u4ee3\u308f\u308a\u306b\u6b20\u3051\u305f\u308b\u5fc3\u3001\u77e5\u308b\u3053\u3068\u305e\u306a\u3057\u3002","\u546a\u523b\u3002\u3042\u307e\u306d\u304f\u546a\u306f\u3070\u3001\u5df1\u3082\u56da\u308f\u308b\u3002\u5df1\u3092\u9a19\u308b\u546a\u3044\u3001\u5df1\u3092\u6355\u3089\u3048\u7d61\u3081\u308c\u3070\u3001\u6b20\u3051\u305f\u308b\u3082\u307e\u305f\u6e80\u3061\u3066\u898b\u3086\u308b\u3002","\u5f97\u5fc3\u3002\u3059\u3079\u3066\u306f\u5df1\u306e\u884c\u3044\u306e\u7d50\u679c\u306a\u308c\u3070\u3001\u56e0\u679c\u5fdc\u5831\u3002\u305d\u308c\u306a\u304d\u306f\u4e0d\u5177\u5408\u306a\u308c\u3069\u3001\u5f97\u5fc3\u305b\u308a\u3002\u3082\u306f\u3084\u60a9\u3081\u3069\u305b\u3093\u306a\u304d\u3053\u3068\u306a\u308a\u3084\u3002","\u596a\u53d6\u3002\u7121\u3051\u308c\u3070\u3001\u596a\u3048\u3002\u3042\u306a\u59ac\u307e\u3057\u3068\u601d\u308f\u3070\u596a\u3048\u3002\u596a\u3044\u3066\u5df1\u304c\u3082\u306e\u3068\u305b\u3088\u3002\u3055\u3059\u308c\u3070\u305f\u3061\u307e\u3061\u3001\u6b32\u3059\u308b\u3068\u3053\u308d\u623b\u308c\u308a\u3002","\u7f6a\u4fa1\u3002\u5df1\u304c\u7f6a\u3092\u77e5\u308c\u308a\u3002\u304b\u304f\u3042\u3055\u307e\u3057\u304d\u7f6a\u696d\u306b\u6bd4\u3076\u308c\u3070\u3001\u5df1\u304c\u5931\u3044\u3057\u3082\u306e\u3001\u306a\u3093\u3068\u8efd\u304d\u3053\u3068\u304b\u3002\u3055\u3042\u308c\u3070\u3001\u60a9\u3080\u308b\u306b\u80fd\u306f\u305a\u3002","\u4ee3\u66ff\u3002\u5931\u3078\u308b\u3082\u306e\u3001\u672a\u3060\u5931\u308f\u308c\u308a\u3002\u3055\u308c\u3069\u3001\u4ee3\u308f\u308b\u3082\u306e\u3092\u5f97\u305f\u308a\u3002\u4e8c\u5ea6\u3068\u306f\u5931\u3046\u308f\u3058\u3002\u5931\u308f\u3070\u305d\u306e\u75db\u307f\u306b\u72c2\u3044\u679c\u3066\u3080\u3002","\u53d7\u5bb9\u3002\u7d0d\u5f97\u306f\u306a\u3057\u3002\u8ae6\u89b3\u306f\u306a\u3057\u3002\u3055\u308c\u3069\u53d7\u3051\u5165\u308c\u308a\u3002\u6b20\u3051\u305f\u308b\u3082\u307e\u305f\u5df1\u306a\u308c\u3070\u3001\u6b20\u3051\u308b\u3068\u3053\u308d\u3082\u3066\u6e80\u305f\u3055\u3070\u3001\u305d\u308c\u5df1\u306a\u3089\u305a\u3084\u3002","\u4ee3\u884c\u3002\u304b\u304b\u308b\u8eab\u306b\u305d\u308c\u306a\u304f\u3068\u3082\u662f\u3002\u304b\u304f\u884c\u3044\u70ba\u3059\u306f\u3001\u5df1\u304c\u7b46\u306a\u3089\u305a\u3002\u4ee3\u308f\u308a\u3066\u70ba\u3059\u8005\u3001\u4fe1\u305a\u3079\u304d\u3042\u3089\u3070\u3053\u305d\u3002","\u9069\u5fdc\u3002\u5fc3\u75db\u3080\u308b\u6642\u591a\u3051\u308c\u3069\u3001\u6b20\u3051\u305f\u308b\u306b\u3082\u99b4\u308c\u305f\u308a\u3002\u3082\u306f\u3084\u6b20\u3051\u308b\u306b\u4e0d\u81ea\u7531\u306a\u3057\u3002\u3055\u308c\u3070\u305d\u308c\u3059\u306a\u308f\u3061\u3001\u6b20\u3051\u305f\u308b\u306b\u975e\u305a","\u5996\u8cde\u3002\u5927\u5996\u306b\u9047\u3072\u3066\u3001\u9957\u5fdc\u3059\u3002\u5f7c\u306e\u5996\u3001\u5927\u3044\u306b\u6176\u3073\u3066\u305d\u306e\u8eab\u306b\u6b20\u3051\u305f\u308b\u3092\u4e0e\u3078\u3080\u3002\u305d\u308c\u7570\u69d8\u306a\u308c\u3069\u3001\u7528\u306f\u8db3\u308c\u308a\u3002","\u596a\u9084\u3002\u3064\u3072\u306b\u596a\u308f\u308c\u3057\u3082\u306e\u3001\u596a\u3044\u8fd4\u305b\u308a\uff01\u53d6\u308a\u623b\u305b\u3057\u305d\u308c\u3001\u518d\u3073\u624b\u306e\u5185\u306b\u53ce\u307e\u308a\u3066\u8f1d\u3051\u308a\u3002\u3051\u3057\u3066\u307e\u305f\u624b\u653e\u3059\u3053\u3068\u3042\u3089\u3058\u3002","\u672c\u61d0\u3002\u5df1\u306e\u6c42\u3080\u308b\u3092\u3001\u3064\u3044\u306b\u70ba\u3057\u9042\u3052\u308a\u3002\u3082\u306f\u3084\u5df1\u304c\u529b\u3001\u5df1\u304c\u6280\u3001\u7591\u3046\u3068\u3053\u308d\u306a\u3057\u3002\u5df1\u304c\u6709\u69d8\u306b\u306a\u3093\u305e\u8db3\u3089\u3056\u308b\u3042\u308b\u3079\u304d\u3084\u3002","\u53d6\u5f97\u3002\u8271\u96e3\u8f9b\u82e6\u305e\u3042\u308a\u3084\u3002\u3064\u3044\u305e\u679c\u3066\u306b\u5931\u3044\u3057\u305d\u308c\u3001\u8eab\u306b\u4fee\u3081\u3093\u3002\u305f\u3060\u53d6\u308a\u623b\u305b\u3057\u3082\u306e\u306b\u3042\u3089\u3058\u3002\u65b0\u305f\u306b\u5f97\u305f\u308a\u3057\u3084\u3002","\u8cdc\u7269\u3002\u305d\u306e\u6b20\u3051\u308b\u69d8\u3001\u5f7c\u306e\u4eba\u3042\u306f\u308c\u306b\u601d\u3044\u3066\u3001\u304b\u304f\u306a\u308b\u3092\u4e0e\u3048\u8cdc\u308a\u3002\u4ee5\u3066\u3001\u6e80\u3061\u305f\u308b\u5df1\u3001\u5f7c\u306e\u4eba\u306b\u307e\u305f\u4ed5\u3048\u3080\u3002","\u5927\u609f\u3002\u8db3\u63bb\u3051\u308c\u3069\u8db3\u63bb\u3051\u308c\u3069\u3001\u6e80\u3061\u308b\u3053\u3068\u306a\u3057\u3002\u8db3\u308a\u3056\u308b\u306f\u81ea\u7136\u3002\u5df1\u306e\u59ff\u3092\u53d7\u3051\u5165\u308c\u3080\u3002\u3055\u308c\u3070\u6b20\u3051\u305f\u308b\u306b\u3001\u60a9\u307e\u3055\u308b\u308b\u3082\u306a\u3057\u3002","\u671b\u6708\u3002\u6b20\u3051\u305f\u308b\u6708\u304c\u6e80\u3061\u308b\u304c\u5982\u304f\u3002\u6b20\u3051\u305f\u308b\u306f\u7a81\u7136\u306b\u623b\u308c\u308a\u3002\u3044\u304b\u306a\u308b\u8aa0\u3001\u3044\u304b\u306a\u308b\u5370\u304b\u3001\u77e5\u308b\u3082\u306e\u306f\u3042\u3089\u305a\u3002"]}),BL:h(["name","type","table"],{name:"\u8840\u8108\u306e\u55aa\u5931\u8868",type:"1D20",table:["\u9aea\u306e\u8272\u3002\u4e00\u591c\u306b\u3057\u3066\u3042\u306a\u305f\u306e\u9aea\u306f\u767d\u304f\u306a\u3063\u305f\u3002","\u8996\u529b\u3002\u5468\u56f2\u304c\u307c\u3093\u3084\u308a\u3068\u3057\u304b\u898b\u3048\u306a\u3044\u3002","\u6240\u4f5c\u3002\u4f53\u306e\u4e00\u90e8\u304c\u307e\u3068\u3082\u306b\u52d5\u304b\u305b\u306a\u3044\u3002","\u75db\u307f\u3002\u4f53\u304c\u75db\u307f\u3092\u611f\u3058\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002","\u5bb9\u8c8c\u3002\u9854\u306b\u5927\u304d\u306a\u50b7\u3084\u706b\u50b7\u3092\u8ca0\u3063\u305f\u3002","\u8840\u306e\u6c17\u3002\u3042\u306a\u305f\u306e\u808c\u306f\u8840\u306e\u6c17\u3092\u5931\u3063\u305f\u307e\u307e\u3060\u3002","\u8d64\u3044\u8840\u3002\u4f53\u3092\u6d41\u308c\u308b\u8840\u304c\u7570\u69d8\u306a\u8272\u3068\u306a\u3063\u305f\u3002","\u5b50\u3092\u4f5c\u308b\u529b\u3002\u5b50\u3092\u4f5c\u308b\u529b\u3092\u5931\u3063\u305f\u3002","\u5668\u7528\u3055\u3002\u4f53\u304c\u5e38\u306b\u5c0f\u3055\u304f\u9707\u3048\u3066\u3044\u308b\u3002","\u5065\u5eb7\u3002\u75c5\u3092\u60a3\u3063\u305f\u2026\u2026\u4f53\u304c\u8870\u5f31\u3057\u3066\u3044\u308b\u3002","\u5bff\u547d\u3002\u3042\u306a\u305f\u306e\u5bff\u547d\u306f\u6b8b\u308a\u308f\u305a\u304b\u3068\u306a\u3063\u305f\u3002","\u306c\u304f\u3082\u308a\u3002\u305d\u306e\u4f53\u306f\u5e38\u306b\u51b7\u305f\u3044\u2026\u2026\u3002","\u7247\u76ee\u3002\u7247\u76ee\u3092\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u2026\u2026\u3002","\u7247\u811a\u3002\u7247\u811a\u3092\u5207\u308a\u843d\u3068\u3055\u308c\u305f\uff01","\u7247\u8155\u3002\u7247\u8155\u3092\u5207\u308a\u843d\u3068\u3055\u308c\u305f\uff01","\u751f\u547d\u3002\u3042\u306a\u305f\u306e\u9f13\u52d5\u306f\u6b62\u307e\u3063\u3066\u4e45\u3057\u3044\u3002","\u771f\u306e\u529b\u3002\u672c\u6765\u306e\u529b\u304c\u307b\u3068\u3093\u3069\u767a\u63ee\u3067\u304d\u306a\u3044\u3002","\u8089\u3002\u7570\u69d8\u306b\u75e9\u305b\u305f\u304b\u3001\u4f53\u306e\u4e00\u90e8\u304c\u767d\u9aa8\u5316\u3057\u3066\u3044\u308b\u3002","\u4eba\u306e\u4f53\u3002\u4f53\u304c\u6b6a\u307f\u5909\u308f\u308a\u3001\u7570\u5f62\u3068\u5316\u3057\u305f\u3002","\u5df1\u306e\u4f53\u3002\u4eca\u306f\u4ed6\u4eba\u306e\u4f53\u3092\u501f\u308a\u3066\u3044\u308b\u3002"]}),LL:h(["name","type","table"],{name:"\u751f\u69d8\u306e\u55aa\u5931\u8868",type:"1D20",table:["\u4e3b\u541b\u306e\u5bf5\u611b\u3002\u4e0d\u8208\u3092\u8cb7\u3063\u3066\u3057\u307e\u3063\u305f\u3002","\u5e2b\u5320\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u3042\u306a\u305f\u304c\u6368\u3066\u3089\u308c\u305f\u3002","\u9762\u5b50\u3002\u5927\u3044\u306b\u6065\u3092\u304b\u3044\u305f\u3002\u3053\u306e\u307e\u307e\u306b\u3057\u3066\u304a\u3051\u306a\u3044\u3002","\u6642\u9593\u3002\u4eca\u307e\u3067\u7cbe\u9b42\u3092\u50be\u3051\u3066\u6765\u305f\u3082\u306e\u306f\u7121\u99c4\u3060\u3063\u305f\u3002","\u8840\u7e01\u3002\u4fe1\u3058\u3066\u3044\u305f\u751f\u307e\u308c\u3067\u306f\u306a\u304b\u3063\u305f\u2026\u2026\u3002","\u5bb6\u5b9d\u3002\u5bb6\u306e\u5b9d\u3001\u3042\u308b\u3044\u306f\u5f62\u898b\u3092\u596a\u308f\u308c\u3066\u3057\u307e\u3063\u305f\u3002","\u604b\u4eba\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u596a\u308f\u308c\u305f\u3002","\u904b\u3002\u4f55\u3092\u3084\u3063\u3066\u3082\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002","\u8ca1\u7523\u3002\u9a19\u3057\u53d6\u3089\u308c\u305f\u304b\u2026\u2026\u3002\u3042\u308b\u3044\u306f\u4f7f\u3044\u679c\u305f\u3057\u305f\u3002","\u540d\u58f0\u3002\u3042\u306a\u305f\u306e\u540d\u58f0\u306f\u5730\u306b\u843d\u3061\u3066\u3044\u308b\u2026\u2026\u3002","\u5c45\u5834\u6240\u3002\u5c45\u308b\u3079\u304d\u5834\u6240\u3001\u8eab\u5206\u3092\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u2026\u2026\u3002","\u5730\u4f4d\u3002\u304b\u3064\u3066\u306e\u5730\u4f4d\u306f\u5931\u308f\u308c\u305f\u306e\u3060\u3002","\u65e5\u5e38\u3002\u3053\u3093\u306a\u4e16\u306e\u4e2d\u3067\u3082\u5e73\u548c\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u306e\u306b\u3002","\u76f8\u68d2\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u88cf\u5207\u3089\u308c\u305f\u3002","\u4ed5\u3048\u308b\u4eba\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u3042\u306a\u305f\u304c\u6368\u3066\u3089\u308c\u305f\u3002","\u4eba\u671b\u3002\u304b\u3064\u3066\u3042\u306a\u305f\u3092\u8b83\u3048\u305f\u4eba\u304c\u3001\u4eca\u3084\u3042\u306a\u305f\u3092\u7f75\u308b\u3002","\u5bb6\u65cf\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u3042\u306a\u305f\u304c\u6368\u3066\u3089\u308c\u305f\u3002","\u6545\u90f7\u3002\u4f55\u8005\u304b\u306b\u6ec5\u307c\u3055\u308c\u305f\u304b\u3001\u3042\u308b\u3044\u306f\u81ea\u6ec5\u3057\u305f\u3002","\u5b88\u308b\u3079\u304d\u4eba\u3002\u5b88\u308b\u3079\u304d\u4eba\u3092\u5b88\u308c\u306a\u304b\u3063\u305f\u2026\u2026\u3002","\u81ea\u7531\u3002\u8105\u3055\u308c\u7e1b\u3089\u308c\u3001\u8ab0\u304b\u306e\u547d\u4ee4\u3092\u805e\u304f\u3057\u304b\u3067\u304d\u306a\u3044\u3002"]}),SL:h(["name","type","table"],{name:"\u9b42\u9b44\u306e\u55aa\u5931\u8868",type:"1D20",table:["\u8a87\u308a\u3002\u8a87\u308a\u306a\u3069\u6b8b\u3063\u3066\u306f\u3044\u306a\u3044\u3002","\u5fc3\u306e\u4f59\u88d5\u3002\u4eca\u3092\u751f\u304d\u308b\u3060\u3051\u3067\u7cbe\u4e00\u676f\u3002","\u656c\u3046\u5fc3\u3002\u5df1\u3053\u305d\u304c\u5168\u3066\u3060\u3002","\u6c17\u529b\u3002\u4f55\u3082\u3084\u308b\u6c17\u304c\u304a\u304d\u306a\u3044\u2026\u2026\u3002","\u5b89\u7720\u3002\u591c\u6bce\u306e\u60aa\u5922\u306b\u3001\u307e\u3068\u3082\u306b\u7720\u308c\u306a\u3044\u3002","\u4fe1\u3058\u308b\u5fc3\u3002\u4e8c\u5ea6\u3068\u4eba\u306a\u3069\u4fe1\u3058\u308b\u3082\u306e\u304b\u3002","\u611b\u3002\u3082\u306f\u3084\u8ab0\u304b\u3092\u611b\u3059\u308b\u3053\u3068\u306a\u3069\u306a\u3044\u3002","\u5922\u3002\u524d\u306b\u898b\u3048\u3066\u3044\u305f\u5149\u3001\u76ee\u6a19\u3002\u4eca\u306f\u95c7\u306e\u4e2d\u3060\u3002","\u4e00\u7dda\u3002\u5df1\u306e\u4e2d\u306e\u8d85\u3048\u3066\u306f\u306a\u3089\u306c\u7dda\u3092\u8e0f\u307f\u8d8a\u3048\u305f\u3002","\u4fe1\u3058\u305f\u3082\u306e\u3002\u304b\u3064\u3066\u4fe1\u3058\u305f\u306e\u306f\u307e\u3084\u304b\u3057\u3060\u3063\u305f\u3002","\u4eba\u306e\u5fc3\u3002\u3053\u306e\u4e16\u3067\u4eba\u306e\u5fc3\u304c\u4f55\u306e\u5f79\u306b\u7acb\u3064\uff1f","\u77b3\u306e\u5149\u3002\u5168\u3066\u865a\u3057\u3044\u3082\u306e\u3068\u3057\u304b\u898b\u3048\u306a\u3044\u3002","\u5e0c\u671b\u3002\u3053\u306e\u4e16\u306b\u4f55\u3092\u671b\u3080\u3068\u3044\u3046\u306e\u3060\u308d\u3046\uff1f","\u81ea\u5236\u5fc3\u3002\u5df1\u3092\u6291\u3048\u3066\u4f55\u3068\u3059\u308b\uff1f","\u6d99\u3002\u305d\u306e\u76ee\u304c\u6d99\u3092\u6d41\u3059\u3053\u3068\u306f\u306a\u3044\u3002","\u7b11\u9854\u3002\u4e8c\u5ea6\u3068\u7b11\u3044\u306a\u3069\u3057\u306a\u3044\u3060\u308d\u3046\u3002","\u5927\u5207\u306a\u8a18\u61b6\u3002\u3069\u3046\u3057\u3066\u304b\u2026\u2026\u8a18\u61b6\u3092\u5931\u3063\u3066\u3044\u308b\u3002","\u672c\u5f53\u306e\u81ea\u5206\u3002\u5df1\u3092\u507d\u308a\u3059\u304e\u3066\u3001\u672c\u6765\u306e\u5df1\u3092\u5fd8\u308c\u305f\u3002","\u6b63\u6c17\u3002\u4eca\u306e\u3042\u306a\u305f\u306f\u72c2\u6c17\u306e\u6c99\u6c70\u3060\uff01","\u5df1\u306e\u610f\u5fd7\u3002\u3042\u306a\u305f\u306f\u8ab0\u304b\u306e\u4eba\u5f62\u3002\u9053\u5177\u306b\u904e\u304e\u306a\u3044\u3002"]}),FL:h(["name","type","table"],{name:"\u56e0\u7e01\u8868",type:"1D20",table:["\u4ec7\u6575\u3002\u5974\u306f\u6575\u3060\u3002\u3042\u306a\u305f\u306e\u6575\u3060\u3002","\u6bba\u610f\u3002\u6bba\u3057\u3066\u3084\u308a\u305f\u3044\u3002","\u8511\u8996\u3002\u53e3\u307b\u3069\u306b\u3082\u306a\u3044\u5b58\u5728\u3060\u3002","\u5ac9\u59ac\u3002\u306a\u305c\u30a2\u30a4\u30c4\u3060\u3051\u304c\u2026\u2026\u3002","\u6050\u6016\u3002\u6050\u308d\u3057\u3044\u3002\u3042\u308c\u3092\u6012\u3089\u305b\u3066\u306f\u3044\u3051\u306a\u3044\u3002","\u76ee\u969c\u308a\u3002\u90aa\u9b54\u3060\u3002\u6c17\u306b\u5165\u3089\u306a\u3044\u3002","\u5229\u7528\u3002\u5f79\u306b\u7acb\u3063\u3066\u304f\u308c\u305d\u3046\u3060\u306a\u3002","\u73a9\u5177\u3002\u305b\u3044\u305c\u3044\u697d\u3057\u307e\u305b\u3066\u3082\u3089\u304a\u3046\u3002","\u4f9d\u5b58\u3002\u3042\u306e\u4eba\u304c\u3044\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u306e\u3060\u3002","\u6b32\u671b\u3002\u304a\u524d\u304c\u6b32\u3057\u3044\u2026\u2026\u3002","\u597d\u6575\u3002\u306a\u304b\u306a\u304b\u3084\u308b\u3058\u3083\u306a\u3044\u304b\u3002","\u6190\u618e\u3002\u54c0\u308c\u306a\u2026\u2026\u3002","\u60aa\u53cb\u3002\u8150\u308c\u7e01\u3002\u4fe1\u7528\u3067\u304d\u306a\u3044\u304c\u5999\u306b\u5fc3\u5730\u3044\u3044\u3002","\u754f\u6016\u3002\u3042\u306e\u4eba\u306b\u306f\u9006\u3089\u3048\u306a\u3044\u3002","\u6069\u7fa9\u3002\u6069\u304c\u3042\u308b\u2026\u2026\u8fd4\u3055\u306a\u3051\u308c\u3070\u3002","\u89aa\u53cb\u3002\u5fc3\u304b\u3089\u4fe1\u3058\u3089\u308c\u308b\u53cb\u3060\u3002","\u5c0a\u656c\u3002\u3042\u306e\u4eba\u306e\u3088\u3046\u306b\u306a\u308a\u305f\u3044\u3002","\u76f8\u68d2\u3002\u8a00\u8449\u306f\u306a\u304f\u3068\u3082\u5168\u3066\u304c\u901a\u3058\u5408\u3046\u3002","\u601d\u6155\u3002\u604b\u3092\u3057\u3066\u3057\u307e\u3063\u305f\u3002","\u4e3b\u541b\u3002\u5fc3\u306e\u4e3b\u541b\u3002\u8eab\u547d\u3092\u8ced\u3057\u3066\u5b88\u308a\u4ed5\u3048\u308b\u3002"]}),HG:h(["name","type","table"],{name:"\u5730\u7344\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u80cc\u5f8c\u898b\u308c\u3070\u3001\u5730\u7344\u306e\u9580\u3092\u3070\u5e7b\u8996\u305b\u308a\u3002\u5371\u3046\u304d\u6b21\u7b2c\u3092\u77e5\u308a\u305f\u308a\uff0e","\u5fc5\u6b7b\u306b\u6b69\u3081\u308a\u3002\u80cc\u5f8c\u306b\u7a42\u308c\u3057\u8840\u3068\u81d3\u8108\u3001\u3053\u307c\u3057\u305f\u308b\u304c\u5fc3\u5730\u306a\u308c\u3069\u3002","\u80cc\u5f8c\u306e\u5730\u306b\u6df1\u304d\u722a\u75d5\u3042\u308a\u3002\u5df1\u3092\u6355\u3089\u3078\u3080\u3068\u305b\u308b\u9b3c\u306e\u722a\u8de1\u304b\u3068\u601d\u3075\u3002","\u52ab\u706b\u306b\u713c\u304b\u308b\u308b\u5df1\u3092\u5e7b\u8996\u3059\u3002\u6c57\u306b\u307e\u307f\u308c\u899a\u3081\u308c\u3070\u3001\u5df1\u304c\u6240\u696d\u6094\u609f\u305b\u308a\u3002","\u6c34\u93e1\u306b\u6620\u308b\u5df1\u3092\u898b\u3066\u76ee\u3092\u899a\u307e\u3059\u3002\u5f7c\u306e\u307e\u307e\u306a\u308c\u3070\u5730\u7344\u306b\u5815\u3064\u308b\u3068\u3002","\u5929\u306b\u9db4\u9a12\u304e\u305f\u308a\u3002\u5fa1\u8eab\u304c\u9b42\u6669\u53d6\u308a\u9003\u304c\u3057\u305f\u308a\u3068\u5403\u308b\u304c\u5982\u304f\u3002","\u8db3\u304c\u6ce5\u6df3\u306b\u56da\u308f\u308b\u308b\u5e7b\u8996\u3002\u5f15\u304d\u305a\u308a\u8fbc\u3080\u4ea1\u8005\u3002\u5fc5\u6b7b\u306b\u9003\u308c\u81f3\u308c\u308a\u3002","\u9670\u306b\u8822\u304f\u9913\u9b3c\u3092\u898b\u3086\uff65\u660e\u65e5\u306f\u5df1\u305e\u3068\u601d\u3078\u3070\u3001\u80cc\u3082\u9707\u3048\u305f\u308a\u3002","\u55aa\u5931\u306e\u82e6\u3057\u307f\u3001\u3044\u304f\u3070\u304f\u304b\u4f11\u3081\u308a\u3002\u4ed6\u3092\u601d\u3046\u5fc3\u5730\u305e\u751f\u307e\u308c\u308a\u3002","\u3044\u307f\u3058\u3046\u60a9\u307f\u82e6\u3057\u3051\u308c\u3069\u3001\u3084\u304c\u3066\u305d\u308c\u3082\u99b4\u308c\u308a\u3002\u4eca\u3084\u82e6\u3057\u307f\u306a\u3089\u305a\u3002","\u3057\u305a\u3051\u304d\u96e8\u964d\u3089\u3070\u3001\u5df1\u304c\u6240\u696d\u6d17\u3044\u6d41\u3055\u308b\u308b\u3068\u3082\u3001\u601d\u3078\u305f\u308a\u3002","\u6c5a\u6ce5\u304c\u5982\u304f\u7d61\u307f\u3057\u904e\u304e\u305f\u308b\u65e5\u3005\u3001\u308f\u305a\u304b\u306b\u96e2\u308c\u305f\u308b\u5fc3\u5730\u305e\u3059\u308b\u3002","\u80cc\u8ca0\u3044\u3057\u6028\u5ff5\u3089\u9000\u304d\u8584\u308c\u3080\u3002\u3053\u308c\u306a\u308b\u306f\u7e01\u304c\u3086\u3078\u304b\u3001\u5fc3\u5730\u3086\u3078\u304b\u3002","\u5185\u306b\u5b55\u3080\u308b\u7d76\u671b\u3078\u3001\u9023\u7406\u305f\u308c\u3068\u5e0c\u671b\u306e\u82bd\u3001\u840c\u3086\u308b\u3002","\u751f\u6e29\u304b\u304d\u98a8\u3068\u5171\u306b\u3001\u5927\u7c92\u306e\u96e8\u964d\u308c\u308a\u3002\u3059\u308f\u8840\u306e\u96e8\u304b\u3068\u3082\u601d\u3078\u308a\u3002","\u4eba\u3068\u95a2\u308f\u308a\u3066\u7e01\u3092\u898b\u3086\u3002\u62b1\u3075\u308b\u3082\u306e\u3001\u3044\u304f\u3089\u304b\u5c11\u306a\u304f\u306a\u308a\u304d\u3002","\u5922\u6795\u3001\u3042\u308b\u3044\u306f\u767d\u663c\u5922\u306a\u308b\u304b\u3002\u795e\u4ecf\u73fe\u308b\u308b\u306b\u3059\u304c\u308a\u305f\u308a\u3002","\u52ab\u706b\u306e\u4e2d\u3001\u767d\u304d\u624b\u304c\u5df1\u3092\u5f15\u3051\u308a\u3068\u5e7b\u8996\u3059\u3002\u3042\u308b\u3072\u306f\u904e\u53bb\u306e\u7e01\u304b\u3002","\u86d9\u5451\u3080\u86c7\u3092\u898b\u305f\u308a\u3002\u3042\u3055\u307e\u3057\u304d\u696d\u306b\u3001\u5df1\u3092\u3075\u3068\u9867\u307f\u306c\u3002","\u5fc3\u4e2d\u306b\u3066\u3001\u304b\u305d\u3051\u304d\u5e0c\u671b\u306e\u7cf8\u898b\u3078\u308a\u3002\u614e\u91cd\u306b\u305f\u3050\u308a\u3066\u767b\u3089\u3080\u3068\u3059\u3002"]}),RG:h(["name","type","table"],{name:"\u7f85\u751f\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u3080\u3054\u304d\u6240\u696d\u3001\u76ee\u306b\u305b\u308a\u3002\u5fc3\u5f37\u5f35\u308a\u3066\u3001\u5e38\u306e\u69d8\u306b\u3066\u3042\u308c\u305a\uff0e","\u4eba\u306e\u76ee\u306b\u3001\u5df1\u3092\u55e4\u3075\u6c17\u914d\u611f\u3058\u305f\u308a\u3002\u6012\u308a\u3001\u6094\u307f\u3001\u6065\u305e\u899a\u3048\u3080\u3002","\u9b3c\u306e\u8155\u3088\u308a\u3001\u3064\u3044\u306b\u9003\u308b\u308b\u304b\uff0e\u304a\u305e\u307e\u3057\u304d\u9707\u3078\u305e\u3001\u6cbb\u307e\u308a\u304d\u3002","\u8fbb\u5439\u304f\u98a8\u306b\u3001\u4eba\u9aa8\u6563\u308c\u308a\u3002\u305f\u3061\u307e\u3061\u7121\u5e38\u306e\u611f\u3001\u8d77\u3053\u308a\u3066\u5fc3\u6539\u3081\u305f\u308a\u3002","\u611b\u618e\u6069\u666e\u3001\u3044\u3088\u3044\u3088\u72c2\u307b\u3057\u304f\u3002\u731b\u308b\u307e\u307e\u3001\u305f\u3060\u305f\u3060\u524d\u3078\u3068\u9032\u3081\u308a\u3002","\u98e2\u3048\u305f\u308b\u72ac\u306e\u5982\u3057\u3002\u6ce5\u6c34\u3059\u3059\u308a\u3066\u3082\u524d\u306b\u9032\u307f\u3001\u60f3\u3044\u679c\u305f\u3055\u3080\u3002","\u55aa\u5931\u3001\u53d6\u308a\u623b\u3059\u306f\u8fd1\u3057\u3002\u601d\u306f\u305a\u3001\u3042\u3055\u307e\u3057\u304d\u7b11\u307f\u305e\u6d6e\u304b\u3079\u308a\u3002","\u3044\u3084\u3057\u304d\u8005\u3069\u3082\u3001\u3042\u3055\u307e\u3057\u304d\u76ee\u3092\u5411\u304f\u308b\u3002\u8511\u307f\u3066\u307e\u304b\u308a\u901a\u3089\u3080\u3002","\u55aa\u5931\u306e\u5922\u7e70\u308a\u8fd4\u3059\u3053\u3068\u3044\u304f\u305f\u3073\u304b\u3002\u3082\u306f\u3084\u696d\u82e6\u306e\u708e\u51b7\u3081\u3001\u5e38\u65e5\u9803\u306e\u5982\u3057\u3002","\u3042\u308b\u3072\u306f\u5df1\u306e\u5185\u3088\u308a\u304b\u3002\u3042\u3084\u3057\u304d\u58f0\u3042\u308c\u3070\u6b32\u5fc3\u307e\u305f\u6602\u3076\u3089\u3080\u3002","\u6b7b\u4eba\u3092\u898b\u3001\u6210\u4ecf\u3092\u7948\u308c\u308a\u3002\u5fc3\u3042\u3089\u3070\u3001\u5df1\u304c\u5185\u306b\u3066\u4ecf\u3082\u5bbf\u3089\u3080\u3002","\u305f\u3060\u305f\u3060\u4e16\u306e\u7121\u5e38\u3092\u77e5\u308c\u3070\u3001\u54c0\u6101\u306e\u60c5\u3042\u3075\u308c\u611f\u3058\u3080\u3002","\u8def\u5730\u306b\u5c0f\u3055\u304d\u82b1\u54b2\u304f\u3092\u898b\u3086\u3002\u6211\u57f7\u306e\u5fc3\u6674\u308c\u305f\u308b\u5fc3\u5730\u305b\u308a\u3002","\u51b7\u305f\u304d\u98a8\u3042\u3089\u3070\u3001\u60c5\u52d5\u308f\u305a\u304b\u306b\u6cbb\u307e\u308a\u3066\u3001\u843d\u3061\u7740\u304d\u305f\u308a\u3051\u308a\u3002","\u9152\u3092\u98f2\u3081\u308a\u3002\u9154\u3072\u305f\u308b\u5fc3\u5730\u306e\u5185\u306b\u3001\u696d\u82e6\u3082\u66d6\u6627\u3068\u306a\u3089\u3080\u3002","\u898b\u3048\u3056\u308b\u5927\u9580\u6f5c\u308a\u3057\u304b\u3002\u5883\u76ee\u8d85\u3048\u305f\u308b\u3092\u611f\u305a\u308b\u3002\u3044\u3056\u3001\u77e5\u3089\u305a\u306e\u5730\u5e73\u3078\u3002","\u4e5e\u98df\u574a\u4e3b\u306b\u9022\u3072\u3066\u3001\u6075\u3080\u3002\u3053\u308c\u3082\u307e\u305f\u3044\u304f\u3070\u304f\u306e\u529f\u5fb3\u306a\u308a\u304d\u3084\u3002","\u5b50\u4f9b\u3089\u904a\u3076\u3092\u898b\u3086\u3002\u5df1\u304c\u53e4\u304d\u3092\u601d\u3078\u3070\u3001\u601d\u306f\u305a\u9854\u307b\u3053\u308d\u3073\u306c\u3002","\u6697\u96f2\u306b\u5305\u307e\u308c\u3057\u90fd\u306a\u308c\u3069\u4eca\u305d\u306e\u8eab\u306b\u3001\u3044\u304f\u3070\u304f\u304b\u306e\u5149\u5dee\u3057\u7167\u3089\u3057\u3051\u308a\u3002","\u795e\u4ecf\u306e\u4f3c\u59ff\u3001\u5e7b\u8996\u3059\u3002\u3055\u308c\u3070\u3001\u3044\u304b\u306a\u8eab\u306b\u3082\u4fe1\u5fc3\u306e\u3044\u304f\u3070\u304f\u304b\u8d77\u3053\u308c\u308a\u3002"]}),VG:h(["name","type","table"],{name:"\u6731\u96c0\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u96f7\u97ff\u304d\u3066\u3001\u6697\u970a\u3044\u3088\u3044\u3088\u6fc3\u3086\u3057\u3002\u5df1\u304c\u5148\u3092\u898b\u305b\u308b\u308b\u304c\u5982\u3057\u3002","\u4eca\u4e00\u3064\u53d6\u308a\u623b\u3059\u306f\u53ca\u3070\u306c\u53e3\u60dc\u3057\u304d\u306b\u3001\u9b3c\u304c\u5982\u304f\u5538\u308a\u3057\u3002","\u6c42\u3081\u3057\u624b\u3001\u5c4a\u304b\u305a\u3082\u7d76\u671b\u3059\u308c\u3069\u518d\u3073\u3001\u3075\u3089\u3075\u3089\u3068\u6b69\u307f\u51fa\u3055\u3080\u3002","\u304b\u305f\u3068\u304d\u306e\u798f\u306a\u308b\u304b\u3002\u72d0\u306b\u5316\u304b\u3055\u308b\u308b\u304c\u5982\u304f\u3001\u9e7f\u306a\u308b\u6ce1\u6cab\u306e\u5922\u3002","\u6d41\u308b\u308b\u8840\u3002\u6731\u306b\u67d3\u307e\u308b\u8996\u754c\u3002\u3055\u308c\u3069\u3001\u67d3\u307e\u3089\u3056\u308b\u4e2d\u306b\u5149\u3042\u308a\u3002","\u5df1\u304c\u81d3\u8151\u6289\u308b\u304c\u5982\u304f\u3002\u5df1\u304c\u696d\u3001\u6289\u308a\u6368\u3066\u9032\u307e\u3093\u3002","\u5148\u306b\u72d0\u306e\u5f71\u898b\u3086\u3002\u3042\u3084\u3057\u3051\u308c\u3069\u3001\u8ff7\u3072\u306a\u304c\u3089\u3001\u72d0\u3092\u8ffd\u3078\u308a\u3002","\u5927\u3044\u306a\u308b\u5883\u3092\u8d8a\u3048\u305f\u308b\u304b\u3068\u601d\u3048\u308a\u3002\u672a\u3060\u9053\u534a\u3070\u306a\u308c\u3070\u6cb9\u65ad\u8a31\u3055\u305a\u3002","\u6697\u96f2\u306b\u767d\u9dfa\u7fd4\u3051\u308b\u3092\u898b\u3086\u3002\u745e\u5146\u306a\u308c\u3070\u5e0c\u671b\u3082\u307e\u305f\u6e67\u304d\u306c\u3002","\u5185\u3088\u308a\u7ffc\u306e\u51fa\u308b\u304c\u5fc3\u5730\u305b\u308a\u3002\u3044\u3056\u601d\u3044\u5207\u308a\u3066\u3001\u7fd4\u3070\u3080\u3002","\u5272\u308c\u305f\u676f\u3088\u308a\u6f0f\u308c\u305f\u308b\u3082\u3001\u91cd\u306d\u305f\u308b\u676f\u306b\u3002\u5408\u4e00\u305b\u3070\u4f59\u3055\u305a\u53d7\u3051\u308a\u3002","\u5fc3\u6fc0\u3057\u304f\u3057\u3066\u9b5a\u8df3\u306d\u308b\u304c\u5982\u304f\u3002\u305d\u306e\u5b9f\u3082\u6697\u304d\u6c34\u9762\u3088\u308a\u8df3\u306d\u51fa\u305f\u308a\u3002","\u8cb4\u304d\u725b\u8eca\u3068\u884c\u304d\u9022\u306f\u3080\u3002\u5e7d\u304b\u306a\u9999\u306b\u3001\u76ee\u305e\u899a\u3081\u305f\u308b\u601d\u3044\u305b\u308a\u3002","\u3075\u3068\u53e3\u3092\u3064\u3044\u3066\u6b4c\u8a60\u3081\u308a\u3002\u4f55\u8005\u304b\u4e0b\u306e\u53e5\u7d99\u304e\u3066\u3001\u5fc3\u5408\u308f\u305b\u3080\u3002","\u77e5\u3089\u305a\u306e\u4eba\u3088\u308a\u3001\u9001\u3089\u308c\u3057\u6b4c\u3042\u308a\u3002\u8fd4\u6b4c\u3044\u304b\u304c\u305b\u3080\u304b\u3068\u601d\u3072\u305f\u308a\u3002","\u9ce5\u306e\u5de3\u7acb\u3064\u3092\u898b\u305f\u308a\u3002\u5df1\u3082\u307e\u305f\u3001\u65b0\u305f\u306a\u9053\u6b69\u3080\u3079\u304d\u305e\u3068\u5fc3\u305b\u308a\u3002","\u6697\u96f2\u8cab\u304d\u3066\u3001\u7a7a\u306b\u6708\u3042\u308a\u3002\u5929\u3088\u308a\u898b\u3089\u308b\u308b\u5fc3\u5730\u3057\u3066\u3001\u884c\u3044\u6b63\u305b\u308a\u3002","\u76ee\u7684\u8fd1\u3065\u3051\u3069\u3001\u5fc3\u91cd\u3057\u3002\u80f8\u75db\u307f\u3066\u3001\u3044\u307f\u3058\u3046\u54c0\u3057\u3002","\u4e0d\u610f\u306b\u4ecf\u5fc3\u8d77\u3053\u308a\u3066\u3001\u4e07\u7269\u6148\u307f\u306e\u5ff5\u304a\u307c\u3048\u305f\u308a\u3002","\u982d\u4e0a\u3088\u308a\u4f55\u8005\u304b\u306e\u697d\u306e\u97f3\u3001\u9957\u3051\u308a\u3002\u305d\u306e\u8eab\u3001\u795d\u306f\u308b\u308b\u5fc3\u5730\u305b\u308a\u3002"]}),OG:h(["name","type","table"],{name:"\u5fdc\u5929\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u5149\u6355\u3089\u3078\u3069\u6697\u3057\u3002\u65b0\u305f\u306a\u308b\u5730\u7344\u306e\u9580\u306b\u843d\u3064\u308b\u5df1\u3092\u77e5\u308a\u305f\u308a\u3002","\u6c42\u3081\u3057\u3082\u306e\u5f97\u305f\u308a\u3002\u3055\u308c\u3069\u3001\u306a\u306b\u3082\u306e\u304b\u5931\u3044\u3057\u5fc3\u5730\u305e\u305b\u308b\u2026\u2026\u3002","\u72d0\u9d2b\u304d\u3066\u81ea\u899a\u3080\u308b\u3002\u5168\u3066\u4e00\u591c\u306e\u5922\u306e\u5982\u3057\u3002\u75db\u307f\u3082\u307e\u305f\u3057\u304b\u308a\u3002","\u306a\u306b\u3086\u3078\u304b\u3001\u6d99\u3053\u307c\u308b\u308b\u3002\u305f\u3060\u6d99\u3053\u307c\u308c\u3001\u696d\u82e6\u3082\u307e\u305f\u6d41\u308c\u3080\u3002","\u4eba\u60f3\u3072\u3066\u3001\u672a\u7df4\u751f\u307e\u308b\u308b\u3002\u5df1\u304c\u5e78\u6c42\u3081\u308c\u3070\u3001\u6b7b\u3092\u754f\u308c\u3080\u3002","\u6253\u3061\u8fd4\u3059\u6ce2\u306e\u97f3\u805e\u304f\u3002\u9065\u304b\u9060\u304f\u3001\u65c5\u7acb\u3061\u305f\u3080\u3068\u5ff5\u3001\u751f\u3058\u305f\u308a\u3002","\u5b9f\u308b\u7a32\u7530\u3092\u5e7b\u8996\u3059\u3002\u3082\u306f\u3084\u90fd\u306e\u6709\u69d8\u3001\u4eba\u4f4f\u3080\u5730\u306b\u975e\u305a\u3068\u601d\u3078\u308a\u3002","\u53d6\u308a\u623b\u3057\u305f\u308b\u306b\u3001\u305f\u3060\u305f\u3060\u6b53\u559c\u3059\u3002\u3082\u306f\u3084\u5468\u308a\u306e\u69d8\u3082\u611f\u305c\u305a\u3002","\u3042\u307e\u305f\u306e\u4eba\u306e\u76ee\u3001\u5fa1\u8eab\u898b\u3066\u3056\u308f\u3081\u304f\u3092\u611f\u305a\u3002\u512a\u8d8a\u306e\u5fc3\u5730\u3042\u308a\u3002","\u304b\u3051\u304c\u3078\u306a\u304d\u3082\u306e\u3001\u898b\u3064\u3051\u305f\u308a\u3002\u4eca\u306f\u305f\u3060\u3001\u305d\u3092\u559c\u3076\u306e\u307f\u306a\u308c\u3070\u3002","\u5929\u76e4\u306b\u3066\u661f\u5de1\u308a\u3001\u6642\u6e80\u3061\u3066\u3001\u65b9\u5408\u3078\u308a\u3002\u306a\u308c\u3070\u305d\u306e\u8eab\u306b\u3082\u5e78\u3042\u308a\u3080\u3002","\u5e7e\u5e74\u6708\u305e\u3001\u5265\u90a3\u306e\u5982\u3057\u3002\u601d\u3075\u308c\u3070\u56da\u308f\u308b\u6abb\u3082\u3001\u7121\u304d\u304b\u3068\u898b\u3086\u3002","\u5929\u3088\u308a\u9d7a\u9000\u304d\u3066\u3001\u65e5\u306e\u5149\u5dee\u3059\u3002\u6d74\u3073\u308b\u4e2d\u3001\u9b42\u9b44\u307e\u305f\u306c\u304f\u3082\u308a\u3092\u899a\u3048\u308a\u3002","\u98a8\u6d41\u3001\u89e3\u3059\u308b\u5fc3\u3042\u3089\u3070\u5929\u5730\u81ea\u7136\u3082\u307e\u305f\u4e26\u3073\u3001\u81ea\u3089\u305d\u306e\u5185\u306b\u5408\u4e00\u305b\u3080\u3002","\u3044\u304b\u306b\u305b\u3067\u3001\u5df1\u306e\u5728\u308a\u69d8\u3092\u8cac\u3080\u308b\u3084\u3002\u5df1\u306f\u5df1\u306a\u308c\u304c\u3001\u6c17\u306b\u8ca0\u3046\u306b\u5024\u305b\u305a\u3002","\u3042\u307e\u306d\u304f\u4e16\u306e\u3053\u3068\u3069\u3082\u3001\u9060\u304f\u920d\u304f\u601d\u3072\u3066\u5fc3\u5b89\u3089\u304b\u306a\u308b\u5883\u5730\u306b\u81f3\u308c\u308a\u3002","\u5929\u9060\u304f\u5149\u5dee\u305b\u3070\u3001\u6de1\u304d\u8679\u3082\u6d6e\u304b\u3079\u308a\u3002\u4f55\u51e6\u304b\u3078\u6e21\u3059\u6a4b\u3068\u3082\u898b\u3086\u3002","\u5929\u3088\u308a\u4e00\u8f2a\u306e\u82b1\u821e\u3044\u964d\u308a\u3066\u3001\u5fa1\u8eab\u306e\u624b\u306b\u843d\u3064\u3002\u5fc3\u307e\u305f\u82b1\u54b2\u3051\u308a\u3002","\u9d7a\u306e\u5185\u306b\u7adc\u795e\u821e\u3078\u308a\u3002\u98a8\u96e8\u6fc0\u3057\u304f\u3001\u8eab\u6fe1\u3089\u305b\u3069\u3001\u5fc3\u6e05\u3005\u3057\u3002","\u90fd\u306e\u6697\u96f2\u3001\u6674\u308c\u305f\u308b\u65e5\u3082\u7a00\u306b\u3042\u308a\u3002\u306a\u3093\u305e\u9b42\u9b44\u6674\u308b\u308b\u65e5\u306a\u3057\u3084\u3002"]})}).$freeze()),P.$register_prefix(J("TABLES").$keys())})},978:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var I,x,$,a,r,s,i,T,d,z,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.eqeqeq,y=e.hash2,k=e.truthy,p=e.to_ary,E=e.send,M=e.to_a,L=e.rb_minus,Y=e.eqeq,G=e.rb_plus,j=e.neqeq,N=e.rb_ge,K=e.rb_lt,P=e.rb_gt,V=e.rb_le;return e.top.$require("bcdice/format"),I=t,x=z=[C(t[0],"BCDice")].concat(I),T=[C(z[0],"GameSystem")].concat(x),d=e.$r(T),$=T,r=[a=v(T[0],d("Base"),"OracleEngine")].concat($),s=e.$r(r),(i=a.$$prototype).cmd=i.max_shift=i.times=i.randomizer=i.break=i.critical=i.fumble=n,S(r[0],"ID","OracleEngine"),S(r[0],"NAME","\u30aa\u30e9\u30af\u30eb\u30a8\u30f3\u30b8\u30f3"),S(r[0],"SORT_KEY","\u304a\u3089\u304f\u308b\u3048\u3093\u3057\u3093"),S(r[0],"HELP_MESSAGE","  \u30fb\u30af\u30e9\u30c3\u30c1\u30ed\u30fc\u30eb \uff08xCL+y>=z)\n  \u30c0\u30a4\u30b9\u3092x\u500b\u632f\u308a\u30011\u500b\u4ee5\u4e0a\u76ee\u6a19\u30b7\u30d5\u30c8z\u306b\u5230\u9054\u3057\u305f\u304b\u5224\u5b9a\u3057\u307e\u3059\u3002\u4fee\u6b63y\u306f\u5168\u3066\u306e\u30c0\u30a4\u30b9\u306b\u304b\u304b\u308a\u307e\u3059\u3002\n  \u6210\u529f\u3057\u305f\u6642\u306f\u76ee\u6a19\u30b7\u30d5\u30c8\u3092\u3001\u5931\u6557\u3057\u305f\u6642\u306f\u30c0\u30a4\u30b9\u306e\u6700\u5927\u5024-1\u30b7\u30d5\u30c8\u3092\u8fd4\u3057\u307e\u3059\n  z\u304c\u6307\u5b9a\u3055\u308c\u306a\u3044\u3068\u304d\u306f\u3001\u30c0\u30a4\u30b9\u3092x\u500b\u3092\u632f\u308a\u3001\u305d\u308c\u306b\u4fee\u6b63y\u3057\u305f\u3082\u306e\u3092\u8fd4\u3057\u307e\u3059\u3002\n  \u901a\u5e38\u3001\u6700\u4f4e\u30b7\u30d5\u30c8\u306f1\u3001\u6700\u5927\u30b7\u30d5\u30c8\u306f6\u3067\u3059\u3002\u76ee\u6a19\u30b7\u30d5\u30c8\u3082\u305d\u308d\u3048\u3089\u308c\u307e\u3059\u3002\n  \u307e\u305f\u3001CL\u306e\u5f8c\u306b7\u3092\u5165\u308c\u3001(xCL7+y>=z)\u3068\u5165\u529b\u3059\u308b\u3068\u6700\u5927\u30b7\u30d5\u30c8\u304c7\u306b\u306a\u308a\u307e\u3059\u3002\n \u30fb\u5224\u5b9a (xR6+y@c#f$b>=z)\n  \u30c0\u30a4\u30b9\u3092x\u500b\u632f\u308a\u3001\u5927\u304d\u3044\u3082\u306e2\u3064\u3060\u3051\u3092\u898b\u3066\u9054\u6210\u5024\u3092\u7b97\u51fa\u3057\u3001\u6210\u5426\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\u4fee\u6b63y\u306f\u9054\u6210\u5024\u306b\u304b\u304b\u308a\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u30d6\u30ec\u30a4\u30af\u3068\u3057\u3066b\u3092\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u3057\u3066c\u3092\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u3068\u3057\u3066f\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n  \u305d\u308c\u305e\u308c\u6307\u5b9a\u3055\u308c\u306a\u3044\u6642\u30010,12,2\u306b\u306a\u308a\u307e\u3059\u3002\n  \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306e\u4e0a\u9650\u306f\u306a\u3057\u3001\u4e0b\u9650\u306f2\u3002\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u4e0a\u9650\u306f12\u3001\u4e0b\u9650\u306f0\u3002\n  z\u304c\u6307\u5b9a\u3055\u308c\u306a\u3044\u3068\u304d\u3001\u9054\u6210\u5024\u306e\u7b97\u51fa\u306e\u307f\u884c\u3044\u307e\u3059\u3002\n \u30fb\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u306e\u30c0\u30a4\u30b9\u30d6\u30ec\u30a4\u30af (xD6+y$b)\n  \u30c0\u30a4\u30b9\u3092x\u500b\u632f\u308a\u3001\u5408\u8a08\u5024\u3092\u51fa\u3057\u307e\u3059\u3002\u4fee\u6b63y\u306f\u5408\u8a08\u5024\u306b\u304b\u304b\u308a\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u30d6\u30ec\u30a4\u30af\u3068\u3057\u3066b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5408\u8a08\u5024\u306f0\u672a\u6e80\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n"),a.$register_prefix("\\d+CL","\\d+R6","\\d+D6.*\\$[\\+\\-]?\\d+"),h(a,"$initialize",function u(_){var b=this;return delete u.$$p,R(b,m(b,"initialize",u,!1,!0),"initialize",[_],null),b.sort_add_dice=!0,b.sort_barabara_dice=!0},1),h(a,"$eval_game_system_specific_command",function(_){var b,c=this;return g(/\d+CL.*/i,b=_)?c.$clutch_roll(_):g(/\d+D6.*\$[+\-]?\d.*/,b)?c.$damage_roll(_):g(/\d+R6/,b)?c.$r_roll(_):n},1),h(a,"$clutch_roll",function(_){var c,b,f=this,q=n,F=n,U=n,W=n;return f.$debug("clutch_roll begin",_),q=B(s("Command"),"Parser").$new(/\d+CL[67]?/,y(["round_type"],{round_type:f.$round_type()})).$restrict_cmp_op_to(n,">="),f.cmd=q.$parse(_),!k(f.cmd)||(b=E(f.cmd.$command().$split("CL"),"map",[],"to_i".$to_proc()),c=p(b),f.times=null==c[0]?n:c[0],f.max_shift=null==c[1]?n:c[1],f.max_shift=k(F=f.max_shift)?F:6,k(f.cmd.$cmp_op())&&(U=[f.$clamp(f.cmd.$target_number(),1,f.max_shift)],E(f.cmd,"target_number=",M(U)),L(U.length,1)),Y(f.times,0))?n:(W=E(f.randomizer.$roll_barabara(f.times,6),"map",[],function Q(re){var O=null==Q.$$s?this:Q.$$s;return null==O.cmd&&(O.cmd=n),null==O.max_shift&&(O.max_shift=n),null==re&&(re=n),O.$clamp(G(re,O.cmd.$modify_number()),1,O.max_shift)},{$$arity:1,$$s:f}).$sort(),[f.$expr_clutch(),"["+W.$join(", ")+"]",f.$result_clutch(W.$last())].$join(" \uff1e "))},1),h(a,"$expr_clutch",function(){var c,b,f,_=this;return c=Y(_.max_shift,7)?7:n,b=s("Format").$comparison_operator(_.cmd.$cmp_op()),f=s("Format").$modifier(_.cmd.$modify_number()),"("+_.times+"CL"+c+f+b+_.cmd.$target_number()+")"},0),h(a,"$result_clutch",function(_){var c=this;return j(c.cmd.$cmp_op(),">=")?"\u30b7\u30d5\u30c8"+_:k(N(_,c.cmd.$target_number()))?"\u6210\u529f \u30b7\u30d5\u30c8"+c.cmd.$target_number():(_=L(_,1),k(K(_,1))&&(_=1),"\u5931\u6557 \u30b7\u30d5\u30c8"+_)},1),h(a,"$clamp",function(_,c,b){return k(K(_,c))?c:k(P(_,b))?b:_},3),h(a,"$r_roll",function(_){var c=this,b=n,f=n,q=n,F=n,U=n,W=n;return b=B(s("Command"),"Parser").$new(/\d+R6/,y(["round_type"],{round_type:c.$round_type()})).$restrict_cmp_op_to(n,">=").$enable_critical().$enable_fumble().$enable_dollar(),c.cmd=b.$parse(_),!k(c.cmd)||(c.times=c.cmd.$command().$to_i(),Y(c.times,0))?n:(c.critical=c.$normalize_critical(k(f=c.cmd.$critical())?f:12,_),c.fumble=c.$normalize_fumble(k(f=c.cmd.$fumble())?f:2,_),c.break=(k(f=c.cmd.$dollar())?f:0).$abs(),F=(q=c.randomizer.$roll_barabara(c.times,6).$sort()).$pop(c.break),U=q.$dup().$pop(2).$inject(0,"+"),W=G(U,c.cmd.$modify_number()),[c.$expr_r(),c.$dice_result_r(U,q,F),c.$result_r(U,W)].$join(" \uff1e "))},1),h(a,"$expr_r",function(){var c,b,f,q,F,_=this;return c=s("Format").$modifier(_.cmd.$modify_number()),b=Y(_.critical,12)?"":"c["+_.critical+"]",f=Y(_.fumble,2)?"":"f["+_.fumble+"]",q=Y(_.break,0)?"":"b["+_.break+"]",F=s("Format").$comparison_operator(_.cmd.$cmp_op()),"("+_.times+"R6"+c+b+f+q+F+_.cmd.$target_number()+")"},0),h(a,"$dice_result_r",function(_,c,b){var q;return q=s("Format").$modifier(this.cmd.$modify_number()),k(b["$empty?"]())?_+"["+c.$join(", ")+"]"+q:_+"["+c.$join(", ")+"]\xd7["+b.$join(", ")+"]"+q},3),h(a,"$result_r",function(_,c){var b=this;return k(V(_,b.fumble))?"\u30d5\u30a1\u30f3\u30d6\u30eb!":k(N(_,b.critical))?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb!":Y(b.cmd.$cmp_op(),">=")?k(N(c,b.cmd.$target_number()))?c+" \u6210\u529f":c+" \u5931\u6557":c.$to_s()},2),h(a,"$normalize_critical",function(_,c){return k(/@[+-]/.$match(c))&&(_=G(12,_)),k(K(_,2))&&(_=2),_},2),h(a,"$normalize_fumble",function(_,c){return k(/#[+-]/.$match(c))&&(_=G(2,_)),this.$clamp(_,0,12)},2),h(a,"$damage_roll",function(_){var c=this,b=n,f=n,q=n,F=n,U=n;return b=B(s("Command"),"Parser").$new(/\d+D6/,y(["round_type"],{round_type:c.$round_type()})).$restrict_cmp_op_to(n).$enable_dollar(),c.cmd=b.$parse(_),!k(c.cmd)||(c.times=c.cmd.$command().$to_i(),c.break=(k(f=c.cmd.$dollar())?f:0).$abs(),Y(c.times,0))?n:(F=(q=c.randomizer.$roll_barabara(c.times,6).$sort()).$pop(c.break),U=G(q.$inject(0,"+"),c.cmd.$modify_number()),k(K(U,0))&&(U=0),[c.$expr_damage(),c.$result_damage(q,F),U].$join(" \uff1e "))},1),h(a,"$expr_damage",function(){var c,b,_=this;return c=s("Format").$modifier(_.cmd.$modify_number()),b=Y(_.break,0)?"":"b["+_.break+"]","("+_.times+"D6"+c+b+")"},0),h(a,"$result_damage",function(_,c){var f,q;return f=_.$inject(0,"+"),q=s("Format").$modifier(this.cmd.$modify_number()),k(c["$empty?"]())?f+"["+_.$join(", ")+"]"+q:f+"["+_.$join(", ")+"]\xd7["+c.$join(", ")+"]"+q},2)})},8614:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.send,g=e.eqeq,y=e.rb_gt,k=e.rb_plus;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=B(N[0],K("Base"),"OrgaRain")].concat(J),I.$$prototype.randomizer=t,C(w[0],"ID","OrgaRain"),C(w[0],"NAME","\u5728\u308a\u3066\u904d\u304f\u30aa\u30eb\u30ac\u30ec\u30a4\u30f3"),C(w[0],"SORT_KEY","\u3042\u308a\u3066\u3042\u307e\u306d\u304f\u304a\u308b\u304b\u308c\u3044\u3093"),C(w[0],"HELP_MESSAGE","\u5224\u5b9a\uff1a[n]OR(count)\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3002\n(count)\u3067\u547d\u6570\u3092\u6307\u5b9a\u3002\u300c3111\u300d\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3002\u6700\u59276\u3064\u3002\u9806\u4e0d\u540c\u53ef\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5OR6042 \u2192 5d\u3067\u547d\u6570\u300c0,2,4,6\u300d\u306e\u5224\u5b9a\n\u30fb6OR33333 \u2192 6d\u3067\u547d\u6570\u300c3,3,3,3,3\u300d\u306e\u5224\u5b9a\u3002\n"),R(I,"$initialize",function A(x){var T=this;return delete A.$$p,v(T,S(T,"initialize",A,!1,!0),"initialize",[x],null),T.sort_add_dice=!0},1),I.$register_prefix("(\\d+)?OR(\\d{0,6})?"),R(I,"$eval_game_system_specific_command",function(x){var T=t,d=t,o=t,l=t;return T=x.$match(/(\d+)?OR(\d{0,6})$/i),m(T)?(d=(m(o=T["$[]"](1))?o:1).$to_i(),l=h((m(o=T["$[]"](2))?o:"").$each_char(),"map",[],"to_i".$to_proc()).$sort(),this.$check_roll(d,l)):t},1),R(I,"$check_roll",function(x,D){var o,d=t,l=t,$=t;return o=(d=this.randomizer.$roll_barabara(x,10).$sort()).$join(","),l=[],$=0,h(h(d,"map",[],function(i){return null==i&&(i=t),g(i,10)?0:i},1),"each",[],function(i){var u;return null==i&&(i=t),u=D.$count(i),m(y(u,0))?(l.$push(i+"(x"+u+")"),$=k($,u)):l.$push("\xd7")},1),x+"D10(\u547d\u6570\uff1a"+D.$join(",")+") \uff1e "+o+" \uff1e "+l.$join(",")+" \uff1e \u6210\u529f\u6570\uff1a"+$},2)})},7133:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var y,M,K,P,V,J,Y,G,p,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.def,R=e.send,m=e.to_ary,h=e.hash2;return y=H,M=p=[B(H[0],"BCDice")].concat(y),Y=[B(p[0],"GameSystem")].concat(M),G=e.$r(Y),K=Y,V=[P=C(Y[0],G("Base"),"Oukahoushin3rd")].concat(K),J=e.$r(V),v(V[0],"ID","Oukahoushin3rd"),v(V[0],"NAME","\u592e\u83ef\u5c01\u795eRPG \u7b2c\u4e09\u7248"),v(V[0],"SORT_KEY","\u304a\u3046\u304b\u307b\u3046\u3057\u3093RPG3"),v(V[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u80fd\u529b\u5024\u5224\u5b9a\u88cf\u6210\u529f\u8868\uff08NHT\uff09\n\u3000\u30fb\u6b66\u5668\u653b\u6483\u88cf\u6210\u529f\u8868\uff08BKT\uff09\n\u3000\u30fb\u53d7\u3051\u30fb\u56de\u907f\u88cf\u6210\u529f\u8868\uff08UKT\uff09\n\u3000\u30fb\u4ed9\u8853\u884c\u4f7f\u88cf\u6210\u529f\u8868\uff08SKT\uff09\n\u3000\u30fb\u4ed9\u8853\u62b5\u6297\u88cf\u6210\u529f\u8868\uff08STT\uff09\n\u3000\u30fb\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u60aa\u5f71\u97ff\u8868\uff08SDT\uff09\n\u3000\u30fb\u72c2\u6c17\u8868\uff08KKT\uff09\n"),S(P,"$eval_game_system_specific_command",function(w){var A;return A=this.$roll_tables(w,J("TABLES")),this.$replace_dice_notation(A)},1),P.$private(),S(P,"$replace_dice_notation",function(w){var z;return(z=w)===t||null==z?t:R(z,"gsub",[/(\d+)D(\d+)/],function x(D){var T,d,o=null==x.$$s?this:x.$$s;return null==o.randomizer&&(o.randomizer=t),null==D&&(D=t),d=R(D.$split("D"),"map",[],"to_i".$to_proc()),T=m(d),D+"(=>"+o.randomizer.$roll_sum(null==T[0]?t:T[0],null==T[1]?t:T[1])+")"},{$$arity:1,$$s:this})},1),v(V[0],"TABLES",h(["BKT","KKT","NHT","SDT","SKT","STT","UKT"],{BKT:n(J("DiceTable"),"Table").$new("\u6b66\u5668\u653b\u6483\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u9023\u7d9a\u653b\u6483\u304c\u884c\u3048\u308b\u3002\u3053\u306e\u5834\u5408\u306e\u9023\u7d9a\u653b\u6483\u306b\u304a\u3044\u3066\u306f\u3001\u547d\u4e2d\u5224\u5b9a\u306e\u30b5\u30a4\u30b3\u30ed\u306f\u5e38\u306b\u3072\u3063\u304f\u308a\u8fd4\u3057\u3066\u7528\u3044\u308b\u304c\u30012\u6483\u76ee\u4ee5\u964d\u306f\u3053\u306e\u8868\u306f\u4f7f\u308f\u306a\u3044\u3002","\u6575\u306b\u53e9\u304d\u3064\u3051\u308b\u3068\u540c\u6642\u306b\u6b66\u5668\u304c\u7834\u640d\u3002\u7d20\u624b\u3084\u8eab\u4f53\u306b\u5099\u308f\u3063\u305f\u6b66\u5668\uff08\u722a\u3001\u7259\u306a\u3069\uff09\u3067\u653b\u6483\u3092\u3057\u3066\u3044\u305f\u5834\u5408\u306b\u306f\u3001\u81ea\u8eab\u306b\u30821D6\uff08\u306e\u307f\uff09\u30c0\u30e1\u30fc\u30b8\u3002","\u52b9\u679c\u7684\u547d\u4e2d\u3002\u30c0\u30e1\u30fc\u30b8\u306b1D6\u52a0\u7b97\u3002\u305f\u3060\u3057\u6975\u5ea6\u306b\u75b2\u52b4\u3059\u308b\u305f\u3081\u3001\u7cbe\u795e\u5024\u306b1D6\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3001\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u547d\u4e2d\u3002","\u4e0d\u5b8c\u5168\u306a\u547d\u4e2d\u3001\u30c0\u30e1\u30fc\u30b8\u306f\u534a\u5206\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u547d\u4e2d\u3002","\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u547d\u4e2d\u3002","\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),KKT:n(J("DiceTable"),"Table").$new("\u72c2\u6c17\u8868","2D6",["\u5fc3\u795e\u55aa\u5931\u3001\u751f\u3051\u308b\u5c4d\u3002","\u88ab\u5bb3\u5984\u60f3\u3002\u4ef2\u9593\u3082\u542b\u3081\u3001\u4ed6\u8005\u306f\u5168\u3066\u81ea\u5206\u3092\u50b7\u3064\u3051\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u3068\u601d\u3044\u3053\u3080\u3002\u884c\u52d5\u306f\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u7ba1\u7406\u3002","\u91cd\u5ea6\u306e\u4e0d\u5b89\u75c7\u3002\u5931\u6557\u3092\u6050\u308c\u308b\u3042\u307e\u308a\u3001\u6b21\u30e9\u30a6\u30f3\u30c9\u306f\u884c\u52d5\u4e0d\u53ef\u3002\u305d\u308c\u4ee5\u964d\u3082\u30012\u30e9\u30a6\u30f3\u30c9\u306b1\u56de\u3057\u304b\u884c\u52d5\u3067\u304d\u306a\u3044\uff08\u81ea\u52d5\u6b66\u5668\u3084\u4f7f\u5f79\u7363\u3078\u306e\u547d\u4ee4\u306a\u3069\u3082\uff09\u3002\\n\u300c\u6b21\u306e\u30e9\u30a6\u30f3\u30c9\u306b\u884c\u52d5\u3067\u304d\u306a\u3044\u300d\u72b6\u614b\u3067\u306f\u3001\u300c\u5272\u308a\u8fbc\u307f\u300d\u306f\u884c\u3048\u306a\u3044\u3002","\u91cd\u5ea6\u306e\u4f9d\u5b58\u75c7\u3002\u81ea\u5206\u3067\u884c\u52d5\u3092\u6c7a\u3081\u3089\u308c\u305a\u3001\u4ef2\u9593\u306b\u6c7a\u3081\u3066\u3082\u3089\u308f\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002","\u4e8c\u91cd\u4eba\u683c\u3002\u4e8c\u3064\u76ee\u306e\u4eba\u683c\u306f\u72c2\u6c17\u3002\u65b0\u305f\u306b\u72c2\u6c17\u8868\uff08KKT\uff09\u3067\u6c7a\u5b9a\uff08\u518d\u5ea6\u4e8c\u91cd\u4eba\u683c\u304c\u51fa\u305f\u5834\u5408\u306f\u3001\u632f\u308a\u306a\u304a\u3059\uff09\u3002\u72c2\u6c17\u8868\u3092\u4f7f\u3063\u305f\u76f4\u5f8c\u306f\u3001\u3053\u306e\u4e8c\u3064\u76ee\u306e\u4eba\u683c\u3002\\n1\u65e5\u4ee5\u4e0a\u3001\u4e8c\u91cd\u4eba\u683c\u304c\u6301\u7d9a\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u9593\u306b\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u305f\u3073\u306b\u3001\u305d\u306e\u76f4\u5f8c\u306b1D\u3092\u632f\u3089\u306d\u3070\u306a\u3089\u306a\u3044\u30021\u304c\u51fa\u305f\u3089\u3053\u306e\u72c2\u6c17\u304c\u9854\u3092\u51fa\u3059\u3002\\n\u4e8c\u3064\u76ee\u306e\u4eba\u683c\u304c\u9854\u3092\u51fa\u3057\u3066\u3044\u308b\u6642\u9593\u306f\u30011D\u3067\u6c7a\u5b9a\u3059\u308b\uff081\uff5e3\uff1a\u77ed\u6642\u9593\u30014\uff5e5\uff1a\u534a\u65e5\u30016\uff1a1\u65e5\uff09\u3002","\u8efd\u5ea6\u306e\u4f9d\u5b58\u75c7\u3002\u4ef2\u9593\u306e\u627f\u8a8d\u304c\u306a\u3051\u308c\u3070\u3001\u601d\u3044\u3064\u3044\u305f\u884c\u52d5\u3092\u5b9f\u884c\u3067\u304d\u306a\u3044\u3002","\u8efd\u5ea6\u306e\u504f\u57f7\u72c2\u3002\u3042\u308b\u884c\u70ba\u3084\u7269\u54c1\u306a\u3069\u306b\u7570\u5e38\u306a\u57f7\u7740\u3092\u793a\u3059\u3002\u305f\u3060\u3057\u3001\u884c\u52d5\u306b\u5927\u304d\u306a\u5f71\u97ff\u306f\u4e0e\u3048\u306a\u3044\u3002\u5177\u4f53\u7684\u306a\u5185\u5bb9\u306f\u3001\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u3068\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u76f8\u8ac7\u3067\u6c7a\u5b9a\u3002","\u91cd\u5ea6\u306e\u504f\u57f7\u72c2\u3002\u884c\u52d5\u306b\u91cd\u5927\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3002\u5177\u4f53\u7684\u5185\u5bb9\u306f\u3001\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u6c7a\u5b9a\u3002","\u6050\u6016\u75c7\u3002\u3042\u308b\u3082\u306e\u306b\u5bfe\u3057\u3066\u6050\u6016\u3002\u5bfe\u8c61\u304b\u3089\u306f\u3001\u3072\u305f\u3059\u3089\u9003\u4ea1\u3057\u3088\u3046\u3068\u3059\u308b\u3002\u307e\u305f\u3001\u5bfe\u8c61\u306b\u906d\u9047\u3059\u308b\u305f\u3073\u306b\u3001\u96e3\u6613\u5ea610\u3067\u610f\u5fd7\u306e\u80fd\u529b\u5024\u5224\u5b9a\u3092\u884c\u308f\u306d\u3070\u306a\u3089\u305a\u3001\u5931\u6557\u3057\u305f\u30891D\u306e\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\u6050\u6016\u306e\u5bfe\u8c61\u306f\u3001\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u6c7a\u5b9a\u3002","\u72c2\u66b4\u5316\u3002\u4ef2\u9593\u3082\u542b\u3081\u3001\u4ed6\u8005\u306f\u3059\u3079\u3066\u6575\u3068\u307f\u306a\u3057\u3001\u50b7\u3064\u3051\u3088\u3046\u3068\u3059\u308b\u3002\u884c\u52d5\u306f\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u7ba1\u7406\u3002","\u932f\u4e71\u3002\u884c\u52d5\u306f\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u300c\u306a\u308b\u3079\u304f\u3067\u305f\u3089\u3081\u306b\u306a\u308b\u3088\u3046\u306b\u300d\u6c7a\u5b9a\u3059\u308b\u3002"]),NHT:n(J("DiceTable"),"Table").$new("\u80fd\u529b\u5024\u5224\u5b9a\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u5909\u306a\u7656\u304c\u8eab\u306b\u3064\u3044\u3066\u3057\u307e\u3046\u3002","\u3084\u308a\u3059\u304e\u3002\u904e\u5270\u306a\u6210\u529f\u3092\u3057\u305f\u308a\u3001\u3088\u3051\u3044\u306a\u3053\u3068\u307e\u3067\u3057\u3066\u707d\u3044\u304c\u8d77\u3053\u308a\u3046\u308b\u3002","\u300c\u6c17\u300d\u306e\u7206\u767a\u3002\u5927\u6210\u529f\u3002\u305f\u3060\u3057\u6975\u5ea6\u306b\u75b2\u52b4\u3059\u308b\u305f\u3081\u3001\u7cbe\u795e\u5024\u306b1D6\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3001\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","\u4e0d\u5b8c\u5168\u306a\u6210\u529f\u3001\u6570\u5024\u7684\u52b9\u679c\u306f\u534a\u5206\u307b\u3069\u306b\u898b\u7a4d\u3082\u308b\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),SDT:n(J("DiceTable"),"Table").$new("\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u60aa\u5f71\u97ff\u8868","1D6",["\u4e00\u77ac\u306e\u653e\u5fc3\u3002\u76f4\u5f8c\u306e\u5224\u5b9a\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3002\u7cbe\u795e\u5024\u30921D6\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u4e00\u77ac\u306e\u653e\u5fc3\u3002\u76f4\u5f8c\u306e\u5224\u5b9a\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3002\u7cbe\u795e\u5024\u30921D6\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u4e00\u77ac\u306e\u653e\u5fc3\u3002\u76f4\u5f8c\u306e\u5224\u5b9a\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3002\u7cbe\u795e\u5024\u30921D6\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u653e\u5fc3\u72b6\u614b\u3002\u5f37\u5236\u3055\u308c\u3001\u81ea\u52d5\u5931\u6557\u3059\u308b\u307e\u3067\u3001\u81ea\u767a\u7684\u884c\u52d5\u4e0d\u53ef\u3002\u7cbe\u795e\u5024\u3092\uff081D6+2\uff09\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u7cbe\u795e\u7570\u5e38\uff08\u5177\u4f53\u7684\u5185\u5bb9\u306f\u72c2\u6c17\u8868\uff08KKT\uff09\u3067\u6c7a\u5b9a\uff09\u3002\u77ed\u6642\u9593\u306e\u307f\u3002\u7cbe\u795e\u5024\u3092\uff081D6+4\uff09\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u7cbe\u795e\u7570\u5e38\uff08\u5177\u4f53\u7684\u5185\u5bb9\u306f\u72c2\u6c17\u8868\uff08KKT\uff09\u3067\u6c7a\u5b9a\uff09\u3002\u671f\u9593\u306f1D6\u3092\u632f\u3063\u3066\u6c7a\u5b9a\uff081\uff5e3\uff1a1\u65e5\u30014\uff5e5\uff1a99\u65e5\u9593\u30016\uff1a\u6c38\u9060\uff09\u3002\u7cbe\u795e\u5024\u3092\u6700\u5927\u5024\u307e\u3067\u56de\u5fa9\u3002"]),SKT:n(J("DiceTable"),"Table").$new("\u4ed9\u8853\u884c\u4f7f\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u30021\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3002","\u8853\u306e\u52b9\u679c\u306f\u8853\u8005\u306b\u3082\u89e3\u9664\u4e0d\u80fd\u306b\u306a\u308b\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u300c\u6c17\u300d\u306e\u66b4\u8d70\u3002\u52b9\u679c3\u500d\u3002\u305f\u3060\u3057\u6975\u5ea6\u306b\u75b2\u52b4\u3059\u308b\u305f\u3081\u3001\u7cbe\u795e\u5024\u306b1D6\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\uff082\u30be\u30ed\uff09\u8853\u8005\u306f1D6\u65e5\u9593\u3001\u4ed9\u8853\u304c\u4f7f\u7528\u4e0d\u80fd\u306b\u306a\u308b\u30021\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3002","\u8853\u304c\u6575\u306b\u304b\u3051\u305f\u3082\u306e\u306e\u5834\u5408\u3001\u4ef2\u9593\u306e1\u4eba\u3092\u5dfb\u304d\u3053\u3080\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u4e0d\u5b8c\u5168\u306a\u6210\u529f\u3001\u52b9\u679c\u534a\u5206\u3002\uff083\u30be\u30ed\uff09\u6301\u7d9a\u6642\u9593\u306e\u3042\u308b\u8853\u306e\u5834\u5408\u3001\u8853\u8005\u304c\u3072\u305f\u3059\u3089\u7cbe\u795e\u96c6\u4e2d\u3057\u3066\u3044\u306a\u3044\u9650\u308a\u3001\u8853\u306f\u3059\u3050\u306b\u89e3\u9664\u3055\u308c\u308b\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\uff084\u30be\u30ed\uff09\u4ed9\u9aa8\u4ee5\u5916\u306e\u3044\u305a\u308c\u304b\u306e\u80fd\u529b\u5024\uff08\u8853\u8005\u9078\u629e\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002","\u8853\u304c\u5473\u65b9\u3082\u3057\u304f\u306f\u81ea\u5206\u306b\u304b\u3051\u305f\u3082\u306e\u306e\u5834\u5408\u3001\u6575\u306e1\u4eba\u306b\u3082\u540c\u3058\u3088\u3046\u306b\u304b\u304b\u308b\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u4ed9\u9aa8\u4ee5\u5916\u306e\u3044\u305a\u308c\u304b\u306e\u80fd\u529b\u5024\uff08\u8853\u8005\u9078\u629e\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","1D3\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002","1D6\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4ed9\u9aa8\u4ee5\u5916\u306e\u3044\u305a\u308c\u304b\u306e\u80fd\u529b\u5024\uff08\u8853\u8005\u9078\u629e\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),STT:n(J("DiceTable"),"Table").$new("\u4ed9\u8853\u62b5\u6297\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002","\u305d\u3089\u3055\u308c\u305f\u8853\u306e\u52b9\u679c\u304c\u5473\u65b9\u306b\u53ca\u3076\u3002\u5473\u65b9\u306e\u8ab0\u306b\u305d\u3089\u3055\u308c\u305f\u304b\u306f\u3001\u3053\u306e\u8868\u3092\u4f7f\u3063\u305f\u3082\u306e\u304c\u9078\u3076\u3002\u96c6\u56e3\u653b\u6483\u4ed9\u8853\u306e\u5834\u5408\u3001\u62b5\u6297\u306b\u6210\u529f\u3057\u305f\u3082\u306e\u306e\u4e2d\u304b\u3089\u9078\u3076\u3053\u3068\u3002\u307b\u304b\u306e\u8ab0\u3082\u6210\u529f\u306b\u62b5\u6297\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u3068\u304d\u306f\u3001\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3068\u3057\u3066\u6271\u3046\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u4ed9\u8853\u3092\u304b\u3051\u305f\u6575\u306b\u305d\u306e\u52b9\u679c\u304c\u53ca\u307c\u3055\u308c\u308b\u3002\u6575\u81ea\u8eab\u306f\u305d\u308c\u306b\u5bfe\u3057\u3066\u3001\u62b5\u6297\u3092\u8a66\u307f\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u30021\u30dd\u30a4\u30f3\u30c8\u77e5\u899a\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3002","\u4e0d\u5b8c\u5168\u306a\u62b5\u6297\u3001\u3075\u3064\u3046\u306e\u534a\u5206\u306e\u52b9\u679c\u3092\u53d7\u3051\u308b\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3002","\u4ed9\u9aa8\u307e\u305f\u306f\u77e5\u899a\uff08\u4ed9\u8853\u306b\u62b5\u6297\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3002","\u4ed9\u9aa8\u307e\u305f\u306f\u77e5\u899a\uff08\u4ed9\u8853\u306b\u62b5\u6297\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4ed9\u9aa8\u307e\u305f\u306f\u77e5\u899a\uff08\u4ed9\u8853\u306b\u62b5\u6297\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),UKT:n(J("DiceTable"),"Table").$new("\u53d7\u3051\u30fb\u56de\u907f\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002","\u8ee2\u5012\u3059\u308b\uff08\u7a7a\u3092\u98db\u3093\u3067\u3044\u308b\u3082\u306e\u306f\u843d\u4e0b\u3002\u4e57\u9a0e\u306a\u3069\u306b\u4e57\u3063\u3066\u3044\u305f\u3089\u8ee2\u843d\uff09\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u76f8\u624b\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u5d29\u3059\u306e\u306b\u6210\u529f\u3002\u653b\u6483\u3092\u884c\u3063\u305f\u6575\u304c\u8ee2\u5012\uff08\u7a7a\u3092\u98db\u3093\u3067\u3044\u308b\u3082\u306e\u306f\u843d\u4e0b\u3002\u4e57\u9a0e\u306a\u3069\u306b\u4e57\u3063\u3066\u3044\u305f\u3089\u8ee2\u843d\uff09\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3001\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u9632\u5fa1\u6210\u529f\u3002","\u4e0d\u5b8c\u5168\u306a\u9632\u5fa1\u3001\u901a\u5e38\u306e\u534a\u5206\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\u3057\u304b\u3057\u6575\u304c\u9023\u7d9a\u653b\u6483\u3092\u884c\u3046\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\u3002\u653b\u6483\u8005\u304c\u88cf\u6210\u529f\u653b\u6483\u3067\u3042\u3063\u3066\u3082\u305d\u306e\u53cd\u52d5\u306f\u6c7a\u3081\u306a\u3044\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u9632\u5fa1\u6210\u529f\u3002","\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u9632\u5fa1\u6210\u529f\u3002","\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"])}).$freeze()),P.$register_prefix(J("TABLES").$keys())})},6634:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeqeq,h=e.truthy,g=e.rb_plus;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"Paranoia")].concat(P),V.$$prototype.randomizer=t,C(J[0],"ID","Paranoia"),C(J[0],"NAME","\u30d1\u30e9\u30ce\u30a4\u30a2"),C(J[0],"SORT_KEY","\u306f\u3089\u306e\u3044\u3042"),C(J[0],"HELP_MESSAGE","\u203b\u300c\u30d1\u30e9\u30ce\u30a4\u30a2\u300d\u306f\u5b8c\u74a7\u306a\u30b2\u30fc\u30e0\u3067\u3042\u308b\u305f\u3081\u7279\u6b8a\u306a\u30c0\u30a4\u30b9\u30b3\u30de\u30f3\u30c9\u3092\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u3002\n\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n"),V.$register_prefix("geta"),R(V,"$initialize",function w(z){var x=this;return delete w.$$p,v(x,S(x,"initialize",w,!1,!0),"initialize",[z],null),x.enabled_upcase_input=!1},1),R(V,"$eval_game_system_specific_command",function(z){var x=t;return this.$debug("eval_game_system_specific_command command",z),x="",m(/geta/i,z)&&(x=this.$getaRoll()),h(x["$empty?"]())?t:z+" \uff1e "+x},1),R(V,"$getaRoll",function(){var x,T,A=t,D=t;return A="",x=this.randomizer.$roll_once(2),A=g(A,"\u5e78\u798f\u3067\u3059\u304b\uff1f \uff1e "),D="",m(1,T=x)?D="\u5e78\u798f\u3067\u3059":m(2,T)&&(D="\u5e78\u798f\u3067\u306f\u3042\u308a\u307e\u305b\u3093"),g(A,D)},0)})},9628:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.def,R=e.eqeq,m=e.send,h=e.to_a,g=e.rb_minus,y=e.truthy,k=e.rb_plus,p=e.rb_ge,E=e.rb_lt,M=e.to_ary;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"ParanoiaRebooted")].concat(z),A.$$prototype.randomizer=t,C(x[0],"ID","ParanoiaRebooted"),C(x[0],"NAME","\u30d1\u30e9\u30ce\u30a4\u30a2 \u30ea\u30d6\u30fc\u30c6\u30c3\u30c9"),C(x[0],"SORT_KEY","\u306f\u3089\u306e\u3044\u3042\u308a\u3075\u3046\u3066\u3064\u3068"),C(x[0],"HELP_MESSAGE","\u203b\u30b3\u30de\u30f3\u30c9\u306f\u5165\u529b\u5185\u5bb9\u306e\u524d\u65b9\u4e00\u81f4\u3067\u691c\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\u30fb\u901a\u5e38\u306e\u5224\u5b9a\u3000NDx\n\u3000x\uff1a\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u6570.\u30de\u30a4\u30ca\u30b9\u3082\u53ef.\n\u3000\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u7d76\u5bfe\u5024 + 1\u500b(\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30c0\u30a4\u30b9)\u306e\u30c0\u30a4\u30b9\u304c\u30ed\u30fc\u30eb\u3055\u308c\u308b.\n\u4f8b\uff09ND2\u3000ND-3\n\n\u30fb\u30df\u30e5\u30fc\u30bf\u30f3\u30c8\u30d1\u30ef\u30fc\u5224\u5b9a\u3000MPx\n  x\uff1a\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u6570.\n\u3000\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u5024 + 1\u500b(\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30c0\u30a4\u30b9)\u306e\u30c0\u30a4\u30b9\u304c\u30ed\u30fc\u30eb\u3055\u308c\u308b.\n\u4f8b\uff09MP2\n"),A.$register_prefix("ND","MP"),S(A,"$eval_game_system_specific_command",function(d){var l;return v(/^ND/i,l=d)?this.$get_node_dice_roll(d):v(/^MP/i,l)?this.$get_mutant_power_roll(d):t},1),A.$private(),S(A,"$generate_roll_results",function(d){var o=t,l=t,$=t;return o="",l=d.$dup(),R(l["$[]"](-1).$to_i(),6)&&(m(l,"[]=",h($=[-1,"C"])),g($.length,1),o="(Computer)"),[l,o]},1),S(A,"$get_node_dice_roll",function(d){var o,l,$=this,a=t,r=t,s=t,i=t,u=t,_=t,c=t;return $.$debug("eval_game_system_specific_command Begin"),a=/^ND((-)?\d+)/i.$match(d),y(a)?($.$debug("command",d),r=a["$[]"](1).$to_i(),s=k(r.$abs(),1),i=$.randomizer.$roll_barabara(s,6),u=m(i,"count",[],function(f){return null==f&&(f=t),p(f,5)},1),y(E(r,0))&&(u=g(u,m(i,"count",[],function(f){return null==f&&(f=t),E(f,5)},1))),$.$debug(i),l=$.$generate_roll_results(i),_=null==(o=M(l))[0]?t:o[0],c=null==o[1]?t:o[1],$.$debug("eval_game_system_specific_command result"),"("+d+") \uff1e ["+_.$join(", ")+"] \uff1e \u6210\u529f\u5ea6"+u+c):""},1),S(A,"$get_mutant_power_roll",function(d){var o,l,$=this,a=t,r=t,s=t,i=t,u=t,_=t,c=t,b=t;return $.$debug("eval_game_system_specific_command Begin"),a=/^MP(\d+)/i.$match(d),y(a)?($.$debug("command",d),r=a["$[]"](1).$to_i(),s=k(r.$abs(),1),u=(i=$.randomizer.$roll_barabara(s,6)).$count(1),_=R(u,0)?"\u6210\u529f":"\u5931\u6557("+u+")",l=$.$generate_roll_results(i),c=null==(o=M(l))[0]?t:o[0],b=null==o[1]?t:o[1],$.$debug(i),$.$debug("eval_game_system_specific_command result"),"("+d+") \uff1e ["+c.$join(", ")+"] \uff1e "+_+b):""},1)})},5017:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/DungeonsAndDragons"]=function(e){var S,g,L,G,k,p,m,H=[],n=e.module,B=e.klass,C=e.const_set;return S=H,g=m=[n(H[0],"BCDice")].concat(S),k=[n(m[0],"GameSystem")].concat(g),p=e.$r(k),L=k,C((G=[B(k[0],p("Base"),"DungeonsAndDragons")].concat(L))[0],"ID","DungeonsAndDragons"),C(G[0],"NAME","\u30c0\u30f3\u30b8\u30e7\u30f3\u30ba\uff06\u30c9\u30e9\u30b4\u30f3\u30ba"),C(G[0],"SORT_KEY","\u305f\u3093\u3057\u3088\u3093\u3059\u3042\u3093\u3068\u3068\u3089\u3053\u3093\u3059"),C(G[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")},Opal.queue(function(e){var R,y,Y,j,p,E,h,t=[],B=e.module,C=e.klass,v=e.const_set;return e.top.$require("bcdice/game_system/DungeonsAndDragons"),R=t,y=h=[B(t[0],"BCDice")].concat(R),p=[B(h[0],"GameSystem")].concat(y),E=e.$r(p),Y=p,v((j=[C(p[0],E("DungeonsAndDragons"),"Pathfinder")].concat(Y))[0],"ID","Pathfinder"),v(j[0],"NAME","Pathfinder"),v(j[0],"SORT_KEY","\u306f\u3059\u3075\u3042\u3044\u3093\u305f\u3042"),v(j[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")})},9113:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_le,m=e.rb_ge,h=e.rb_minus,g=e.def;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"Pendragon")].concat(P),I=e.$r(J),C(J[0],"ID","Pendragon"),C(J[0],"NAME","\u30da\u30f3\u30c9\u30e9\u30b4\u30f3"),C(J[0],"SORT_KEY","\u3078\u3093\u3068\u3089\u3053\u3093"),C(J[0],"HELP_MESSAGE","\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u6210\u529f\u3001\u5931\u6557\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),g(V,"$result_1d20",function(z,A,x,D){return v(D,"?")?I("Result").$nothing():v(x,"<=")?S(R(z,D))?S(m(z,h(40,D)))||v(z,D)?I("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):I("Result").$success("\u6210\u529f"):v(z,20)?I("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):I("Result").$failure("\u5931\u6557"):t},4)})},6706:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var M,j,I,w,z,A,K,P,Y,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.def,R=e.send,m=e.rb_le,h=e.to_a,g=e.rb_minus,y=e.rb_plus,k=e.rb_divide,p=e.rb_times;return M=H,j=Y=[n(H[0],"BCDice")].concat(M),K=[n(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=B(K[0],P("Base"),"PersonaO")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,C(z[0],"ID","PersonaO"),C(z[0],"NAME","\u30da\u30eb\u30bd\u30caTRPG-O"),C(z[0],"SORT_KEY","\u3078\u308b\u305d\u306aTRPGO"),C(z[0],"HELP_MESSAGE","\u30fb\u57fa\u672c\u5224\u5b9a\n\u3000PTx@y\u3000x\uff1a\u76ee\u6a19\u5024\u3001y\uff1a\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\uff08\u7701\u7565\u6642\u306f5\uff09\n\u3000\u4f8b\uff09PT60\u3000PT90@10\n\n\u30fb\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97\n\u3000nPD+(x+y*2)%(z-a)-b\u3000n\uff1a\u30c0\u30a4\u30b9\u500b\u6570\u3001x\uff1a\u30b9\u30ad\u30eb\u56fa\u5b9a\u5024\u3001y\uff1a\u30dc\u30fc\u30ca\u30b9\u3001z\uff1a\u30d0\u30d5\u500d\u7387\u3001a\uff1a\u8010\u6027\u3001b\uff1a\u6575\u9632\u5fa1\u529b\n\u3000nPD+(x+y*2)\u307e\u3067\u304c\u30b9\u30ad\u30eb\u306b\u3088\u308b\u7d20\u306e\u30c0\u30e1\u30fc\u30b8\u3001z\u304a\u3088\u3073a\u306f\u8a08\u7b97\u5f0f\u3092\u5165\u308c\u3066\u3088\u3044\u3002\n\u3000\n\u3000\u4f8b\uff09\u30bd\u30cb\u30c3\u30af\u30d1\u30f3\u30c1\u3001\u529bB2\u70b9\u3001\n\u3000\u3000\u3000\u30bf\u30eb\u30ab\u30b8\u30e3\u304c\u304b\u304b\u3063\u3066\u304a\u308a\u3001\u6253\u6483\u8010\u6027\u3042\u308a\u3001\n\u3000\u3000\u3000\u76ee\u6a19\u306e\u7269\u7406\u9632\u5fa1\u529b\u306f2\u70b9\n\u3000\u3000\u3000\n\u3000\u3000\u30002PD+(20+2*2)%(100+50-50)-2\n"),w.$register_prefix("PT","\\d+PD"),S(w,"$eval_game_system_specific_command",function(T){var o;return v(o=this.$roll_attack(T))?o:this.$roll_damage(T)},1),w.$private(),S(w,"$roll_attack",function(T){var d,l=t,$=t,a=t,r=t,s=t,i=t,u=t;return l=/^PT(-?\d+)?(@(-?\d+))?$/i.$match(T),v(l)?(u=["D100<="+($=l["$[]"](1).$to_i())+"@"+(a=v(r=(d=l["$[]"](3))===t||null==d?t:R(d,"to_i",[]))?r:5)+" \uff1e "+(s=this.randomizer.$roll_once(100))+" \uff1e "+(i=v(m(s,a))?A("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):v(m(s,$))?A("Result").$success("\u6210\u529f"):A("Result").$failure("\u5931\u6557")).$text()],R(i,"text=",h(u)),g(u.length,1),i):t},1),S(w,"$roll_damage",function(T){var o=t,l=t,$=t,a=t,r=t,s=t,i=t,u=t;return o=/^(\d+)PD\+(-?\d+)%(-?\d+)-(\d+)$/i.$match(T),v(o)?(l=o["$[]"](1).$to_i(),$=o["$[]"](2).$to_i(),a=o["$[]"](3).$to_i(),r=o["$[]"](4).$to_i(),i=(s=this.randomizer.$roll_barabara(l,10)).$sum(),u=g(y(i,k(p(a,$),100).$to_i()),r),l+"D10+"+$+"\uff0a"+a+"%-"+r+" \uff1e ["+s.$join(",")+"]+"+$+"\uff0a"+a+"%-"+r+" \uff1e "+u+" \u30c0\u30e1\u30fc\u30b8\uff01"):t},1)})},926:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_lt,m=e.rb_minus,h=e.rb_gt,g=e.rb_plus,y=e.rb_ge,k=e.rb_times,p=e.rb_le,E=e.def;return L=H,N=G=[n(H[0],"BCDice")].concat(L),P=[n(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=B(P[0],V("Base"),"PhantasmAdventure")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,C(A[0],"ID","PhantasmAdventure"),C(A[0],"NAME","\u30d5\u30a1\u30f3\u30bf\u30ba\u30e0\u30fb\u30a2\u30c9\u30d9\u30f3\u30c1\u30e3\u30fc"),C(A[0],"SORT_KEY","\u3075\u3042\u3093\u305f\u3059\u3080\u3042\u3068\u3078\u3093\u3061\u3084\u3042"),C(A[0],"HELP_MESSAGE","\u6210\u529f\u3001\u5931\u6557\u3001\u6c7a\u5b9a\u7684\u6210\u529f\u3001\u6c7a\u5b9a\u7684\u5931\u6557\u306e\u8868\u793a\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u8a08\u7b97\u306e\u5b9f\u88c5\u3002\n"),E(z,"$result_1d20",function(d,o,l,$){var r=t,s=t,i=t,u=t,_=t,c=t,b=t;return v($,"?")?x("Result").$nothing():v(l,"<=")?(r=0,S(R($,1))?r=m($,1):S(h($,20))&&(r=m($,20)),s=g(20,r),S(h(s,20))&&(s=20),i=g(1,r),u=this.randomizer.$roll_once(20),S(y(d,s))||S(y(d,20))?(_=m(u,r),S(h(_,20))&&(_=20),S(R(_,1))&&(_=1),c=u.$to_s(),c=S(R(r,0))?g(c,"+"+k(r,-1)+"="+_):g(c,"-"+r+"="+_),x("Result").$fumble("\u81f4\u547d\u7684\u5931\u6557("+c+")")):S(p(d,i))||S(p(d,1))?(b=g(u,r),S(h(b,20))&&(b=20),S(R(b,1))&&(b=1),S(R(r,0))?x("Result").$success("\u6210\u529f"):x("Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f("+u+"+"+r+"="+b+")")):S(p(d,$))?x("Result").$success("\u6210\u529f"):x("Result").$failure("\u5931\u6557")):t},4)})},3021:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeqeq,h=e.truthy,g=e.rb_lt,y=e.send,k=e.rb_plus,p=e.neqeq,E=e.rb_gt,M=e.eqeq,L=e.rb_ge;return G=H,P=N=[n(H[0],"BCDice")].concat(G),J=[n(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=B(J[0],I("Base"),"Postman")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,C(D[0],"ID","Postman"),C(D[0],"NAME","\u58ca\u308c\u305f\u4e16\u754c\u306e\u30dd\u30b9\u30c8\u30de\u30f3"),C(D[0],"SORT_KEY","\u3053\u308f\u308c\u305f\u305b\u304b\u3044\u306e\u307b\u3059\u3068\u307e\u3093"),C(D[0],"HELP_MESSAGE","\u25c6\u5224\u5b9a\uff1a[n]PO[+-a][> or >= or @X]\u3000\u3000[]\u5185\u7701\u7565\u53ef\u3002\n\n\u9054\u6210\u5024\u3068\u5224\u5b9a\u306e\u6210\u5426\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f2D\u3002\n\u300c+-a\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u3092\u6307\u5b9a\u3002\u300c+2+1-4\u300d\u306e\u3088\u3046\u306a\u8907\u6570\u56de\u6307\u5b9a\u53ef\u3002\n\u300c>X\u300d\u300c>=X\u300d\u300c@X\u300d\u3067\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u53ef\u3002\n\u300c>X\u300d\u306f\u9054\u6210\u5024>\u96e3\u6613\u5ea6\u3001\u300c>=X\u300d\u300c@X\u300d\u306f\u9054\u6210\u5024>=\u96e3\u6613\u5ea6\u3067\u5224\u5b9a\u3057\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n3PO+2-1 \u2192 3D\u3067\u9054\u6210\u5024\u4fee\u6b63+1\u306e\u5224\u5b9a\u3002\u9054\u6210\u5024\u306e\u307f\u8868\u793a\u3002\nPO@5+2 \u2192 2D\u3067\u76ee\u6a19\u50247\u306e\u5224\u5b9a\u3002\u5224\u5b9a\u306e\u6210\u5426\u3068\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n4PO-2+1>7+2 \u2192 4D\u3067\u9054\u6210\u5024\u4fee\u6b63-1\u3001\u76ee\u6a19\u50249\uff08\u540c\u5024\u306f\u5931\u6557\uff09\u306e\u5224\u5b9a\u3002\n\n\n\u25c6\u5929\u5019\u30c1\u30a7\u30c3\u30af\uff1aWEA[n]\u3000\u3000[]\u5185\u7701\u7565\u53ef\u3002\n\n\u5929\u5019\u30c1\u30a7\u30c3\u30af\u8868\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\n\u300cn\u300d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u6307\u5b9a\u3057\u305f\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\uff08\u3010\u5e78\u904b\u70b9\u3011\u4f7f\u7528\u6642\u7528\uff09\n\n\n\u25c6\u81ea\u7531\u884c\u52d5\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868\uff1aFRE\n"),x.$register_prefix("WEA","(\\d+)?PO","FRE"),R(x,"$initialize",function o(l){var a=this;return delete o.$$p,v(a,S(a,"initialize",o,!1,!0),"initialize",[l],null),a.sort_add_dice=!0},1),R(x,"$eval_game_system_specific_command",function(l){var r,$=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t;return m(/(\d+)?PO(\d+)?(([+-]\d+)*)?((>|>=|@)(\d+)(([+-]\d+)*)?)?/i,r=l.$upcase())?(s=(h(i=T("Regexp").$last_match(1))?i:2).$to_i(),h(g(s,2))&&(s=2),u=(h(i=T("Regexp").$last_match(2))?i:0).$to_i(),_=h(i=T("Regexp").$last_match(3))?i:"",c=h(i=T("Regexp").$last_match(6))?i:"",b=(h(i=T("Regexp").$last_match(7))?i:0).$to_i(),f=h(i=T("Regexp").$last_match(8))?i:"",q=_.$scan(/[+-]\d+/),y(q,"each",[],function(X){return null==X&&(X=t),u=k(u,X.$to_i())},1),p(b,0)&&(F=f.$scan(/[+-]\d+/),y(F,"each",[],function(X){return null==X&&(X=t),b=k(b,X.$to_i())},1)),$.$checkRoll(s,u,c,b)):m(/WEA(\d+)?/i,r)?(U=(h(i=T("Regexp").$last_match(1))?i:0).$to_i(),$.$get_weather_table(U)):m("FRE",r)?$.$get_free_situation_table():t},1),R(x,"$checkRoll",function(l,$,a,r){var u,_,c,b,f,F,i=t,q=t,U=t,W=t,X=t;return u=(i=this.randomizer.$roll_barabara(l,6).$sort()).$sum(),_=i.$join(","),c=k(i["$[]"](-2),i["$[]"](-1)),b=i["$[]"](-2)+","+i["$[]"](-1),f=i.$count(6),p($,0)&&(q="",h(E($,0))&&(q="+"),q=k(q,$.$to_s())),F=k(c,$),p(a,"")&&(U=" \u3010\u5931\u6557\u3011",W=">",M(a,">")?h(E(F,r))&&(U=" \u3010\u6210\u529f\u3011"):(W=k(W,"="),h(L(F,r))&&(U=" \u3010\u6210\u529f\u3011"))),h(L(f,2))?U=" \u3010\u6210\u529f\u3011\uff08\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff09":M(u,l)&&(U=" \u3010\u5931\u6557\u3011\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\uff09"),X=l+"D6("+_+")"+q+" \uff1e "+c+"("+b+")"+q+" = \u9054\u6210\u5024\uff1a"+F,h(E(r,0))&&(X=k(X,""+W+r+" ")),k(X,U.$to_s())},4),R(x,"$get_weather_table",function(l){var r,s=t,i=t,u=t;return r=[[2,"\u5927\u96e8\u3068\u5f37\u98a8\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+4\u3002"],[3,"\u98a8\u304c\u5f37\u30441\u65e5\u306b\u306a\u308a\u305d\u3046\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[4,"\u6674\u308c\u3002\u7279\u306b\u306a\u3057\u3002"],[5,"\u591c\u306e\u9593\u306e\u96e8\u3067\u306c\u304b\u308b\u3080\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[6,"\u305d\u308c\u306a\u308a\u306e\u96e8\u8db3\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[7,"\u6674\u308c\u3002\u7279\u306b\u306a\u3057\u3002"],[8,"\u5929\u6c17\u306f\u5927\u8352\u308c\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+4\u3002"],[9,"\u5c0f\u96e8\u304c\u964d\u308b\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+1\u3002"],[10,"\u305d\u308c\u306a\u308a\u306e\u96e8\u8db3\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[11,"\u6674\u308c\u3002\u7279\u306b\u306a\u3057\u3002"],[12,"\u98a8\u304c\u5f37\u30441\u65e5\u306b\u306a\u308a\u305d\u3046\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"]],M(l,0)?(i=(s=this.randomizer.$roll_barabara(2,6)).$sum(),u=s.$join(",")):(h(g(l,2))&&(l=2),h(E(l,12))&&(l=12),i=l,u="Choice:"+l),"\u5929\u5019\u30c1\u30a7\u30c3\u30af("+u+") \uff1e "+i+"\uff1a"+this.$get_table_by_number(i,r)},1),R(x,"$get_free_situation_table",function(){var a,s,r=t;return a=[[2,"\u4f55\u3092\u3059\u308b\u3067\u3082\u306a\u304f\u3001\u971e\u304c\u304b\u3063\u305f\u3088\u3046\u306a\u591c\u7a7a\u3092\u898b\u4e0a\u3052\u308b\u3002\u3075\u3068\u96a3\u306b\u76ee\u3092\u5411\u3051\u308c\u3070\u3001\u5f7c/\u5f7c\u5973\u304c\u5c45\u305f\u3002\u5f7c/\u5f7c\u5973\u306f\u3001\u3053\u3046\u306a\u308b\u524d\u306e\u591c\u7a7a\u3092\u77e5\u3063\u3066\u3044\u308b\u306e\u3060\u308d\u3046\u304b\u3002"],[3,"\u5922\u3092\u898b\u305f\u3002\u5927\u6226\u306e\u6700\u4e2d\u3001\u8857\u304c\u3001\u4eba\u304c\u3001\u4e16\u754c\u304c\u713c\u3051\u3066\u3044\u304f\u60aa\u5922\u3092\u3002\u8ffd\u3044\u7acb\u3066\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u76ee\u3092\u899a\u307e\u3059\u3068\u3001\u5f7c/\u5f7c\u5973\u304c\u541b\u3092\u898b\u3066\u3044\u305f\u3002\u3000\u2026\u2026\u3082\u3057\u304b\u3057\u3066\u3001\u81ea\u5206\u306f\u3088\u307b\u3069\u3046\u306a\u3055\u308c\u3066\u3044\u305f\u306e\u3060\u308d\u3046\u304b\u3002"],[4,"\u5468\u56f2\u3067\u898b\u3064\u3051\u305f\u30ac\u30e9\u30af\u30bf\u3092\u4f7f\u3063\u3066\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u30d3\u30c3\u30af\u30ea\u73a9\u5177\u3092\u4f5c\u3063\u3066\u307f\u305f\u3002\u300c\u5f7c/ \u5f7c\u5973\u300d\u306b\u30b3\u30a4\u30c4\u3092\u3051\u3057\u304b\u3051\u305f\u3089\u3001\u3069\u3093\u306a\u53cd\u5fdc\u3092\u3059\u308b\u3060\u308d\u3046\u304b\uff1f"],[5,"\u4f7f\u3048\u305d\u3046\u306a\u3082\u306e\u304c\u306a\u3044\u304b\u63a2\u3057\u3066\u3044\u308b\u3068\u3001\u30ab\u30bf\u30f3\u3068\u7269\u97f3\u304c\u3057\u3066\u4f55\u304b\u304c\u843d\u3061\u305f\u3002\u62fe\u3044\u4e0a\u3052\u3066\u307f\u305f\u305d\u308c\u306f\u3001\u304b\u3064\u3066\u3053\u3053\u3067\u751f\u6d3b\u3057\u3066\u3044\u305f\u8ab0\u304b\u306e\u540d\u6b8b\uff08\u5199\u771f\u3001\u5bb6\u5177\u3001\u73a9\u5177\u7b49\uff09\u3060\u3063\u305f\u3002"],[6,"\u30c6\u30f3\u30c8\u306e\u4e2d\u3067\u591c\u3092\u904e\u3054\u3057\u3066\u3044\u308b\u3068\u3001\u3075\u3068\u5f7c/\u5f7c\u5973\u3068\u8a71\u3057\u305f\u304f\u3066\u305f\u307e\u3089\u306a\u3044\u6c17\u6301\u3061\u306b\u306a\u3063\u305f\u3002\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001\u591c\u306e\u9759\u3051\u3055\u306b\u5bc2\u3057\u3055\u3092\u899a\u3048\u3066\u3057\u307e\u3063\u305f\u306e\u3060\u3002"],[7,"\u3053\u3053\u307e\u3067\u306e\u914d\u9054\u306e\u8a18\u9332\u3092\u3064\u3051\u3066\u3044\u305f\u3089\u3001\u80cc\u5f8c\u304b\u3089\u8996\u7dda\u3092\u611f\u3058\u308b\u2026\u2026\uff01\u3000\u3082\u3057\u3084\u3001\u5f7c/\u5f7c\u5973\u306b\u8997\u304b\u308c\u3066\u3044\u308b\u2026\u2026\uff01\uff1f"],[8,"\u5468\u56f2\u3092\u63a2\u7d22\u3057\u3066\u3044\u308b\u3068\u3001\u541b\u4e00\u4eba\u3067\u306f\u624b\u306e\u5c4a\u304b\u306a\u3044\u3068\u3053\u308d\u306b\u91d1\u5c5e\u88fd\u306e\u7bb1\u304b\u4f55\u304b\u304c\u3042\u308b\u3053\u3068\u306b\u6c17\u3065\u3044\u305f\u3002\u5f7c/\u5f7c\u5973\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3048\u3070\u3001\u53d6\u308c\u308b\u3060\u308d\u3046\u304b\u2026\u2026\uff1f"],[9,"\u671d\u307e\u3067\u306f\u307e\u3060\u3057\u3070\u3089\u304f\u3042\u308b\u3068\u3044\u3046\u306e\u306b\u3001\u76ee\u304c\u899a\u3081\u3066\u3057\u307e\u3063\u305f\u3002\u4e8c\u5ea6\u5bdd\u3057\u3088\u3046\u306b\u3082\u5bdd\u4ed8\u3051\u305a\u306b\u5c45\u308b\u3068\u3001\u96a3\u3067\u3082\u305e\u3082\u305e\u3068\u52d5\u304f\u6c17\u914d\u304c\u3059\u308b\u3002\u5f7c/\u5f7c\u5973\u3082\u3001\u3069\u3046\u3084\u3089\u540c\u3058\u3089\u3057\u3044\u3002"],[10,"\u4ed6\u611b\u306e\u306a\u3044\u8a71\u3092\u3059\u308b\u3046\u3061\u306b\u3001\u541b\u306f\u5f7c/\u5f7c\u5973\u306b\u554f\u3044\u304b\u3051\u3066\u3044\u305f\u3002\u300c\u4f55\u6545\u3001\u30dd\u30b9\u30c8\u30de\u30f3\u306b\u306a\u308d\u3046\u3068\u601d\u3063\u305f\u306e\u304b\u300d\u3000\u2026\u2026\u305d\u3046\u3044\u3048\u3070\u3001\u541b\u81ea\u8eab\u306f\u3069\u3046\u3060\u3063\u305f\u308d\u3046\u304b\u3002"],[11,"\u4fdd\u5b58\u98df\u306b\u3042\u308a\u3064\u3053\u3046\u3068\u3057\u305f\u305d\u306e\u6642\u3001\u541b\u306f\u6c17\u3065\u3044\u305f\u3002\u4e00\u5339\u306e\u30cd\u30ba\u30df\u304c\u3001\u5f7c/\u5f7c\u5973\u306e\u8377\u7269\u306e\u4e2d\u306b\u6f5c\u308a\u8fbc\u3082\u3046\u3068\u3057\u3066\u3044\u308b\u3002\u5f7c/\u5f7c\u5973\u306f\u6c17\u3065\u3044\u3066\u3044\u306a\u3044\u304c\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u98df\u6599\u304c\u5371\u306a\u3044\uff01"],[12,"\u30c6\u30f3\u30c8\u3092\u8a2d\u55b6\u3057\u3001\u843d\u3061\u7740\u3044\u305f\u9803\u306b\u3075\u3068\u6c17\u3065\u304f\u3002\u3000\u2026\u2026\u8eab\u4f53\u304c\u71b1\u3044\u3002\u5c11\u3057\u3001\u3060\u308b\u3055\u3082\u3042\u308b\u3088\u3046\u306a\u6c17\u3082\u3059\u308b\u3002\u5927\u3057\u305f\u3053\u3068\u306f\u306a\u3044\u3068\u601d\u3046\u304c\u3001\u5f7c/\u5f7c\u5973\u306b\u76f8\u8ac7\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u3060\u308d\u3046\u304b\u3002"]],s=(r=this.randomizer.$roll_barabara(2,6)).$sum(),"\u81ea\u7531\u884c\u52d5\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868("+r.$join(",")+") \uff1e "+s+"\uff1a"+this.$get_table_by_number(s,a)},0)})},2909:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.rb_times,g=e.rb_gt,y=e.rb_plus,k=e.rb_lt,p=e.rb_le,E=e.send,M=e.eqeq,L=e.rb_minus,Y=e.rb_ge;return j=H,V=K=[n(H[0],"BCDice")].concat(j),I=[n(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=B(I[0],w("Base"),"Raisondetre")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,C(T[0],"ID","Raisondetre"),C(T[0],"NAME","\u53db\u9006\u30ec\u30be\u30f3\u30c7\u30fc\u30c8\u30eb"),C(T[0],"SORT_KEY","\u306f\u3093\u304d\u3084\u304f\u308c\u305d\u3093\u3066\u3068\u304a\u308b"),C(T[0],"HELP_MESSAGE","\u5224\u5b9a\uff1a[\u5224\u5b9a\u5024]RD[\u6280\u80fd][@\u76ee\u6a19\u5024]\n\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\uff1a[\u30c0\u30a4\u30b9\u6570]DD[\u88c5\u7532]\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u300c\u5224\u5b9a\u5024\u300d\u3067\u5224\u5b9a\u306b\u4f7f\u7528\u3059\u308b\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u30020\u4ee5\u4e0b\u3082\u6307\u5b9a\u53ef\u3002\n\u300c\u6280\u80fd\u300d\u3067\u6709\u52b9\u306a\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3002\n\u9054\u6210\u5024\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3092\u542b\u3081\u3066\u3001\u300c\u6700\u3082\u9ad8\u304f\u306a\u308b\u300d\u3088\u3046\u306b\u8a08\u7b97\u3057\u307e\u3059\u3002\n\u300c@\u76ee\u6a19\u5024\u300d\u6307\u5b9a\u3067\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8ffd\u52a0\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u306f[\u88c5\u7532]\u6307\u5b9a\u3067\u3001\u6709\u52b9\u306a\u30c0\u30a4\u30b9\u6570\u30680\u306e\u51fa\u76ee\u306e\u6570\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n[\u88c5\u7532]\u7701\u7565\u6642\u306f\u3001\u30c0\u30a4\u30b9\u7d50\u679c\u306e\u307f\u8868\u793a\u3057\u307e\u3059\u3002\uff08\u8907\u6570\u306e\u5bfe\u8c61\u3078\u306e\u653b\u6483\u6642\u7528\uff09\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbRD \u2192 1D\u3067\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n\u30fb2RD1@8 \u2192 2D\uff081\u500b\u9078\u629e\uff09\u3067\u76ee\u6a19\u50248\u306e\u5224\u5b9a\u3002\n\u30fb-3RD \u2192 1D\u3067\u30c0\u30a4\u30b9\u30da\u30ca\u30eb\u30c6\u30a3-4\u306e\u5224\u5b9a\u3002\n\u30fb4DD2 \u2192 4D\u3067\u88c5\u75322\u306e\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u3002\n"),R(D,"$initialize",function l($){var r=this;return delete l.$$p,v(r,S(r,"initialize",l,!1,!0),"initialize",[$],null),r.sort_add_dice=!0},1),D.$register_prefix("(-)?(\\d+)?RD","(-)?(\\d+)?DD"),R(D,"$eval_game_system_specific_command",function($){var r=t,s=t,i=t,u=t,_=t;return m($["$=~"](/(-)?(\d+)?RD(\d+)?(@(\d+))?$/i))?(r=(m(s=d("Regexp").$last_match(2))?s:1).$to_i(),m(d("Regexp").$last_match(1)["$nil?"]())||(r=h(r,-1)),i=(m(s=d("Regexp").$last_match(3))?s:1).$to_i(),u=(m(s=d("Regexp").$last_match(5))?s:0).$to_i(),this.$checkRoll(r,i,u)):m($["$=~"](/(-)?(\d+)?DD([1-9])?([+\-]\d+)?$/i))?(r=(m(s=d("Regexp").$last_match(2))?s:1).$to_i(),m(d("Regexp").$last_match(1)["$nil?"]())||(r=h(r,-1)),_=(m(s=d("Regexp").$last_match(3))?s:0).$to_i(),m(g(_,0))&&(_=y(_,(m(s=d("Regexp").$last_match(4))?s:0).$to_i()),m(k(_,1))&&(_=1),m(g(_,9))&&(_=9)),this.$checkDamage(r,_)):t},1),R(D,"$checkRoll",function($,a,r){var c,b,q,i=t,u=t,_=t,f=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t;return m(p($,0))?(i=y(1,h($,-1)),u=1):(i=0,u=$),c=(_=this.randomizer.$roll_barabara(u,10).$sort()).$join(","),E(_,"map!",[],function(ne){return null==ne&&(ne=t),M(ne,10)?0:ne},1),E(_,"map!",[],function(ne){return null==ne&&(ne=t),L(ne,i)},1),b=_.$sort().$join(","),f=E(_,"select",[],function(ne){return null==ne&&(ne=t),p(ne,1)},1),q=Y(f.$size(),u),F=0,U=0,m(q)||(W=_.$count(0),X=h(W,10),(Q=_.$reverse()).$delete(0),re=(Q=Q.$slice(e.Range.$new(0,L(a,1),!1))).$join(","),F=Q.$inject("+"),U=y(F,X)),O=u+"D10",m(g(i,0))&&(O=y(O,"-"+i)),O=y(O," \uff1e ["+c+"] \uff1e ["+b+"] \uff1e "),m(q)?O=y(O,"\u9054\u6210\u5024\uff1a0 (Funble)"):(O=y(O,F+"["+re+"]"),m(g(X,0))&&(O=y(O,"+"+X)),O=y(O,"=\u9054\u6210\u5024\uff1a"+U),m(g(X,0))&&(O=y(O," ("+W+"Critical)"))),m(g(r,0))&&(O=y(O,">="+r+" "),m(Y(U,r))&&(O=y(O,"\u3010\u6210\u529f\u3011")),m(k(U,r))&&(O=y(O,"\u3010\u5931\u6557\u3011"))),O},3),R(D,"$checkDamage",function($,a){var _,b,f,s=t,i=t,u=t,c=t,q=t,F=t,U=t,W=t;return m(p($,0))?(s=y(1,h($,-1)),i=1):(s=0,i=$),_=(u=this.randomizer.$roll_barabara(i,10).$sort()).$join(","),b=(c=E(u,"map",[],function(Q){return null==Q&&(Q=t),M(Q,10)?0:Q},1).$sort()).$count(0),E(c,"map!",[],function(Q){return null==Q&&(Q=t),L(Q,s)},1),f=c.$join(","),q=i+"D10",m(g(s,0))&&(q=y(q,"-"+s)),q=y(q," \uff1e ["+_+"] \uff1e ["+f+"]"),m(g(a,0))&&(F=[],U=0,E(c,"each",[],function(Q){return null==Q&&(Q=t),m(Y(Q,a))?(F.$push(Q),U=y(U,1)):F.$push("\xd7")},1),W=F.$join(","),q=y(q," \uff1e ["+W+"]>="+a+" \u6709\u52b9\u6570\uff1a"+U)),y(q,"\u30000="+b+"\u500b")},2)})},1925:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var M,j,I,w,z,A,K,P,Y,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.hash2,R=e.not,m=e.truthy,h=e.eqeq,g=e.rb_divide,y=e.rb_ge,k=e.rb_le,p=e.def;return M=H,j=Y=[B(H[0],"BCDice")].concat(M),K=[B(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=C(K[0],P("Base"),"RecordOfLodossWar")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,v(z[0],"ID","RecordOfLodossWar"),v(z[0],"NAME","\u30ed\u30fc\u30c9\u30b9\u5cf6\u6226\u8a18RPG"),v(z[0],"SORT_KEY","\u308d\u304a\u3068\u3059\u3068\u3046\u305b\u3093\u304dRPG"),v(z[0],"HELP_MESSAGE","\u25cf\u5224\u5b9a\n\u3000LW<=(\u76ee\u6a19\u5024)\u3067\u5224\u5b9a\u3002\n\u3000\u9054\u6210\u5024\u304c\u76ee\u6a19\u5024\u306e1/10(\u7aef\u6570\u5207\u308a\u4e0a\u3052)\u4ee5\u4e0b\u3067\u3042\u308c\u3070\u5927\u6210\u529f\u30021\uff5e10\u3067\u3042\u308c\u3070\u81ea\u52d5\u6210\u529f\u3002\n\u300091\uff5e100\u3067\u3042\u308c\u3070\u81ea\u52d5\u5931\u6557\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u25cf\u56de\u907f\u5224\u5b9a\n\u3000LWD<=(\u76ee\u6a19\u5024)\u3067\u56de\u907f\u5224\u5b9a\u3002\u3053\u306e\u6642\u51fa\u76ee\u304c51\u4ee5\u4e0a\u3067\u81ea\u52d5\u5931\u6557\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u3000\u5224\u5b9a\u3068\u56de\u907f\u5224\u5b9a\u306f\u3001\u3069\u3061\u3089\u3082\u30b3\u30de\u30f3\u30c9\u3060\u3051\u306e\u5834\u5408\u3001\u51fa\u76ee\u306e\u8868\u793a\u3068\u81ea\u52d5\u6210\u529f\u3068\u81ea\u52d5\u5931\u6557\u306e\u5224\u5b9a\u306e\u307f\u3092\u884c\u3044\u307e\u3059\u3002\n"),w.$register_prefix("LW"),p(w,"$eval_game_system_specific_command",function(T){var l=t,$=t,a=t,r=t,s=t;return l=n(A("Command"),"Parser").$new("LWD","LW",S(["round_type"],{round_type:this.$round_type()})).$restrict_cmp_op_to(t,"<=").$parse(T),m(l["$nil?"]())||R([t,"<="]["$include?"](l.$cmp_op()))?t:($=h(l.$command(),"LWD")?51:91,a=g(l.$target_number().$to_f(),10).$ceil(),r=this.randomizer.$roll_once(100),s=m(y(r,$))?"\u81ea\u52d5\u5931\u6557("+$+")":m(k(r,a))?"\u5927\u6210\u529f("+a+")":m(k(r,10))?"\u81ea\u52d5\u6210\u529f":m(l.$cmp_op())?m(k(r,l.$target_number()))?"\u6210\u529f":"\u5931\u6557":t,["(1D100"+l.$cmp_op()+l.$target_number()+")",r.$to_s(),s].$compact().$join(" \uff1e "))},1)})},1293:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.rb_ge,R=e.to_ary,m=e.def,h=e.rb_gt,g=e.neqeq,y=e.rb_plus,k=e.eqeq,p=e.rb_le,E=e.rb_times,M=e.send;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"RecordOfSteam")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,C(x[0],"ID","RecordOfSteam"),C(x[0],"NAME","Record of Steam"),C(x[0],"SORT_KEY","\u308c\u3053\u304a\u3068\u304a\u3075\u3059\u3061\u3044\u3080"),C(x[0],"HELP_MESSAGE","2S2@1\nRecordOfSteam : (2S2@1) \uff1e 1,2,3,4 \uff1e 1\u56de\u8ee2 \uff1e \u6210\u529f\u65702\n\n4S3@2\nRecordOfSteam : (4S3@2) \uff1e 2,1,2,4,4,4,2,3,4,5,6,6 \uff1e 4\u56de\u8ee2 \uff1e \u6210\u529f\u65705\n"),A.$register_prefix("\\d+S\\d+"),m(A,"$eval_game_system_specific_command",function(o){var l,$,a=this,r=t,s=t,i=t,u=t,b=t,q=t,F=t,U=t,W=t,X=t;return v(/(\d+)[sS](\d+)(@(\d+))?/i["$=~"](o))?(r=D("Regexp").$last_match(1).$to_i(),s=D("Regexp").$last_match(2).$to_i(),i=D("Regexp").$last_match(4),i=(i=v(u=i)?u:1).$to_i(),v(S(r,150))||v(S(i,3))?"(\u591a\u5206)\u7121\u9650\u500b\u306a\u306e\u3067\u632f\u308c\u307e\u305b\u3093\uff01 \u30e4\u30e1\u30c6\u30af\u30c0\u30b5\u30a4\u3001(\u30d7\u30ed\u30bb\u30b9\u304c)\u6b7b\u3093\u3067\u3057\u307e\u3044\u307e\u3059\u3063":($=a.$getDiceRollResult(r,s,i,i),b=null==(l=R($))[1]?t:l[1],q=null==l[3]?t:l[3],F=null==l[4]?t:l[4],U="("+o+") \uff1e "+(null==l[0]?t:l[0]),W=a.$getRoundCountText(null==l[2]?t:l[2]),X=a.$getSuccessText(b),""+U+W+a.$getSpecialText(q)+X+a.$getFumbleText(F))):"1"},1),m(A,"$getDiceRollResult",function(o,l,$,a){var s=this,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t;for(i=0,u=0,_="",c=0,b=!1,f=0,q=!1;v(h(o,0));){if(U=(F=s.randomizer.$roll_barabara(o,6)).$join(","),g(_,"")&&(_=y(_,",")),_=y(_,U),k(F.$uniq().$length(),1)&&k(u,0)&&(v(p(F.$uniq().$first(),a))?b=!0:k(F.$uniq().$first(),6)&&(q=!0)),s.$debug("diceList",F),v(b))return c=1,[_,i=E(o,3),u,c,f];if(v(q))return[_,i,u,c,f=1];o=0,M(F,"map",[],function W(X){var Q=null==W.$$s?this:W.$$s;return null==X&&(X=t),Q.$debug("diceValue",X),Q.$debug("criticalValue",$),Q.$debug("specialValue",a),v(p(X,$))&&(o=y(o,2),u=y(u,1)),v(p(X,l))?i=y(i,1):t},{$$arity:1,$$s:s})}return[_,i,u,c,f]},4),m(A,"$getRoundCountText",function(o){return v(p(o,0))?"":" \uff1e "+o+"\u56de\u8ee2"},1),m(A,"$getSuccessText",function(o){return v(h(o,0))?" \uff1e \u6210\u529f\u6570"+o:" \uff1e \u5931\u6557"},1),m(A,"$getSpecialText",function(o){return k(o,1)?" \uff1e \u30b9\u30da\u30b7\u30e3\u30eb":t},1),m(A,"$getFumbleText",function(o){return k(o,1)?" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb":t},1)})},573:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.truthy,R=e.def,m=e.rb_le,h=e.rb_plus,g=e.send,y=e.rb_gt,k=e.to_a,p=e.rb_minus,E=e.hash2,M=e.eqeqeq,L=e.rb_ge;return G=H,P=N=[B(H[0],"BCDice")].concat(G),J=[B(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=C(J[0],I("Base"),"Revulture")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,v(D[0],"ID","Revulture"),v(D[0],"NAME","\u5149\u7815\u306e\u30ea\u30f4\u30a1\u30eb\u30c1\u30e3\u30fc"),v(D[0],"SORT_KEY","\u3053\u3046\u3055\u3044\u306e\u308a\u3046\u3042\u308b\u3061\u3084\u3042"),v(D[0],"HELP_MESSAGE","\u25a0\u30a2\u30bf\u30c3\u30af\u5224\u5b9a\uff08 xAT, xATK, xATTACK \uff09\nx: \u30c0\u30a4\u30b9\u6570\uff08\u52a0\u7b97 + \u3068\u9664\u7b97 / \u3092\u4f7f\u7528\u53ef\u80fd\uff09\n\u4f8b\uff09 3AT, 4ATK, 5+6ATTACK, 15/2AT\n\n\u25a1\u30a2\u30bf\u30c3\u30af\u5224\u5b9a\u3000\u76ee\u6a19\u5024\u3064\u304d\uff08 xAT<=y, xATK<=y, xATTACK<=y \uff09\nx: \u30c0\u30a4\u30b9\u6570\uff08\u52a0\u7b97 + \u3068\u9664\u7b97 / \u3092\u4f7f\u7528\u53ef\u80fd\uff09\ny: \u76ee\u6a19\u5024\uff08 1 \u4ee5\u4e0a 6 \u4ee5\u4e0b\u3002\u52a0\u7b97 + \u3092\u4f7f\u7528\u53ef\u80fd\uff09\n\u4f8b\uff09 3AT<=4, 3AT<=2+1\n\n\u25a1\u30a2\u30bf\u30c3\u30af\u5224\u5b9a\u3000\u76ee\u6a19\u5024\uff06\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u3064\u304d\uff08 xAT<=y[>=a:+b], xATK<=y[>=a:+b], xATTACK<=y[z] \uff09\nx: \u30c0\u30a4\u30b9\u6570\uff08\u52a0\u7b97 + \u3068\u9664\u7b97 / \u3092\u4f7f\u7528\u53ef\u80fd\uff09\ny: \u76ee\u6a19\u5024\uff08 1 \u4ee5\u4e0a 6 \u4ee5\u4e0b\u3002\u52a0\u7b97 + \u3092\u4f7f\u7528\u53ef\u80fd\uff09\nz: \u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u306e\u898f\u5247\uff08\u8a73\u7d30\u306f\u5f8c\u8ff0\uff09\uff08\u203b\u8907\u6570\u540c\u6642\u306b\u6307\u5b9a\u53ef\u80fd\uff09\n\n\u25bd\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u306e\u898f\u5247 [a:+b]\na: \u30d2\u30c3\u30c8\u6570\u304c a \u306a\u3089\n\u3000=a\u3000\uff08\u30d2\u30c3\u30c8\u6570\u304c a \u306b\u7b49\u3057\u3044\uff09\n\u3000>=a\u3000\uff08\u30d2\u30c3\u30c8\u6570\u304c a \u4ee5\u4e0a\uff09\nb: \u30c0\u30e1\u30fc\u30b8\u3092 b \u70b9\u8ffd\u52a0\n\n\u4f8b\uff09 3AT<=4[>=2:+3] #\u30eb\u30fc\u30eb\u30d6\u30c3\u30afp056\u300c\u30b0\u30ec\u30f3\u30b0\u30e9\u30f3\u30c8AR\u300d\n\u4f8b\uff09 2AT<=4[=1:+5][>=2:+8] #\u30eb\u30fc\u30eb\u30d6\u30c3\u30afp067\u300c\u30d5\u30a1\u30fc\u30dc\u30eb\u30fb\u30c9\u30e9\u30b4\u30f3\u30d6\u30ec\u30b9\u300d\n"),v(D[0],"ATTACK_ROLL_REG",/^(\d+([+\/]\d+)*)?AT(TACK|K)?(<=([1-6](\+\d)*))?((\[>?=\d+:\+\d+\])+)?/i.$freeze()),x.$register_prefix("\\d+([+\\/]\\d+)*AT"),R(x,"$eval_game_system_specific_command",function(l){var a=t;return S(a=T("ATTACK_ROLL_REG").$match(l))?this.$roll_attack(a["$[]"](1),a["$[]"](5),a["$[]"](7)):t},1),x.$private(),R(x,"$roll_attack",function(l,$,a){var s,u,r=this,i=t,_=t,c=t,b=t,f=t,q=t;return s=T("Arithmetic").$eval(l,n(T("RoundType"),"FLOOR")),S($)&&(i=T("Arithmetic").$eval($,n(T("RoundType"),"FLOOR")).$clamp(1,6)),u=r.$make_command_text(s,i,a),S(m(s,0))?u+" \uff1e \u30c0\u30a4\u30b9\u6570\u304c 0 \u3067\u3059":S(i["$nil?"]())&&S(a)?u+" \uff1e \u76ee\u6a19\u5024\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u3092\u7b97\u51fa\u3067\u304d\u307e\u305b\u3093":(_=r.randomizer.$roll_barabara(s,6).$sort(),c=_.$count(1),S(i)&&(b=h(g(_,"count",[],function(U){return null==U&&(U=t),m(U,i)},1),c)),f=r.$calc_damage(b,a),(q=[])["$<<"](u),q["$<<"](_.$join(",")),S(y(c,0))&&q["$<<"]("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb "+c),S(b)&&q["$<<"]("\u30d2\u30c3\u30c8\u6570 "+b),S(f)&&q["$<<"]("\u30c0\u30e1\u30fc\u30b8 "+f),g(T("Result").$new(q.$join(" \uff1e ")),"tap",[],function(U){var W=t;return null==U&&(U=t),S(b)&&(W=[y(b,0)],g(U,"condition=",k(W)),p(W.length,1)),W=[y(c,0)],g(U,"critical=",k(W)),W[p(W.length,1)]},1))},3),R(x,"$make_command_text",function(l,$,a){var r=t;return r=l+"attack",S($)&&(r=h(r,"<="+$)),S(a)&&(r=h(r,a)),"("+r+")"},3),R(x,"$calc_damage",function(l,$){var r=t;return S($)?(r=l,g(this.$parse_additional_damage_rules($),"each",[],function(i){return null==i&&(i=t),S(i["$[]"]("condition").$call(l))?r=h(r,i["$[]"]("additinal_damage")):t},1),r):t},2),R(x,"$parse_additional_damage_rules",function(l){return g(l.$scan(/\[(>?=)(\d+):\+(\d+)\]/),"map",[],function a(r){return null==r&&(r=t),E(["condition","additinal_damage"],{condition:(null==a.$$s?this:a.$$s).$make_additional_damage_condition(r["$[]"](0),r["$[]"](1).$to_i()),additinal_damage:r["$[]"](2).$to_i()})},{$$arity:1,$$s:this})},1),R(x,"$make_additional_damage_condition",function(l,$){var r;return M("=",r=l)?g(this,"lambda",[],function(i){return null==i&&(i=t),i["$=="]($)},1):M(">=",r)?g(this,"lambda",[],function(i){return null==i&&(i=t),L(i,$)},1):t},2)})},3592:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.send,h=e.truthy,g=e.to_ary,y=e.neqeq,k=e.rb_plus,p=e.rb_lt,E=e.rb_ge,M=e.rb_le,L=e.eqeq;return G=H,P=N=[n(H[0],"BCDice")].concat(G),J=[n(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=B(J[0],I("Base"),"RokumonSekai2")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,C(D[0],"ID","RokumonSekai2"),C(D[0],"NAME","\u516d\u9580\u4e16\u754cRPG \u30bb\u30ab\u30f3\u30c9\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3"),C(D[0],"SORT_KEY","\u308d\u304f\u3082\u3093\u305b\u304b\u3044RPG2"),C(D[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\naRSm<=t\n\u80fd\u529b\u5024a,\u4fee\u6b63\u5024m,\u76ee\u6a19\u5024t\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\nR\u30b3\u30de\u30f3\u30c9(3R6m<=t[a])\u306b\u8aad\u307f\u66ff\u3048\u307e\u3059\u3002\n\u6210\u529f\u5ea6\u3001\u8a55\u4fa1\u3001\u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b) 3RS+1<=9\u30003R6+1<=9[3]\n"),x.$register_prefix("\\d+RS","3R6"),R(x,"$initialize",function o(l){var a=this;return delete o.$$p,v(a,S(a,"initialize",o,!1,!0),"initialize",[l],null),a.sort_add_dice=!0},1),R(x,"$replace_text",function(l){return l=m(l,"gsub",[/(\d+)RS([+\-][+\-\d]+)<=(\d+)/i],function(){return"3R6"+T("Regexp").$last_match(2)+"<="+T("Regexp").$last_match(3)+"["+T("Regexp").$last_match(1)+"]"},0),m(l,"gsub",[/(\d+)RS<=(\d+)/i],function(){return"3R6<="+T("Regexp").$last_match(2)+"["+T("Regexp").$last_match(1)+"]"},0)},1),R(x,"$eval_game_system_specific_command",function(l){var $,a,r=this,s=t,i=t,u=t,_=t,b=t,q=t;return l=r.$replace_text(l),h(/3R6([+\-\d]*)<=(\d+)\[(\d+)\]/i["$=~"](l))?(s=T("Regexp").$last_match(1),i=T("Regexp").$last_match(2).$to_i(),u=T("Regexp").$last_match(3).$to_i(),_=0,h(s)&&(_=T("ArithmeticEvaluator").$eval(s)),a=r.$rokumon2_roll(_,i,u),q=(null==($=g(a))[2]?t:$[2])+"["+(null==$[0]?t:$[0])+"] \uff1e "+(b=null==$[1]?t:$[1])+" \uff1e \u8a55\u4fa1"+r.$rokumon2_suc_rank(b),y(b,0)&&(q=k(q,"(+"+b+"d6)")),q="("+l+") \uff1e "+q):t},1),R(x,"$rokumon2_roll",function(l,$,a){var u,s=t,i=t,_=t,c=t,b=t;return s=0,u=(i=this.randomizer.$roll_barabara(k(3,l.$abs()),6).$sort()).$join(","),m(l.$abs(),"times",[],function(q){return null==q&&(q=t),h(p(l,0))?i.$shift():i.$pop()},1),_=0,c=0,b=0,m(i,"each",[],function(q){return null==q&&(q=t),h(E(q,5))&&(_=k(_,1)),h(M(q,2))&&(c=k(c,1)),h(M(q,a))&&(s=k(s,1)),b=k(b,q)},1),h(p(b,$))?s=k(s,2):L(b,$)&&(s=k(s,1)),h(E(_,3))&&(s=0),h(E(c,3))&&(s=5),[u,s,b]},3),R(x,"$rokumon2_suc_rank",function(l){return["E","D","C","B","A","S"]["$[]"](l)},1)})},7612:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var h,p,j,N,K,M,L,y,H=[],n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[n(y[0],"GameSystem")].concat(p),L=e.$r(M),j=M,C((K=[N=B(M[0],L("Base"),"RoleMaster")].concat(j))[0],"ID","RoleMaster"),C(K[0],"NAME","\u30ed\u30fc\u30eb\u30de\u30b9\u30bf\u30fc"),C(K[0],"SORT_KEY","\u308d\u304a\u308b\u307e\u3059\u305f\u3042"),C(K[0],"HELP_MESSAGE","\u4e0a\u65b9\u7121\u9650\u30ed\u30fc\u30eb(xUn)\u306e\u5883\u754c\u5024\u309296\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n"),R(N,"$initialize",function P(V){var I=this;return delete P.$$p,v(I,S(I,"initialize",P,!1,!0),"initialize",[V],null),I.upper_dice_reroll_threshold=96},1)})},7543:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var p,Y,V,J,I,w,j,N,M,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.rb_divide,R=e.truthy,m=e.rb_le,h=e.rb_ge,g=e.rb_plus,y=e.def;return p=H,Y=M=[n(H[0],"BCDice")].concat(p),j=[n(M[0],"GameSystem")].concat(Y),N=e.$r(j),V=j,I=[J=B(j[0],N("Base"),"RuneQuest")].concat(V),w=e.$r(I),C(I[0],"ID","RuneQuest"),C(I[0],"NAME","\u30eb\u30fc\u30f3\u30af\u30a8\u30b9\u30c8"),C(I[0],"SORT_KEY","\u308b\u3046\u3093\u304f\u3048\u3059\u3068"),C(I[0],"HELP_MESSAGE","\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30a8\u30d5\u30a7\u30af\u30c6\u30a3\u30d6(\u52b9\u679c\u7684\u6210\u529f)\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),y(J,"$result_1d100",function(A,x,D,T){var d=t;return v(T,"?")?w("Result").$nothing():v(D,"<=")?(d=S(T.$to_f(),20).$round(),R(m(A,1))||R(m(A,d))?w("Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):R(h(A,100))?w("Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):R(m(A,S(T.$to_f(),5).$round()))?w("Result").$success("\u52b9\u679c\u7684\u6210\u529f"):R(m(A,T))?w("Result").$success("\u6210\u529f"):R(h(A,g(95,d)))?w("Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):w("Result").$failure("\u5931\u6557")):t},4)})},1287:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var g,E,j,N,K,P,V,L,k,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.truthy,R=e.def,m=e.rb_minus;return g=H,E=k=[n(H[0],"BCDice")].concat(g),j=L=[n(k[0],"DiceTable")].concat(E),K=[N=B(L[0],null,"Table")].concat(j),P=e.$r(K),(V=N.$$prototype).times=V.sides=V.name=V.items=t,v(N,"$from_i18n",function(I,w){var A=t;return A=P("I18n").$t(I,C(["locale"],{locale:w})),this.$new(A["$[]"]("name"),A["$[]"]("type"),A["$[]"]("items"))},2),R(N,"$initialize",function(I,w,z){var A=this,x=t;return A.name=I,A.items=z.$freeze(),x=/(\d+)D(\d+)/i.$match(w),S(x)||A.$raise(P("ArgumentError"),"Unexpected table type: "+w),A.times=x["$[]"](1).$to_i(),A.sides=x["$[]"](2).$to_i()},3),R(N,"$roll",function(I){var z,w=this;return z=I.$roll_sum(w.times,w.sides),w.$choice(z)},1),R(N,"$choice",function(I){var z,w=this;return z=m(I,w.times),P("RollResult").$new(w.name,I,w.items["$[]"](z))},1)},Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.truthy,m=e.def,h=e.hash2,g=e.rb_plus;return e.top.$require("bcdice/dice_table/table"),k=t,L=E=[C(t[0],"BCDice")].concat(k),G=[C(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=v(G[0],j("Base"),"RyuTuber")].concat(P),I=e.$r(J),S(J[0],"ID","RyuTuber"),S(J[0],"NAME","\u30ea\u30e5\u30fc\u30c1\u30e5\u30fc\u30d0\u30fc\u3068\u3061\u3044\u3055\u306a\u5947\u8de1"),S(J[0],"SORT_KEY","\u308a\u3086\u3046\u3061\u3086\u3046\u306f\u3042\u3068\u3061\u3044\u3055\u306a\u304d\u305b\u304d"),S(J[0],"HELP_MESSAGE","\u25c6\u5224\u5b9a\n\u3000\u30fb\u5224\u5b9a\u3000nB6<=1\n\u3000\u3000\u203b\u3000n:\u30b5\u30a4\u30b3\u30ed\u306e\u6570\u3000\u4f8b\uff0912B6<=1\u3000\u30b5\u30a4\u30b3\u30ed\u306e\u657012\u500b\u306e\u5834\u5408\n\u3000\u30fb\u5224\u5b9a\u30eb\u30fc\u30eb\u3092\u8868\u793a\u3059\u308b\u3000RTB\n\u25c6\u8077\u696d\u3000\uff08\u30ab\u30c3\u30b3\u5185\u306f\u4f7f\u3048\u305d\u3046\u306a\u6280\u80fd\uff09\n\u3000\u30fb\u8077\u696d\u8868\u3000JT\n\u3000\u30fb\u5b66\u751f\u8868\u3000JST\n\u3000\u30fb\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868\u3000JTPT\n\u3000\u30fb\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868\u3000JOST\n\u3000\u30fb\u30a8\u30f3\u30bf\u30e1\u8077\u8868\u3000JET\n\u25c6\u8da3\u5473\u3000\uff08\u30ab\u30c3\u30b3\u5185\u306f\u4f7f\u3048\u305d\u3046\u306a\u6280\u80fd\uff09\n\u3000\u30fb\u8da3\u5473\u8868\u3000HT\n\u3000\u30fb\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868\u3000HGT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868A\u3000HIAT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868B\u3000HIBT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868A\u3000HOAT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868B\u3000HOBT\n\u25c6\u5947\u8de1\u306e\u6f14\u76ee\u3092\u8868\u793a\u3059\u308b\n\u3000\u30fb\u5e78\u904b\u306e\u98a8\u304c\u5439\u3044\u3066\u3044\u308b MPW\n\u3000\u30fb\u56f0\u3063\u305f\u6642\u306f\u304a\u4e92\u3044\u69d8 MPT\n\u3000\u30fb\u60aa\u3044\u4e88\u611f\u306f\u7684\u4e2d\u3059\u308b MPF\n\u3000\u30fb\u3064\u3044\u3066\u3044\u3044\u5618\u3082\u3042\u308b MPL\n\u3000\u30fb\u79c1\u306b\u306f\u661f\u304c\u898b\u3048\u3066\u3044\u308b MPS\n\u3000\u30fb\u5fc3\u306f\u7adc\u3068\u5171\u306b\u3042\u308a MPD\n\u3000\u30fb\u4eba\u306f\u77f3\u57a3\u3001\u4eba\u306f\u57ce MPH\n"),m(V,"$eval_game_system_specific_command",function(z){var x,D=n;return R(x=this.$roll_tables(z,I("TABLES")))?x:R(D=I("TEXTS")["$[]"](z))?D.$chomp():n},1),S(J[0],"TEXTS",h(["RTB","MPW","MPT","MPF","MPL","MPS","MPD","MPH"],{RTB:"\u5224\u5b9a\u30eb\u30fc\u30eb\u8868\u793a\n\u2460\u67a0\u4e3b\u304c\u5224\u5b9a\u5185\u5bb9\u3092\u5ba3\u8a00\u3001\u5224\u5b9a\u53c2\u52a0\u8005\u304c\u884c\u52d5\u5ba3\u8a00\n\u2461\u30b5\u30a4\u30b3\u30ed\u306f\u7adc\u306e\u5deb\u5973\u306a\u30896\u500b\u3001\u6280\u80fd\u30ec\u30d9\u30eb\u304b\u6307\u5b9a\u9b45\u529b\u306e\u5024\u500b\u3001\u5947\u8de1\u306e\u6f14\u76ee\u30921\u3064\u4ee5\u4e0a\u30af\u30ea\u30a2\u3067+6\u500b\u3001\u30b9\u30d1\u306e\u6d88\u8cbb\u6570\u500b\n\u2462\u632f\u3063\u305f\u30b5\u30a4\u30b3\u30ed\u306e\u300c1\u306e\u76ee\u300d\u306e\u6570\u304c\u76ee\u6a19\u5024\u4ee5\u4e0a\u306a\u3089\u83ef\u9e97\u306b\u6210\u529f\u3001\u76ee\u6a19\u5024\u672a\u6e80\u306a\u3089\u3061\u3087\u3063\u3068\u6b8b\u5ff5\u306a\u7d50\u679c\n",MPW:"\u5e78\u904b\u306e\u98a8\u304c\u5439\u3044\u3066\u3044\u308b\n\u5947\u8de1\u3000\u4ee5\u964d\u30b2\u30fc\u30e0\u7d42\u4e86\u307e\u3067\u3001\u30b5\u30a4\u30b3\u30ed+1\n\u2460\u5065\u6c17\u306b\u9811\u5f35\u308b\u59ff\u3092\u898b\u305b\u308b\u3002\n\u2461\u5831\u308f\u308c\u308b\u3053\u3068\u306f\u306a\u304f\u3001\u3055\u3089\u306b\u6700\u60aa\u306e\u5c55\u958b\u306b\u3002\n\u2462\u305d\u308c\u3067\u3082\u5065\u6c17\u306a\u3068\u3053\u308d\u3092\u898b\u305b\u308b\u3002\n",MPT:"\u56f0\u3063\u305f\u6642\u306f\u304a\u4e92\u3044\u69d8\n\u5947\u8de1\u3000\u305d\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u5224\u5b9a\u30b5\u30a4\u30b3\u30ed\u30921\u56de\u632f\u308a\u76f4\u3057\u3067\u304d\u308b\n\u2460\u3051\u3061\u306a\u69d8\u5b50\u3092\u898b\u305b\u308b\u3002\n\u2461\u56f0\u3063\u3066\u3044\u308b\u4eba\u306b\u65bd\u3057\u3092\u3059\u308b\u59ff\u3092\u898b\u3089\u308c\u308b\u3002\n\u2462\u7aae\u5730\u306b\u9665\u308b\u3002\n",MPF:"\u60aa\u3044\u4e88\u611f\u306f\u7684\u4e2d\u3059\u308b\n\u5947\u8de1\u30001\u5224\u5b9a\u3060\u3051\u3001\u30b5\u30a4\u30b3\u30ed+3\n\u2460\u72a0\u7272\u8005\u304c\u60aa\u3044\u5642\u3092\u8033\u306b\u3059\u308b\u3002\n\u2461\u72a0\u7272\u8005\u304c\u60aa\u3044\u5197\u8ac7\u3092\u8a00\u3046\u3002\n\u2462\u72a0\u7272\u8005\u304c\u60aa\u3044\u4e88\u611f\u306b\u5fc3\u3055\u3056\u3081\u304d\u3001\u8ab0\u304b\u306b\u60aa\u3044\u4e88\u611f\u3092\u8a71\u3059\u3002\n",MPL:"\u3064\u3044\u3066\u3044\u3044\u5618\u3082\u3042\u308b\n\u5947\u8de1\u3000\u3064\u3044\u305f\uff08\u3055\u3055\u3084\u304b\u306a\uff09\u5618\u304c\u672c\u5f53\u306b\u306a\u308b\u3000\u67a0\u4e3b\u5224\u65ad\u3067\u3044\u3064\u304b\u767a\u52d5\u3059\u308b\u3002\n\u2460\u5618\u3092\u8a00\u3046\u3002\n\u2461\u5618\u306b\u3088\u3063\u3066\u7aae\u5730\u306b\u7acb\u3064\u3002\n\u2462\u5618\u3092\u5618\u306b\u3057\u306a\u3044\u305f\u3081\u306b\u3042\u304c\u304f\u3002\n",MPS:"\u79c1\u306b\u306f\u661f\u304c\u898b\u3048\u3066\u3044\u308b\n\u5947\u8de1\u3000\u6307\u5b9a\u3057\u305f\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u6b21\u306e\u884c\u52d5\u304c\u308f\u304b\u308b\n\u2460\u5c11\u3057\u5148\u306e\u3053\u3068\u3092\u8a00\u3044\u5f53\u3066\u308b\u3002\n\u2461\u6c17\u5473\u304c\u60aa\u3044\u3068\u5642\u306b\u306a\u308b\u3002\n\u2462\u8a00\u3044\u5f53\u3066\u308b\u529b\u3092\u4eba\u9593\u89b3\u5bdf\u306b\u7528\u3044\u308b\u3002\n",MPD:"\u5fc3\u306f\u7adc\u3068\u5171\u306b\u3042\u308a\n\u5947\u8de1\u3000\u8d77\u3053\u308a\u3046\u308b\u4e0d\u5e78\u3092\u963b\u6b62\u3059\u308b\n\u2460\u5fc3\u6e05\u3044\u3072\u3068\u306b\u52a9\u3051\u3089\u308c\u308b\u3002\n\u2461\u81ea\u5206\u306e\u6027\u6839\u60aa\u3055\u3092\u60b2\u3057\u3080\u3002\n\u2462\u81ea\u5206\u306a\u308a\u306e\u3084\u308a\u65b9\u3067\u5fc3\u6e05\u3044\u884c\u3044\u3092\u3059\u308b\u3002\n",MPH:"\u4eba\u306f\u77f3\u57a3\u3001\u4eba\u306f\u57ce\n\u5947\u8de1\u3000\u611f\u5316\u3055\u308c\u305f\u5468\u308a\u306e\u4eba\u304c\u624b\u4f1d\u3046\u3088\u3046\u306b\u306a\u308b\n\u2460\u4eba\u3005\u306e\u4e0d\u5e78\u3092\u898b\u3066\u3001\u89aa\u5207\u306b\u3057\u3066\u3057\u307e\u3046\u3002\n\u2461\u3051\u306a\u3052\u306b\u9811\u5f35\u308b\u59ff\u3092\u898b\u3089\u308c\u308b\u3002\n\u2462\u898b\u3066\u3044\u305f\u4eba\u3005\u304c\u96c6\u307e\u3063\u3066\u304f\u308b\u3002\n"}).$freeze()),S(J[0],"TABLES",h(["JT","JST","JTPT","JOST","JET","HT","HGT","HIAT","HIBT","HOAT","HOBT"],{JT:B(I("DiceTable"),"Table").$new("\u8077\u696d\u8868","1D6",["\u5b66\u751f\u8868\u3078","\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868\u3078","\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868\u3078","\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868\u3078","\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868\u3078","\u30a8\u30f3\u30bf\u30e1\u8077\u8868\u3078"]),JST:B(I("DiceTable"),"Table").$new("\u5b66\u751f\u8868","1D6",["\u4e2d\u5b66\u751f\u3000\uff08\u30b2\u30fc\u30e0\u3000\u904b\u52d5\u3059\u308b\uff09","\u9ad8\u6821\u751f\uff08\u6587\u7cfb\uff09\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u6587\u7ae0\u3092\u66f8\u304f\uff09","\u9ad8\u6821\u751f\uff08\u7406\u7cfb\uff09\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u79d1\u5b66\u306e\u77e5\u8b58\uff09","\u5c02\u9580\u5b66\u6821\u751f\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u8a2d\u8a08\u3059\u308b\uff09","\u5927\u5b66\u751f\uff08\u6587\u7cfb\uff09\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u5916\u56fd\u8a9e\uff09","\u5927\u5b66\u751f\uff08\u7406\u7cfb\uff09\u3000\uff08\u3059\u3054\u3044\u6280\u8853\u3000\u79d1\u5b66\u306e\u77e5\u8b58\uff09"]),JTPT:B(I("DiceTable"),"Table").$new("\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868","2D6",["\u52dd\u8ca0\u5e2b\u30fb\u5c71\u5e2b\u3000\uff08\u6d1e\u5bdf\u529b\u3000\u7cbe\u795e\u529b\uff09","\u6f01\u5e2b/\u731f\u5e2b\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u6599\u7406\u3059\u308b\uff09","\u5efa\u7bc9\u5bb6\u3001\u5927\u5de5\u3000\uff08\u8a2d\u8a08\u3059\u308b\u3000\u904b\u8ee2\u3059\u308b\uff09","\u6599\u7406\u4eba\u3000\uff08\u6599\u7406\u3059\u308b\u3000\u3082\u306e\u3065\u304f\u308a\uff09","\u8077\u4eba\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u4e01\u5be7\uff09","\u8fb2\u5bb6\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u80b2\u3066\u308b\uff09","\u533b\u7642\u30fb\u798f\u7949\u95a2\u4fc2\uff08\u533b\u5e2b\u3001\u85ac\u5264\u5e2b\u3001\u4ecb\u8b77\u8077\uff09\u3000\uff08\u6cbb\u3059\u3000\u79d1\u5b66\u306e\u77e5\u8b58\uff09","\u7f8e\u5bb9\u3001\u30b9\u30bf\u30a4\u30ea\u30b9\u30c8\u3000\uff08\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\u3000\u4ef2\u826f\u304f\u3059\u308b\uff09","\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u3000\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u3000\u8a2d\u8a08\u3059\u308b\uff09","\u58eb\u696d\uff08\u7a0e\u7406\u58eb\u3001\u5f01\u8b77\u58eb\u3001\u884c\u653f\u66f8\u58eb\u7b49\uff09\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u4e8b\u52d9\u4ed5\u4e8b\uff09","\u7814\u7a76\u8005\u3000\uff08\u6559\u3048\u308b\u3000\u3059\u3054\u3044\u6280\u8853\uff09"]),JOST:B(I("DiceTable"),"Table").$new("\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868","2D6",["\u5b97\u6559\u95a2\u4fc2\uff08\u5deb\u5973\u3001\u50e7\u4fb6\u306a\u3069\uff09\u3000\uff08\u304a\u7948\u308a\u3059\u308b\u3000\u5730\u5143\u77e5\u8b58\uff09","\u89b3\u5149\u3001\u65c5\u884c\u3000\uff08\u5916\u56fd\u8a9e\u3000\u5730\u5143\u77e5\u8b58\uff09","\u6559\u5e2b\u3001\u4fdd\u80b2\u58eb\u3000\uff08\u6559\u3048\u308b\u3000\u80b2\u3066\u308b\uff09","\u904b\u8ee2\u624b\u3001\u914d\u9054\u54e1\u3000\uff08\u904b\u8ee2\u3059\u308b\u3000\u5730\u5143\u77e5\u8b58\uff09","\u81ea\u5b85\u8b66\u5099\u54e1\u3000\uff08\u30b2\u30fc\u30e0\u3000\u60f3\u50cf\u529b\uff09","\u30b5\u30e9\u30ea\u30fc\u30de\u30f3\u3000\uff08\u4e8b\u52d9\u4ed5\u4e8b\u3000\u4ef2\u826f\u304f\u3059\u308b\uff09","\u5e97\u54e1\u3000\uff08\u4e01\u5be7\u3000\u5546\u54c1\u77e5\u8b58\uff09","\u516c\u52d9\u54e1\u3000\uff08\u4e8b\u52d9\u4ed5\u4e8b\u3000\u5730\u5143\u77e5\u8b58\uff09","\u8b66\u5bdf\u3001\u81ea\u885b\u968a\u3001\u6d88\u9632\u58eb\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u6226\u3046\uff09","\u6295\u8cc7\u5bb6\u3001\u91d1\u878d\u696d\u3001\u4e0d\u52d5\u7523\u3000\uff08\u30d7\u30ec\u30bc\u30f3\u3059\u308b\u3000\u4e8b\u52d9\u4ed5\u4e8b\uff09","\u7d4c\u55b6\u8005\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u4ef2\u826f\u304f\u3059\u308b\uff09"]),JET:B(I("DiceTable"),"Table").$new("\u30a8\u30f3\u30bf\u30e1\u8077\u8868","2D6",["\u30b2\u30fc\u30e0\u5236\u4f5c\u3000\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u3000\u3082\u306e\u3065\u304f\u308a\uff09","\u5199\u771f\u5bb6\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u7d75\u3092\u63cf\u304f\uff09","\u30c7\u30b6\u30a4\u30ca\u30fc\u3000\uff08\u8a2d\u8a08\u3059\u308b \u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u30e9\u30a4\u30bf\u30fc\u3000\uff08\u6587\u7ae0\u3092\u66f8\u304f\u3000\u60f3\u50cf\u529b\uff09","\u30a4\u30e9\u30b9\u30c8\u30ec\u30fc\u30bf\u30fc\u3000\uff08\u7d75\u3092\u63cf\u304f\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u5c02\u696d\u914d\u4fe1\u8005\u3000\uff08\u30d7\u30ec\u30bc\u30f3\u3059\u308b\u3000\u30ab\u30ea\u30b9\u30de\uff09","\u58f0\u512a\u3000\uff08\u58f0\u3092\u51fa\u3059\u3000\u6f14\u6280\u3059\u308b\uff09","\u30df\u30e5\u30fc\u30b8\u30b7\u30e3\u30f3\u3000\uff08\u58f0\u3092\u51fa\u3059\u3000\u97f3\u697d\uff09","\u30a2\u30a4\u30c9\u30eb\u30fb\u82b8\u80fd\u4eba\u3000\uff08\u6f14\u6280\u3059\u308b\u3000\u30ab\u30ea\u30b9\u30de\uff09","\u30d7\u30ed\u30b2\u30fc\u30de\u30fc\u3000\uff08\u30b2\u30fc\u30e0\u3000\u6226\u3046\uff09","\u30d7\u30ed\u30b9\u30dd\u30fc\u30c4\u9078\u624b\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u7cbe\u795e\u529b\uff09"]),HT:B(I("DiceTable"),"Table").$new("\u8da3\u5473\u8868","1D6",["\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868\u3078","\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868A\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868B\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868A\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868B\u3078"]),HGT:B(I("DiceTable"),"Table").$new("\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868","1D6",["\u5bb6\u65cf\u30b5\u30fc\u30d3\u30b9\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u80b2\u3066\u308b\uff09","\u91ce\u7403\u30fb\u30d5\u30c3\u30c8\u30b5\u30eb\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u904b\u52d5\u3059\u308b\uff09","\u30dc\u30fc\u30c9\u30b2\u30fc\u30e0\uff0f\uff34\uff32\uff30\uff27\uff0f\u56f2\u7881\uff0f\u5c06\u68cb\u3000\uff08\u30b2\u30fc\u30e0\u3000\u60f3\u50cf\u3059\u308b\uff09","\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u3000\uff08\u5fcd\u8010\u529b\u3000\u30ab\u30ea\u30b9\u30de\uff09","\u30b5\u30d0\u30a4\u30d0\u30eb\u30b2\u30fc\u30e0\u3000\uff08\u6226\u3046\u3000\u96a0\u308c\u308b\uff09","\u30d0\u30f3\u30c9\u3000\uff08\u97f3\u697d\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09"]),HIAT:B(I("DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868A","1D6",["\u5de5\u82b8\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u60f3\u50cf\u529b\uff09","\u7de8\u307f\u7269\u3000\uff08\u4e01\u5be7\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u9676\u82b8\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u60f3\u50cf\u529b\uff09","\u30d7\u30e9\u30e2\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u540c\u4eba\u3000\uff08\u7d75\u3092\u63cf\u304f\u3000\u6587\u7ae0\u3092\u66f8\u304f\uff09","\u8aad\u66f8\u3000\uff08\u5916\u56fd\u8a9e\u3000\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\uff09"]),HIBT:B(I("DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868B","1D6",["\u4ed5\u4e8b\u3000\uff08\u4e8b\u52d9\u4ed5\u4e8b\u3000\u5fcd\u8010\u529b\uff09","\u8cc7\u683c\u96c6\u3081\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u5546\u54c1\u77e5\u8b58\uff09","\u304a\u7d75\u304b\u304d\u3000\uff08\u7d75\u3092\u63cf\u304f\u3000\u60f3\u50cf\u529b\uff09","\u6599\u7406\u3000\uff08\u6599\u7406\u3059\u308b\u3000\u8a2d\u8a08\u3059\u308b\uff09","\u7b4b\u30c8\u30ec\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u5fcd\u8010\u529b\uff09","\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u30b2\u30fc\u30e0\u3000\uff08\u30b2\u30fc\u30e0\u3000\u30d7\u30ed\u30b0\u30e9\u30e0\uff09"]),HOAT:B(I("DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868A","1D6",["\u30b9\u30dd\u30fc\u30c4\u89b3\u6226\u3000\uff08\u5fcd\u8010\u529b\u3000\u304a\u7948\u308a\u3059\u308b\uff09","\u6c34\u6cf3\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u6cf3\u3050\uff09","\u65c5\u884c\uff0f\u9244\u9053\u3000\uff08\u79fb\u52d5\u3059\u308b\u3000\u5916\u56fd\u8a9e\uff09","\u5199\u771f\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u60f3\u50cf\u529b\uff09","\u30b8\u30b0\u30bd\u30fc\u30d1\u30ba\u30eb\u3000\uff08\u30b2\u30fc\u30e0\u3000\u5fcd\u8010\u529b\uff09","\u30de\u30e9\u30bd\u30f3\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u5fcd\u8010\u529b\uff09"]),HOBT:B(I("DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868B","1D6",["\u30b9\u30ad\u30fc\u30fb\u30b9\u30ce\u30fc\u30dc\u30fc\u30c9\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u81ea\u7136\u306e\u77e5\u8b58\uff09","\u81ea\u8ee2\u8eca\u3000\uff08\u79fb\u52d5\u3059\u308b\u3000\u904b\u52d5\u3059\u308b\uff09","\u76c6\u683d\u30fb\u751f\u82b1\u3000\uff08\u4e01\u5be7\u3000\u80b2\u3066\u308b\uff09","\u30ad\u30e3\u30f3\u30d7\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u7cbe\u795e\u529b\uff09","\u6620\u753b\u9451\u8cde\u3000\uff08\u6f14\u6280\u3059\u308b\u3000\u60f3\u50cf\u529b\uff09","\u604b\u611b\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09"])}).$freeze()),V.$register_prefix(g(I("TEXTS").$keys(),I("TABLES").$keys()))})},8123:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,d,J,I,N,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.truthy,h=e.to_ary,g=e.eqeq,y=e.rb_plus,k=e.neqeq,p=e.rb_divide,E=e.rb_ge,M=e.rb_gt,L=e.rb_lt;return G=H,P=N=[n(H[0],"BCDice")].concat(G),J=[n(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=B(J[0],I("Base"),"Ryutama")].concat(A),T=e.$r(D),(d=x.$$prototype).validDiceTypes=d.randomizer=t,C(D[0],"ID","Ryutama"),C(D[0],"NAME","\u308a\u3085\u3046\u305f\u307e"),C(D[0],"SORT_KEY","\u308a\u3086\u3046\u305f\u307e"),C(D[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u3000Rx,y>=t\uff08x,y\uff1a\u4f7f\u7528\u3059\u308b\u80fd\u529b\u5024\u3001t\uff1a\u76ee\u6a19\u5024\uff09\n\u30001\u30be\u30ed\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3082\u542b\u3081\u3066\u5224\u5b9a\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\n\u3000\u80fd\u529b\u5024\uff11\u3064\u3067\u306e\u5224\u5b9a\u306f Rx>=t \u3067\u884c\u3048\u307e\u3059\n\u4f8b\uff09R8,6>=13\n"),x.$register_prefix("R"),R(x,"$initialize",function o(l){var a=this;return delete o.$$p,v(a,S(a,"initialize",o,!1,!0),"initialize",[l],null),a.validDiceTypes=[20,12,10,8,6,4,2]},1),R(x,"$eval_game_system_specific_command",function(l){var $,a,r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t;return r.$debug("eval_game_system_specific_command begin"),m(l["$=~"](/^R(\d+)(,(\d+))?([+\-\d]+)?(>=(\d+))?/))?(r.$debug("matched"),s=T("Regexp").$last_match(1).$to_i(),i=T("Regexp").$last_match(3).$to_i(),u=T("Regexp").$last_match(4),_=T("Regexp").$last_match(6),a=r.$getDiceType(s,i),i=null==($=h(a))[1]?t:$[1],g(s=null==$[0]?t:$[0],0)?"":(u=m(c=u)?c:"",b=T("ArithmeticEvaluator").$eval(u),_=r.$getDiffculty(_),f=r.$getRollValue(s),q=r.$getRollValue(i),F=y(y(f,q),b),U=r.$getResultText(f,q,s,i,_,F),m(U["$empty?"]())||(U=" \uff1e "+U),W=f+"("+s+")",X=g(q,0)?"":"+"+q+"("+i+")",Q=r.$getModifyString(b),"("+r.$getBaseText(s,i,b,_)+") \uff1e "+W+X+Q+" \uff1e "+F+U)):(r.$debug("unmatched!"),"")},1),R(x,"$getDiceType",function(l,$){var a=this,r=t;return a.$debug("getDiceType begin"),k($,0)?m(a.$isValidDiceOne(l))?[l,$]:[0,0]:m(a.$isValidDice(l,$))?[l,$]:(l=p(r=l,10).$to_i(),$=r["$%"](10),m(a.$isValidDice(l,$))?[l,$]:(l=p(r,100).$to_i(),$=r["$%"](100),m(a.$isValidDice(l,$))?[l,$]:m(a.$isValidDiceOne(r))?[r,0]:[0,0]))},2),R(x,"$isValidDice",function(l,$){var r;return m(r=this.$isValidDiceOne(l))?this.$isValidDiceOne($):r},2),R(x,"$isValidDiceOne",function(l){return this.validDiceTypes["$include?"](l)},1),R(x,"$getDiffculty",function(l){return m(l["$nil?"]())||(l=l.$to_i()),l},1),R(x,"$getRollValue",function(l){return g(l,0)?0:this.randomizer.$roll_once(l)},1),R(x,"$getResultText",function(l,$,a,r,s,i){return m(this.$isFamble(l,$))?"\uff11\u30be\u30ed\u3010\uff11\u30be\u30ed\u30dd\u30a4\u30f3\u30c8\uff0b\uff11\u3011":m(this.$isCritical(l,$,a,r))?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6210\u529f":m(s["$nil?"]())?"":m(E(i,s))?"\u6210\u529f":"\u5931\u6557"},6),R(x,"$isFamble",function(l,$){var a;return m(a=l["$=="](1))?$["$=="](1):a},2),R(x,"$isCritical",function(l,$,a,r){return!g($,0)&&!!(g(l,6)&&g($,6)||g(l,a)&&g($,r))},4),R(x,"$getBaseText",function(l,$,a,r){var i=t;return i="R"+l,k($,0)&&(i=y(i,","+$)),i=y(i,this.$getModifyString(a)),m(r["$nil?"]())||(i=y(i,">="+r)),i},4),R(x,"$getModifyString",function(l){return m(M(l,0))?y("+",l.$to_s()):m(L(l,0))?l.$to_s():""},1)})},5762:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var m,k,M,Y,G,p,E,g,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.hash2,v=e.truthy,S=e.def;return m=H,k=g=[B(H[0],"BCDice")].concat(m),E=[p=B(g[0],"ArithmeticEvaluator")].concat(k),Y=[M=e.get_singleton_class(p)].concat(E),G=e.$r(Y),S(M,"$eval",function(N,K){var P,V=t;if(null==K)K=C([],{});else if(!K.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(P=K.$$smap.round_type)&&(P=n(G("RoundType"),"FLOOR")),v(N)&&v(V=G("Arithmetic").$eval(N,P))?V:0},-2)},Opal.queue(function(e){var N,J,D,a,r,s,i,T,d,o,l,w,z,P,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send,m=e.def,h=e.send2,g=e.find_super,y=e.truthy,k=e.eqeqeq,p=e.hash2,E=e.rb_plus,M=e.to_a,L=e.rb_minus,Y=e.rb_ge,G=e.rb_le;return e.top.$require("bcdice/arithmetic_evaluator"),N=t,J=P=[C(t[0],"BCDice")].concat(N),w=[C(P[0],"GameSystem")].concat(J),z=e.$r(w),D=w,d=[T=v(w[0],z("Base"),"SRS")].concat(D),o=e.$r(d),(l=T.$$prototype).round_type=l.randomizer=l.sort_add_dice=n,S(d[0],"ID","SRS"),S(d[0],"NAME","\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9RPG\u30b7\u30b9\u30c6\u30e0"),S(d[0],"SORT_KEY","\u3059\u305f\u3093\u305f\u3042\u3068RPG\u3057\u3059\u3066\u3080"),S(d[0],"HELP_MESSAGE_1","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\uff1a2D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m\u3001\u76ee\u6a19\u5024t\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u3054\u3068\u7701\u7565\u53ef\uff09\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u65e2\u5b9a\u5024\u306f\u3001\u305d\u308c\u305e\u308c12\u30012\u3067\u3059\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6>=10\u3000\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10\u3000\u3000\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u76ee\u6a19\u502410\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[11]\u3000\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2>=10[12,4]\u3000\u2191\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_2","\u3000\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304a\u3088\u3073\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u307f\u306e\u5224\u5b9a\uff1a2D6+m[c,f]\n\u3000\u3000\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u305b\u305a\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u4fee\u6b63\u5024\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\uff08[]\u306f\u7701\u7565\u4e0d\u53ef\uff09\u3002\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3000\u3000\u4f8b) 2d6[]\u3000\u3000\u3000\u3000\u4fee\u6b63\u50240\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[11]\u3000\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502411\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n\u3000\u3000\u4f8b) 2d6+2[12,4]\u3000\u4fee\u6b63\u5024+2\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u50244\u3067\u5224\u5b9a\n"),S(d[0],"HELP_MESSAGE_3","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\uff08\u5165\u308c\u66ff\u3048\u306a\u3057)\n"),S(d[0],"DEFAULT_HELP_MESSAGE",o("HELP_MESSAGE_1")+"\n"+o("HELP_MESSAGE_2")+"\n"+o("HELP_MESSAGE_3")),S(d[0],"HELP_MESSAGE",o("DEFAULT_HELP_MESSAGE")),a=d,s=[r=C(d[0],"ClassMethods")].concat(a),i=e.$r(s),r.$attr_reader("help_message"),r.$attr_reader("aliases_re_for_srs_roll_with_target_value"),r.$attr_reader("aliases_re_for_srs_roll_without_target_value"),m(r,"$set_aliases_for_srs_roll",function(_){var c,f=this,q=n,F=n;return c=e.slice.call(arguments),q=R(c,"map",[],"upcase".$to_proc()),F=R(q,"map",[],function(W){return null==W&&(W=n),i("Regexp").$escape(W)},1).$join("|"),f.aliases_re_for_srs_roll_with_target_value=i("Regexp").$new("^(?:"+F+")((?:[-+][-+\\d]+)?>=\\d+(?:\\[\\d*(?:,\\d+)?\\])?)$"),f.aliases_re_for_srs_roll_without_target_value=i("Regexp").$new("^(?:"+F+")([-+][-+\\d]+)?(\\[\\d*(?:,\\d+)?\\])?$"),f.$prepare_help_msg_for_aliases_for_srs_roll(q),f.help_message=f.$concatenate_help_messages(),f},-1),m(r,"$clear_aliases_for_srs_roll",function(){var _=this;return _.aliases_re_for_srs_roll_with_target_value=n,_.aliases_re_for_srs_roll_without_target_value=n,_.help_message=B(i("SRS"),"DEFAULT_HELP_MESSAGE"),_},0),r.$private(),m(r,"$prepare_help_msg_for_aliases_for_srs_roll",function(_){var c=this;return c.help_msg_for_aliases_for_srs_roll_with_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"+2>=10\u3000\u3000\u3000\u3000 2d6+2>=10\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c.help_msg_for_aliases_for_srs_roll_without_target_value=R(_,"map",[],function(f){return null==f&&(f=n),"\u3000\u3000\u4f8b) "+f+"\u3000\u3000\u3000\u3000\u3000 2d6[]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n\u3000\u3000\u4f8b) "+f+"+2[12,4]\u3000 2d6+2[12,4]\u3068\u540c\u3058\uff08"+f+"\u304c2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30b3\u30de\u30f3\u30c9\uff09\n"},1).$join(),c},1),m(r,"$concatenate_help_messages",function(){var _=this;return null==_.help_msg_for_aliases_for_srs_roll_with_target_value&&(_.help_msg_for_aliases_for_srs_roll_with_target_value=n),null==_.help_msg_for_aliases_for_srs_roll_without_target_value&&(_.help_msg_for_aliases_for_srs_roll_without_target_value=n),B(i("SRS"),"HELP_MESSAGE_1")+(_.help_msg_for_aliases_for_srs_roll_with_target_value+"\n")+B(i("SRS"),"HELP_MESSAGE_2")+_.help_msg_for_aliases_for_srs_roll_without_target_value+"\n"+B(i("SRS"),"HELP_MESSAGE_3")},0),function($,a){var r=[$].concat(a),s=e.$r(r);m($,"$inherited",function(u){return u.$extend(s("ClassMethods")).$clear_aliases_for_srs_roll()},1),m($,"$help_message",function(){return s("DEFAULT_HELP_MESSAGE")},0),m($,"$aliases_re_for_srs_roll_with_target_value",function(){return n},0),m($,"$aliases_re_for_srs_roll_without_target_value",function(){return n},0)}(e.get_singleton_class(T),d),T.$register_prefix("2D6"),m(T,"$initialize",function $(a){var s=this;return delete $.$$p,h(s,g(s,"initialize",$,!1,!0),"initialize",[a],null),s.sort_add_dice=!0,s.d66_sort_type=B(o("D66SortType"),"NO_SORT")},1),m(T,"$help_message",function(){return this.$class().$help_message()},0),S(d[0],"DEFAULT_CRITICAL_VALUE",12),S(d[0],"DEFAULT_FUMBLE_VALUE",2),S(d[0],"SRS_ROLL_WITH_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?>=(\d+)(?:\[(\d+)?(?:,(\d+))?\])?$/.$freeze()),S(d[0],"SRS_ROLL_WITHOUT_TARGET_VALUE_RE",/^2D6([-+][-+\d]+)?\[(\d+)?(?:,(\d+))?\]$/.$freeze()),S(d[0],"SRS_ROLL_DEFAULT_THRESHOLDS","["+o("DEFAULT_CRITICAL_VALUE")+","+o("DEFAULT_FUMBLE_VALUE")+"]"),S(d[0],"SRSRollNode",R(o("Struct"),"new",["modifier","critical_value","fumble_value","target_value"],function $(){return m(null==$.$$s?this:$.$$s,"$to_s",function(){var i,s=this;return i="2D6"+o("Format").$modifier(s.$modifier()),(y(s.$target_value())?i+">="+s.$target_value():i)+"["+s.$critical_value()+","+s.$fumble_value()+"]"},0)},{$$arity:0,$$s:T})),m(T,"$eval_game_system_specific_command",function(a){var s,i,r=this;return s=r.$replace_alias_for_srs_roll_with_2d6(a),y(i=r.$parse(s))?r.$execute_srs_roll(i):n},1),T.$private(),m(T,"$replace_alias_for_srs_roll_with_2d6",function(a){var s,_=n;return k(this.$class().$aliases_re_for_srs_roll_with_target_value(),s=a)?"2D6"+o("Regexp").$last_match(1):k(this.$class().$aliases_re_for_srs_roll_without_target_value(),s)?"2D6"+o("Regexp").$last_match(1)+(y(_=o("Regexp").$last_match(2))?_:o("SRS_ROLL_DEFAULT_THRESHOLDS")):a},1),m(T,"$parse",function(a){var s;return k(o("SRS_ROLL_WITH_TARGET_VALUE_RE"),s=a)?this.$parse_srs_roll_with_target_value(o("Regexp").$last_match()):k(o("SRS_ROLL_WITHOUT_TARGET_VALUE_RE"),s)?this.$parse_srs_roll_without_target_value(o("Regexp").$last_match()):n},1),m(T,"$eval_modifier",function(a){return y(a)?o("ArithmeticEvaluator").$eval(a,p(["round_type"],{round_type:this.round_type})):0},1),m(T,"$parse_srs_roll_with_target_value",function(a){var r,s,u,_,c,f,b=n;return u=this.$eval_modifier(a["$[]"](1)),_=a["$[]"](2).$to_i(),c=y(b=(r=a["$[]"](3))===n||null==r?n:R(r,"to_i",[]))?b:o("DEFAULT_CRITICAL_VALUE"),f=y(b=(s=a["$[]"](4))===n||null==s?n:R(s,"to_i",[]))?b:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,c,f,_)},1),m(T,"$parse_srs_roll_without_target_value",function(a){var r,s,u,_,b,c=n;return u=this.$eval_modifier(a["$[]"](1)),_=y(c=(r=a["$[]"](2))===n||null==r?n:R(r,"to_i",[]))?c:o("DEFAULT_CRITICAL_VALUE"),b=y(c=(s=a["$[]"](3))===n||null==s?n:R(s,"to_i",[]))?c:o("DEFAULT_FUMBLE_VALUE"),o("SRSRollNode").$new(u,_,b,n)},1),m(T,"$execute_srs_roll",function(a){var i,u,_,f,r=this,s=n,c=n;return s=r.randomizer.$roll_barabara(2,6),y(r.sort_add_dice)&&s["$sort!"](),i=s.$sum(),u=s.$join(","),_=E(i,a.$modifier()),c=r.$compare_result(a,i,_),f=[["("+a+")",i+"["+u+"]"+o("Format").$modifier(a.$modifier()),_,c.$text()].$compact().$join(" \uff1e ")],R(c,"text=",M(f)),L(f.length,1),c},1),m(T,"$compare_result",function(a,r,s){return y(Y(r,a.$critical_value()))?o("Result").$critical("\u81ea\u52d5\u6210\u529f"):y(G(r,a.$fumble_value()))?o("Result").$fumble("\u81ea\u52d5\u5931\u6557"):y(a.$target_value()["$nil?"]())?o("Result").$new():y(Y(s,a.$target_value()))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")},3)})},2004:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/normalize"]=function(e){var R,y,h,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.eqeq;return R=H,h=[n(H[0],"BCDice")].concat(R),(y=n(h[0],"Normalize")).$module_function(),C(y,"$comparison_operator",function(p){var E;return B(/<=|=</,E=p)?"<=":B(/>=|=>/,E)?">=":B(/<>|!=|=!/,E)?"!=":B(/</,E)?"<":B(/>/,E)?">":B(/=/,E)?"==":t},1),C(y,"$target_number",function(p){return v(p,"?")?p:p.$to_i()},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.modules["bcdice/game_system/NightWizard"]=function(e){var j,V,z,A,x,a,D,T,d,o,I,w,K,H=e.top,t=[],n=e.nil,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.to_ary,y=e.rb_plus,k=e.regexp,p=e.send,E=e.to_a,M=e.rb_minus,L=e.eqeq,Y=e.neqeq;return H.$require("bcdice/normalize"),H.$require("bcdice/format"),j=t,V=K=[B(t[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),z=I[0],A=w("Base"),x=I,T=[D=C(z,A,"NightWizard")].concat(x),d=e.$r(T),(o=D.$$prototype).nw_command=o.randomizer=o.total=o.interim_expr=o.status=o.fumble_numbers=o.critical_numbers=n,v(T[0],"ID","NightWizard"),v(T[0],"NAME","\u30ca\u30a4\u30c8\u30a6\u30a3\u30b6\u30fc\u30c9 The 2nd Edition"),v(T[0],"SORT_KEY","\u306a\u3044\u3068\u3046\u3044\u3055\u3042\u30682"),v(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\u3000(aNW+b@x#y$z+c)\n\u3000\u3000a : \u57fa\u672c\u5024\n\u3000\u3000b : \u5e38\u6642\u306b\u6e96\u3058\u308b\u7279\u6280\u306b\u3088\u308b\u88dc\u6b63\n\u3000\u3000c : \u5e38\u6642\u4ee5\u5916\u306e\u7279\u6280\u3001\u304a\u3088\u3073\u652f\u63f4\u52b9\u679c\u306b\u3088\u308b\u88dc\u6b63\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u6642\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff09\n\u3000\u3000x : \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\uff08\u7701\u7565\u6642 10\uff09\n\u3000\u3000y : \u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\uff08\u7701\u7565\u6642 5\uff09\n\u3000\u3000z : \u30d7\u30e9\u30fc\u30ca\u306b\u3088\u308b\u9054\u6210\u5024\u88dc\u6b63\u306e\u30d7\u30e9\u30fc\u30ca\u6d88\u8cbb\u6570\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u6642\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff09\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u304c\u7121\u3044\u5834\u5408\u306f1\u308413\u306a\u3069\u306e\u3042\u308a\u5f97\u306a\u3044\u6570\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u3000\u4f8b\uff0912NW-5@7#2$3 1NW 50nw+5@7,10#2,5 50nw-5+10@7,10#2,5+15+25\n"),D.$register_prefix("([-+]?\\d+)?NW","2R6"),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.nw_command="NW"},1),m(D,"$eval_game_system_specific_command",function($){var a,r,u,s=this,i=n,_=n,c=n,b=n,f=n;return i=h(u=s.$parse_nw($))?u:s.$parse_2r6($),h(i)?(r=s.$roll_nw(i),_=null==(a=g(r))[0]?n:a[0],c=null==a[1]?n:a[1],b=null==a[2]?n:a[2],f=h(i.$cmp_op())?h(_.$send(i.$cmp_op(),i.$target_number()))?"\u6210\u529f":"\u5931\u6557":n,["("+i+")",c,b,_.$to_s(),f].$compact().$join(" \uff1e ")):n},1),D.$private(),(a=C(T[0],null,"Parsed")).$attr_accessor("critical_numbers"),a.$attr_accessor("fumble_numbers"),a.$attr_accessor("prana"),a.$attr_accessor("active_modify_number"),a.$attr_accessor("cmp_op"),a.$attr_accessor("target_number"),function(l,$,a){var r=C(l,$,"ParsedNW"),s=[r].concat(a),i=e.$r(s),u=r.$$prototype;u.base=u.modify_number=u.active_modify_number=u.prana=u.command=u.critical_numbers=u.fumble_numbers=u.cmp_op=u.target_number=n,r.$attr_accessor("base"),r.$attr_accessor("modify_number"),m(r,"$initialize",function _(c){var f=this;return delete _.$$p,S(f,R(f,"initialize",_,!1,!0),"initialize",[],null),f.command=c},1),m(r,"$passive_modify_number",function(){return y(this.base,this.modify_number)},0),m(r,"$to_s",function(){var b,f,q,F,U,c=this;return b=h(c.base["$zero?"]())?n:c.base,f=i("Format").$modifier(c.modify_number),q=i("Format").$modifier(c.active_modify_number),F=h(U=c.prana)?"$"+c.prana:U,""+b+c.command+f+"@"+c.critical_numbers.$join(",")+"#"+c.fumble_numbers.$join(",")+F+q+c.cmp_op+c.target_number},0)}(T[0],d("Parsed"),T),function(l,$){var a=C(l,$,"Parsed2R6"),r=a.$$prototype;r.passive_modify_number=r.active_modify_number=r.critical_numbers=r.fumble_numbers=r.cmp_op=r.target_number=n,a.$attr_accessor("passive_modify_number"),m(a,"$to_s",function(){var i=this;return"2R6M["+i.passive_modify_number+","+i.active_modify_number+"]C["+i.critical_numbers.$join(",")+"]F["+i.fumble_numbers.$join(",")+"]"+i.cmp_op+i.target_number},0)}(T[0],d("Parsed")),m(D,"$parse_nw",function($){var a,r,i=n,u=n,_=n;return i=k(["^([-+]?\\d+)?",this.nw_command,"((?:[-+]\\d+)+)?(?:@(\\d+(?:,\\d+)*))?(?:#(\\d+(?:,\\d+)*))?(?:\\$(\\d+(?:,\\d+)*))?((?:[-+]\\d+)+)?(?:([>=]+)(\\d+))?$"]).$match($),h(i)?(u=d("ParsedNW").$new(this.nw_command),_=[i["$[]"](1).$to_i()],p(u,"base=",E(_)),M(_.length,1),_=[d("ArithmeticEvaluator").$eval(i["$[]"](2))],p(u,"modify_number=",E(_)),M(_.length,1),_=[h(i["$[]"](3))?p(i["$[]"](3).$split(","),"map",[],"to_i".$to_proc()):[10]],p(u,"critical_numbers=",E(_)),M(_.length,1),_=[h(i["$[]"](4))?p(i["$[]"](4).$split(","),"map",[],"to_i".$to_proc()):[5]],p(u,"fumble_numbers=",E(_)),M(_.length,1),_=[(a=i["$[]"](5),a===n||null==a?n:p(a,"to_i",[]))],p(u,"prana=",E(_)),M(_.length,1),_=[d("ArithmeticEvaluator").$eval(i["$[]"](6))],p(u,"active_modify_number=",E(_)),M(_.length,1),_=[d("Normalize").$comparison_operator(i["$[]"](7))],p(u,"cmp_op=",E(_)),M(_.length,1),_=[(r=i["$[]"](8),r===n||null==r?n:p(r,"to_i",[]))],p(u,"target_number=",E(_)),M(_.length,1),u):n},1),m(D,"$parse_2r6",function($){var a,r=n,s=n,i=n;return r=/^2R6m\[([-+]?\d+(?:[-+]\d+)*)(?:,([-+]?\d+(?:[-+]\d+)*))?\](?:c\[(\d+(?:,\d+)*)\])?(?:f\[(\d+(?:,\d+)*)\])?(?:([>=]+)(\d+))?/i.$match($),h(r)?(s=d("Parsed2R6").$new(),i=[d("ArithmeticEvaluator").$eval(r["$[]"](1))],p(s,"passive_modify_number=",E(i)),M(i.length,1),i=[d("ArithmeticEvaluator").$eval(r["$[]"](2))],p(s,"active_modify_number=",E(i)),M(i.length,1),i=[h(r["$[]"](3))?p(r["$[]"](3).$split(","),"map",[],"to_i".$to_proc()):[10]],p(s,"critical_numbers=",E(i)),M(i.length,1),i=[h(r["$[]"](4))?p(r["$[]"](4).$split(","),"map",[],"to_i".$to_proc()):[5]],p(s,"fumble_numbers=",E(i)),M(i.length,1),i=[d("Normalize").$comparison_operator(r["$[]"](5))],p(s,"cmp_op=",E(i)),M(i.length,1),i=[(a=r["$[]"](6),a===n||null==a?n:p(a,"to_i",[]))],p(s,"target_number=",E(i)),M(i.length,1),s):n},1),m(D,"$roll_nw",function($){var r=this,s=n,i=n,u=n,_=n,c=n;for(r.critical_numbers=$.$critical_numbers(),r.fumble_numbers=$.$fumble_numbers(),r.total=0,r.interim_expr="",r.status=n,s=r.$roll_once_first();L(s,"critical");)s=r.$roll_once();return Y(s,"fumble")&&h($.$prana())&&(u=(i=r.randomizer.$roll_barabara($.$prana(),6)).$sum(),_=i.$join(","),r.total=y(r.total,u),r.interim_expr=y(r.interim_expr,"+"+u+"["+_+"]")),c=L(s,"fumble")?r.$fumble_base_number($):y($.$passive_modify_number(),$.$active_modify_number()),r.total=y(r.total,c),r.interim_expr=y(c.$to_s(),r.interim_expr),[r.total,r.interim_expr,r.status]},1),m(D,"$roll_once",function($){var s,i,a=this,r=n;return null==$&&($=!1),s=(r=a.randomizer.$roll_barabara(2,6)).$sum(),i=r.$join(","),h($)&&h(a.fumble_numbers["$include?"](s))?(a.total=M(a.total,10),a.interim_expr=y(a.interim_expr,"-10["+i+"]"),a.status="\u30d5\u30a1\u30f3\u30d6\u30eb","fumble"):h(a.critical_numbers["$include?"](s))?(a.total=y(a.total,10),a.interim_expr=y(a.interim_expr,"+10["+i+"]"),a.status="\u30af\u30ea\u30c6\u30a3\u30ab\u30eb","critical"):(a.total=y(a.total,s),a.interim_expr=y(a.interim_expr,"+"+s+"["+i+"]"),n)},-1),m(D,"$roll_once_first",function(){return this.$roll_once(!0)},0),m(D,"$fumble_base_number",function($){return $.$passive_modify_number()},1)},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/NightWizard"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("NightWizard"),"SevenFortressMobius")].concat(N))[0],"ID","SevenFortressMobius"),v(P[0],"NAME","\u30bb\u30d6\u30f3\uff1d\u30d5\u30a9\u30fc\u30c8\u30ec\u30b9 \u30e1\u30d3\u30a6\u30b9"),v(P[0],"SORT_KEY","\u305b\u3075\u3093\u3075\u304a\u304a\u3068\u308c\u3059\u3081\u3072\u3046\u3059"),v(P[0],"HELP_MESSAGE",'\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\u3000(nSFM+m@x#y)\n\u3000"(\u57fa\u672c\u5024)SFM(\u5e38\u6642\u304a\u3088\u3073\u5e38\u6642\u306b\u6e96\u3058\u308b\u7279\u6280\u7b49\u53ca\u3073\u72b6\u614b\u7570\u5e38\uff08\u7701\u7565\u53ef\uff09)@(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024)#(\u30d5\u30a1\u30f3\u30d6\u30eb\u5024)\uff08\u5e38\u6642\u4ee5\u5916\u306e\u7279\u6280\u7b49\u53ca\u3073\u5473\u65b9\u306e\u652f\u63f4\u52b9\u679c\u7b49\u306e\u5f71\u97ff\uff08\u7701\u7565\u53ef\uff09\uff09"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u3000R\u30b3\u30de\u30f3\u30c9(2R6m[n,m]c[x]f[y]>=t t\u306f\u76ee\u6a19\u5024)\u306b\u8aad\u66ff\u3055\u308c\u307e\u3059\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u304c\u7121\u3044\u5834\u5408\u306f1\u308413\u306a\u3069\u306e\u3042\u308a\u5f97\u306a\u3044\u6570\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u3000\u4f8b\uff0912SFM-5@7#2\u3000\u30001SFM\u3000\u300050SFM+5@7,10#2,5\u300050SFM-5+10@7,10#2,5+15+25\n'),K.$register_prefix("([-+]?\\d+)?SFM","2R6"),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.nw_command="SFM"},1)})},7633:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var h,p,j,N,K,M,L,y,H=[],n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[n(y[0],"GameSystem")].concat(p),L=e.$r(M),j=M,C((K=[N=B(M[0],L("Base"),"ShadowRun")].concat(j))[0],"ID","ShadowRun"),C(K[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3"),C(K[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u3093"),C(K[0],"HELP_MESSAGE","\u4e0a\u65b9\u7121\u9650\u30ed\u30fc\u30eb(xUn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n"),R(N,"$initialize",function P(V){var I=this;return delete P.$$p,v(I,S(I,"initialize",P,!1,!0),"initialize",[V],null),I.sort_add_dice=!0,I.sort_barabara_dice=!0,I.upper_dice_reroll_threshold=6},1)})},8489:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.rb_divide,h=e.rb_times,g=e.truthy,y=e.rb_ge,k=e.eqeq;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,C((w=[I=B(N[0],K("Base"),"ShadowRun4")].concat(J))[0],"ID","ShadowRun4"),C(w[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 4th Edition"),C(w[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30934"),C(w[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),R(I,"$initialize",function z(A){var D=this;return delete z.$$p,v(D,S(D,"initialize",z,!1,!0),"initialize",[A],null),D.sort_add_dice=!0,D.sort_barabara_dice=!0,D.reroll_dice_reroll_threshold=6,D.default_cmp_op=">=",D.default_target_number=5},1),R(I,"$grich_text",function(A,x,D){var d;return d=m(h(1,x),2),this.$debug("dice_cnt_total_half",d),g(y(A,d))?k(D,0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":t},3)})},3265:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/ShadowRun4"]=function(e){var E,G,J,I,w,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.rb_divide,h=e.rb_times,g=e.truthy,y=e.rb_ge,k=e.eqeq;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,C((w=[I=B(N[0],K("Base"),"ShadowRun4")].concat(J))[0],"ID","ShadowRun4"),C(w[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 4th Edition"),C(w[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30934"),C(w[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),R(I,"$initialize",function z(A){var D=this;return delete z.$$p,v(D,S(D,"initialize",z,!1,!0),"initialize",[A],null),D.sort_add_dice=!0,D.sort_barabara_dice=!0,D.reroll_dice_reroll_threshold=6,D.default_cmp_op=">=",D.default_target_number=5},1),R(I,"$grich_text",function(A,x,D){var d;return d=m(h(1,x),2),this.$debug("dice_cnt_total_half",d),g(y(A,d))?k(D,0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":t},3)},Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.rb_gt,k=e.rb_minus,p=e.rb_plus,E=e.rb_divide,M=e.eqeq;return e.top.$require("bcdice/game_system/ShadowRun4"),Y=t,K=j=[C(t[0],"BCDice")].concat(Y),V=[C(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=v(V[0],J("ShadowRun4"),"ShadowRun5")].concat(z),D=e.$r(x),A.$$prototype.randomizer=n,S(x[0],"ID","ShadowRun5"),S(x[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 5th Edition"),S(x[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30935"),S(x[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u307f\u3001\u30ea\u30df\u30c3\u30c8\u3092\u30bb\u30c3\u30c8\u3067\u304d\u307e\u3059\u3002\u30ea\u30df\u30c3\u30c8\u306e\u6307\u5b9a\u306f(xBn@l)\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002(\u7701\u7565\u53ef)\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),A.$register_prefix("(\\d+)B6@(\\d+)"),h(A,"$initialize",function d(o){var $=this;return delete d.$$p,R($,m($,"initialize",d,!1,!0),"initialize",[o],null),$.sort_add_dice=!0,$.sort_barabara_dice=!0,$.reroll_dice_reroll_threshold=6,$.default_cmp_op=">=",$.default_target_number=5},1),h(A,"$eval_game_system_specific_command",function(o){var a,r,u,l=this,$=n,s=n,i=n,_=n,c=n,b=n;return l.$debug("chatch limit prefix"),a=($=/(\d+B6)@(\d+)/.$match(o))["$[]"](1),r=$["$[]"](2).$to_i(),i=s=B(B(D("BCDice"),"CommonCommand"),"BarabaraDice").$eval(a,l,l.randomizer).$text(),u=($=/\u6210\u529f\u6570(\d+)/.$match(s))["$[]"](1).$to_i(),g(y(u,r))&&(_=r,c=k(u,r),i=s.$gsub(/\u6210\u529f\u6570(\d+)/,"\u6210\u529f\u6570"+_),i=p(i,"(\u30ea\u30df\u30c3\u30c8\u8d85\u904e"+c+")")),b=(b=(b=i).$gsub("B","B6")).$gsub("6>=5","[6]Limit["+r+"]>=5"),l.$debug(b),b},1),h(A,"$grich_text",function(o,l,$){var r;return r=E(l.$to_f(),2),this.$debug("dice_cnt_total_half",r),g(y(o,r))?M($,0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":n},3)})},554:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var y,M,K,P,V,J,Y,G,p,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.def,S=e.eqeq,R=e.truthy,m=e.rb_gt,h=e.rb_plus;return y=H,M=p=[n(H[0],"BCDice")].concat(y),Y=[n(p[0],"GameSystem")].concat(M),G=e.$r(Y),K=Y,V=[P=B(Y[0],G("Base"),"SharedFantasia")].concat(K),J=e.$r(V),C(V[0],"ID","SharedFantasia"),C(V[0],"NAME","Shared\u2020Fantasia"),C(V[0],"SORT_KEY","\u3057\u3048\u3042\u3042\u3068\u3075\u3042\u3093\u305f\u3057\u3042"),C(V[0],"HELP_MESSAGE","2D6\u306e\u6210\u529f\u5224\u5b9a\u306b \u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u81f4\u547d\u7684\u5931\u6557\u3001\u5287\u7684\u6210\u529f \u306e\u5224\u5b9a\u304c\u3042\u308a\u307e\u3059\u3002\n\nSF/ST = 2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\n\n\u4f8b) SF+4>=9 : 2D6\u3057\u30664\u3092\u8db3\u3057\u305f\u5024\u304c9\u4ee5\u4e0a\u306a\u3089\u6210\u529f\n"),P.$register_prefix("SF","ST"),v(P,"$change_text",function(w){return w.$gsub(/S[FT]/i,"2D6")},1),v(P,"$result_2d6",function(w,z,A,x,D){var T=t,d=t,o=t;return S(D,"?")?J("Result").$nothing():R([">=",">"]["$include?"](x))?(T=!1,d=!1,S(z,12)?T=!0:S(z,2)&&(d=!0),o=S(x,">=")?1:0,R(m(h(w,o),D))?R(T)?J("Result").$critical("\u81ea\u52d5\u6210\u529f(\u5287\u7684\u6210\u529f)"):R(d)?J("Result").$failure("\u81ea\u52d5\u5931\u6557"):J("Result").$success("\u6210\u529f"):R(T)?J("Result").$success("\u81ea\u52d5\u6210\u529f"):R(d)?J("Result").$fumble("\u81ea\u52d5\u5931\u6557(\u81f4\u547d\u7684\u5931\u6557)"):J("Result").$failure("\u5931\u6557")):t},5)})},6821:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.to_ary,R=e.rb_plus,m=e.rb_times,h=e.def,g=e.rb_divide,y=e.truthy,k=e.rb_ge;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,C((w=[I=B(N[0],K("Base"),"ShinMegamiTenseiKakuseihen")].concat(J))[0],"ID","ShinMegamiTenseiKakuseihen"),C(w[0],"NAME","\u771f\u30fb\u5973\u795e\u8ee2\u751fTRPG \u899a\u9192\u7bc7"),C(w[0],"SORT_KEY","\u3057\u3093\u3081\u304b\u307f\u3066\u3093\u305b\u3044TRPG\u304b\u304f\u305b\u3044\u3078\u3093"),C(w[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n1D100<=(\u76ee\u6a19\u5024) \u3067\u30b9\u30ef\u30c3\u30d7\u30fb\u901a\u5e38\u30fb\u9006\u30b9\u30ef\u30c3\u30d7\u5224\u5b9a\u3092\u5224\u5b9a\u3002\n\u5a01\u529b\u30c0\u30a4\u30b9\u306f nU6[6] (n\u306f\u30c0\u30a4\u30b9\u500b\u6570)\u3067\u30ed\u30fc\u30eb\u53ef\u80fd\u3067\u3059\u3002\n"),h(I,"$check_1D100",function(A,x,D,T){var d,o,l=this,$=t,a=t,r=t,s=t,i=t,u=t;return v(T,"?")||!v(D,"<=")?"":(o=l.$split_tens(x),a=null==(d=S(o))[1]?t:d[1],r=R(m($=null==d[0]?t:d[0],10),a),s=R(m(a,10),$),i=$["$=="](a),u=R(u=" \uff1e \u30b9\u30ef\u30c3\u30d7",l.$getCheckResultText(T,[r,s].$min(),i)),u=R(u,"\uff0f\u901a\u5e38"),u=R(u,l.$getCheckResultText(T,A["$%"](100),i)),u=R(u,"\uff0f\u9006\u30b9\u30ef\u30c3\u30d7"),u=R(u,l.$getCheckResultText(T,[r,s].$max(),i)))},4),h(I,"$split_tens",function(A){return A=A["$%"](100),[g(A,10).$to_i(),A["$%"](10)]},1),h(I,"$getCheckResultText",function(A,x,D){var d;return d=this.$getCheckResult(A,x,D),R(this.$format("(%02d)",x),d)},3),h(I,"$getCheckResult",function(A,x,D){return y(k(A,x))?this.$getSuccessResult(D):this.$getFailResult(D)},3),h(I,"$getSuccessResult",function(A){return y(A)?"\u7d76\u5bfe\u6210\u529f":"\u6210\u529f"},1),h(I,"$getFailResult",function(A){return y(A)?"\u7d76\u5bfe\u5931\u6557":"\u5931\u6557"},1)})},9776:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var K,I,T,s,d,o,l,z,A,V,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.rb_plus,k=e.not,p=e.rb_gt,E=e.to_a,M=e.rb_minus,L=e.defs,Y=e.eqeq,G=e.rb_times,j=e.hash2;return K=H,I=V=[B(H[0],"BCDice")].concat(K),z=[B(V[0],"GameSystem")].concat(I),A=e.$r(z),T=z,o=[d=C(z[0],A("Base"),"Shiranui")].concat(T),l=e.$r(o),d.$$prototype.randomizer=t,v(o[0],"ID","Shiranui"),v(o[0],"NAME","\u4e0d\u77e5\u706b"),v(o[0],"SORT_KEY","\u3057\u3089\u306c\u3044"),v(o[0],"HELP_MESSAGE","\u25a0\u221eD66\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\n\u300c \u221eD66 \u300d\u307e\u305f\u306f\u300c ID66 \u300d\n\uff08 ID \u306f Infinite D \u306e\u7565\u3067\u3059\uff09\n\n\u25a1\u884c\u52d5\u529b\u3084\u653b\u6483\u529b\u306e\u6307\u5b9a\n\u300c x+\u221eD66 \u300d\u307e\u305f\u306f\u300c x+ID66 \u300d\n\uff08 x \u306f\u884c\u52d5\u529b\u3084\u653b\u6483\u529b\uff09\n\n\u25a1\u9b3c\u706b\u306e\u4f7f\u7528\u306b\u3064\u3044\u3066\n\u9b3c\u706b\u3092\u4f7f\u7528\u3059\u308b\u221eD66\u306f\u3001\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u25a0\u304a\u307f\u304f\u3058\u3092\u5f15\u304f\nOMKJ\n"),v(o[0],"INFINITE_D66_ROLL_REG",/^((\d+)\+)?(\u221e|I)D66$/i.$freeze()),d.$register_prefix("(\\d+\\+)?(\u221e|I)D66"),m(d,"$initialize",function a(r){var i=this;return delete a.$$p,S(i,R(i,"initialize",a,!1,!0),"initialize",[r],null),i.sort_barabara_dice=!0},1),m(d,"$eval_game_system_specific_command",function(r){var s,u=t,_=t;return h(u=l("INFINITE_D66_ROLL_REG").$match(r))?(_=(s=u["$[]"](1))===t||null==s?t:g(s,"to_i",[]),this.$roll_infinite_d66(_)):this.$roll_tables(r,l("TABLES"))},1),m(d,"$roll_infinite_d66",function(r){var b,i=this,u=t,_=t,c=t,f=t,q=t;for(u=[];h(h(_=u["$empty?"]())?_:u.$last()["$to_continue_diceroll?"]());)c=i.randomizer.$roll_barabara(2,6).$sort(),u["$<<"](l("InifiniteD66Step").$new(c));return b=u.$first().$score()["$zero?"](),f=h(b)?0:y(g(u,"sum",[],"score".$to_proc()),r.$to_i()),q="("+i.$class().$make_command_text(r)+")",q=y(q,y(" \uff1e ",g(u,"map",[],"to_s".$to_proc()).$join(" \uff1e "))),h(b)?q=y(q," \uff1e \u3057\u304f\u3058\u308a"):((h(p(u.$size(),1))||k(r["$nil?"]()))&&(q=y(q,y(" \uff1e ",i.$class().$score_expression_text(u,r)))),q=y(q,y(" \uff1e ",f.$to_s()))),g(l("Result").$new(q),"tap",[],function(U){var W=t;return null==U&&(U=t),W=[p(u.$size(),1)],g(U,"critical=",E(W)),M(W.length,1),g(U,"failure=",E(W=[b])),M(W.length,1),g(U,"fumble=",E(W=[b])),W[M(W.length,1)]},1)},1),L(d,"$make_command_text",function(r){return h(r["$nil?"]())?"\u221eD66":r+"+\u221eD66"},1),L(d,"$score_expression_text",function(r,s){var i=t;return i=g(r,"map",[],"score".$to_proc()).$join("+"),h(s["$nil?"]())||(i=s+"+("+i+")"),i},2),(s=C(o[0],null,"InifiniteD66Step")).$$prototype.dices=t,m(s,"$initialize",function(_){return this.dices=_.$dup().$freeze()},1),m(s,"$score",function(){var _=this,c=t;return h(_["$repdigit?"]())?(c=_.dices.$first(),Y(c,1)?0:G(c,10)):y(G(_.dices["$[]"](0),10),_.dices["$[]"](1))},0),m(s,"$repdigit?",function(){return this.dices["$[]"](0)["$=="](this.dices["$[]"](1))},0),m(s,"$to_continue_diceroll?",function(){var c;return h(c=this["$repdigit?"]())?this.dices["$[]"](0)["$!="](1):c},0),m(s,"$to_s",function(){return"["+this.dices["$[]"](0)+","+this.dices["$[]"](1)+"]"},0),v(o[0],"TABLES",j(["OMKJ"],{OMKJ:n(l("DiceTable"),"Table").$new("\u304a\u307f\u304f\u3058","1D6",["\u5927\u51f6\uff3b\u5fa1\u5229\u76ca\uff11\uff3d\u2015\u2015\u3053\u306e\u307f\u304f\u3058\u306b\u3042\u305f\u308b\u4eba\u306f\u3001\u51f6\u904b\u304b\u3089\u9003\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u306c\u8005\u306a\u308a\u3002\u307e\u3055\u306b\u51f6\u904b\u306b\u305d\u306e\u8eab\u3092\u3086\u3060\u306d\u3066\u3053\u305d\u3001\u6d6e\u304b\u3076\u702c\u3082\u3042\u308c\u3002\u2026\u2026\u3053\u308c\u3088\u308a\u4e0a\u6f14\u4e2d\u306b\u6f14\u8005\u304c\u632f\u308b\uff3b\u221e\uff2466\uff3d\u3067\u521d\u3081\u3066\u2680\u2680\u304c\u51fa\u305f\u3089\u3001\u5fa1\u5229\u76ca\u3092\u4f7f\u3063\u3066\u3082\u632f\u308a\u76f4\u3057\u304c\u3067\u304d\u306a\u3044\u3002","\u51f6\uff3b\u5fa1\u5229\u76ca\uff12\uff3d\u2015\u2015\u3053\u306e\u307f\u304f\u3058\u306b\u3042\u305f\u308b\u4eba\u306f\u3001\u5409\u5146\u3092\u9003\u3059\u5b9a\u3081\u306b\u3042\u308b\u3002\u307e\u3055\u306b\u3001\u5929\u306e\u4e0e\u3046\u308b\u3092\u53d6\u3089\u3056\u308c\u3070\u53cd\u3063\u3066\u305d\u306e\u548e\u3081\u3092\u53d7\u304f\u3002\u2026\u2026\u3053\u308c\u3088\u308a\u4e0a\u6f14\u4e2d\u306b\u6f14\u8005\u304c\u632f\u308b\uff3b\u221e\uff2466\uff3d\u3067\u521d\u3081\u3066\u2685\u2685\u304c\u51fa\u305f\u3089\u3001\u5f37\u5236\u7684\u306b\uff11\u56de\u306e\u632f\u308a\u76f4\u3057\u3092\u3059\u308b\u3002","\u5c0f\u5409\uff3b\u5fa1\u5229\u76ca\uff13\uff3d\u2015\u2015\u3053\u306e\u307f\u304f\u3058\u306b\u3042\u305f\u308b\u4eba\u306f\u3001\u795e\u4f7f\u306e\u6a5f\u5acc\u3092\u640d\u306d\u3066\u3044\u308b\u3002\u795e\u4f7f\u304c\u4f55\u306b\u6012\u308a\u3001\u4f55\u306b\u82db\u7acb\u3063\u3066\u3044\u308b\u306e\u304b\u306f\u3001\u307e\u3055\u306b\u795e\u306e\u307f\u305e\u77e5\u308b\u3002\u2026\u2026\u795e\u4f7f\u306e\u6a5f\u5acc\u304c\u7a81\u7136\u3001\u60aa\u304f\u306a\u308b\u3002\u3053\u308c\u3088\u308a\u4e0a\u6f14\u4e2d\u306b\u795e\u4f7f\u306f\u4f55\u304b\u3068\u7406\u7531\u3092\u3064\u3051\u3066\u306f\u30b7\u30e9\u30cc\u30a4\u306e\u524d\u304b\u3089\u7acb\u3061\u53bb\u308d\u3046\u3068\u3059\u308b\u3002","\u4e2d\u5409\uff3b\u5fa1\u5229\u76ca\uff14\uff3d\u2015\u2015\u3053\u306e\u307f\u304f\u3058\u306b\u3042\u305f\u308b\u4eba\u306f\u3001\u795e\u4f7f\u306e\u6a5f\u5acc\u3092\u826f\u304f\u3059\u308b\u3053\u3068\u3092\u884c\u3063\u305f\u8005\u306a\u308a\u3002\u795e\u4f7f\u304c\u4f55\u306b\u559c\u3073\u3001\u306a\u305c\u6a5f\u5acc\u304c\u826f\u3044\u306e\u304b\u3001\u307e\u3055\u306b\u795e\u306e\u307f\u305e\u77e5\u308b\u3002\u2026\u2026\u795e\u4f7f\u306e\u6a5f\u5acc\u304c\u3059\u3053\u3076\u308b\u826f\u304f\u306a\u308b\u3002\u3053\u308c\u3088\u308a\u4e0a\u6f14\u4e2d\u306b\u795e\u4f7f\u306f\u4e0a\u6a5f\u5acc\u3068\u306a\u308a\u3001\u30b7\u30e9\u30cc\u30a4\u306b\u4f55\u304b\u306b\u3064\u3051\u3066\u8a71\u3057\u304b\u3051\u3066\u304f\u308c\u308b\u3002","\u5409\uff3b\u5fa1\u5229\u76ca\uff15\uff3d\u2015\u2015\u3053\u306e\u307f\u304f\u3058\u306b\u3042\u305f\u308b\u4eba\u306f\u3001\u60aa\u904b\u3092\u5e78\u904b\u3078\u3068\u5909\u3048\u308b\u9053\u3092\u9032\u3080\u8005\u306a\u308a\u3002\u307e\u3055\u306b\u798d\u798f\u306f\u7cfe\u3048\u308b\u7e04\u306e\u5982\u3057\u3002\u2026\u2026\u3053\u308c\u3088\u308a\u4e0a\u6f14\u4e2d\u306b\u6f14\u8005\u304c\u632f\u308b\uff3b\u221e\uff2466\uff3d\u3067\u521d\u3081\u3066\u2680\u2680\u304c\u51fa\u305f\u3089\u3001\u5fa1\u5229\u76ca\u3092\u6d88\u8cbb\u3059\u308b\u3053\u3068\u306a\u304f\u3001\uff11\u56de\u306e\u632f\u308a\u76f4\u3057\u3092\u3059\u308b\u3002","\u5927\u5409\uff3b\u5fa1\u5229\u76ca\uff16\uff3d\u2015\u2015\u3053\u306e\u307f\u304f\u3058\u306b\u3042\u305f\u308b\u4eba\u306f\u3001\u601d\u3044\u3082\u3088\u3089\u306c\u5e78\u904b\u306b\u5de1\u308a\u5408\u3046\u8005\u306a\u308a\u3002\u307e\u3055\u306b\u3001\u6697\u304d\u9053\u3088\u308a\u51fa\u3066\u3001\u6c17\u3065\u3051\u3070\u6708\u306e\u5149\u3042\u308a\u3002\u2026\u2026\u3053\u308c\u3088\u308a\u4e0a\u6f14\u4e2d\u306b\u6f14\u8005\u304c\u632f\u308b\uff3b\u221e\uff2466\uff3d\u3067\uff11\u56de\u3060\u3051\u3001\u30b5\u30a4\u30b3\u30ed\u306e\u51fa\u76ee\u3092\u2685\u2685\u306b\u5909\u3048\u3066\u3088\u3044\u3002"])}).$freeze()),d.$register_prefix(l("TABLES").$keys())})},8327:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var K,I,T,d,o,l,z,A,V,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.rb_le,y=e.rb_plus,k=e.rb_divide,p=e.hash,E=e.hash2,M=e.neqeq,L=e.send,Y=e.to_ary,G=e.to_a,j=e.rb_minus;return K=H,I=V=[B(H[0],"BCDice")].concat(K),z=[B(V[0],"GameSystem")].concat(I),A=e.$r(z),T=z,o=[d=C(z[0],A("Base"),"Skynauts")].concat(T),l=e.$r(o),d.$$prototype.randomizer=t,v(o[0],"ID","Skynauts"),v(o[0],"NAME","\u6b6f\u8eca\u306e\u5854\u306e\u63a2\u7a7a\u58eb\uff08\u516d\u7573\u9593\u5e7b\u60f3\u7a7a\u9593\uff09"),v(o[0],"SORT_KEY","\u306f\u304f\u308b\u307e\u306e\u3068\u3046\u306e\u3059\u304b\u3044\u306e\u304a\u3064"),v(o[0],"HELP_MESSAGE","\u25c6\u5224\u5b9a\u3000(SNn)\u3001(2D6<=n)\u3000n:\u76ee\u6a19\u5024\uff08\u7701\u7565\u6642:7\uff09\n\u3000\u4f8b\uff09SN5\u3000SN5\u3000SN(3+2)\n\u25c6\u822a\u884c\u30c1\u30a7\u30c3\u30af\u3000(NV+n)\u3000n:\u4fee\u6b63\u5024\uff08\u7701\u7565\u6642:0\uff09\n\u3000\u4f8b\uff09NV\u3000NV+1\n\u25c6\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u3000(Dx/y@m)\u3000x:\u30c0\u30e1\u30fc\u30b8\u5de6\u5074\u306e\u5024\u3001y:\u30c0\u30e1\u30fc\u30b8\u53f3\u5074\u306e\u5024\n\u3000m:\u300a\u5f3e\u9053\u5b66\u300b\uff08\u7701\u7565\u53ef\uff09\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\n\u3000\u98db\u7a7a\u8247\u30b7\u30fc\u30c8\u5916\u306e\u5ea7\u6a19\u306f()\u304c\u4ed8\u304d\u307e\u3059\u3002\n\u3000\u4f8b\uff09 D/4\u3000D19/2\u3000D/3@8\u3000D[\u5927\u63fa\u308c]/2\n\u25c6\u7832\u6483\u5224\u5b9a+\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u3000(BOMn/Dx/y@m)\u3000n:\u76ee\u6a19\u5024\uff08\u7701\u7565\u6642:7\uff09\n\u3000x:\u30c0\u30e1\u30fc\u30b8\u5de6\u5074\u306e\u5024\u3001y:\u30c0\u30e1\u30fc\u30b8\u53f3\u5074\u306e\u5024\n\u3000m:\u300a\u5f3e\u9053\u5b66\u300b\uff08\u7701\u7565\u53ef\uff09\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\n\u3000\u4f8b\uff09 BOM/D/4\u3000BOM9/D19/2@4\n\u25c6\u300a\u56de\u907f\u904b\u52d5\u300b\u3000(AVOn@mXX)\u3000n:\u76ee\u6a19\u5024\uff08\u7701\u7565\u6642:7\uff09\n\u3000m:\u56de\u907f\u65b9\u5411\u3002\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\u3001XX\uff1a\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u7d50\u679c\n\u3000\u4f8b\uff09\n\u3000AVO9@8[\u7e261,\u6a2a4],[\u7e262,\u6a2a6],[\u7e263,\u6a2a8]\u3000AVO@2[\u7e266,\u6a2a4],[\u7e262,\u6a2a6]\n"),d.$register_prefix("D","2D6<=","SN","NV","AVO","BOM"),m(d,"$initialize",function a(r){var i=this;return delete a.$$p,S(i,R(i,"initialize",a,!1,!0),"initialize",[r],null),i.round_type=n(l("RoundType"),"FLOOR")},1),m(d,"$eval_game_system_specific_command",function(r){var i,u,_,c,s=this;return s.$debug("\n=======================================\n"),s.$debug("eval_game_system_specific_command command",r),h(i=h(u=h(_=h(c=s.$get_judge_result(r))?c:s.$navigation_result(r))?_:s.$get_fire_result(r))?u:s.$get_bomb_result(r))?i:s.$get_avoid_result(r)},1),d.$private(),m(d,"$get_judge_result",function(r){var u,s=this,i=t,_=t,c=t,b=t,f=t;return h(i=h(u=/^2D6<=(\d)$/i.$match(r))?u:/^SN(\d*)$/i.$match(r))?(s.$debug("====get_judge_result===="),_=h(i["$[]"](1)["$empty?"]())?7:i["$[]"](1).$to_i(),s.$debug("\u76ee\u6a19\u5024",_),f="(2D6<="+_+") \uff1e "+(b=(c=s.randomizer.$roll_barabara(2,6)).$sum())+"["+c.$join(",")+"] \uff1e "+b,h(g(b,2))?l("Result").$fumble(y(f," \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb")):h(g(b,_))?l("Result").$success(y(f," \uff1e \u6210\u529f")):l("Result").$failure(y(f," \uff1e \u5931\u6557"))):t},1),m(d,"$navigation_result",function(r){var s=this,i=t,u=t,_=t,c=t,b=t;return h(i=/^NV(\+(\d+))?$/.$match(r))?(s.$debug("====navigation_result===="),u=i["$[]"](2).$to_i(),s.$debug("\u79fb\u52d5\u4fee\u6b63",u),_=s.randomizer.$roll_once(6),c=h(g(k(_,2).$to_i(),0))?1:k(_,2).$to_i(),b=y(c,u),s.$debug("\u79fb\u52d5\u30a8\u30ea\u30a2\u6570",b),l("Result").$new("\u822a\u884c\u30c1\u30a7\u30c3\u30af(\u6700\u4f4e1)\u3000(1D6/2+"+u+") \uff1e "+_+" /2+"+u+" \uff1e "+c+"+"+u+" \uff1e "+b+"\u30a8\u30ea\u30a2\u9032\u3080")):t},1),v(o[0],"DIRECTION_INFOS",p(1,E(["name","position_diff"],{name:"\u5de6\u4e0b",position_diff:E(["x","y"],{x:-1,y:1})}),2,E(["name","position_diff"],{name:"\u4e0b",position_diff:E(["x","y"],{x:0,y:1})}),3,E(["name","position_diff"],{name:"\u53f3\u4e0b",position_diff:E(["x","y"],{x:1,y:1})}),4,E(["name","position_diff"],{name:"\u5de6",position_diff:E(["x","y"],{x:-1,y:0})}),6,E(["name","position_diff"],{name:"\u53f3",position_diff:E(["x","y"],{x:1,y:0})}),7,E(["name","position_diff"],{name:"\u5de6\u4e0a",position_diff:E(["x","y"],{x:-1,y:-1})}),8,E(["name","position_diff"],{name:"\u4e0a",position_diff:E(["x","y"],{x:0,y:-1})}),9,E(["name","position_diff"],{name:"\u53f3\u4e0a",position_diff:E(["x","y"],{x:1,y:-1})})).$freeze()),m(d,"$get_direction_info",function(r,s,i){var u=t;return null==i&&(i=t),u=l("DIRECTION_INFOS")["$[]"](r.$to_i()),h(u["$nil?"]())?i:u["$[]"](s)},-3),m(d,"$get_fire_result",function(r){var s=this,i=t,u=t,_=t,c=t,b=t,f=t;return h(i=/^D([12346789]*)(\[.+\])*\/(\d{1,2})(@([2468]))?$/.$match(r))?(s.$debug("====get_fire_result===="),u=i["$[]"](3).$to_i(),_=i["$[]"](1).$to_s(),c=i["$[]"](5).$to_i(),s.$debug("fire_count",u),s.$debug("fire_range",_),s.$debug("ballistics",c),b=s.$get_fire_point(_,u),f=[r,s.$get_fire_point_text(b,u).$text()],M(c,0)&&(f["$<<"]("\u300a\u5f3e\u9053\u5b66\u300b:"+s.$get_direction_info(c,"name","")+"\n"),f["$<<"](s.$get_fire_point_text(b,u,c).$text())),l("Result").$new(f.$join(" \uff1e "))):t},1),m(d,"$get_fire_point",function(r,s){var i=this,u=t;return i.$debug("====get_fire_point===="),u=[],L(s,"times",[],function _(c){var f,q,b=null==_.$$s?this:_.$$s,F=t;return null==b.randomizer&&(b.randomizer=t),null==c&&(c=t),b.$debug("\n\u7832\u6483\u56de\u6570",y(c,1)),u["$<<"]([]),f=b.randomizer.$roll_once(6),q=b.randomizer.$roll_sum(2,6),F=[q,f],u["$[]"](-1)["$<<"](F),b.$debug("\u7740\u5f3e\u70b9",u),L(r,"chars",[],function U(W){var X=null==U.$$s?this:U.$$s,Q=t;return null==W&&(W=t),X.$debug("\u7bc4\u56f2",W),Q=X.$get_direction_info(W,"position_diff",E([],{})),F=[y(q,Q["$[]"]("x").$to_i()),y(f,Q["$[]"]("y").$to_i())],u["$[]"](-1)["$<<"](F),X.$debug("\u7740\u5f3e\u70b9:\u7bc4\u56f2",u)},{$$arity:1,$$s:b})},{$$arity:1,$$s:i}),i.$debug("\n\u6700\u7d42\u7740\u5f3e\u70b9",u),u},2),m(d,"$get_fire_point_text",function(r,s,i){var _=t;return null==i&&(i=0),this.$debug("====get_fire_point_text===="),_=[],L(r,"each",[],function c(b){var q=t;return null==b&&(b=t),q="",L(b,"each",[],function F(U,W){var X,Q,re=null==F.$$s?this:F.$$s;return null==U&&(U=t),null==W&&(W=t),Q=re.$get_move_point(U,W,i),X=Y(Q),q=y(q,h(re["$in_map_position?"](U=null==X[0]?t:X[0],W=null==X[1]?t:X[1]))?"[\u7e26"+W+",\u6a2a"+U+"]":"([\u7e26"+W+",\u6a2a"+U+"])"),re.$debug("\u7740\u5f3e\u70b9\u30c6\u30ad\u30b9\u30c8",q)},{$$arity:2,$$s:null==c.$$s?this:c.$$s}),_["$<<"](q)},{$$arity:1,$$s:this}),l("Result").$new(_.$join(","))},-3),m(d,"$in_map_position?",function(r,s){var i,u=t;return h(i=h(u=g(1,s))?g(s,6):u)?h(u=g(2,r))?g(r,12):u:i},2),m(d,"$get_move_point",function(r,s,i){var u=this,_=t;return u.$debug("====get_move_point===="),u.$debug("\u65b9\u5411",i),u.$debug("\u5ea7\u6a19\u79fb\u52d5\u524d(x,y)",r,s),_=u.$get_direction_info(i,"position_diff",E([],{})),r=y(r,_["$[]"]("x").$to_i()),s=y(s,_["$[]"]("y").$to_i()),u.$debug("\n\u5ea7\u6a19\u79fb\u52d5\u5f8c(x,y)",r,s),[r,s]},3),m(d,"$get_bomb_result",function(r){var s=this,i=t,u=t,_=t,c=t,b=t,f=t;return h(i=/^BOM(\d*)?\/D([12346789]*)(\[.+\])*\/(\d+)(@([2468]))?$/i.$match(r))?(s.$debug("====get_bomb_result====",r),u=i["$[]"](1).$to_s(),_=i["$[]"](6).$to_i(),s.$debug("\u5f3e\u9053\u5b66\u65b9\u5411",_),c=s.$get_judge_result(y("SN",u)),h(c["$failure?"]())?(b=[r+" \uff1e "+c.$text()],L(c,"text=",G(b)),j(b.length,1),c):(f=r.$slice(/D([12346789]*)(\[.+\])*\/(\d+)(@([2468]))?/),b=[r+" \uff1e "+c.$text()+"\n \uff1e "+s.$get_fire_result(f).$text()],L(c,"text=",G(b)),j(b.length,1),c)):t},1),m(d,"$get_avoid_result",function(r){var s=this,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t;return h(i=/^AVO(\d*)?(@([2468]))(\(?\[\u7e26\d+,\u6a2a\d+\]\)?,?)+$/.$match(r))?(s.$debug("====get_avoid_result====",r),u=i["$[]"](3).$to_i(),s.$debug("\u56de\u907f\u65b9\u5411",u),_=r.$slice(/^AVO(\d*)?(@([2468]))/),c=s.$get_judge_result(y("SN",l("Regexp").$last_match(1).$to_s())),h(c["$failure?"]())?(b=[_+" \uff1e \u300a\u56de\u907f\u904b\u52d5\u300b"+c.$text()],L(c,"text=",G(b)),j(b.length,1),c):(f=r.$slice(/(\(?\[\u7e26\d+,\u6a2a\d+\]\)?,?)+/),F=(q=s.$scan_fire_point(f)).$size(),l("Result").$success([_,"\u300a\u56de\u907f\u904b\u52d5\u300b"+c.$text()+"\n",f,y(y("\u300a\u56de\u907f\u904b\u52d5\u300b:",s.$get_direction_info(u,"name","")),"\n"),s.$get_fire_point_text(q,F,u).$text()].$compact().$join(" \uff1e ")))):t},1),m(d,"$scan_fire_point",function(r){var i=t;return this.$debug("====scan_fire_point====",r),r=r.$gsub(/\(|\)/,""),i=[],L(r.$split(/\],/),"each",[],function u(_){var c=null==u.$$s?this:u.$$s;return null==_&&(_=t),c.$debug("point_text",_),i["$<<"]([]),L(_.$split(/\]/),"each",[],function b(f){var q=null==b.$$s?this:b.$$s,F=t,W=t;return null==f&&(f=t),q.$debug("point",f),i["$[]"](-1)["$<<"]([]),h(f["$=~"](/[^\d]*(\d+),[^\d]*(\d+)/))?(F=l("Regexp").$last_match(1).$to_i(),W=[-1,[l("Regexp").$last_match(2).$to_i(),F]],L(i["$[]"](-1),"[]=",G(W)),j(W.length,1),q.$debug("\u7740\u5f3e\u70b9",i)):t},{$$arity:1,$$s:c})},{$$arity:1,$$s:this}),i},1)})},5444:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var V,z,o,l,$,a,x,D,I,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.hash2,R=e.send2,m=e.find_super,h=e.def,g=e.truthy,y=e.hash,k=e.to_ary,p=e.send,E=e.eqeq,M=e.range,L=e.rb_le,Y=e.rb_ge,G=e.to_a,j=e.rb_minus,N=e.rb_plus,K=e.neqeq;return V=H,z=I=[B(H[0],"BCDice")].concat(V),x=[B(I[0],"GameSystem")].concat(z),D=e.$r(x),o=x,$=[l=C(x[0],D("Base"),"SkynautsBouken")].concat(o),a=e.$r($),l.$$prototype.randomizer=t,v($[0],"ID","SkynautsBouken"),v($[0],"NAME","\u6b6f\u8eca\u306e\u5854\u306e\u63a2\u7a7a\u58eb\uff08\u5192\u967a\u4f01\u753b\u5c40\uff09"),v($[0],"SORT_KEY","\u306f\u304f\u308b\u307e\u306e\u3068\u3046\u306e\u3059\u304b\u3044\u306e\u304a\u30642"),v($[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08nSNt#f\uff09 n:\u30c0\u30a4\u30b9\u6570(\u7701\u7565\u66422)\u3001t:\u76ee\u6a19\u5024(\u7701\u7565\u66427)\u3001f:\u30d5\u30a1\u30f3\u30d6\u30eb\u5024(\u7701\u7565\u66421)\n    \u4f8b\uff09SN6#2\u30003SN\n\u30fb\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af (Dx/y@m) x:\u30c0\u30e1\u30fc\u30b8\u7bc4\u56f2\u3001y:\u653b\u6483\u56de\u6570\n\u3000\u3000m:\u300a\u5f3e\u9053\u5b66\u300b\uff08\u7701\u7565\u53ef\uff09\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\n\u3000\u3000\u4f8b\uff09 D/4\u3000D19/2\u3000D/3@8\u3000D[\u5927\u63fa\u308c]/2\n\u30fb\u56de\u907f(AVO@m\u30c0\u30e1\u30fc\u30b8)\n\u3000\u3000m:\u56de\u907f\u65b9\u5411\uff08\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\uff09\u3001\u30c0\u30e1\u30fc\u30b8\uff1a\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u7d50\u679c\n\u3000\u3000\u4f8b\uff09AVO@8[1,4],[2,6],[3,8]\u3000AVO@2[6,4],[2,6]\n\u30fbFT \u30d5\u30a1\u30f3\u30d6\u30eb\u8868(p76)\n\u30fbNV \u822a\u884c\u8868\n\n\u25a0 \u5224\u5b9a\u30bb\u30c3\u30c8\n\u30fb\u300a\u56de\u907f\u904b\u52d5\u300b\u5224\u5b9a+\u56de\u907f\uff08nSNt#f/AVO@\u30c0\u30e1\u30fc\u30b8\uff09\n\u3000\u3000nSNt#f \u2192 \u6210\u529f\u306a\u3089 AVO@m\n\u3000\u3000\u4f8b\uff09SN/AVO@8[1,4],[2,6],[3,8]\u30003SN#2/AVO@2[6,4],[2,6]\n\u30fb\u7832\u6483\u5224\u5b9a+\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u3000(nSNt#f/Dx/y@m)\n\u3000\u3000\u884c\u70ba\u5224\u5b9a\u306e\u51fa\u76ee\u5909\u66f4\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u9003\u3059\u306e\u3067\u8981GM\u306e\u8a31\u53ef\n\u3000\u3000nSNt#f \u2192 \u6210\u529f\u306a\u3089 Dx/y@m\n\u3000\u3000\u4f8b\uff09SN/D/4\u30003SN#2/D[\u5927\u63fa\u308c]/2\n"),v($[0],"TABLES",S(["FT","NV"],{FT:n(a("DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u306a\u3093\u3068\u304b\u5927\u4e8b\u306b\u306f\u3044\u305f\u3089\u306a\u304b\u3063\u305f\u3002\u901a\u5e38\u306e\u5931\u6557\u3068\u540c\u69d8\u306e\u51e6\u7406\u3092\u884c\u3046\u3053\u3068\u3002","\u8ee2\u3093\u3067\u3057\u307e\u3063\u305f\u3002\u30ad\u30df\u306f[\u8ee2\u5012](p107)\u3059\u308b\u3002","\u5931\u6557\u306b\u30a4\u30e9\u30a4\u30e9\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u30ad\u30df\u306f\u7372\u5f97\u3057\u3066\u3044\u308b\u3010\u30ad\u30ba\u30ca\u30111\u3064\u306e\u300c\u652f\u63f4\u30c1\u30a7\u30c3\u30af\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3002","\u81ea\u8eab\u306e\u3044\u308b\u30de\u30b9\u3092[\u7834\u640d](p104)\u3055\u305b\u308b\u3002\u3053\u306e[\u7834\u640d]\u306b\u3088\u3063\u3066\u3001\u30ad\u30df\u306e\u3010\u751f\u547d\u70b9\u3011\u306f\u6e1b\u5c11\u3057\u306a\u3044\u3002","\u982d\u3092\u3076\u3064\u3051\u3066\u3057\u307e\u3063\u305f\u3002\u30ad\u30df\u306e\u3010\u751f\u547d\u70b9\u3011\u3092\u300c1d6\u70b9\u300d\u6e1b\u5c11\u3059\u308b\u3002","\u5947\u8de1\u7684\u306a\u7d50\u679c\u3002 \u3053\u306e\u884c\u70ba\u5224\u5b9a\u306f\u6210\u529f\u3068\u306a\u308b\u3002"]),NV:n(a("DiceTable"),"Table").$new("\u822a\u6d77\u8868","1d6",["\u30b9\u30dd\u30c3\u30c81\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c81\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c81\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c82\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c82\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c83\u3064\u5206\u9032\u3080"])}).$freeze()),l.$register_prefix("D","\\d?SN","NV","FT","AVO"),h(l,"$initialize",function s(i){var _=this;return delete s.$$p,R(_,m(_,"initialize",s,!1,!0),"initialize",[i],null),_.round_type=n(a("RoundType"),"FLOOR")},1),h(l,"$eval_game_system_specific_command",function(i){var _,c,b,f,q,u=this;return g(_=g(c=g(b=g(f=g(q=u.$command_sn(i))?q:u.$command_d(i))?f:u.$command_avo(i))?b:u.$command_snavo(i))?c:u.$command_snd(i))?_:u.$roll_tables(i,a("TABLES"))},1),l.$private(),v($[0],"DIRECTION_INFOS",y(0,S(["name","position_diff"],{name:"",position_diff:[0,0]}),1,S(["name","position_diff"],{name:"\u5de6\u4e0b",position_diff:[-1,1]}),2,S(["name","position_diff"],{name:"\u4e0b",position_diff:[0,1]}),3,S(["name","position_diff"],{name:"\u53f3\u4e0b",position_diff:[1,1]}),4,S(["name","position_diff"],{name:"\u5de6",position_diff:[-1,0]}),5,S(["name","position_diff"],{name:"",position_diff:[0,0]}),6,S(["name","position_diff"],{name:"\u53f3",position_diff:[1,0]}),7,S(["name","position_diff"],{name:"\u5de6\u4e0a",position_diff:[-1,-1]}),8,S(["name","position_diff"],{name:"\u4e0a",position_diff:[0,-1]}),9,S(["name","position_diff"],{name:"\u53f3\u4e0a",position_diff:[1,-1]})).$freeze()),v($[0],"D_REGEXP",/^D([1-46-9]{0,8})(\[.+\]|S|F|SF|FS)?\/(\d{1,2})(@([2468]))?$/.$freeze()),h(l,"$command_sn",function(i){var u,_,c=this,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t;return c.$debug("SN",i),b=n(a("Command"),"Parser").$new(/[1-9]?SN(\d{0,2})/,S(["round_type"],{round_type:c.$round_type()})).$restrict_cmp_op_to(t).$enable_fumble().$parse(i),g(b)?(_=p(b.$command().$split("SN",2),"map",[],"to_i".$to_proc()),q=null==(u=k(_))[1]?t:u[1],E(f=null==u[0]?t:u[0],0)&&(f=2),E(q,0)&&(q=7),F=g(b.$fumble()["$nil?"]())?1:b.$fumble(),c.$debug("SN Parsed",f,q,F),W=(U=c.randomizer.$roll_barabara(f,6)).$sort()["$[]"](M(-2,-1,!1)),X=E(W,[6,6])?a("Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb\uff08\u3010\u751f\u547d\u70b9\u30111d6\u56de\u5fa9\uff09"):g(L(U.$max(),F))?a("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u8868FT\uff09"):g(Y(W.$sum(),q))?a("Result").$success("\u6210\u529f"):a("Result").$failure("\u5931\u6557"),E(f,2)?(Q=[["("+f+"SN"+q+"#"+F+")",W.$sum()+"["+U.$join(",")+"]",X.$text()].$compact().$join(" \uff1e ")],p(X,"text=",G(Q)),j(Q.length,1)):(Q=[["("+f+"SN"+q+"#"+F+")",N(N("[",U.$join(",")),"]"),W.$sum()+"["+W.$join(",")+"]",X.$text()].$compact().$join(" \uff1e ")],p(X,"text=",G(Q)),j(Q.length,1)),X):t},1),h(l,"$command_d",function(i){var u,_,c=this,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t;return b=a("D_REGEXP").$match(i),g(b)?(f=b["$[]"](3).$to_i(),q=b["$[]"](1).$to_s(),F=b["$[]"](5).$to_i(),U=c.$get_fire_points(f,q),W=["("+(i=i.$sub("SF/","[\u5927\u63fa\u308c,\u706b\u707d]/").$sub("FS/","[\u706b\u707d,\u5927\u63fa\u308c]/").$sub("F/","[\u706b\u707d]/").$sub("S/","[\u5927\u63fa\u308c]/"))+")",c.$get_points_text(U,0,0)],K(F,0)&&(_=(X=a("DIRECTION_INFOS")["$[]"](F))["$[]"]("position_diff"),Q=null==(u=k(_))[0]?t:u[0],re=null==u[1]?t:u[1],O=[-1,N(W["$[]"](-1),"\n")],p(W,"[]=",G(O)),j(O.length,1),W["$<<"]("\u300a\u5f3e\u9053\u5b66\u300b"+X["$[]"]("name")),W["$<<"](c.$get_points_text(U,Q,re))),W.$compact().$join(" \uff1e ")):t},1),h(l,"$command_avo",function(i){var u,_,b=t,f=t,q=t,F=t;return this.$debug("AVO",i),b=i.$match(/^AVO@([2468])(.*?)$/),g(b)?(_=(f=a("DIRECTION_INFOS")["$[]"](b["$[]"](1).$to_i()))["$[]"]("position_diff"),u=k(_),q=null==u[0]?t:u[0],F=null==u[1]?t:u[1],N("\u300a\u56de\u907f\u904b\u52d5\u300b"+f["$[]"]("name")+" \uff1e ",p(b["$[]"](2),"gsub",[/\(?\[(\d),(\d{1,2})\]\)?/],function U(){var X,Q,W=null==U.$$s?this:U.$$s;return X=N(a("Regexp").$last_match(1).$to_i(),F),Q=N(a("Regexp").$last_match(2).$to_i(),q),W.$get_xy_text(Q,X)},{$$arity:0,$$s:this}))):t},1),h(l,"$command_snavo",function(i){var u,_,b,f,q,c=this,F=t,U=t;return _=i.$split(/\/?AVO/,2),u=k(_),c.$debug("SNAVO",b=null==u[0]?t:u[0],f=null==u[1]?t:u[1]),q=/^@([2468])(.*?)$/.$match(f),g(q)&&(F=c.$command_sn(b),g(F))?(g(F["$success?"]())&&(U=[N(F.$text(),N("\n \uff1e ",c.$command_avo(N("AVO",f))))],p(F,"text=",G(U)),j(U.length,1)),F):t},1),h(l,"$command_snd",function(i){var u,_,b,f,q,c=this,F=t,U=t;return _=i.$split(/\/?D/,2),u=k(_),c.$debug("SND",b=null==u[0]?t:u[0],f=null==u[1]?t:u[1]),q=a("D_REGEXP").$match("D"+f),g(q)&&(F=c.$command_sn(b),g(F))?(g(F["$success?"]())&&(U=[N(F.$text(),"\n \uff1e "+c.$command_d(N("D",f)))],p(F,"text=",G(U)),j(U.length,1)),F):t},1),h(l,"$get_points_text",function(i,u,_){return N("[\u7e26,\u6a2a]=",p(i,"map",[],function b(f){return null==f&&(f=t),p(f,"map",[],function F(U,W){return null==U&&(U=t),null==W&&(W=t),(null==F.$$s?this:F.$$s).$get_xy_text(N(U,u),N(W,_))},{$$arity:2,$$s:null==b.$$s?this:b.$$s}).$join()},{$$arity:1,$$s:this}).$join(","))},3),h(l,"$get_xy_text",function(i,u){return g(M(2,12,!1)["$include?"](i))&&g(M(1,6,!1)["$include?"](u))?"["+u+","+i+"]":"(["+u+","+i+"])"},2),h(l,"$get_fire_points",function(i,u){var c;return c=p(u.$chars(),"map",[],"to_i".$to_proc()),p(i.$times(),"map",[],function b(){var q,F,f=null==b.$$s?this:b.$$s;return null==f.randomizer&&(f.randomizer=t),q=f.randomizer.$roll_once(6),F=f.randomizer.$roll_sum(2,6),N([[F,q]],p(c,"map",[],function(W){var X,Q,O;return null==W&&(W=t),Q=a("DIRECTION_INFOS")["$[]"](W)["$[]"]("position_diff"),O=null==(X=k(Q))[1]?t:X[1],[N(F,null==X[0]?t:X[0]),N(q,O)]},1))},{$$arity:0,$$s:this})},2)})},5214:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var G,P,A,x,D,T,J,I,N,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.to_a,k=e.rb_minus,p=e.rb_plus,E=e.rb_ge,M=e.eqeq,L=e.rb_lt;return G=H,P=N=[B(H[0],"BCDice")].concat(G),J=[B(N[0],"GameSystem")].concat(P),I=e.$r(J),A=J,D=[x=C(J[0],I("Base"),"StrangerOfSwordCity")].concat(A),T=e.$r(D),x.$$prototype.randomizer=t,v(D[0],"ID","StrangerOfSwordCity"),v(D[0],"NAME","\u5263\u306e\u8857\u306e\u7570\u90a6\u4ebaTRPG"),v(D[0],"SORT_KEY","\u3064\u308b\u304d\u306e\u307e\u3061\u306e\u3044\u307b\u3046\u3057\u3093TRPG"),v(D[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000xSR or xSRy or xSR+y or xSR-y or xSR+y>=z\n\u3000x=\u30c0\u30a4\u30b9\u6570\u3001y=\u4fee\u6b63\u5024(\u7701\u7565\u53ef\u3001\xb1\u7701\u7565\u6642\u306f\uff0b\u3068\u3057\u3066\u6271\u3046)\u3001z=\u96e3\u6613\u5ea6(\u7701\u7565\u53ef)\n\u3000\u5224\u5b9a\u6642\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u30fb\u901a\u5e38\u306enD6\u3067\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u306f\u884c\u3044\u307e\u305b\u3093\u3002\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),x.$register_prefix("\\d+SR"),m(x,"$initialize",function o(l){var a=this;return delete o.$$p,S(a,R(a,"initialize",o,!1,!0),"initialize",[l],null),a.sort_add_dice=!0,a.d66_sort_type=n(T("D66SortType"),"NO_SORT"),a.round_type=n(T("RoundType"),"FLOOR")},1),m(x,"$eval_game_system_specific_command",function(l){var a=t;return this.$debug("eval_game_system_specific_command command",l),l=l.$upcase(),a=this.$checkRoll(l),h(a["$instance_of?"](T("Result")))||h(a["$empty?"]()),a},1),m(x,"$checkRoll",function(l){var $=this,a=t,r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t;return $.$debug("checkRoll begin command",l),a=T("Result").$new(),g(a,"text=",y(r=[""])),k(r.length,1),h(l["$=~"](/^(\d+)SR([+\-]?\d+)?(>=(\d+))?$/i))?(s=T("Regexp").$last_match(1).$to_i(),i=T("Regexp").$last_match(2).$to_i(),h(T("Regexp").$last_match(4))&&(u=T("Regexp").$last_match(4).$to_i()),c=(_=$.randomizer.$roll_barabara(s,6).$sort()).$sum(),b=p(c,i),f=$.$getModifyText(i),r=[p(a.$text(),"("+l+") \uff1e "+c+"["+_.$join(",")+"]"+f+" \uff1e "+b)],g(a,"text=",y(r)),k(r.length,1),q=$.$getCriticalResult(_),h(q["$nil?"]())?h($.$isFumble(_,s))?(g(a,"fumble=",y(r=[!0])),k(r.length,1),g(a,"failure=",y(r=[!0])),k(r.length,1),r=[p(a.$text()," \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb")],g(a,"text=",y(r)),k(r.length,1),a):(h(u["$nil?"]())||(h(E(b,u))?(g(a,"success=",y(r=[!0])),k(r.length,1),r=[p(a.$text()," \uff1e \u6210\u529f")],g(a,"text=",y(r)),k(r.length,1)):(g(a,"failure=",y(r=[!0])),k(r.length,1),r=[p(a.$text()," \uff1e \u5931\u6557")],g(a,"text=",y(r)),k(r.length,1))),a):(g(a,"critical=",y(r=[!0])),k(r.length,1),g(a,"success=",y(r=[!0])),k(r.length,1),r=[p(a.$text()," \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb(+"+q+"D6)")],g(a,"text=",y(r)),k(r.length,1),a)):a},1),m(x,"$getModifyText",function(l){return M(l,0)?"":h(L(l,0))?l.$to_s():"+"+l},1),m(x,"$getCriticalResult",function(l){var $=t;return $=g(l,"select",[],function(r){return null==r&&(r=t),r["$=="](6)},1).$size(),h(E($,2))?$.$to_s():t},1),m(x,"$isFumble",function(l,$){return E(g(l,"select",[],function(r){return null==r&&(r=t),r["$=="](1)},1).$size(),$)},2)})},203:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var M,j,I,D,d,o,w,z,A,K,P,Y,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.hash2;return M=H,j=Y=[B(H[0],"BCDice")].concat(M),K=[B(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=C(K[0],P("Base"),"StratoShout")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,v(z[0],"ID","StratoShout"),v(z[0],"NAME","\u30b9\u30c8\u30e9\u30c8\u30b7\u30e3\u30a6\u30c8"),v(z[0],"SORT_KEY","\u3059\u3068\u3089\u3068\u3057\u3084\u3046\u3068"),v(z[0],"HELP_MESSAGE","\nVOT, GUT, BAT, KEYT, DRT: (\u30dc\u30fc\u30ab\u30eb\u3001\u30ae\u30bf\u30fc\u3001\u30d9\u30fc\u30b9\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u30c9\u30e9\u30e0)\u30c8\u30e9\u30d6\u30eb\u8868\nEMO: \u611f\u60c5\u8868\nATn, RTTn: \u7279\u6280\u8868(n\uff1d\u5206\u91ce\u3002\u7a7a:\u30e9\u30f3\u30c0\u30e0 1:\u4e3b\u7fa9 2:\u8eab\u4f53 3:\u30e2\u30c1\u30fc\u30d5 4:\u30a8\u30e2\u30fc\u30b7\u30e7\u30f3 5:\u884c\u52d5 6:\u9006\u5883)\nRCT: \u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u8868\nSCENE, MACHI, GAKKO, BAND: (\u6c4e\u7528\u3001\u8857\u89d2\u3001\u5b66\u6821\u3001\u30d0\u30f3\u30c9)\u30b7\u30fc\u30f3\u8868 \u63a5\u8fd1\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\nTENKAI: \u30b7\u30fc\u30f3\u5c55\u958b\u8868 \u5954\u8d70\u30b7\u30fc\u30f3 \u7df4\u7fd2\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\n\nD66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),m(w,"$initialize",function D(T){var o=this;return delete D.$$p,S(o,R(o,"initialize",D,!1,!0),"initialize",[T],null),o.sort_add_dice=!0,o.d66_sort_type=n(A("D66SortType"),"ASC")},1),m(w,"$result_2d6",function(T,d,o,l,$){return h(l,">=")?g(y(d,2))?A("Result").$fumble(this.$translate("StratoShout.fumble")):g(k(d,12))?A("Result").$critical(this.$translate("StratoShout.critical")):t:t},5),m(w,"$eval_game_system_specific_command",function(T){var o,d=this;return g(o=d.$roll_tables(T,n(d.$class(),"TABLES")))?o:n(d.$class(),"RTT").$roll_command(d.randomizer,T)},1),d=[D=e.get_singleton_class(w)].concat(z),o=e.$r(d),D.$private(),m(D,"$translate_tables",function($){return p(["VOT","GUT","BAT","KEYT","DRT","EMO","SCENE","MACHI","GAKKO","BAND","TENKAI"],{VOT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.VOT",$),GUT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.GUT",$),BAT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.BAT",$),KEYT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.KEYT",$),DRT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.DRT",$),EMO:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.EMO",$),SCENE:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.SCENE",$),MACHI:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.MACHI",$),GAKKO:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.GAKKO",$),BAND:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.BAND",$),TENKAI:n(o("DiceTable"),"D66Table").$from_i18n("StratoShout.table.TENKAI",$)})},1),m(D,"$translate_rtt",function($){return n(o("DiceTable"),"SaiFicSkillTable").$from_i18n("StratoShout.RTT",$,p(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},1),v(z[0],"TABLES",w.$translate_tables("ja_jp")),v(z[0],"RTT",w.$translate_rtt("ja_jp")),w.$register_prefix(A("TABLES").$keys(),A("RTT").$prefixes())})},2030:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/game_system/StratoShout"]=function(e){var M,j,I,D,d,o,w,z,A,K,P,Y,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.eqeq,g=e.truthy,y=e.rb_le,k=e.rb_ge,p=e.hash2;return M=H,j=Y=[B(H[0],"BCDice")].concat(M),K=[B(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=C(K[0],P("Base"),"StratoShout")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,v(z[0],"ID","StratoShout"),v(z[0],"NAME","\u30b9\u30c8\u30e9\u30c8\u30b7\u30e3\u30a6\u30c8"),v(z[0],"SORT_KEY","\u3059\u3068\u3089\u3068\u3057\u3084\u3046\u3068"),v(z[0],"HELP_MESSAGE","\nVOT, GUT, BAT, KEYT, DRT: (\u30dc\u30fc\u30ab\u30eb\u3001\u30ae\u30bf\u30fc\u3001\u30d9\u30fc\u30b9\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u30c9\u30e9\u30e0)\u30c8\u30e9\u30d6\u30eb\u8868\nEMO: \u611f\u60c5\u8868\nATn, RTTn: \u7279\u6280\u8868(n\uff1d\u5206\u91ce\u3002\u7a7a:\u30e9\u30f3\u30c0\u30e0 1:\u4e3b\u7fa9 2:\u8eab\u4f53 3:\u30e2\u30c1\u30fc\u30d5 4:\u30a8\u30e2\u30fc\u30b7\u30e7\u30f3 5:\u884c\u52d5 6:\u9006\u5883)\nRCT: \u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u8868\nSCENE, MACHI, GAKKO, BAND: (\u6c4e\u7528\u3001\u8857\u89d2\u3001\u5b66\u6821\u3001\u30d0\u30f3\u30c9)\u30b7\u30fc\u30f3\u8868 \u63a5\u8fd1\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\nTENKAI: \u30b7\u30fc\u30f3\u5c55\u958b\u8868 \u5954\u8d70\u30b7\u30fc\u30f3 \u7df4\u7fd2\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\n\nD66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),m(w,"$initialize",function D(T){var o=this;return delete D.$$p,S(o,R(o,"initialize",D,!1,!0),"initialize",[T],null),o.sort_add_dice=!0,o.d66_sort_type=n(A("D66SortType"),"ASC")},1),m(w,"$result_2d6",function(T,d,o,l,$){return h(l,">=")?g(y(d,2))?A("Result").$fumble(this.$translate("StratoShout.fumble")):g(k(d,12))?A("Result").$critical(this.$translate("StratoShout.critical")):t:t},5),m(w,"$eval_game_system_specific_command",function(T){var o,d=this;return g(o=d.$roll_tables(T,n(d.$class(),"TABLES")))?o:n(d.$class(),"RTT").$roll_command(d.randomizer,T)},1),d=[D=e.get_singleton_class(w)].concat(z),o=e.$r(d),D.$private(),m(D,"$translate_tables",function($){return p(["VOT","GUT","BAT","KEYT","DRT","EMO","SCENE","MACHI","GAKKO","BAND","TENKAI"],{VOT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.VOT",$),GUT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.GUT",$),BAT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.BAT",$),KEYT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.KEYT",$),DRT:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.DRT",$),EMO:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.EMO",$),SCENE:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.SCENE",$),MACHI:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.MACHI",$),GAKKO:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.GAKKO",$),BAND:n(o("DiceTable"),"Table").$from_i18n("StratoShout.table.BAND",$),TENKAI:n(o("DiceTable"),"D66Table").$from_i18n("StratoShout.table.TENKAI",$)})},1),m(D,"$translate_rtt",function($){return n(o("DiceTable"),"SaiFicSkillTable").$from_i18n("StratoShout.RTT",$,p(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},1),v(z[0],"TABLES",w.$translate_tables("ja_jp")),v(z[0],"RTT",w.$translate_rtt("ja_jp")),w.$register_prefix(A("TABLES").$keys(),A("RTT").$prefixes())},Opal.queue(function(e){var g,E,N,K,P,L,Y,k,t=[],B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def;return e.top.$require("bcdice/game_system/StratoShout"),g=t,E=k=[B(t[0],"BCDice")].concat(g),L=[B(k[0],"GameSystem")].concat(E),Y=e.$r(L),N=L,v((P=[K=C(L[0],Y("StratoShout"),"StratoShout_Korean")].concat(N))[0],"ID","StratoShout:Korean"),v(P[0],"NAME","\uc2a4\ud2b8\ub77c\ud1a0 \uc0e4\uc6b0\ud2b8"),v(P[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uc2a4\ud2b8\ub77c\ud1a0 \uc0e4\uc6b0\ud2b8"),v(P[0],"HELP_MESSAGE","VOT, GUT, BAT, KEYT, DRT: (\ubcf4\uceec, \uae30\ud0c0, \ubca0\uc774\uc2a4, \ud0a4\ubcf4\ub4dc, \ub4dc\ub7fc)\ud2b8\ub7ec\ube14\ud45c\nEMO: \uac10\uc815\ud45c\nRTT[1-6], AT[1-6]: \ud2b9\uae30\ud45c(\uacf5\ubc31: \ub79c\ub364 1: \uc8fc\uc758 2: \uc2e0\uccb4 3: \ubaa8\ud2f0\ube0c 4: \uc774\ubaa8\uc158 5: \ud589\ub3d9 6: \uc5ed\uacbd)\nSCENE, MACHI, GAKKO, BAND: (\ubc94\uc6a9, \uac70\ub9ac, \ud559\uad50, \ubc34\ub4dc)\uc7a5\uba74\ud45c. \uc811\uadfc \uc7a5\uba74\uc5d0 \uc0ac\uc6a9\nTENKAI: \uc7a5\uba74 \uc804\uac1c\ud45c. \ubd84\uc8fc \uc7a5\uba74, \uc5f0\uc2b5 \uc7a5\uba74\uc5d0 \uc0ac\uc6a9\n[]\ub0b4\ub294 \uc0dd\ub7b5\uac00\ub2a5\u3000D66\ub294 \ubcc0\ub3d9\uc788\uc74c\n"),K.$register_prefix_from_super_class(),m(K,"$initialize",function V(J){var w=this;return delete V.$$p,S(w,R(w,"initialize",V,!1,!0),"initialize",[J],null),w.locale="ko_kr"},1),v(P[0],"TABLES",K.$translate_tables("ko_kr").$freeze()),v(P[0],"RTT",K.$translate_rtt("ko_kr"))})},1758:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeqeq,h=e.truthy,g=e.rb_lt,y=e.rb_gt,k=e.send,p=e.rb_le,E=e.rb_times,M=e.rb_plus,L=e.rb_divide,Y=e.rb_minus;return j=H,V=K=[n(H[0],"BCDice")].concat(j),I=[n(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=B(I[0],w("Base"),"Strave")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,C(T[0],"ID","Strave"),C(T[0],"NAME","\u78a7\u7a7a\u306e\u30b9\u30c8\u30ec\u30a4\u30f4"),C(T[0],"SORT_KEY","\u3078\u304d\u304f\u3046\u306e\u3059\u3068\u308c\u3044\u3075"),C(T[0],"HELP_MESSAGE","\u30fb\u30e2\u30e9\u30c8\u30ea\u30a2\u30e0\u30d5\u30a7\u30a4\u30ba\u7528\u5224\u5b9a\uff1aMPm\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anSTm*p\n\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbMP6 \u2192 \u76ee\u6a19\u50246\u306e\u30e2\u30e9\u30c8\u30ea\u30a2\u30e0\u30d5\u30a7\u30a4\u30ba\u7528\u5224\u5b9a\u3002\n\u30fb5ST6*10 \u2192 5d10\u3067\u76ee\u6a19\u50246\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\n\u3010\u5404\u7a2e\u8868\u3011\n\u30fb\u6240\u5c5e\u8868\uff1aAFF\u3000\u3000VN\u7248\uff1aAFV\n\u30fb\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\uff1aIDT\u3000\u3000VN\u7248\uff1aIDV\n\n\u203b\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\u306f\u30a8\u30e9\u30c3\u30bf\u9069\u7528\u6e08\u3067\u3059\u3002\n"),D.$register_prefix("MP","\\d+ST","AFF","IDT","AFV","IDV"),R(D,"$initialize",function l($){var r=this;return delete l.$$p,v(r,S(r,"initialize",l,!1,!0),"initialize",[$],null),r.sort_add_dice=!0},1),R(D,"$eval_game_system_specific_command",function($){var s,a=this,i=t,u=t,_=t,c=t;return m(/MP(\d+)$/i,s=$.$upcase())?(i=2,u=d("Regexp").$last_match(1).$to_i(),a.$checkRoll(i,u,t)):m(/(\d+)ST(\d+)(x|\*)(\d+)$/i,s)?(i=d("Regexp").$last_match(1).$to_i(),u=d("Regexp").$last_match(2).$to_i(),_=(h(c=d("Regexp").$last_match(4))?c:0).$to_i(),a.$checkRoll(i,u,_)):m("AFF",s)?a.$get_affiliation_table():m("IDT",s)?a.$get_identity_table():m("AFV",s)?a.$get_affiliation_table2():m("IDV",s)?a.$get_identity_table2():t},1),R(D,"$checkRoll",function($,a,r){var u,_,c,i=t,b=t,f=t;return h(g(a,1))&&(a=1),h(y(a,10))&&(a=10),u=(i=this.randomizer.$roll_barabara($,10).$sort()).$join(","),_=k(i,"find_all",[],function(F){return null==F&&(F=t),p(F,a)},1).$size(),c=r["$nil?"]()["$!"](),h(c)?(b=E(_,r),f="("+$+"D10<="+a+") \uff1e "+u+" \uff1e Hits\uff1a"+_+"*"+r+" \uff1e "+b+"\u30c0\u30e1\u30fc\u30b8"):(f="("+$+"D10<="+a+") \uff1e "+u,f=h(y(_,0))?M(f," \uff1e \u3010\u6210\u529f\u3011"):M(f," \uff1e \u3010\u5931\u6557\u3011")),f},3),R(D,"$get_affiliation_table",function(){return this.$get_strave_1d100_table_result("\u6240\u5c5e\u8868\uff1a\u57fa\u672c",[[1,"\u30a2\u30ea\u30a6\u30b9\u7ba1\u7406\u59d4\u54e1\u4f1a\uff1a\u3042\u306a\u305f\u306f\u30a2\u30ea\u30a6\u30b9\u7ba1\u7406\u59d4\u54e1\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[2,"\u30aa\u30fc\u30f4\u30a1\u30fc\u30d6\u30eb\u30fc\uff1a\u3042\u306a\u305f\u306f\u30aa\u30fc\u30f4\u30a1\u30fc\u30d6\u30eb\u30fc\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[3,"\u30a6\u30a9\u30eb\u30b2\u30a4\u30c8\uff1a\u3042\u306a\u305f\u306f\u30a6\u30a9\u30eb\u30b2\u30a4\u30c8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[4,"\u6681\u90e8\u968a\uff1a\u3042\u306a\u305f\u306f\u304b\u3064\u3066\u3001\u53cd\u9006\u8005\u30fb\u6681\u5f25\u7434\u3068\u540c\u3058\u90e8\u968a\u306b\u6240\u5c5e\u3057\u3066\u3044\u305f\u3002"],[5,"\u5929\u6587\u90e8\uff1a\u3042\u306a\u305f\u306f\u5929\u6587\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[6,"\u5439\u594f\u697d\u90e8\uff1a\u3042\u306a\u305f\u306f\u5439\u594f\u697d\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[7,"\u5263\u9053\u90e8\uff1a\u3042\u306a\u305f\u306f\u5263\u9053\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[8,"\u30dc\u30af\u30b7\u30f3\u30b0\u90e8\uff1a\u3042\u306a\u305f\u306f\u30dc\u30af\u30b7\u30f3\u30b0\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[9,"\u9678\u4e0a\u90e8\uff1a\u3042\u306a\u305f\u306f\u9678\u4e0a\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[10,"\u8336\u9053\u90e8\uff1a\u3042\u306a\u305f\u306f\u8336\u9053\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[11,"\u30d1\u30bd\u30b3\u30f3\u90e8\uff1a\u3042\u306a\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[12,"\u65b0\u805e\u90e8\uff1a\u3042\u306a\u305f\u306f\u65b0\u805e\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[13,"\u5f13\u9053\u90e8\uff1a\u3042\u306a\u305f\u306f\u5f13\u9053\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[14,"\u7f8e\u8853\u90e8\uff1a\u3042\u306a\u305f\u306f\u7f8e\u8853\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[15,"\u30df\u30ea\u30bf\u30ea\u30fc\u7814\u7a76\u4f1a\uff1a\u3042\u306a\u305f\u306f\u30df\u30ea\u30bf\u30ea\u30fc\u7814\u7a76\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[16,"\u6b74\u53f2\u7814\u7a76\u4f1a\uff1a\u3042\u306a\u305f\u306f\u6b74\u53f2\u7814\u7a76\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[17,"\u30ed\u30dc\u30c3\u30c8\u7814\u7a76\u4f1a\uff1a\u3042\u306a\u305f\u306f\u30ed\u30dc\u30c3\u30c8\u7814\u7a76\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[18,"\u56f3\u66f8\u59d4\u54e1\u4f1a\uff1a\u3042\u306a\u305f\u306f\u56f3\u66f8\u59d4\u54e1\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u305b\u3088\u3002"]])},0),R(D,"$get_identity_table",function(){return this.$get_strave_1d100_table_result("\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\uff1a\u57fa\u672c",[[1,"\u6226\u3044\uff1a\u6226\u3044\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[2,"\u5b88\u8b77\uff1a\u3042\u306a\u305f\u306b\u306f\u5b88\u308b\u3079\u304d\u3082\u306e\u304c\u3042\u308b\u3002"],[3,"\u5fa9\u8b90\uff1a\u3042\u306a\u305f\u306f\u5fa9\u8b90\u3092\u8a93\u3063\u3066\u3044\u308b\u3002\u4f55\u304b\u306b\u3001\u3042\u308b\u3044\u306f\u8ab0\u304b\u306b\u3002"],[4,"\u540d\u58f0\uff1a\u305d\u306e\u8eab\u306b\u6d74\u3073\u308b\u811a\u5149\u3092\u3001\u4f55\u3088\u308a\u3082\u8a89\u3068\u3057\u3066\u3044\u308b\u3002"],[5,"\u604b\u611b\uff1a\u3042\u306a\u305f\u306f\u305d\u306e\u8eab\u3092\u7126\u304c\u3059\u604b\u306b\u751f\u304d\u3066\u3044\u308b\u3002"],[6,"\u5bb6\u65cf\uff1a\u3042\u306a\u305f\u306b\u3068\u3063\u3066\u3001\u5bb6\u65cf\u306f\u304b\u3051\u304c\u3048\u306e\u7121\u3044\u3082\u306e\u3060\u3002"],[7,"\u53cb\u4eba\uff1a\u3042\u306a\u305f\u306f\u53cb\u306e\u305f\u3081\u306b\u6226\u3063\u3066\u3044\u308b\u3002"],[8,"\u90e8\u968a\uff1a\u5171\u306b\u6226\u3046\u90e8\u968a\u306e\u4ef2\u9593\u304c\u3001\u3042\u306a\u305f\u306b\u529b\u3092\u304f\u308c\u308b\u3002"],[9,"\u30b9\u30c8\u30ec\u30a4\u30f4\uff1a\u3042\u306a\u305f\u306f\u81ea\u8eab\u306e\u30b9\u30c8\u30ec\u30a4\u30f4\u3092\u8a87\u308a\u306b\u601d\u3063\u3066\u3044\u308b\u3002"],[10,"\u30b9\u30d5\u30a3\u30a2\u30d6\u30ec\u30a4\u30af\uff1a\u3042\u306a\u305f\u306f\u30b9\u30d5\u30a3\u30a2\u30d6\u30ec\u30a4\u30af\u3092\u71b1\u70c8\u306b\u76ee\u6307\u3057\u3066\u3044\u308b\u3002"],[11,"\u304a\u91d1\uff1a\u3042\u306a\u305f\u306f\u304a\u91d1\u3092\u6c42\u3081\u3066\u3044\u308b\u3002\u5831\u916c\u3053\u305d\u304c\u81ea\u5206\u306e\u4fa1\u5024\u3060\u3002"],[12,"\u5922\uff1a\u3042\u306a\u305f\u306b\u306f\u5922\u304c\u3042\u308b\u3002\u81ea\u5206\u3092\u7a81\u304d\u52d5\u304b\u3059\u5922\u304c\u3002"],[13,"\u5fe0\u8aa0\uff1a\u3042\u306a\u305f\u306f\u5fe0\u8aa0\u3092\u8a93\u3063\u3066\u3044\u308b\u3002\u4f55\u304b\u306b\u3001\u3042\u308b\u3044\u306f\u8ab0\u304b\u306b\u3002"],[14,"\u5171\u751f\uff1a\u3042\u306a\u305f\u306f\u3001\u30f4\u30a1\u30a4\u30a8\u30eb\u3068\u4eba\u985e\u3068\u306e\u5171\u751f\u3092\u671b\u3093\u3067\u3044\u308b\u3002"],[15,"\u5c45\u5834\u6240\uff1a\u81ea\u8eab\u306e\u5c45\u5834\u6240\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u306b\u529b\u3092\u304f\u308c\u308b\u3002"],[16,"\u5f37\u5236\uff1a\u3042\u306a\u305f\u306f\u4e0d\u672c\u610f\u306a\u304c\u3089\u4eca\u306e\u7acb\u5834\u306b\u3044\u308b\u3002"],[17,"\u78a7\u7a7a\uff1a\u898b\u4e0a\u3052\u305f\u9752\u7a7a\u304c\u3001\u3042\u306a\u305f\u3092\u5909\u3048\u305f\u3002"],[18,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"]])},0),R(D,"$get_affiliation_table2",function(){return this.$get_strave_1d100_table_result("\u6240\u5c5e\u8868\uff1a\u30f4\u30a1\u30ea\u30a2\u30f3\u30b9\u30cd\u30a4\u30f4\u30a1\u30fc",[[1,"\u30b7\u30e5\u30f4\u30a1\u30ec\u30fb\u30c8\u30ef\u30fc\u30eb\uff1a\u3042\u306a\u305f\u306f\u30b7\u30e5\u30f4\u30a1\u30ec\u30fb\u30c8\u30ef\u30fc\u30eb\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[2,"\u30c7\u30a3\u30fc\u30d7\u30b7\u30f3\u30ab\u30fc\uff1a\u3042\u306a\u305f\u306f\u30c7\u30a3\u30fc\u30d7\u30b7\u30f3\u30ab\u30fc\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[3,"\u30f4\u30a7\u30eb\u30af\u30b7\u30e5\u30bf\u30c3\u30c8\uff1a\u3042\u306a\u305f\u306f\u30f4\u30a7\u30eb\u30af\u30b7\u30e5\u30bf\u30c3\u30c8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[4,"\u30a2\u30a6\u30b9\u30f4\u30a1\u30eb\uff1a\u3042\u306a\u305f\u306f\u30a2\u30a6\u30b9\u30f4\u30a1\u30eb\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[5,"\u7f8e\u8853\u79d1\uff1a\u3042\u306a\u305f\u306f\u7f8e\u8853\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[6,"\u54f2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u54f2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[7,"\u6570\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u6570\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[8,"\u5730\u7406\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u5730\u7406\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[9,"\u5de5\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u5de5\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[10,"\u4f53\u80b2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u4f53\u80b2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[11,"\u8fb2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u8fb2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[12,"\u6b74\u53f2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u6b74\u53f2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[13,"\u533b\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u533b\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[14,"\u60c5\u5831\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u60c5\u5831\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[15,"\u97f3\u697d\u79d1\uff1a\u3042\u306a\u305f\u306f\u97f3\u697d\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[16,"\u5fc3\u7406\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u5fc3\u7406\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[17,"\u6587\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u6587\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[18,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002"]])},0),R(D,"$get_identity_table2",function(){return this.$get_strave_1d100_table_result("\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\uff1a\u30f4\u30a1\u30ea\u30a2\u30f3\u30b9\u30cd\u30a4\u30f4\u30a1\u30fc",[[1,"\u6226\u3044\uff1a\u6226\u3044\u3078\u306e\u885d\u52d5\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[2,"\u5b88\u8b77\uff1a\u5b88\u308b\u3079\u304d\u3082\u306e\u306e\u5b58\u5728\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[3,"\u5fa9\u8b90\uff1a\u5fa9\u8b90\u306e\u8a93\u3044\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[4,"\u540d\u58f0\uff1a\u4e0e\u3048\u3089\u308c\u305f\u540d\u8a89\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[5,"\u604b\u611b\uff1a\u611b\u3059\u308b\u8005\u3078\u306e\u60f3\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[6,"\u5bb6\u65cf\uff1a\u304b\u3051\u304c\u3048\u306e\u306a\u3044\u5bb6\u65cf\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[7,"\u53cb\u4eba\uff1a\u53cb\u306e\u5b58\u5728\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[8,"\u90e8\u968a\uff1a\u90e8\u968a\u306e\u6226\u53cb\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[9,"\u30b9\u30c8\u30ec\u30a4\u30f4\uff1a\u30b9\u30c8\u30ec\u30a4\u30f4\u306e\u5b58\u5728\u304c\u3001\u3042\u306a\u305f\u306e\u5fc3\u3092\u4fdd\u3063\u3066\u3044\u308b\u3002"],[10,"\u5b87\u5b99\uff1a\u3084\u304c\u3066\u6765\u308b\u65c5\u7acb\u3061\u306e\u65e5\u307e\u3067\u3001\u3042\u306a\u305f\u306f\u3042\u306a\u305f\u3067\u3042\u308d\u3046\u3068\u3057\u3066\u3044\u308b\u3002"],[11,"\u304a\u91d1\uff1a\u4e0e\u3048\u3089\u308c\u308b\u5831\u916c\u306e\u305f\u3081\u3001\u3042\u306a\u305f\u306f\u3042\u306a\u305f\u3067\u3042\u308d\u3046\u3068\u3057\u3066\u3044\u308b\u3002"],[12,"\u5922\uff1a\u3042\u306a\u305f\u306b\u306f\u3001\u5df1\u306e\u5fc3\u306b\u8a93\u3063\u305f\u5922\u304c\u3042\u308b\u3002"],[13,"\u5fe0\u8aa0\uff1a\u305d\u306e\u5fc3\u3067\u3082\u3063\u3066\u3001\u8a93\u3063\u305f\u5fe0\u7fa9\u304c\u3042\u308b\u3002"],[14,"\u5171\u751f\uff1a\u3042\u306a\u305f\u306f\u3001\u30f4\u30a1\u30a4\u30a8\u30eb\u3068\u4eba\u985e\u3068\u306e\u5171\u751f\u3092\u671b\u3093\u3067\u3044\u308b\u3002"],[15,"\u5c45\u5834\u6240\uff1a\u81ea\u8eab\u306e\u5c45\u5834\u6240\u3078\u306e\u601d\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[16,"\u30f4\u30a1\u30a4\u30a8\u30eb\uff1a\u3042\u306a\u305f\u3068\u540c\u3058\u3067\u3042\u308a\u306a\u304c\u3089\u3001\u3042\u306a\u305f\u3068\u7570\u306a\u308b\u5b58\u5728\u3002\u5f7c\u3089\u3078\u306e\u601d\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[17,"\u30a8\u30b3\u30fc\u30eb\uff1a\u81ea\u8eab\u306e\u751f\u304d\u308b\u5834\u6240\u3078\u306e\u601d\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[18,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"]])},0),R(D,"$get_strave_1d100_table_result",function($,a){var i,u,r=this,s=t;return s=r.randomizer.$roll_once(100),i=M(L(Y(s.$to_i(),1),5).$floor(),1),u=r.$get_table_by_number(i,a),r.$get_strave_table_result($,s,u)},2),R(D,"$get_strave_table_result",function($,a,r){return $+"("+a+") \uff1e "+r},3)})},4331:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.hash2,R=e.truthy,m=e.to_ary,h=e.send,g=e.rb_plus,y=e.rb_le,k=e.def,p=e.rb_minus,E=e.rb_gt,M=e.rb_ge;return Y=H,K=j=[B(H[0],"BCDice")].concat(Y),V=[B(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=C(V[0],J("Base"),"TalesFromTheLoop")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,v(x[0],"ID","TalesFromTheLoop"),v(x[0],"NAME","\u30b6\u30fb\u30eb\u30fc\u30d7TRPG"),v(x[0],"SORT_KEY","\u3055\u308b\u3046\u3075TRPG"),v(x[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nTFLx-x+x or nTFLx+x-x)\n  (\u5fc5\u8981\u6210\u529f\u6570)TFL(\u5224\u5b9a\u30c0\u30a4\u30b9\u6570)+/-(\u4fee\u6b63\u30c0\u30a4\u30b9\u6570)\n\n\u203b \u5fc5\u8981\u6210\u529f\u6570\u3068\u4fee\u6b63\u30c0\u30a4\u30b9\u6570\u306f\u7701\u7565\u53ef\u80fd\n\n\u4f8b1) \u5fc5\u8981\u6210\u529f\u65701\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50243\n      1TFL3\n\n\u4f8b2\uff09\u5fc5\u8981\u6210\u529f\u6570\u4e0d\u660e\u3001\u3042\u308b\u3044\u306f\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306e\u6210\u529f\u5224\u5b9a\u3092\u4f7f\u308f\u306a\u3044\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50243+\u6280\u80fd1\u30674\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4fee\u6b63+1\n      TFL4+1\n\n\u4f8b3\uff09\u5fc5\u8981\u6210\u529f\u65701\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50242+\u6280\u80fd1\u30673\u3001\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u306b\u30c1\u30a7\u30c3\u30af\u304c2\u3064\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4fee\u6b63+1\n      1TFL3-2+1\n     \u3042\u308b\u3044\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ab\u30c3\u30b3\u66f8\u304d\u3067\u5185\u8a33\u3092\u8a73\u7d30\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002\n      1TFL(2+1)-(1+1)+1\n     \u4fee\u6b63\u30c0\u30a4\u30b9\u306e\u30d7\u30e9\u30b9\u3068\u30de\u30a4\u30ca\u30b9\u306f\u9006\u3067\u3082\u3088\u3044\u3002\n      1TFL(2+1)+1-(1+1)\n"),A.$register_prefix("(\\d+)?(TFL)"),k(A,"$eval_game_system_specific_command",function(o){var l,$,a=this,s=t,i=t,u=t;return s=n(D("Command"),"Parser").$new(/\d*TFL\d+/,S(["round_type"],{round_type:a.$round_type()})).$parse(o),R(s)?($=h(s.$command().$split("TFL",2),"map",[],"to_i".$to_proc()),i=null==(l=m($))[0]?t:l[0],u=g(u=null==l[1]?t:l[1],s.$modify_number()),R(y(u,0))&&(u=1),$=a.$make_dice_roll(u),l=m($),a.$make_dice_roll_text(i,u,null==l[0]?t:l[0],null==l[1]?t:l[1])):t},1),A.$private(),k(A,"$make_dice_roll_text",function(o,l,$,a){var s,r=t,i=t;return r="("+l+"D6) \uff1e "+$+" \u6210\u529f\u6570:"+a,s=p(l,a),R(E(s,0))&&(r=r+" \u632f\u308a\u76f4\u3057\u53ef\u80fd:"+s,i="\n\u632f\u308a\u76f4\u3057\u30b3\u30de\u30f3\u30c9: TFL"+s),R(E(o,0))?R(M(a,o))?D("Result").$success(r+" \u6210\u529f\uff01"+i):D("Result").$failure(r+" \u5931\u6557\uff01"+i):""+r+i},4),k(A,"$make_dice_roll",function(o){var a,$=t;return a=($=this.randomizer.$roll_barabara(o,6)).$count(6),["["+$.$join(",")+"]",a]},1)})},4028:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,z,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.truthy,R=e.send,m=e.rb_plus,h=e.def,g=e.eqeq,y=e.rb_ge,k=e.rb_lt;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=B(N[0],K("Base"),"TherapieSein")].concat(J),z=e.$r(w),I.$$prototype.randomizer=t,C(w[0],"ID","TherapieSein"),C(w[0],"NAME","\u30bb\u30e9\u30d5\u30a3\u30b6\u30a4\u30f3"),C(w[0],"SORT_KEY","\u305b\u3089\u3075\u3044\u3055\u3044\u3093"),C(w[0],"HELP_MESSAGE","\u30fb\u4e00\u822c\u5224\u5b9a\uff1aTS[n][\xb1m][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3002\n\u30fb\u6226\u95d8\u5224\u5b9a\uff1aOP[n][\xb1m][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6709\u3002\n\n\u300cn\u300d\u3067\u80fd\u529b\u5024\u4fee\u6b63\u306a\u3069\u3092\u6307\u5b9a\u3002\n\u300c\xb1m\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u5024\u3092\u8ffd\u52a0\u6307\u5b9a\u3002+5+1-3\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u6307\u5b9a\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u300c@t\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u306e\u307f\u8868\u793a\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8ffd\u52a0\u8868\u793a\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbTS \u2192 \u30c0\u30a4\u30b9\u306e\u5408\u8a08\u5024\u3092\u9054\u6210\u5024\u3068\u3057\u3066\u8868\u793a\u3002\n\u30fbTS4 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4\u3092\u9054\u6210\u5024\u8868\u793a\u3002\n\u30fbTS4-1 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4-1\uff08\u8a08+3\uff09\u3092\u9054\u6210\u5024\u8868\u793a\u3002\n\u30fbTS2+1@10 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+2+1\uff08\u8a08+3\uff09\u306e\u9054\u6210\u5024\u3068\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8868\u793a\u3002\n\u30fbOP4+3+1 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4+3+1\uff08\u8a08+8\uff09\u3092\u9054\u6210\u5024\uff06\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u8868\u793a\u3002\n\u30fbOP3@12 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+3\u306e\u9054\u6210\u5024\uff06\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8868\u793a\u3002\n"),I.$register_prefix("TS","OP"),h(I,"$eval_game_system_specific_command",function(D){var l=t,$=t,a=t,r=t,i=t;return v(/(TS|OP)(\d+)?(([+\-]\d+)*)(@(\d+))?$/i,D.$upcase())?(l=z("Regexp").$last_match(1)["$=="]("OP"),$=(S(a=z("Regexp").$last_match(6))?a:0).$to_i(),r=(S(a=z("Regexp").$last_match(2))?a:0).$to_i(),i=z("Regexp").$last_match(3).$scan(/[+\-]\d+/),R(i,"each",[],function(_){return null==_&&(_=t),r=m(r,_.$to_i())},1),this.$checkRoll(l,r,$)):t},1),h(I,"$checkRoll",function(D,T,d){var $,a,r,s,i,l=t,u=t;return $=(l=this.randomizer.$roll_barabara(2,6)).$sum(),a=l.$join(","),r=m($,T),s=this.$getValueText(T),i=g(d,0)?"":">="+d,u=m(u="(2D6"+s+i+")"," \uff1e "+$+"("+a+")"+s),S(D)&&g($,12)?u=m(u," \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"):(u=m(u," \uff1e "+r+i),g(d,0)||(u=S(y(r,d))?m(u," \uff1e \u3010\u6210\u529f\u3011"):m(u," \uff1e \u3010\u5931\u6557\u3011")),u)},3),h(I,"$getValueText",function(D){return g(D,0)?"":S(k(D,0))?D.$to_s():"+"+D},1)})},4905:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,o,I,w,K,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.hash2,g=e.truthy,y=e.rb_plus,k=e.send,p=e.to_a,E=e.rb_minus,M=e.rb_gt,L=e.eqeq,Y=e.rb_times;return j=H,V=K=[B(H[0],"BCDice")].concat(j),I=[B(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=C(I[0],w("Base"),"TokumeiTenkousei")].concat(x),d=e.$r(T),(o=D.$$prototype).randomizer=o.dice_list=t,v(T[0],"ID","TokumeiTenkousei"),v(T[0],"NAME","\u7279\u547d\u8ee2\u653b\u751f"),v(T[0],"SORT_KEY","\u3068\u304f\u3081\u3044\u3066\u3093\u3053\u3046\u305b\u3044"),v(T[0],"HELP_MESSAGE",'\u30fb\u5224\u5b9a (xD6+y>=n)\n\u3000\u30be\u30ed\u76ee\u3067\u306e\u81ea\u52d5\u632f\u308a\u8db3\u3057\n\u30001\u306e\u51fa\u76ee\u306b\u5fdc\u3058\u3066EPP\u306e\u7372\u5f97\u91cf\u3092\u8868\u793a\n\u3000\u76ee\u6a19\u5024 "?" \u306b\u306f\u672a\u5bfe\u5fdc\n'),m(D,"$initialize",function l($){var r=this;return delete l.$$p,S(r,R(r,"initialize",l,!1,!0),"initialize",[$],null),r.sort_add_dice=!0},1),D.$register_prefix("\\d+D6"),m(D,"$eval_game_system_specific_command",function($){var u,b,f,W,r=this,i=t,_=t,c=t,q=t,F=t;if(i=n(d("Command"),"Parser").$new(/\d+D6/,h(["round_type"],{round_type:r.$round_type()})).$parse($),!g(i))return t;for(u=i.$command().$to_i(),_=r.randomizer.$roll_barabara(u,6).$sort(),r.dice_list=[_];g(r["$same_all_dice?"](_));)_=r.randomizer.$roll_barabara(u,6).$sort(),r.dice_list.$push(_);return b=(c=r.dice_list.$flatten()).$sum(),f=c.$count(1),q=y(b,i.$modify_number()),F=g(i.$cmp_op())?g(q.$send(i.$cmp_op(),i.$target_number()))?d("Result").$success("\u6210\u529f"):d("Result").$failure("\u5931\u6557"):t,W=[["("+i+")",r.$interim_expr(i,b),q.$to_s(),F.$text(),r.$epp(f)].$compact().$join(" \uff1e ")],k(F,"text=",p(W)),E(W.length,1),F},1),m(D,"$same_all_dice?",function($){var a;return g(a=M($.$size(),1))?$.$uniq().$size()["$=="](1):a},1),m(D,"$interim_expr",function($,a){var s=t,i=t;return L(this.dice_list.$flatten().$size(),1)&&L($.$modify_number(),0)?t:(s=k(this.dice_list,"map",[],function(_){return null==_&&(_=t),"["+_.$join(",")+"]"},1).$join(""),i=d("Format").$modifier($.$modify_number()),[a.$to_s(),s,i].$join(""))},2),m(D,"$epp",function($){return g(M($,0))?Y($,5)+"EPP\u7372\u5f97":t},1)})},3874:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeqeq,S=e.def,R=e.truthy,m=e.rb_gt,h=e.rb_plus,g=e.rb_ge;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"TokyoGhostResearch")].concat(P),I=e.$r(J),V.$$prototype.randomizer=t,C(J[0],"ID","TokyoGhostResearch"),C(J[0],"NAME","\u6771\u4eac\u30b4\u30fc\u30b9\u30c8\u30ea\u30b5\u30fc\u30c1"),C(J[0],"SORT_KEY","\u3068\u3046\u304d\u3088\u3046\u3053\u304a\u3059\u3068\u308a\u3055\u3042\u3061"),C(J[0],"HELP_MESSAGE","\u5224\u5b9a\n\u30fb\u30bf\u30b9\u30af\u51e6\u7406\u306f\u76ee\u6a19\u5024\u4ee5\u4e0a\u306e\u5024\u3067\u6210\u529f\u3068\u306a\u308a\u307e\u3059\u3002\n  1d10>={\u76ee\u6a19\u5024}\n  \u4f8b\uff1a\u76ee\u6a19\u5024\u300c5\u300d\u306e\u5834\u5408\u30015\uff5e0\u3067\u6210\u529f\n\u5404\u7a2e\u8868\n  \u30fb\u5c0e\u5165\u8868  OP\n  \u30fb\u4e00\u822c\u30c8\u30e9\u30d6\u30eb\u8868  TB\n"),V.$register_prefix("OP","TB","TK?"),S(V,"$eval_game_system_specific_command",function(A){var T,x=this;return v(/TK/i,T=A.$upcase())?x.$getCheckResult(A):v("OP",T)?x.$tgr_opening_table():v("TB",T)?x.$tgr_common_trouble_table():t},1),S(V,"$getCheckResult",function(A){var D=t,T=t,d=t;return D="",T=0,R(/TK?<=(\d+)/i["$=~"](A))&&(T=I("Regexp").$last_match(2).$to_i()),R(m(T,0))&&(D=h(D,"(1D10<="+T+")"),d=this.randomizer.$roll_once(10),D=h(D,h(" \uff1e ",d.$to_s())),D=h(D,h(" \uff1e ",this.$getCheckResultText(d,T)))),D},1),S(V,"$getCheckResultText",function(A,x){return R(g(A,x))?"\u6210\u529f":"\u5931\u6557"},2),S(V,"$tgr_opening_table",function(){return this.$get_1d10_table_result("\u5c0e\u5165\u8868",[[1,"\u3010\u75c5\u4f11\u4e2d\u65ad\u3011\u4f53\u8abf\u4e0d\u826f\u307e\u305f\u306f\u602a\u6211\u3067\u7642\u990a\u4e2d\u3060\u3063\u305f\u304c\u5f37\u5236\u53ec\u559a\u3055\u308c\u305f\u3002"],[2,"\u3010\u5fd9\u6bba\u4e2d\u3011\u5225\u306e\u696d\u52d9\u3067\u5fd9\u6bba\u4e2d\u3067\u3042\u3063\u305f\u3002"],[3,"\u3010\u51fa\u5f35\u5e30\u308a\u3011\u9060\u65b9\u3067\u306e\u4ed5\u4e8b\u304b\u3089\u623b\u3063\u305f\u3070\u304b\u308a\u3002"],[4,"\u3010\u4f11\u6687\u53d6\u308a\u6d88\u3057\u3011\u4f11\u6687\u4e2d\u3060\u3063\u305f\u304c\u547c\u3073\u623b\u3055\u308c\u305f\u3002"],[5,"\u3010\u5e73\u5e38\u904b\u8ee2\u3011\u3044\u3064\u3082\u3069\u304a\u308a\u306e\u4ed5\u4e8b\u4e2d\u3060\u3063\u305f\u3002"],[6,"\u3010\u4f11\u6687\u660e\u3051\u3011\u5341\u5206\u306b\u4f11\u990a\u3092\u3068\u3063\u305f\u3042\u3068\u3067\u3001\u5fc3\u8eab\u3068\u3082\u306b\u5145\u5b9f\u3057\u3066\u3044\u308b\u3002"],[7,"\u3010\u4eba\u751f\u306e\u5c90\u8def\u3011\u4eba\u751f\u306e\u5c90\u8def\u306b\u307e\u3055\u306b\u5dee\u3057\u639b\u304b\u3063\u305f\u3068\u3053\u308d\u3067\u3042\u3063\u305f\u3002"],[8,"\u3010\u540c\u7a93\u4f1a\u3011\u304b\u3064\u3066\u306e\u540c\u7d1a\u751f\u306b\u4f1a\u3044\u3001\u5dee\u3092\u5b9f\u611f\u3057\u305f\u3070\u304b\u308a\u3060\u3063\u305f\u3002"],[9,"\u3010\u8ee2\u8077\u6d3b\u52d5\u4e2d\u3011\u8ee2\u8077\u3092\u8003\u3048\u3066\u6c42\u4eba\u30b5\u30a4\u30c8\u3092\u898b\u3066\u3044\u308b\u3068\u3053\u308d\u3060\u3063\u305f\u3002"],[10,"\u3010\u30b5\u30dc\u30ea\u4e2d\u3011\u4ed5\u4e8b\u3092\u30b5\u30dc\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u306b\u547c\u3073\u51fa\u3057\u304c\u3042\u3063\u305f\u3002"]])},0),S(V,"$tgr_common_trouble_table",function(){return this.$get_1d10_table_result("\u4e00\u822c\u30c8\u30e9\u30d6\u30eb\u8868",[[1,"\u30c8\u30e9\u30d6\u30eb\u304c\u751f\u3058\u305f\u304c\u3001\u9593\u4e00\u9aea\u3001\u5371\u6a5f\u3092\u8131\u3057\u305f\u3002\u3010\u30c0\u30e1\u30fc\u30b8\u306a\u3057\u3011"],[2,"\u3069\u3046\u306b\u304b\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3057\u305f\u304c\u3001\u975e\u5e38\u306b\u75b2\u52b4\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[3,"\u30bf\u30b9\u30af\u51e6\u7406\u306e\u904e\u7a0b\u3067\u8ca0\u50b7\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[4,"\u6050\u6016\u3084\u6df7\u4e71\u3001\u30b9\u30c8\u30ec\u30b9\u306a\u3069\u3067\u7cbe\u795e\u306e\u5747\u8861\u3092\u5d29\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[5,"\u904e\u53bb\u306e\u30c8\u30e9\u30a6\u30de\u306a\u3069\u3092\u601d\u3044\u51fa\u3057\u3001\u6c17\u5206\u304c\u6c88\u3093\u3067\u3057\u307e\u3063\u305f\u3002\u3010\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[6,"\u81ea\u8eab\u306e\u4fe1\u7528\u3092\u30ad\u30ba\u3064\u3051\u305f\u308a\u3001\u6c5a\u540d\u3092\u80cc\u8ca0\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[7,"\u4f1a\u793e\u3084\u4e0a\u53f8\u306e\u4e0d\u8208\u3092\u8cb7\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[8,"\u75b2\u52b4\u56f0\u618a\u3067\u52d5\u304f\u3053\u3068\u3082\u307e\u307e\u306a\u3089\u306a\u3044\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\uff0b\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[9,"\u8ca0\u50b7\u3057\u305f\u3046\u3048\u3001\u4f1a\u793e\u306b\u640d\u5bb3\u3092\u4e0e\u3048\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\uff0b\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[10,"\u4e0a\u53f8\u304b\u3089\u53b3\u3057\u304f\u53f1\u8cac\u3055\u308c\u3001\u307e\u305a\u3044\u7acb\u5834\u306b\u306a\u3063\u305f\u3002\u3010\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\uff0b\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"]])},0),S(V,"$get_1d10_table_result",function(A,x){var T,d,D=this;return T=D.randomizer.$roll_once(10),d=D.$get_table_by_number(T,x),D.$get_table_result(A,T,d)},2),S(V,"$get_table_result",function(A,x,D){return A+"("+x+") \uff1e "+D},3)})},7459:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var S,g,L,G,k,p,m,H=[],n=e.module,B=e.klass,C=e.const_set;return S=H,g=m=[n(H[0],"BCDice")].concat(S),k=[n(m[0],"GameSystem")].concat(g),p=e.$r(k),L=k,C((G=[B(k[0],p("Base"),"TokyoNova")].concat(L))[0],"ID","TokyoNova"),C(G[0],"NAME","\u30c8\u30fc\u30ad\u30e7\u30fcN\u25ceVA"),C(G[0],"SORT_KEY","\u3068\u304a\u304d\u3088\u304a\u306e\u306f"),C(G[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")})},3042:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send,S=e.def,R=e.truthy,m=e.to_ary,h=e.rb_gt,g=e.rb_plus,y=e.neqeq,k=e.eqeq,p=e.eqeqeq,E=e.rb_lt,M=e.rb_minus,L=e.rb_le,Y=e.rb_divide;return j=H,V=K=[n(H[0],"BCDice")].concat(j),I=[n(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=B(I[0],w("Base"),"Torg")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,C(T[0],"ID","Torg"),C(T[0],"NAME","\u30c8\u30fc\u30b0"),C(T[0],"SORT_KEY","\u3068\u304a\u304f"),C(T[0],"HELP_MESSAGE",'\u30fb\u5224\u5b9a\u3000(TGm)\n\u3000TORG\u5c02\u7528\u306e\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3000"TG(\u6280\u80fd\u57fa\u672c\u5024)"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9\u306b\u8aad\u66ff\u3055\u308c\u307e\u3059\u3002\n\u3000\u632f\u308a\u8db3\u3057\u3092\u81ea\u52d5\u3067\u884c\u3044\u300120\u306e\u51fa\u76ee\u304c\u51fa\u305f\u3068\u304d\u306b\u306f\u6280\u80fd\u7121\u3057\u5024\u3082\u4e26\u8a18\u3057\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\u3000"(\u8868\u30b3\u30de\u30f3\u30c9)(\u6570\u5024)"\u3067\u632f\u308a\u307e\u3059\u3002\n\u3000\u30fb\u4e00\u822c\u7d50\u679c\u8868 \u6210\u529f\u5ea6\u51fa\u529b\u300cRTx or RESULTx\u300d\n\u3000\u30fb\u5a01\u5727/\u5a01\u5687 \u5bfe\u4eba\u884c\u70ba\u7d50\u679c\u8868\u300cITx or INTIMIDATEx or TESTx\u300d\n\u3000\u30fb\u6311\u767a/\u30c8\u30ea\u30c3\u30af \u5bfe\u4eba\u884c\u70ba\u7d50\u679c\u8868\u300cTTx or TAUNTx or TRICKx or CTx\u300d\n\u3000\u30fb\u9593\u5408\u3044 \u5bfe\u4eba\u884c\u70ba\u7d50\u679c\u8868\u300cMTx or MANEUVERx\u300d\n\u3000\u30fb\u30aa\u30fc\u30ba\uff08\u4e00\u822c\u4eba\uff09\u30c0\u30e1\u30fc\u30b8\u3000\u300cODTx or ORDSx or ODAMAGEx\u300d\n\u3000\u30fb\u30dd\u30b7\u30d3\u30ea\u30c6\u30a3\u30fc\u80fd\u529b\u8005\u30c0\u30e1\u30fc\u30b8\u300cDTx or DAMAGEx\u300d\n\u3000\u30fb\u30dc\u30fc\u30ca\u30b9\u8868\u300cBTx+y or BONUSx+y or TOTALx+y\u300d x\u306f\u6570\u5024, y\u306f\u6280\u80fd\u57fa\u672c\u5024\n'),D.$register_prefix("TG","1R20","RT","Result","IT","Intimidate","Test","TT","Taunt","Trick","CT","MT","Maneuver","ODT","ords","odamage","DT","damage","BT","bonus","total"),S(D,"$replace_text",function($){return $=($=($=($=($=($=($=$.$gsub(/Result/i,"RT")).$gsub(/(Intimidate|Test)/i,"IT")).$gsub(/(Taunt|Trick|CT)/i,"TT")).$gsub(/Maneuver/i,"MT")).$gsub(/(ords|odamage)/i,"ODT")).$gsub(/damage/i,"DT")).$gsub(/(bonus|total)/i,"BT"),($=v($,"gsub",[/TG(\d+)/i],function(){return"1R20+"+d("Regexp").$last_match(1)},0)).$gsub(/TG/i,"1R20")},1),S(D,"$torg_check",function($){var a,r,s=this,i=t,u=t,_=t,c=t,b=t,f=t;return R(/(^|\s)S?(1R20([+-]\d+)*)(\s|$)/i["$=~"]($))?($=d("Regexp").$last_match(2),i=d("Regexp").$last_match(3),s.$debug(i),R(i)&&(i=d("ArithmeticEvaluator").$eval(i)),s.$debug(i),i=i.$to_i(),r=s.$torg_dice(),_=null==(a=m(r))[1]?t:a[1],c=null==a[2]?t:a[2],b=s.$get_torg_bonus(u=null==a[0]?t:a[0]),f=R(i)?R(h(i,0))?b+"["+c+"]+"+i:b+"["+c+"]"+i:b+"["+c+"]",f=g(f,g(" \uff1e ",g(b,i).$to_s())),y(u,_)&&(f=g(f,g(g("(\u6280\u80fd\u7121",g(s.$get_torg_bonus(_),i).$to_s()),")"))),f="("+$+") \uff1e "+f):t},1),S(D,"$torg_dice",function(){var r=t,s=t,i=t,u=t,_=t,c=t;for(r=!0,s=!0,i=0,u=0,_="";R(r);)c=this.randomizer.$roll_once(20),i=g(i,c),R(s)&&(u=g(u,c)),R(_["$empty?"]())||(_=g(_,",")),_=g(_,c.$to_s()),k(c,20)?s=!1:y(c,10)&&(r=!1,s=!1);return[i,u,_]},0),S(D,"$eval_game_system_specific_command",function($){var a,r,u,s=this,i=t,_=t,c=t,b=t,f=t,q=t,F=t;return i=$.$upcase(),i=s.$replace_text(i),R(u=s.$torg_check(i))?u:(_="1",c="",b=0,R(/([RITMDB]T)(\d+([+\-]\d+)*)/i["$=~"](i))?(f=d("Regexp").$last_match(1),q=d("Regexp").$last_match(2),p("RT",F=f)?(b=d("ArithmeticEvaluator").$eval(q),_=s.$get_torg_success_level(b),c="\u4e00\u822c\u7d50\u679c"):p("IT",F)?(b=d("ArithmeticEvaluator").$eval(q),_=s.$get_torg_interaction_result_intimidate_test(b),c="\u5a01\u5727/\u5a01\u5687"):p("TT",F)?(b=d("ArithmeticEvaluator").$eval(q),_=s.$get_torg_interaction_result_taunt_trick(b),c="\u6311\u767a/\u30c8\u30ea\u30c3\u30af"):p("MT",F)?(b=d("ArithmeticEvaluator").$eval(q),_=s.$get_torg_interaction_result_maneuver(b),c="\u9593\u5408\u3044"):p("DT",F)?(b=d("ArithmeticEvaluator").$eval(q),R(i["$=~"](/ODT/i))?(_=s.$get_torg_damage_ords(b),c="\u30aa\u30fc\u30ba\u30c0\u30e1\u30fc\u30b8"):(_=s.$get_torg_damage_posibility(b),c="\u30dd\u30b7\u30d3\u30ea\u30c6\u30a3\u80fd\u529b\u8005\u30c0\u30e1\u30fc\u30b8")):p("BT",F)&&(r=s.$get_torg_bonus_text(q),_=null==(a=m(r))[0]?t:a[0],b=null==a[1]?t:a[1],c="\u30dc\u30fc\u30ca\u30b9"),y(c,"")&&(_=c+"\u8868["+b+"] \uff1e "+_),_):t)},1),S(D,"$get_torg_success_level",function($){return this.$get_torg_table_result($,[[0,"\u304e\u308a\u304e\u308a"],[1,"\u3075\u3064\u3046"],[3,"\u307e\u3042\u3088\u3044"],[7,"\u304b\u306a\u308a\u3088\u3044"],[12,"\u3059\u3054\u3044"]])},1),S(D,"$get_torg_interaction_result_intimidate_test",function($){return this.$get_torg_table_result($,[[0,"\u6280\u80fd\u306a\u3057"],[5,"\u840e\u7e2e"],[10,"\u9006\u8ee2\u8ca0\u3051"],[15,"\u30e2\u30e9\u30eb\u5d29\u58ca"],[17,"\u30d7\u30ec\u30a4\u30e4\u30fc\u30ba\u30b3\u30fc\u30eb"]])},1),S(D,"$get_torg_interaction_result_taunt_trick",function($){return this.$get_torg_table_result($,[[0,"\u6280\u80fd\u306a\u3057"],[5,"\u840e\u7e2e"],[10,"\u9006\u8ee2\u8ca0\u3051"],[15,"\u9ad8\u63da\uff0f\u9006\u8ee2\u8ca0\u3051"],[17,"\u30d7\u30ec\u30a4\u30e4\u30fc\u30ba\u30b3\u30fc\u30eb"]])},1),S(D,"$get_torg_interaction_result_maneuver",function($){return this.$get_torg_table_result($,[[0,"\u6280\u80fd\u306a\u3057"],[5,"\u75b2\u52b4"],[10,"\u840e\u7e2e\uff0f\u75b2\u52b4"],[15,"\u9006\u8ee2\u8ca0\u3051\uff0f\u75b2\u52b4"],[17,"\u30d7\u30ec\u30a4\u30e4\u30fc\u30ba\u30b3\u30fc\u30eb"]])},1),S(D,"$get_torg_table_result",function($,a){var r=t;return r="1",function(){var s=e.new_brk();try{v(a,"each",[],function(u){var _;return null==u&&(u=t),_=u["$[]"](0),R(h(_,$))&&e.brk(t,s),r=u["$[]"](1)},{$$arity:1,$$brk:s})}catch(i){if(i===s)return i.$v;throw i}}(),r},2),S(D,"$get_torg_damage_ords",function($){return this.$get_torg_damage($,4,"\u30ec\u30d9\u30eb\u8ca0\u50b7  KO15",[[0,"1"],[1,"O1"],[2,"K1"],[3,"O2"],[4,"O3"],[5,"K3"],[6,"\u8ee2\u5012 K\uff0fO4"],[7,"\u8ee2\u5012 K\uff0fO5"],[8,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO7"],[9,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO9"],[10,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO10"],[11,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO11"],[12,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  KO12"],[13,"3\u30ec\u30d9\u30eb\u8ca0\u50b7  KO13"],[14,"3\u30ec\u30d9\u30eb\u8ca0\u50b7  KO14"],[15,"4\u30ec\u30d9\u30eb\u8ca0\u50b7  KO15"]])},1),S(D,"$get_torg_damage_posibility",function($){return this.$get_torg_damage($,3,"\u30ec\u30d9\u30eb\u8ca0\u50b7  KO5",[[0,"1"],[1,"1"],[2,"O1"],[3,"K2"],[4,"2"],[5,"O2"],[6,"\u8ee2\u5012 O2"],[7,"\u8ee2\u5012 K2"],[8,"\u8ee2\u5012 K2"],[9,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K3"],[10,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K4"],[11,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  O4"],[12,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K5"],[13,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  O4"],[14,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  KO5"],[15,"3\u30ec\u30d9\u30eb\u8ca0\u50b7  KO5"]])},1),S(D,"$get_torg_damage",function($,a,r,s){var u=t,_=t;return R(E($,0))?"1":(u=M(s.$length(),1),R(L($,u))?this.$get_torg_table_result($,s):(_=Y(M($,u),2).$to_i(),g(g("",g(_,a).$to_s()),r)))},4),S(D,"$get_torg_bonus_text",function($){var i,a=this,r=t,s=t,u=t,_=t;return s=(r=$.$split(/\+/)).$shift().$to_i(),i=d("ArithmeticEvaluator").$eval(r.$join("+")),u=a.$get_torg_bonus(s),a.$debug("TORG BT resultValue",u),a.$debug("TORG BT mod",i),k(i,0)?_=u.$to_s():(_=a.$getTorgBonusOutputTextWhenModDefined(s,u,i),s=s+"+"+i),[_,s]},1),S(D,"$getTorgBonusOutputTextWhenModDefined",function($,a,r){var s=this;return s.$debug("getTorgBonusOutputTextWhenModDefined value, mod",$,r),R(h(r,0))?a+"["+$+"]+"+r+" \uff1e "+g(a,r):(s.$debug("resultValue",a),s.$debug("mod",r),a+"["+$+"]"+r+" \uff1e "+g(a,r))},3),S(D,"$get_torg_bonus",function($){var s=t,i=t;return s=this.$get_torg_table_result($,[[1,-12],[2,-10],[3,-8],[5,-5],[7,-2],[9,-1],[11,0],[13,1],[15,2],[16,3],[17,4],[18,5],[19,6],[20,7]]),R(h($,20))&&(i=g(Y(M($,21),5).$to_i(),1),s=g(s,i)),s},1)})},1641:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var L,N,w,z,A,x,P,V,G,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.def,R=e.hash2,m=e.truthy,h=e.rb_plus,g=e.rb_minus,y=e.send,k=e.to_a,p=e.rb_le,E=e.rb_divide;return L=H,N=G=[B(H[0],"BCDice")].concat(L),P=[B(G[0],"GameSystem")].concat(N),V=e.$r(P),w=P,A=[z=C(P[0],V("Base"),"ToshiakiHolyGrailWar")].concat(w),x=e.$r(A),z.$$prototype.randomizer=t,v(A[0],"ID","ToshiakiHolyGrailWar"),v(A[0],"NAME","\u3068\u3057\u3042\u304d\u306e\u8056\u676f\u6226\u4e89TRPG"),v(A[0],"SORT_KEY","\u3068\u3057\u3042\u304d\u306e\u305b\u3044\u306f\u3044\u305b\u3093\u305d\u3046TRPG"),v(A[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a (Fx+y-z@a>=t)\n  \u88dc\u6b63\u5024\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u81ea\u52d5\u8a08\u7b97\u3057\u3066\u30c0\u30a4\u30b9\u306e\u9762\u6570\u3092\u6c7a\u5b9a\u3057\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u9762\u6570\u306f2\u4ee5\u4e0a\u300110\u4ee5\u4e0b\u306e\u7bc4\u56f2\u306b\u5236\u9650\u3055\u308c\u307e\u3059\u3002\n  x: \u30b9\u30c6\u30fc\u30bf\u30b9\n  y: \u88dc\u6b63\u5024 (\u4efb\u610f)\n  z: \u30de\u30a4\u30ca\u30b9\u88dc\u6b63\u5024 (\u4efb\u610f)\n  a: \u30c0\u30a4\u30b9\u9762\u6570\u306e\u5897\u91cf (\u4efb\u610f)\n  t: \u76ee\u6a19\u5024 (\u4efb\u610f)\n  \u4f8b)\n    F8+11, F8+11-5, F8+11-5@1, F8+11+9-3-2@-1, F8+11-5>=50, F8\n"),z.$register_prefix("F"),S(z,"$eval_game_system_specific_command",function(d){return this.$roll_f(d)},1),z.$private(),S(z,"$roll_f",function(d){var o=this,$=t,a=t,r=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,W=t;return $=n(x("Command"),"Parser").$new(/F(\d+)(\+\d+)*(-\d+)*/,R(["round_type"],{round_type:n(x("RoundType"),"CEIL")})).$disable_modifier().$enable_critical().$parse(d),m($)&&(a=$.$command().$match(/^F(\d+)((?:\+\d+)+)?((?:-\d+)+)?$/),m(a))?(r=a["$[]"](1).$to_i(),s=m(a["$[]"](2))?x("Arithmetic").$eval(a["$[]"](2),n(x("RoundType"),"CEIL")):0,i=m(a["$[]"](3))?x("Arithmetic").$eval(a["$[]"](3),n(x("RoundType"),"CEIL")):0,u=m(_=$.$critical())?_:0,c=[h(h(r,s),i),0].$max(),b=h(h(g(6,o.$positive_modifier_penalty(s)),o.$negative_modifier_bonus(i)),u).$clamp(2,10),q=(f=o.randomizer.$roll_barabara(c,b)).$sum(),F=m($.$cmp_op()["$nil?"]())?x("Result").$new():m(q.$send($.$cmp_op(),$.$target_number()))?x("Result").$success("\u6210\u529f"):x("Result").$failure("\u5931\u6557"),W=[[$,"("+c+"D"+b+$.$cmp_op()+$.$target_number()+")",q+"["+f.$join(",")+"]",q,F.$text()].$compact().$join(" \uff1e ")],y(F,"text=",k(W)),g(W.length,1),F):t},1),S(z,"$positive_modifier_penalty",function(d){return m(p(d,10))?0:E(d,10).$to_i()},1),S(z,"$negative_modifier_bonus",function(d){return m(p(d,-5))?1:0},1)})},8262:(ee,te,Z)=>{Z(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var g,E,j,N,K,P,V,L,k,H=[],t=e.nil,n=e.module,B=e.klass,C=e.hash2,v=e.defs,S=e.truthy,R=e.def,m=e.rb_minus;return g=H,E=k=[n(H[0],"BCDice")].concat(g),j=L=[n(k[0],"DiceTable")].concat(E),K=[N=B(L[0],null,"Table")].concat(j),P=e.$r(K),(V=N.$$prototype).times=V.sides=V.name=V.items=t,v(N,"$from_i18n",function(I,w){var A=t;return A=P("I18n").$t(I,C(["locale"],{locale:w})),this.$new(A["$[]"]("name"),A["$[]"]("type"),A["$[]"]("items"))},2),R(N,"$initialize",function(I,w,z){var A=this,x=t;return A.name=I,A.items=z.$freeze(),x=/(\d+)D(\d+)/i.$match(w),S(x)||A.$raise(P("ArgumentError"),"Unexpected table type: "+w),A.times=x["$[]"](1).$to_i(),A.sides=x["$[]"](2).$to_i()},3),R(N,"$roll",function(I){var z,w=this;return z=I.$roll_sum(w.times,w.sides),w.$choice(z)},1),R(N,"$choice",function(I){var z,w=this;return z=m(I,w.times),P("RollResult").$new(w.name,I,w.items["$[]"](z))},1)},Opal.modules["bcdice/format"]=function(e){var h,p,E,M,L,y,H=[],t=e.nil,n=e.module,B=e.eqeqeq,C=e.def,v=e.truthy,S=e.eqeq,R=e.rb_gt;return h=H,p=y=[n(H[0],"BCDice")].concat(h),M=[E=n(y[0],"Format")].concat(p),L=e.$r(M),E.$module_function(),C(E,"$comparison_operator",function(G){var j;return B("==",j=G)?"=":B("!=",j)?"<>":B(L("Symbol"),j)?G.$to_s():t},1),C(E,"$modifier",function(G){return v(G["$nil?"]())?t:S(G,0)?"":v(R(G,0))?"+"+G:G.$to_s()},1)},Opal.queue(function(e){var P,w,d,o,l,$,A,x,J,H=e.top,t=[],n=e.nil,B=e.$$$,C=e.module,v=e.klass,S=e.const_set,R=e.truthy,m=e.def,h=e.hash2,g=e.rb_plus,y=e.range,k=e.send,p=e.to_a,E=e.rb_minus,M=e.rb_ge,L=e.rb_le,Y=e.to_ary,G=e.rb_gt,j=e.rb_times,N=e.eqeq;return H.$require("bcdice/dice_table/table"),H.$require("bcdice/format"),P=t,w=J=[C(t[0],"BCDice")].concat(P),A=[C(J[0],"GameSystem")].concat(w),x=e.$r(A),d=A,l=[o=v(A[0],x("Base"),"TrinitySeven")].concat(d),$=e.$r(l),o.$$prototype.randomizer=n,S(l[0],"ID","TrinitySeven"),S(l[0],"NAME","\u30c8\u30ea\u30cb\u30c6\u30a3\u30bb\u30d6\u30f3RPG"),S(l[0],"SORT_KEY","\u3068\u308a\u306b\u3066\u3044\u305b\u3075\u3093RPG"),S(l[0],"HELP_MESSAGE",'\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304c\u5909\u52d5\u3057\u305f\u547d\u4e2d\u53ca\u3073\u30017\u306e\u51fa\u76ee\u304c\u3042\u308b\u5834\u5408\u306e\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97\u304c\u884c\u306a\u3048\u307e\u3059\u3002\n\u306a\u304a\u3001\u901a\u5e38\u306e\u5224\u5b9a\u3068\u3057\u3066\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u30fb\u767a\u52d5/\u547d\u4e2d\u3000\uff3bTR(\xb1c*)<=(x)\xb1(y*) \u53c8\u306f TR<=(x) \u306a\u3069\uff3d*\u306f\u5fc5\u9808\u3067\u306f\u306a\u3044\u9805\u76ee\u3067\u3059\u3002\n"TR(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306e\u4fee\u6b63\u5024*)<=(\u767a\u52d5/\u547d\u4e2d)\xb1(\u767a\u52d5/\u547d\u4e2d\u306e\u4fee\u6b63\u5024*)"\n\u52a0\u7b97\u6e1b\u7b97\u306e\u307f\u4fee\u6b63\u5024\u3082\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002 \uff3b\u4fee\u6b63\u5024\uff3d\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u4f8b\uff09TR<=50 TR<=60+20 TR7<=40 TR-7<=80 TR+10<=80+20\n\n\u30fb\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97\u3000\uff3b(x)DM(c*)\xb1(y*) \u53c8\u306f (x)DM(c*) \u53c8\u306f (x)DM\xb1(y*)\uff3d*\u306f\u5fc5\u9808\u3067\u306f\u306a\u3044\u9805\u76ee\u3067\u3059\u3002\n"(\u30c0\u30a4\u30b9\u6570)DM(7\u306e\u51fa\u76ee\u306e\u6570*)+(\u4fee\u6b63*)"\n\u52a0\u7b97\u6e1b\u7b97\u306e\u307f\u4fee\u6b63\u5024\u3082\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002 \uff3b7\u306e\u51fa\u76ee\u306e\u6570\uff3d\u304a\u3088\u3073\uff3b\u4fee\u6b63\u5024\uff3d\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u4f8b\uff096DM2+1 5DM2 4DM 3DM+3\n\u5f8c\u304b\u30897\u306e\u51fa\u76ee\u306b\u5909\u66f4\u3059\u308b\u5834\u5408\u306fC(7*6\uff0b5)\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3066\u8a08\u7b97\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30fb\u540d\u524d\u8868\u3000[TRNAME]\n\u540d\u5b57\u3068\u540d\u524d\u3092\u51fa\u3057\u307e\u3059\u3002PC\u3084\u7a81\u7136\u73fe\u308c\u305fNPC\u306e\u540d\u4ed8\u3051\u306b\u3069\u3046\u305e\u3002\n\n'),o.$register_prefix("\\d+DM","TR","TRNAME"),m(o,"$eval_game_system_specific_command",function(s){var u,_,i=this;return i.$debug("eval_game_system_specific_command command",s),R(u=R(_=i.$roll_hit(s))?_:i.$roll_damage(s))?u:i.$roll_name(s)},1),m(o,"$roll_hit",function(s){var i=this,_=n,c=n,b=n,f=n,q=n,F=n,U=n;return _=B($("Command"),"Parser").$new(/TR\d*/,h(["round_type"],{round_type:i.$round_type()})).$restrict_cmp_op_to("<=").$parse(s),R(_)?(c=g(_.$command()["$[]"](y(2,-1,!1)).$to_i(),_.$modify_number()),b=g(7,c),f=_.$target_number(),q=i.randomizer.$roll_once(100),F=i.$get_hit_roll_result(q,f,b),k(_,"command=",p(U=["TR"])),E(U.length,1),k(_,"modify_number=",p(U=[c])),E(U.length,1),U=["("+_+") \uff1e "+q+" \uff1e "+F.$text()],k(F,"text=",p(U)),E(U.length,1),i.$debug("eval_game_system_specific_command result text",F.$text()),F):n},1),m(o,"$get_hit_roll_result",function(s,i,u){return R(M(s,96))?$("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):R(L(s,u))?$("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):R(L(s,i))?$("Result").$success("\u6210\u529f"):$("Result").$failure("\u5931\u6557")},3),m(o,"$roll_damage",function(s){var i,u,_=this,b=n,f=n,q=n,F=n,U=n,W=n,X=n,Q=n;return b=B($("Command"),"Parser").$new(/\d+DM\d*/,h(["round_type"],{round_type:_.$round_type()})).$restrict_cmp_op_to(n).$parse(s),R(b)?(u=k(b.$command().$split("DM",2),"map",[],"to_i".$to_proc()),f=null==(i=Y(u))[0]?n:i[0],q=null==i[1]?n:i[1],F=b.$modify_number(),W=(U=_.randomizer.$roll_barabara(f,6).$sort()).$join(","),u=_.$get_roll_damage_result(f,q,U,F),X=null==(i=Y(u))[0]?n:i[0],"("+b+") \uff1e ["+W+"]"+(R((Q=null==i[1]?n:i[1])["$nil?"]())?"":"\u2192["+Q.$join(",")+"]")+$("Format").$modifier(F)+" \uff1e "+X):n},1),m(o,"$get_roll_damage_result",function(s,i,u,_){var b=n,f=n;return R(L(i,0))?[g(u.$sum(),_),n]:(b=u.$clone(),R(G(i,s))&&(i=s),k(i,"times",[],function(){return b.$shift(),u.$shift(),u.$push(7)},0),f=b.$pop(),R(f["$nil?"]())&&(f=1),[g(g(j(f,7["$**"](i)),b.$sum()),_),u])},4),m(o,"$result_1d100",function(s,i,u,_){return R(M(i,96))?$("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):R(L(i,7))?$("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):n},4),m(o,"$roll_name",function(s){return N(s,"TRNAME")?$("NAME1").$roll(this.randomizer).$last_body()+" , "+$("NAME2").$roll(this.randomizer).$last_body():n},1),S(l[0],"NAME1",B($("DiceTable"),"Table").$new("\u540d\u5b57\u8868","1D100",["\u6625\u65e5","\u6d45\u898b","\u98a8\u9593","\u795e\u7121\u6708","\u5009\u7530","\u4e0d\u52d5","\u5c71\u5948","\u30b7\u30e3\u30eb\u30ed\u30c3\u30af","\u9727\u96a0","\u679c\u5fc3","\u4eca\u4e95","\u9577\u702c","\u660e\u667a","\u98a8\u796d","\u5fd7\u8cab","\u4e00\u6587\u5b57","\u6708\u591c\u91ce","\u685c\u7530\u9580","\u679c\u702c","\u4e5d\u5341\u4e5d","\u901f\u6c34","\u7247\u6850","\u8449\u6708","\u30a6\u30a3\u30f3\u30b6\u30fc","\u6642\u96e8\u91cc","\u795e\u57ce","\u6c34\u969b","\u4e00\u30ce\u6c5f","\u4ec1\u85e4","\u5317\u5343\u4f4f","\u897f\u6751","\u8acf\u8a2a","\u85e4\u5bae","\u5fa1\u4ee3","\u6a58","\u9727\u751f","\u767d\u77f3","\u690e\u540d","\u7dbe\u5c0f\u8def","\u4e8c\u6761","\u5149\u660e\u5bfa","\u6625\u79cb","\u96ea\u898b","\u5200\u6761\u9662","\u30e9\u30f3\u30ab\u30b9\u30bf\u30fc","\u30cf\u30af\u30a2","\u30a8\u30eb\u30bf\u30cb\u30a2","\u30cf\u30fc\u30cd\u30b9","\u30a2\u30a6\u30b0\u30b9\u30c8\u30a5\u30b9","\u690e\u540d\u753a","\u9375\u5b88","\u831c\u30f6\u5d0e","\u93ae\u5bae","\u7f8e\u67f3","\u9396\u3005\u585a","\u6afb\u30ce\u675c","\u93e1\u30f6\u5b88","\u8f1d\u4e95","\u5357\u967d","\u96ea\u4e43\u57ce","\u516d\u89d2\u5c4b","\u9234\u3005","\u6771\u4e09\u6761","\u6731\u96c0\u9662","\u9752\u9f8d\u9662","\u767d\u864e\u9662","\u7384\u6b66\u9662","\u9e92\u9e9f\u9662","\u30ea\u30fc\u30b7\u30e5\u30bf\u30c3\u30c8","\u30b5\u30f3\u30af\u30c1\u30e5\u30a2\u30ea","\u516d\u5b9f","\u9808\u85e4","\u30df\u30ec\u30cb\u30a2\u30e0","\u4e03\u91cc","\u4e09\u679d","\u516b\u6bbf","\u85e4\u91cc","\u4e45\u5b9d","\u6771","\u8d64\u897f","\u795e\u30f6\u5d0e","\u30b0\u30e9\u30f3\u30b7\u30a2","\u30c0\u30fc\u30af\u30d6\u30fc\u30ec\u30fc\u30c9","\u5929\u5149\u5bfa","\u6708\u898b\u91cc","\u7483\u5bae","\u85e4\u898b\u6fa4","\u8d64\u8056","\u59eb\u5bae","\u83ef\u30ce\u5bae",'"\u5929\u624d"','"\u9054\u4eba"','"\u8ce2\u8005"','"\u75be\u98a8"','"\u6d77\u306e"','"\u6700\u5f37"','"\u51f6\u5668"','"\u707c\u71b1"','"\u4eba\u9593\u5175\u5668"','"\u9b54\u738b"'])),S(l[0],"NAME2",B($("DiceTable"),"Table").$new("\u540d\u5b57\u8868","1D100",["\u30a2\u30e9\u30bf/\u8056","\u30a2\u30d3\u30a3\u30b9/\u30ea\u30ea\u30b9","\u30eb\u30fc\u30b0/\u30ec\u30f4\u30a3","\u30e9\u30b9\u30c8/\u30a2\u30ea\u30f3","\u30bd\u30e9/\u30e6\u30a4","\u30a4\u30fc\u30ea\u30a2\u30b9/\u30a2\u30ad\u30aa","\u30a2\u30ab\u30fc\u30b7\u30e3/\u30df\u30e9","\u30a2\u30ea\u30a8\u30b9/\u30ea\u30fc\u30bc\u30ed\u30c3\u30c6","\u30e0\u30e9\u30b5\u30e1/\u30b7\u30e3\u30eb\u30e0","\u9f8d\u8cb4/\u7adc\u59eb","\u82f1\u6a39/\u6625\u83dc","\u6e96\u4e00/\u6e4a","\u6025\u53f8\u90ce/\u5149\u7406","\u5915\u4e5f/\u611b\u5948","\u6674\u5f66/\u30a2\u30ad","\u75be\u98a8/\u30e4\u30b7\u30ed","\u30ab\u30ac\u30ea/\u706f\u82b1","\u6b21\u90ce/\u512a\u90fd","\u6625\u592a\u90ce/\u9759\u7406","\u30b8\u30f3/\u6642\u96e8","\u30a4\u30aa\u30ea/\u4f0a\u7e54","\u30e6\u30a6\u30d2/\u512a\u59eb","\u30b5\u30c4\u30ad/\u7fe0\u540d","\u30b7\u30e5\u30e9\u30a4/\u30b5\u30af\u30e9","\u30df\u30ca\u30c5\u30ad/\u59eb\u4e43","\u30ab\u30a8\u30c7/\u512a\u6a39\u83dc","\u30cf\u30eb/\u30d5\u30e6","\u30c9\u30fc\u30eb/\u745e\u6c5f","\u30cb\u30c8\u30a5\u30ec\u30b9\u30c8/\u30ad\u30ea\u30ab","\u30b9\u30ab\u30fc/\u7dbe\u702c","\u771f\u590f/\u5c0f\u590f","\u5149\u4e00/\u306e\u306e\u304b","\u5f69/\u7fe0","\u30c8\u30a6\u30ab/\u67ca\u82b1","\u547d/\u30df\u30b3\u30c8","\u53f8/\u3064\u304b\u3055","\u3086\u3068\u308a/\u306a\u3054\u307f","\u51ac\u5f66/\u89b3\u6708","\u30ab\u30ec\u30f3/\u83ef\u604b","\u6e05\u6b21\u90ce/\u4e9c\u77e2","\u30b5\u30fc\u30c9/\u5922\u5b50","\u30dc\u30c3\u30af\u30b9/\u8a69\u5b50","\u30d8\u30ea\u30aa\u30b9/\u30ab\u30a8\u30c7","\u30b2\u30fc\u30c8/\u4eac\u9999","\u30aa\u30f3\u30ea\u30fc/\u30d1\u30c8\u30ea\u30b7\u30a2","\u30b6\u30c3\u30cf\u30fc\u30af/\u30a2\u30fc\u30ea","\u30e9\u30b9\u30bf\u30d0\u30f3/\u30e9\u30b9\u30c6\u30a3","\u685c\u82b1/\u71c1\u6f84","\u8a08\u90fd/\u30ea\u30f4\u30a3\u30a2","\u30ab\u30eb\u30f4\u30a1\u30ea\u30aa/\u9999\u591c","\u60a0\u4eba/\u591c\u3005\u5b50","\u592a\u5b50/\u7fbd\u83dc","\u5915\u7acb/\u5915\u51ea","\u30a2\u30eb\u30d5/\u611b\u7f8e","\u30d5\u30a1\u30ed\u30b9/\u706f\u5229","\u30b9\u30d7\u30fc\u30c8\u30cb\u30af/\u8a69\u59eb","\u30a2\u30fc\u30cd\u30b9\u30c8/\u7d2f","\u30ca\u30a4\u30f3/\u30ab\u30b0\u30e4","\u30af\u30ea\u30a2/\u30d2\u30de\u30ef\u30ea","\u30a6\u30a9\u30fc\u30ab\u30fc/\u30aa\u30ea\u30d3\u30a2","\u30c0\u30fc\u30af/\u30af\u30aa\u30f3","\u30a6\u30a7\u30a4\u30f4/\u51db","\u30eb\u30fc\u30f3/\u30de\u30ea\u30a8","\u30a8\u30f3\u30ae/\u30bb\u30a4\u30ae","\u30b7\u30e9\u30cc\u30a4/\u30df\u30e9\u30a4","\u30d6\u30e9\u30a4\u30f3/\u30ad\u30ba\u30ca","\u30af\u30ed\u30a6/\u30ab\u30ca\u30bf","\u30b9\u30ec\u30a4\u30e4\u30fc/\u30d2\u30ab\u30eb","\u30ec\u30b9/\u30df\u30ea\u30a2\u30ea\u30a2","\u30df\u30d5\u30e6/\u30b5\u30ea\u30a8\u30eb","\u9cf4\u592e/\u97f3\u592e","\u30e2\u30f3\u30b8/\u7406\u4e9c","\u30d1\u30eb\u30c7\u30e2\u30f3\u30c8\u30a5\u30e0/\u30b9\u30ca\u30aa","\u30df\u30b7\u30a7\u30eb/\u8a69\u7a42","\u30d5\u30ec\u30f3\u30ba/\u30b5\u30f3","\u30b5\u30c8\u30ea/\u8b58","\u30ed\u30fc\u30c9/\u552f\u82b1","\u30af\u30ed\u30ce\u30b9/\u4e45\u5b9d","\u30d5\u30a3\u30e9\u30c7\u30eb\u30d5\u30a3\u30a2/\u51ac\u6d77","\u30c6\u30a3\u30f3\u30c0\u30ed\u30b9/\u7f8e\u661f","\u52c7\u5f25/\u30e6\u30fc\u30ea\u30b9","\u30a8\u30a4\u30c8/\u30a2\u30f3\u30b8\u30a7\u30e9","\u30b5\u30bf\u30f3/\u30eb\u30b7\u30a8\u30eb","\u30a8\u30fc\u30b9/\u5c0f\u6ce2","\u30bb\u30fc\u30b8/\u80e1\u8776","\u5fcd/\u5343\u4e4b","\u91cd\u543e/\u30ad\u30ea\u30b3","\u30de\u30a4\u30b1\u30eb/\u30df\u30db\u30b7","\u30ab\u30ba\u30de/\u9db4\u9999","\u30e4\u30de\u30c8/\u30a8\u30ea\u30b7\u30a8\u30eb","\u6b74\u53f2\u4e0a\u306e\u4eba\u7269\u306e\u540d\u524d\uff08\u4fe1\u9577\u3001\u30b8\u30e3\u30f3\u30cc\u306a\u3069\uff09","\u30b9\u30dd\u30fc\u30c4\u9078\u624b\u306e\u540d\u524d\uff08\u30d9\u30c3\u30ab\u30e0\u3001\u6c99\u4fdd\u91cc\u306a\u3069\uff09","\u5b66\u8005\u306e\u540d\u524d\uff08\u30bd\u30af\u30e9\u30c6\u30b9\u3001\u30a8\u30ec\u30ca\u306a\u3069\uff09","\u30a2\u30a4\u30c9\u30eb\u306e\u540d\u524d\uff08\u30bf\u30af\u30e4\u3001\u8056\u5b50\u306a\u3069\uff09","\u571f\u5730\u3001\u56fd\u3001\u753a\u306e\u540d\u524d\uff08\u30a4\u30f3\u30b0\u30e9\u30f3\u30c9\u3001\u30ef\u30b7\u30f3\u30c8\u30f3\u306a\u3069\uff09","\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u540d\u524d\uff08\u30c9\u30e9\u30b4\u30f3\u3001\u30e9\u30df\u30a2\u306a\u3069\uff09","\u6b66\u5668\u9632\u5177\u306e\u540d\u524d\uff08\u30bd\u30fc\u30c9\u3001\u30e1\u30a4\u30eb\u306a\u3069\uff09","\u81ea\u7136\u73fe\u8c61\u306e\u540d\u524d\uff08\u30ab\u30b6\u30f3\u30cf\u30ea\u30b1\u30fc\u30f3\u306a\u3069\uff09","\u6a5f\u68b0\u306e\u540d\u524d\uff08\u6d17\u6fef\u6a5f\u3001\u30c6\u30ec\u30d3\u306a\u3069\uff09","\u76ee\u306b\u3064\u3044\u305f\u7269\u306e\u540d\u524d\uff08\u30b7\u30e3\u30fc\u30da\u30f3\u3001\u30e1\u30ac\u30cd\u306a\u3069\uff09"]))})},6450:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var J,A,l,$,a,r,s,D,T,w,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.send2,R=e.find_super,m=e.def,h=e.truthy,g=e.send,y=e.rb_ge,k=e.rb_minus,p=e.rb_plus,E=e.to_a,M=e.rb_gt,L=e.eqeq,Y=e.neqeq,G=e.rb_lt,j=e.rb_times,N=e.hash2,K=e.rb_divide,P=e.rb_le;return J=H,A=w=[B(H[0],"BCDice")].concat(J),D=[B(w[0],"GameSystem")].concat(A),T=e.$r(D),l=D,a=[$=C(D[0],T("Base"),"TunnelsAndTrolls")].concat(l),r=e.$r(a),(s=$.$$prototype).dice_total=s.count_6=s.randomizer=s.dice_list=t,v(a[0],"ID","TunnelsAndTrolls"),v(a[0],"NAME","\u30c8\u30f3\u30cd\u30eb\u30ba\uff06\u30c8\u30ed\u30fc\u30eb\u30ba"),v(a[0],"SORT_KEY","\u3068\u3093\u306d\u308b\u3059\u3042\u3093\u3068\u3068\u308d\u304a\u308b\u3059"),v(a[0],"HELP_MESSAGE",'\u30fb\u884c\u70ba\u5224\u5b9a\u3000(nD6+x>=nLV)\n\u5931\u6557\u3001\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u306e\u81ea\u52d5\u5224\u5b9a\u3068\u30be\u30ed\u76ee\u306e\u632f\u308a\u8db3\u3057\u7d4c\u9a13\u5024\u306e\u81ea\u52d5\u8a08\u7b97\u3092\u884c\u3044\u307e\u3059\u3002\nSAVE\u306e\u96e3\u6613\u5ea6\u3092\u300c\u30ec\u30d9\u30eb\u300d\u3067\u8868\u8a18\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u300c2Lv\u300d\u3068\u66f8\u304f\u3068\u300c25\u300d\u306b\u7f6e\u63db\u3055\u308c\u307e\u3059\u3002\n\u5224\u5b9a\u6642\u4ee5\u5916\u306f\u60aa\u610f\u30c0\u30e1\u30fc\u30b8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u30d0\u30fc\u30b5\u30fc\u30af\u3068\u30cf\u30a4\u30d1\u30fc\u30d0\u30fc\u30b5\u30fc\u30af\u7528\u306b\u5c02\u7528\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u3059\u3002\n\u4f8b\uff092D6+1>=1Lv\n\u3000 (2D6+1>=20) \uff1e 7[2,5]+1 \uff1e 8 \uff1e \u5931\u6557\n\u3000\u5224\u5b9a\u6642\u306b\u306f\u30be\u30ed\u76ee\u3092\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u307e\u3059\u3002\n\n\u30fb\u30d0\u30fc\u30b5\u30fc\u30af\u3068\u30cf\u30a4\u30d1\u30fc\u30d0\u30fc\u30b5\u30fc\u30af\u3000(nBS+x or nHBS+x)\n\u3000"(\u30c0\u30a4\u30b9\u6570)BS(\u4fee\u6b63\u5024)"\u3067\u30d0\u30fc\u30b5\u30fc\u30af\u3001"(\u30c0\u30a4\u30b9\u6570)HBS(\u4fee\u6b63\u5024)"\u3067\u30cf\u30a4\u30d1\u30fc\u30d0\u30fc\u30b5\u30fc\u30af\u3067\u30ed\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n\u3000\u6700\u521d\u306e\u30c0\u30a4\u30b9\u306e\u8aad\u66ff\u306f\u3001\u500b\u5225\u306e\u51fa\u76ee\u306f\u305d\u306e\u307e\u307e\u3067\u8868\u793a\u3002\n\u3000\u4e0b\u304b\u3089\uff12\u756a\u76ee\u306e\u51fa\u76ee\u3092\u305a\u3089\u3057\u305f\u5206\u3060\u3051\u5408\u8a08\u306b\u30de\u30a4\u30ca\u30b9\u4fee\u6b63\u3092\u8ffd\u52a0\u3057\u3066\u8868\u793a\u3057\u307e\u3059\u3002\n'),$.$register_prefix("\\d+H?BS","\\d+R6","\\d+D\\d+"),m($,"$initialize",function i(u){var c=this;return delete i.$$p,S(c,R(c,"initialize",i,!1,!0),"initialize",[u],null),c.sort_add_dice=!0},1),$.$private(),m($,"$replace_text",function(u){return h(/BS/i["$=~"](u))&&(u=g(u,"gsub",[/(\d+)HBS([^\d\s][+\-\d]+)/i],function(){return r("Regexp").$last_match(1)+"R6"+r("Regexp").$last_match(2)+"[H]"},0),u=g(u,"gsub",[/(\d+)HBS/i],function(){return r("Regexp").$last_match(1)+"R6[H]"},0),u=g(u,"gsub",[/(\d+)BS([^\d\s][+\-\d]+)/i],function(){return r("Regexp").$last_match(1)+"R6"+r("Regexp").$last_match(2)},0),u=g(u,"gsub",[/(\d+)BS/i],function(){return r("Regexp").$last_match(1)+"R6"},0)),u},1),m($,"$eval_game_system_specific_command",function(u){var _=this,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t,Q=t,re=t,O=t,ie=t;return h(/^\d+D\d+/i["$match?"](u))?_.$roll_action(u):(u=_.$replace_text(u),_.$debug("tandt_berserk string",u),c="1",h(b=/(^|\s)S?((\d+)[rR]6([+\-\d]*)(\[(\w+)\])?)(\s|$)/i.$match(u))&&(_.$debug("tandt_berserk matched"),u=b["$[]"](2),f=b["$[]"](3).$to_i(),q=0,h(b["$[]"](4))&&(q=r("ArithmeticEvaluator").$eval(b["$[]"](4))),F=!1,h(b["$[]"](5))&&h(b["$[]"](6)["$=~"](/[Hh]/))&&(F=!0),U=[],W=0,X="",Q=!0,re=0,O=0,_.$debug("isHyperBerserk",F),U.$push(f),function(){var ne=e.new_brk();try{g(_,"loop",[],function ae(){var _e,$e,ue=null==ae.$$s?this:ae.$$s,se=t,oe=t,ce=t,fe=t,me=t,be=t,ge=t;if(null==ue.randomizer&&(ue.randomizer=t),ue.$debug("loop dice_arr",U),_e=U.$shift(),ue.$debug("roll dice_wk d6",_e),$e=(se=ue.randomizer.$roll_barabara(_e,6).$sort()).$sum(),oe=se.$count(6),h(y(_e,2))&&(ce=se,me=[],g(fe=6,"times",[],function(le){return null==le&&(le=t),me.$push(0)},1),g(ce,"each",[],function(le){var de;return null==le&&(le=t),de=[k(le,1),p(me["$[]"](k(le,1)),1)],g(me,"[]=",E(de)),de[k(de.length,1)]},1),g(me,"each",[],function(le){return null==le&&(le=t),h(y(le,2))?(h(F)&&(le=p(le,1)),U.$push(le)):t},1),h(Q)&&h(U["$empty?"]())&&(be=0,ge=0,g(fe,"times",[],function Te(le){var he,de=null==Te.$$s?this:Te.$$s;return null==le&&(le=t),he=k(k(fe,le),1),de.$debug("diceType index",he),h(M(me["$[]"](he),0))?(ge=be,be=he):t},{$$arity:1,$$s:ue}),ue.$debug("min1, min2",be,ge),O=k(ge,be)["$-@"](),L(ge,5)&&(oe=k(oe,1)),h(F)?U.$push(3):U.$push(2))),W=p(W,$e),Y(X,"")&&(X=p(X,"][")),X=p(X,se.$join(",")),re=p(re,oe),Q=!1,ue.$debug("loop last chek dice_arr",U),!h(U["$empty?"]()))return t;e.brk(t,ne)},{$$arity:0,$$s:_,$$brk:ne})}catch(ae){if(ae===ne)return ae.$v;throw ae}}(),_.$debug("loop breaked"),_.$debug("dice_now, bonus, bonus2",W,q,O),ie=p(p(W,q),O),c=W+(X="["+X+"]"),h(G(O,0))&&(_.$debug("bonus2",O),c=p(c,O.$to_s())),_.$debug("bonus",q),h(M(q,0))?c=p(c,"+"+q):h(G(q,0))&&(c=p(c,q.$to_s())),c=h(c["$=~"](/[^\d\[\]]+/))?"("+u+") \uff1e "+c+" \uff1e "+ie:"("+u+") \uff1e "+ie,h(M(re,0))&&(c=p(c," \uff1e \u60aa\u610f"+re))),c)},1),m($,"$roll_action",function(u){var _=this,b=t,f=t,q=t,F=t;return u=g(u,"sub",[/\d+LV$/i],function(X){return null==X&&(X=t),p(j(X.$to_i(),5),15)},1),b=n(r("Command"),"Parser").$new(/\d+D6/,N(["round_type"],{round_type:_.$round_type()})).$restrict_cmp_op_to(t,">=").$enable_question_target().$parse(u),h(b)?(f=b.$command().$to_i(),_.$roll_action_dice(f),q=p(_.dice_total,b.$modify_number()),F=h(b["$question_target?"]())?"?":b.$target_number(),["("+b+")",_.$interim_expr(b,_.dice_total),q.$to_s(),_.$action_result(q,_.dice_total,F),_.$additional_result(_.count_6)].$compact().$join(" \uff1e ")):t},1),m($,"$roll_action_dice",function(u){var c=this,b=t,f=t;for(b=c.randomizer.$roll_barabara(u,6).$sort(),c.dice_list=[b];h(c["$same_all_dice?"](b));)b=c.randomizer.$roll_barabara(u,6).$sort(),c.dice_list.$push(b);return f=c.dice_list.$flatten(),c.dice_total=f.$sum(),c.count_6=f.$count(6)},1),m($,"$same_all_dice?",function(u){var _;return h(_=M(u.$size(),1))?u.$uniq().$size()["$=="](1):_},1),m($,"$interim_expr",function(u,_){var b=t,f=t;return L(this.dice_list.$flatten().$size(),1)&&L(u.$modify_number(),0)?t:(b=g(this.dice_list,"map",[],function(F){return null==F&&(F=t),"["+F.$join(",")+"]"},1).$join(""),f=r("Format").$modifier(u.$modify_number()),[_.$to_s(),b,f].$join(""))},2),m($,"$action_result",function(u,_,c){return L(_,3)?"\u81ea\u52d5\u5931\u6557":h(c["$nil?"]())?t:L(c,"?")?this.$success_level(u,_):h(y(u,c))?"\u6210\u529f \uff1e \u7d4c\u9a13\u5024"+this.$experience_point(c,_):"\u5931\u6557"},3),m($,"$success_level",function(u,_){var c;return c=K(k(u,15),5).$to_i(),h(P(c,0))?"\u5931\u6557 \uff1e \u7d4c\u9a13\u5024"+_:c+"Lv\u6210\u529f \uff1e \u7d4c\u9a13\u5024"+_},2),m($,"$experience_point",function(u,_){var b=t;return b=j(K(j(1,k(u,15)),5),_),h(P(b,0))?"0":h(this["$int?"](b))?b.$to_i().$to_s():this.$format("%.1f",b)},2),m($,"$int?",function(u){return u["$=="](u.$to_i())},1),m($,"$additional_result",function(u){return h(M(u,0))?"\u60aa\u610f"+u:t},1)})},5520:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var j,V,x,D,T,d,I,w,K,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.def,S=e.hash,R=e.truthy,m=e.rb_lt,h=e.rb_gt,g=e.send,y=e.to_a,k=e.rb_minus,p=e.to_ary,E=e.eqeq,M=e.rb_ge,L=e.rb_le,Y=e.rb_times;return j=H,V=K=[n(H[0],"BCDice")].concat(j),I=[n(K[0],"GameSystem")].concat(V),w=e.$r(I),x=I,T=[D=B(I[0],w("Base"),"Utakaze")].concat(x),d=e.$r(T),D.$$prototype.randomizer=t,C(T[0],"ID","Utakaze"),C(T[0],"NAME","\u30a6\u30bf\u30ab\u30bc"),C(T[0],"SORT_KEY","\u3046\u305f\u304b\u305b"),C(T[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\uff08nUK\uff09\n  n\u500b\u306e\u30b5\u30a4\u30b3\u30ed\u3067\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\u3002\u30be\u30ed\u76ee\u306e\u6700\u5927\u500b\u6570\u3092\u6210\u529f\u30ec\u30d9\u30eb\u3068\u3057\u3066\u8868\u793a\u3002n\u3092\u7701\u7565\u3059\u308b\u30682UK\u6271\u3044\u3002\n  \u4f8b\uff093UK \uff1a\u30b5\u30a4\u30b3\u30ed3\u500b\u3067\u884c\u70ba\u5224\u5b9a\n  \u4f8b\uff09UK  \uff1a\u30b5\u30a4\u30b3\u30ed2\u500b\u3067\u884c\u70ba\u5224\u5b9a\n\u30fb\u96e3\u6613\u5ea6\u4ed8\u304d\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\uff08nUK>=t\uff09\n  t\u306b\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u3057\u305f\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\u3002\n  \u6210\u529f\u30ec\u30d9\u30eb\u3068\u96e3\u6613\u5ea6t\u3092\u6bd4\u3079\u3066\u6210\u5426\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n  \u4f8b\uff096UK>=3 \uff1a\u30b5\u30a4\u30b3\u30ed6\u500b\u3067\u884c\u70ba\u5224\u5b9a\u3057\u3066\u3001\u6210\u529f\u30ec\u30d9\u30eb3\u304c\u51fa\u308c\u3070\u6210\u529f\u3002\n\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u4ed8\u304d\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\uff08nUK@c or nUKc\uff09\n  c\u306b\u300c\u9f8d\u306e\u30c0\u30a4\u30b9\u76ee\u300d\u3092\u6307\u5b9a\u3057\u305f\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\u3002\n  \u30be\u30ed\u76ee\u3067\u306f\u306a\u304f\u3001c\u3068\u540c\u3058\u5024\u306e\u51fa\u76ee\u6570x2\u304c\u6210\u529f\u30ec\u30d9\u30eb\u3068\u306a\u308a\u307e\u3059\u3002\u96e3\u6613\u5ea6\u306e\u6307\u5b9a\u3082\u53ef\u80fd\u3067\u3059\u3002\n  \u4f8b\uff093UK@5 \uff1a\u9f8d\u306e\u30c0\u30a4\u30b9\u300c\u6708\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u5ba3\u8a00\u3057\u305f\u30b5\u30a4\u30b3\u30ed3\u500b\u306e\u884c\u70ba\u5224\u5b9a\n"),D.$register_prefix("\\d*UK"),v(D,"$eval_game_system_specific_command",function($){return this.$debug("eval_game_system_specific_command command",$),this.$check_roll($)},1),D.$private(),C(T[0],"DRAGON_DICE_NAME",S(1,"\u98a8",2,"\u96e8",3,"\u96f2",4,"\u5f71",5,"\u6708",6,"\u6b4c").$freeze()),v(D,"$check_roll",function($){var a=this,r=t,s=t,i=t,u=t,_=t,c=t,b=t,q=t;return r=/^(\d+)?UK(@?(\d))?(>=(\d+))?$/i.$match($),!R(r)||(s=(R(i=r["$[]"](1))?i:2).$to_i(),u=r["$[]"](3).$to_i(),_=r["$[]"](5).$to_i(),s=a.$getValue(s),u=a.$getValue(u),R(m(s,1)))?t:(R(h(u,6))&&(u=6),c=a.randomizer.$roll_barabara(s,6).$sort(),b=a.$get_roll_result(c,u,_),q=[[$,"("+s+"D6)","["+c.$join(",")+"]",b.$text()].$join(" \uff1e ")],g(b,"text=",y(q)),k(q.length,1),b)},1),v(D,"$get_roll_result",function($,a,r){var s,i,_,c,b,f=t;return i=this.$getSuccessInfo($,a),_=null==(s=p(i))[0]?t:s[0],c=null==s[1]?t:s[1],b=null==s[2]?t:s[2],f=[],R(this.$isDragonDice(a))&&f.$push("\u9f8d\u306e\u30c0\u30a4\u30b9\u300c"+d("DRAGON_DICE_NAME")["$[]"](a)+"\u300d("+a+")\u3092\u4f7f\u7528"),R(_)?(f.$push("\u6210\u529f\u30ec\u30d9\u30eb:"+c+" ("+b+"\u30bb\u30c3\u30c8)"),E(r,0)?d("Result").$success(f.$join(" \uff1e ")):R(M(c,r))?(f.$push("\u6210\u529f"),d("Result").$success(f.$join(" \uff1e "))):(f.$push("\u5931\u6557"),d("Result").$failure(f.$join(" \uff1e ")))):(f.$push("\u5931\u6557"),d("Result").$failure(f.$join(" \uff1e ")))},3),v(D,"$getSuccessInfo",function($,a){var s,_,r=this,i=t,u=t;return r.$debug("checkSuccess diceList, crit",$,a),s=r.$getDiceCountHash($,a),r.$debug("diceCountHash",s),i=0,u=[],_=R(r.$isDragonDice(a))?1:2,g(s,"each",[],function(b,f){return null==b&&(b=t),null==f&&(f=t),R(h(f,i))&&(i=f),R(M(f,_))?u["$<<"](b):t},2),r.$debug("successDiceList",u),R(L(u.$size(),0))?[!1,0,0]:(R(r.$isDragonDice(a))&&(i=Y(i,2)),[!0,i,u.$size()])},2),v(D,"$getDiceCountHash",function($,a){return g(g(g($,"select",[],function s(i){var _;return null==i&&(i=t),R(_=(null==s.$$s?this:s.$$s).$isNomalDice(a))?_:i["$=="](a)},{$$arity:1,$$s:this}),"group_by",[],"itself".$to_proc()),"transform_values",[],"size".$to_proc())},2),v(D,"$isNomalDice",function($){return this.$isDragonDice($)["$!"]()},1),v(D,"$isDragonDice",function($){return $["$!="](0)},1),v(D,"$getValue",function($){return R(h($,100))?0:$},1)})},6409:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.truthy,S=e.to_ary,R=e.send,m=e.rb_plus,h=e.def,g=e.rb_gt,y=e.rb_ge,k=e.rb_lt,p=e.eqeq,E=e.rb_times,M=e.rb_divide;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"VampireTheMasquerade5th")].concat(z),D=e.$r(x),A.$$prototype.randomizer=t,C(x[0],"ID","VampireTheMasquerade5th"),C(x[0],"NAME","Vampire: The Masquerade 5th Edition"),C(x[0],"SORT_KEY","\u3046\u3042\u3093\u306f\u3044\u3042\u3055\u307e\u3059\u304b\u308c\u3048\u30685"),C(x[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nVMFx+x)\n  \u6ce8\u610f\uff1a\u96e3\u6613\u5ea6\u306f\u5fc5\u8981\u6210\u529f\u6570\u3092\u8868\u3059\n\n  \u96e3\u6613\u5ea6\u6307\u5b9a\uff1a\u5224\u5b9a\u6210\u529f\u3068\u5931\u6557\u3001Critical\u5224\u5b9a\u3001\n             \uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Messy Critical\u3068Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n  \u4f8b) (\u96e3\u6613\u5ea6)VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n  \u96e3\u6613\u5ea6\u7701\u7565\uff1a\u5224\u5b9a\u5931\u6557\u3001Critical\u3001\uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n              \u5224\u5b9a\u6210\u529f\u3001Messy Critical\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n  \u96e3\u6613\u5ea60\u6307\u5b9a\uff1a\u5168\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) 0VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      0VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n"),C(x[0],"DIFFICULTY_INDEX",1),C(x[0],"DICE_POOL_INDEX",3),C(x[0],"HUNGER_DICE_INDEX",5),C(x[0],"NOT_CHECK_SUCCESS",-1),A.$register_prefix("\\d*VMF"),h(A,"$eval_game_system_specific_command",function(o){var l,$,a,r=this,s=t,i=t,u=t,_=t,c=t,b=t,f=t,q=t,F=t,U=t,W=t,X=t;return s=/^(\d+)?(VMF)(\d+)(\+(\d+))?/.$match(o),v(s)?(i=s["$[]"](D("DICE_POOL_INDEX")).$to_i(),$=r.$make_dice_roll(i),u=null==(l=S($))[0]?t:l[0],_=null==l[1]?t:l[1],c=null==l[2]?t:l[2],b="("+i+"D10",f=(l=s["$[]"](D("HUNGER_DICE_INDEX")))===t||null==l?t:R(l,"to_i",[]),v(f)?(a=r.$make_dice_roll(f),q=null==($=S(a))[0]?t:$[0],F=null==$[1]?t:$[1],W=null==$[3]?t:$[3],c=m(c,U=null==$[2]?t:$[2]),_=m(_,F),b=b+"+"+f+"D10) \uff1e ["+u+"]+["+q+"] "):(U=0,W=0,b=b+") \uff1e ["+u+"] "),_=m(_,r.$get_critical_success(c)),X=v(s["$[]"](D("DIFFICULTY_INDEX")))?s["$[]"](D("DIFFICULTY_INDEX")).$to_i():D("NOT_CHECK_SUCCESS"),r.$get_roll_result(b,_,c,U,W,X)):""},1),A.$private(),h(A,"$get_roll_result",function(o,l,$,a,r,s){var i=t;return o=o+" \u6210\u529f\u6570="+l,v(g(s,0))?(o=o+" \u96e3\u6613\u5ea6="+s,v(y(l,s))?(i=y($,2),v(g(a,0))&&v(i)?D("Result").$critical(o+"\uff1a\u5224\u5b9a\u6210\u529f! [Messy Critical]"):v(i)?D("Result").$critical(o+"\uff1a\u5224\u5b9a\u6210\u529f! [Critical Win]"):D("Result").$success(o+"\uff1a\u5224\u5b9a\u6210\u529f!")):v(g(r,0))?D("Result").$fumble(o+"\uff1a\u5224\u5b9a\u5931\u6557! [Bestial Failure]"):D("Result").$failure(o+"\uff1a\u5224\u5b9a\u5931\u6557!")):v(k(s,0))&&p(l,0)?v(g(r,0))?D("Result").$fumble(o+"\uff1a\u5224\u5b9a\u5931\u6557! [Bestial Failure]"):D("Result").$failure(o+"\uff1a\u5224\u5b9a\u5931\u6557!"):o.$to_s()},6),h(A,"$get_critical_success",function(o){return E(M(o,2).$to_i(),2)},1),h(A,"$make_dice_roll",function(o){var $=t;return[($=this.randomizer.$roll_barabara(o,10)).$join(","),R($,"count",[],function(_){return null==_&&(_=t),y(_,6)},1),$.$count(10),$.$count(1)]},1)})},8581:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var k,L,P,V,J,I,G,j,E,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.truthy,R=e.rb_le,m=e.rb_ge,h=e.rb_minus,g=e.def;return k=H,L=E=[n(H[0],"BCDice")].concat(k),G=[n(E[0],"GameSystem")].concat(L),j=e.$r(G),P=G,J=[V=B(G[0],j("Base"),"WARPS")].concat(P),I=e.$r(J),C(J[0],"ID","WARPS"),C(J[0],"NAME","\u30ef\u30fc\u30d7\u30b9"),C(J[0],"SORT_KEY","\u308f\u3042\u3075\u3059"),C(J[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u5ea6\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),g(V,"$result_2d6",function(z,A,x,D,T){return v(D,"<=")?S(R(A,2))?I("Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):S(m(A,12))?I("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):v(T,"?")?I("Result").$nothing():S(R(z,T))?I("Result").$success(h(T,z)+"\u6210\u529f"):I("Result").$failure("\u5931\u6557"):t},5)})},9840:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var m,k,G,j,N,K,E,M,g,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.eqeq,S=e.def;return m=H,k=g=[n(H[0],"BCDice")].concat(m),E=[n(g[0],"GameSystem")].concat(k),M=e.$r(E),G=E,N=[j=B(E[0],M("Base"),"WaresBlade")].concat(G),K=e.$r(N),C(N[0],"ID","WaresBlade"),C(N[0],"NAME","\u30ef\u30fc\u30b9\u30d6\u30ec\u30a4\u30c9"),C(N[0],"SORT_KEY","\u308f\u3042\u3059\u3075\u308c\u3044\u3068"),C(N[0],"HELP_MESSAGE","nD10>=m \u65b9\u5f0f\u306e\u5224\u5b9a\u3067\u6210\u5426\u3001\u5b8c\u5168\u6210\u529f\u3001\u5b8c\u5168\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n"),S(j,"$result_nd10",function(V,J,I,w,z){return v(w,">=")?v(I.$count(10),I.$size())?K("Result").$critical("\u5b8c\u5168\u6210\u529f"):v(I.$count(1),I.$size())?K("Result").$fumble("\u7d76\u5bfe\u5931\u6557"):t:t},5)})},3617:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var M,j,I,w,z,A,K,P,Y,H=[],t=e.nil,n=e.$$$,B=e.module,C=e.klass,v=e.const_set,S=e.eqeqeq,R=e.def,m=e.send,h=e.eqeq,g=e.rb_plus,y=e.truthy,k=e.rb_ge,p=e.to_ary;return M=H,j=Y=[B(H[0],"BCDice")].concat(M),K=[B(Y[0],"GameSystem")].concat(j),P=e.$r(K),I=K,z=[w=C(K[0],P("Base"),"WitchQuest")].concat(I),A=e.$r(z),w.$$prototype.randomizer=t,v(z[0],"ID","WitchQuest"),v(z[0],"NAME","\u30a6\u30a3\u30c3\u30c1\u30af\u30a8\u30b9\u30c8"),v(z[0],"SORT_KEY","\u3046\u3044\u3064\u3061\u304f\u3048\u3059\u3068"),v(z[0],"HELP_MESSAGE","\u30fb\u30c1\u30e3\u30ec\u30f3\u30b8(\u6210\u529f\u5224\u5b9a)(WQn)\n\u3000n\u56de2d6\u30c0\u30a4\u30b9\u3092\u632f\u3063\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u4f8b\uff09WQ3\n\u30fbSET\uff08\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u30ab\u30fc\u30c9\u306e\u906d\u9047\u8868(SETn)\n\u3000\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u30ab\u30fc\u30c9\u306e\u756a\u53f7(n)\u306e\u906d\u9047\u8868\u7d50\u679c\u3092\u5f97\u307e\u3059\u3002\n\u3000\u4f8b\uff09SET1\u3000SET48\n"),w.$register_prefix("WQ","SET"),R(w,"$eval_game_system_specific_command",function(T){var o,l=t;return S(/WQ(\d+)/,o=T)?(l=A("Regexp").$last_match(1).$to_i(),this.$challenge(l)):S(/SET(\d+)/,o)?(l=A("Regexp").$last_match(1).$to_i(),this.$getStructureEncounter(l)):t},1),R(w,"$challenge",function(T){var o=t,l=t;return o=0,l=[],m(T,"times",[],function a(){var s,i,r=null==a.$$s?this:a.$$s;return null==r.randomizer&&(r.randomizer=t),s=r.randomizer.$roll_once(6),i=r.randomizer.$roll_once(6),h(s,i)&&(o=g(o,1)),l["$<<"](s+","+i)},{$$arity:0,$$s:this}),g("("+l.$join(" / ")+") \uff1e ",this.$getSuccessText(o))},1),R(w,"$getSuccessText",function(T){var o=t;return y(k(T,(o=[[0,"\u5931\u6557"],[1,"\uff11\u30ec\u30d9\u30eb\u6210\u529f(\u6210\u529f)"],[2,"\uff12\u30ec\u30d9\u30eb\u6210\u529f(\u5927\u6210\u529f)"],[3,"\uff13\u30ec\u30d9\u30eb\u6210\u529f(\u5947\u8de1\u7684\u5927\u6210\u529f)"],[4,"\uff14\u30ec\u30d9\u30eb\u6210\u529f(\u6b74\u53f2\u7684\u5927\u6210\u529f)"],[5,"\uff15\u30ec\u30d9\u30eb\u6210\u529f(\u4f1d\u8aac\u7684\u5927\u6210\u529f)"],[6,"\uff16\u30ec\u30d9\u30eb\u6210\u529f(\u795e\u8a71\u7684\u5927\u6210\u529f)"]]).$last().$first()))?o.$last().$last():this.$get_table_by_number(T,o)},1),R(w,"$getStructureEncounter",function(T){var d,o,l=this,a=t;return l.$debug("getStructureEncounter number",T),a=l.$get_table_by_number(T,[[1,["\u8239\u304b\u3089\u964d\u308a\u3066\u304d\u305f","\u9b5a\u3092\u58f2\u3063\u3066\u3044\u308b","\u4ed5\u4e8b\u3067\u5fd9\u3057\u305d\u3046\u306a","\u7570\u56fd\u304b\u3089\u6765\u305f","\u304a\u3082\u3057\u308d\u304a\u304b\u3057\u3044","\u6c57\u6c34\u6d41\u3057\u3066\u3044\u308b"]],[2,["\u304a\u304b\u3057\u306a\u683c\u597d\u3092\u3057\u305f","\u6b4c\u3092\u6b4c\u3063\u3066\u3044\u308b","\u30b9\u30c6\u30ad\u306a\u7b11\u9854\u3092\u3057\u305f","\u65e5\u306a\u305f\u307c\u3063\u3053\u3092\u3057\u3066\u3044\u308b","\u60a9\u3093\u3067\u3044\u308b","\u65c5\u3092\u3057\u3066\u3044\u308b"]],[3,["\u5f85\u3061\u307c\u3046\u3051\u3092\u3057\u3066\u3044\u308b","\u58c1\u306b\u767b\u3063\u3066\u3044\u308b","\u30bf\u30d0\u30b3\u3092\u5438\u3063\u3066\u3044\u308b","\u8e0a\u308a\u3092\u8e0a\u3063\u3066\u3044\u308b","\u5e78\u305b\u305d\u3046\u306a","\u5411\u3053\u3046\u304b\u3089\u8d70\u3063\u3066\u304f\u308b"]],[4,["\u898b\u5f35\u308a\u3092\u3057\u3066\u3044\u308b","\u3057\u3083\u3079\u308c\u306a\u3044","\u898b\u5f35\u308a\u3092\u3057\u3066\u3044\u308b","\u4e00\u8f2a\u8eca\u306b\u4e57\u3063\u305f","\u5143\u6c17\u3044\u3063\u3071\u3044\u306e","\u771f\u9762\u76ee\u306a"]],[5,["\u30a6\u30bd\u3064\u304d\u306a","\u8cb7\u3044\u7269\u3092\u3057\u3066\u3044\u308b","\u30ae\u30bf\u30fc\u3092\u5f3e\u3044\u3066\u3044\u308b","\u3042\u306a\u305f\u306e\u307b\u3046\u3092\u3058\u3063\u3068\u898b\u3066\u3044\u308b","\u30dd\u30c3\u30d7\u30b3\u30fc\u30f3\u3092\u58f2\u3063\u3066\u3044\u308b","\u5c4b\u53f0\u3092\u51fa\u3057\u3066\u3044\u308b"]],[6,["\u5b50\u4f9b\u3092\u63a2\u3057\u3066\u3044\u308b","\u6642\u8a08\u3092\u76f4\u3057\u3066\u3044\u308b","\u7269\u4e5e\u3044\u3092\u3057\u3066\u3044\u308b","\u6c17\u8c61\u5b9f\u9a13\u3092\u3057\u3066\u3044\u308b","\u98db\u3073\u964d\u308a\u3088\u3046\u3068\u3057\u3066\u3044\u308b","\u6642\u9593\u3092\u304d\u306b\u3057\u3066\u3044\u308b"]],[7,["\u76ee\u306e\u898b\u3048\u306a\u3044","\u91d1\u6301\u3061\u305d\u3046\u306a","\u4e00\u4eba\u6b69\u304d\u3092\u3057\u305f\u3053\u3068\u304c\u306a\u3044","\u3075\u3089\u308c\u3066\u3057\u307e\u3063\u305f","\u5f85\u3061\u5408\u308f\u305b\u3092\u3057\u3066\u3044\u308b","\u9053\u306b\u8ff7\u3063\u305f"]],[8,["\u304a\u7948\u308a\u3092\u3057\u3066\u3044\u308b","\u30b9\u30b1\u30c3\u30c1\u3092\u3057\u3066\u3044\u308b","\u52c9\u5f37\u71b1\u5fc3\u306a","\u8a18\u5ff5\u7891\u3092\u58ca\u305d\u3046\u3068\u3057\u3066\u3044\u308b","\u5927\u304d\u306a\u58f0\u3067\u6587\u53e5\u3092\u3044\u3063\u3066\u3044\u308b","\u8a18\u5ff5\u64ae\u5f71\u3057\u3066\u3044\u308b"]],[9,["\u96a0\u308c\u3066\u3044\u308b","\u306f\u3057\u3054\u306b\u767b\u3063\u3066\u3044\u308b","\u9418\u3092\u9cf4\u3089\u3057\u3066\u3044\u308b","\u5171\u901a\u8a9e\u306e\u901a\u3058\u306a\u3044","\u8a18\u61b6\u3092\u5931\u3063\u305f","\u3042\u306a\u305f\u306e\u307b\u3046\u306b\u30d0\u30bf\u30c3\u3068\u5012\u308c\u305f"]],[10,["\u6687\u305d\u3046\u306a","\u7b11\u3063\u305f\u3053\u3068\u304c\u306a\u3044","\u3076\u304f\u3076\u304f\u3068\u592a\u3063\u305f","\u5f8c\u7d99\u8005\u3092\u63a2\u3057\u3066\u3044\u308b","\u738b\u69d8\u306b\u304a\u3064\u304b\u3048\u3057\u3066\u3044\u308b","\u611b\u56fd\u5fc3\u65fa\u76db\u306a"]],[11,["\u9589\u3058\u8fbc\u3081\u3089\u308c\u305f","\u60b2\u3057\u305d\u3046\u306a","\u6012\u3063\u3066\u3044\u308b","\u964d\u308a\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u308b","\u3082\u306e\u6182\u3052\u306a","\u98db\u307c\u3046\u3068\u3057\u3066\u3044\u308b"]],[12,["\u91e3\u308a\u3092\u3057\u3066\u3044\u308b","\u6cf3\u3044\u3067\u3044\u308b","\u5ddd\u306b\u7269\u3092\u843d\u3068\u3057\u3066\u3057\u307e\u3063\u305f","\u7802\u91d1\u3092\u6398\u3063\u3066\u3044\u308b","\u5ddd\u306b\u30b4\u30df\u3092\u6368\u3066\u3066\u3044\u308b","\u30ab\u30a8\u30eb\u306b\u5316\u304b\u3055\u308c\u3066\u3057\u307e\u3063\u305f"]],[13,["\u4e16\u9593\u8a71\u3092\u3057\u3066\u3044\u308b","\u7d50\u5a5a\u3092\u85a6\u3081\u305f\u304c\u308b","\u3044\u3084\u3089\u3057\u3044\u8a71\u306e\u597d\u304d\u306a","\u9078\u629e\u3092\u3057\u3066\u3044\u308b","\u6c34\u3092\u6c72\u3093\u3067\u3044\u308b","\u4e95\u6238\u306b\u843d\u3061\u3066\u3057\u307e\u3063\u305f"]],[14,["\u4eba\u306b\u304a\u3054\u308a\u305f\u304c\u308b","\u8e0a\u308a\u5b50\u3092\u3057\u3066\u3044\u308b","\u8ced\u3051\u3092\u3057\u3066\u3044\u308b","\u6ce3\u304d\u4e0a\u6238\u306a","\u98f2\u307f\u6bd4\u3079\u3092\u3057\u3066\u3044\u308b","\u81ea\u6162\u8a71\u3092\u3057\u3066\u3044\u308b"]],[15,["\u7d20\u6734\u305d\u3046\u306a","\u7530\u820e\u8005\u306e","\u3042\u306a\u305f\u3092\u3060\u307e\u305d\u3046\u3068\u3057\u3066\u3044\u308b","\u30b1\u30f3\u30ab\u3092\u3057\u3066\u3044\u308b","\u6cca\u307e\u308b\u304a\u91d1\u306e\u306a\u3044","\u3042\u306a\u305f\u306b\u4f9d\u983c\u3092\u3057\u306b\u304d\u305f"]],[16,["\u60aa\u3044\u5360\u3044\u306e\u7d50\u679c\u3057\u304b\u8a00\u308f\u306a\u3044","\u3042\u306a\u305f\u306b\u5ac9\u59ac\u3057\u3066\u3044\u308b","\u9b45\u60d1\u7684\u306a","\u304a\u3057\u3064\u3051\u304c\u307e\u3057\u3044","\u3044\u3044\u304b\u3052\u3093\u306a\u5360\u3044\u3057\u304b\u3057\u306a\u3044","\u5909\u308f\u3063\u305f\u5360\u3044\u3092\u3057\u3066\u3044\u308b"]],[17,["\u304b\u304f\u308c\u3093\u307c\u3092\u3057\u3066\u3044\u308b","\u3042\u307e\u3084\u3069\u308a\u3092\u3057\u3066\u3044\u308b","(\u3053\u3053\u306b\u306f\u3060\u308c\u3082\u3044\u307e\u305b\u3093)","\u5bb6\u306e\u6383\u9664\u3092\u3057\u3066\u3044\u308b","\u53d6\u308a\u58ca\u3057\u3092\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b","\u6614\u3053\u3053\u306b\u4f4f\u3093\u3067\u3044\u305f"]],[18,["\u7551\u3092\u8015\u3057\u3066\u3044\u308b","\u7551\u3092\u8352\u3089\u3057\u3066\u3044\u308b","\u7551\u6ce5\u68d2\u306e","\u53ce\u7a6b\u3057\u3066\u3044\u308b","\u65e5\u713c\u3051\u3057\u3066\u771f\u3063\u9ed2\u306a","\u5ac1\u3044\u3067\u304d\u305f(\u5a7f\u306b\u304d\u305f)"]],[19,["\u7c89\u3092\u3072\u3044\u3066\u3044\u308b","\u99ac\u306b\u4e57\u3063\u3066\u98a8\u8eca\u306b\u7a81\u9032\u3057\u3066\u3044\u308b","\u98a8\u304c\u5439\u304b\u306a\u304f\u3066\u56f0\u3063\u3066\u3044\u308b","\u5bdd\u3066\u3044\u308b","\u7b4b\u9aa8\u308a\u3085\u3046\u308a\u3085\u3046\u306a","\u904a\u3093\u3067\u3044\u308b"]],[20,["\u30d1\u30fc\u30c6\u30a3\u30fc\u3092\u3057\u3066\u3044\u308b","\u9154\u3063\u6255\u3063\u3066\u3044\u308b","\u9152\u3092\u4ed5\u8fbc\u3093\u3067\u3044\u308b","\u5373\u58f2\u4f1a\u3092\u3057\u3066\u3044\u308b","\u7b11\u3063\u3066\u3044\u308b","\u592a\u3063\u305f"]],[21,["\u3072\u3068\u308a\u305f\u305f\u305a\u3080","\u82b1\u304b\u3089\u751f\u307e\u308c\u305f","\u82b1\u304c\u5927\u597d\u304d\u306a","\u82b1\u7c89\u75c7\u306e","\u82b1\u3092\u8cb7\u3044\u306b\u304d\u305f","\u30e9\u30b0\u30d3\u30fc\u3092\u3084\u3063\u3066\u82b1\u3092\u3042\u3089\u3057\u3066\u308b"]],[22,["\u51e0\u5e33\u9762\u306a","\u773c\u93e1\u3092\u304b\u3051\u305f","\u306a\u307e\u3044\u304d\u306a","\u306a\u308f\u3068\u3073\u3092\u3057\u3066\u3044\u308b","\u56f0\u3063\u3066\u3044\u308b","\u307e\u305b\u3066\u3044\u308b"]],[23,["\u672c\u3092\u8aad\u3093\u3067\u3044\u308b","\u4e16\u9593\u8a71\u3092\u3057\u305f\u304c\u308b","\u6d3e\u624b\u306a\u683c\u597d\u3092\u3057\u305f","\u52c9\u5f37\u71b1\u5fc3\u306a","\u3046\u308b\u3055\u3044","\u9b54\u5973\u306e\u3053\u3068\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u3044\u308b"]],[24,["\u795e\u7236\u3055\u3093\u306b\u76f8\u8ac7\u3092\u3057\u3066\u3044\u308b","\u7d50\u5a5a\u5f0f\u3092\u6319\u3052\u3066\u3044\u308b","\u7269\u9759\u304b\u306a","\u7247\u8db3\u306e\u7121\u3044","\u71b1\u3044\u8996\u7dda\u3092\u9001\u3063\u3066\u304f\u308b","\u6311\u767a\u3057\u3066\u304f\u308b"]],[25,["\u9811\u56fa\u306a","\u5200\u306e\u5207\u308c\u5473\u3092\u305f\u3081\u3057\u305f\u304c\u308b","\u3044\u3044\u304b\u3052\u3093\u306a\u6027\u683c\u306e","\u30b9\u30b0\u306b\u5f1f\u5b50\u306b\u3057\u305f\u304c\u308b","\u898b\u305b\u306e\u524d\u3067\u30a6\u30ed\u30a6\u30ed\u3057\u3066\u3044\u308b","\u9053\u3092\u5c0b\u306d\u3066\u3044\u308b"]],[26,["\u4e0d\u6a5f\u5acc\u306a","\u5ba2\u306e\u610f\u898b\u3092\u805e\u304b\u306a\u3044","\u7269\u3092\u58f2\u3089\u306a\u3044","\u4e0d\u5e78\u306a\u6c17\u524d\u306e\u3044\u3044","\u767a\u660e\u5bb6\u306e"]],[27,["\u604b\u4eba\u306b\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u63a2\u3057\u3066\u3044\u308b","\u9999\u308a\u4e2d\u6bd2\u306b\u306a\u3063\u305f","\u5ba2\u306b\u624b\u4f1d\u308f\u305b\u308b","\u304a\u307e\u3058\u306a\u3044\u306e\u597d\u304d\u306a","\u4eba\u597d\u304d\u306e\u3059\u308b","\u3044\u3058\u3081\u3063\u3053\u306a"]],[28,["\u9a12\u304c\u3057\u3044","\u304a\u83d3\u5b50\u3092\u98df\u3079\u3066\u6d99\u3092\u6d41\u3057\u3066\u3044\u308b","\u7b11\u3044\u306e\u6b62\u307e\u3089\u306a\u3044","\u7518\u3044\u7269\u306b\u76ee\u304c\u306a\u3044","\u5225\u308c\u8a71\u3092\u3057\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u304a\u8336\u306b\u8a98\u3046"]],[29,["\u30d5\u30e9\u30f3\u30b9\u30d1\u30f3\u3092\u76d7\u3093\u3067\u8d70\u308b","\u3057\u3089\u3051\u305f\u9854\u3092\u3057\u305f","\u5e97\u756a\u3092\u3059\u308b","\u3042\u306a\u305f\u3092\u30d0\u30a4\u30c8\u3067\u4f7f\u3044\u305f\u304c\u308b","\u5909\u306a\u30d1\u30f3\u3057\u304b\u4f5c\u3089\u306a\u3044","\u671d\u304c\u82e6\u624b\u306a"]],[30,["\u504f\u5c48\u306a","\u5a01\u52e2\u306e\u3044\u3044","\u30b1\u30f3\u30ab\u3063\u3071\u3084\u3044","\u91ce\u6b21\u99ac\u6839\u6027\u306e\u5f37\u3044","\u8089\u304c\u98df\u3079\u308c\u306a\u3044","\u5fc3\u512a\u3057\u304f\u6c17\u524d\u304c\u3044\u3044"]],[31,["\u592b\u5a66\u30b1\u30f3\u30ab\u3092\u3057\u3066\u3044\u308b","\u732b\u306b\u9b5a\u3092\u76d7\u3089\u308c\u305f","\u52a9\u3051\u3092\u6c42\u3081\u3066\u3044\u308b","\u9b5a\u306e\u7a2e\u985e\u304c\u308f\u304b\u3089\u306a\u3044","\u300e\u304a\u3044\u3057\u3044\u300f\u3068\u3057\u304b\u3044\u308f\u306a\u3044","\u3042\u3084\u3057\u3044"]],[32,["\u30e4\u30f3\u30ad\u30fc\u98a8\u306e","\u81ea\u5206\u304c\u304b\u3063\u3053\u3044\u3044\u3068\u601d\u3063\u3066\u3044\u308b","\u529b\u81ea\u6162\u306e","\u5143\u306f\u738b\u69d8\u3060\u3068\u3044\u3044\u306f\u308b","\u9b54\u5973\u306e\u30d5\u30a1\u30f3\u3060\u3068\u3044\u3046","\u5b50\u6ca2\u5c71\u306e"]],[33,["\u308f\u304c\u307e\u307e\u306a","\u304b\u3063\u3053\u3044\u3044","\u72ec\u308a\u8a00\u3092\u8a00\u3063\u3066\u3044\u308b","\u5909\u308f\u3063\u305f\u6599\u7406\u3057\u304b\u3060\u3055\u306a\u3044","\u76ee\u8336\u82e6\u8336\u8f9b\u3044\u6599\u7406\u3092\u98df\u3079\u3066\u3044\u308b","\u30c7\u30fc\u30c8\u3092\u3057\u3066\u3044\u308b"]],[34,["\u4eee\u75c5\u3092\u4f7f\u3063\u3066\u3044\u308b","\u4e0d\u6cbb\u306e\u75c5\u3092\u6301\u3063\u305f","\u201d\u304a\u3081\u3067\u305f\u201d\u306e","\u30d5\u30b1\u305f\u9854\u3057\u305f","\u9aea\u306e\u6bdb\u3092\u67d3\u3081\u305f","(\u5065\u5eb7\u3067\u3082)\u75c5\u540d\u3092\u3044\u3044\u305f\u304c\u308b"]],[35,["\u5b9f\u9a13\u3092\u3057\u305f\u304c\u308b","\u7cbe\u529b\u3092\u3064\u3051\u305f\u304c\u3063\u3066\u3044\u308b","\u60da\u308c\u85ac\u3092\u63a2\u3057\u3066\u3044\u308b","\u85ac\u3065\u3051\u306b\u306a\u3063\u3066\u3044\u308b","\u3053\u306e\u753a\u307e\u3067\u85ac\u3092\u58f2\u308a\u306b\u6765\u305f","\u7761\u7720\u85ac\u3067\u81ea\u6bba\u3092\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b"]],[36,["\u670d\u307e\u3067\u8cea\u306b\u5165\u308c\u305f","\u5024\u6bb5\u306b\u30b1\u30c1\u3092\u3064\u3051\u3066\u3044\u308b","\u75b2\u308c\u3066\u3044\u308b","\u5b50\u4f9b\u3092\u8cea\u306b\u5165\u308c\u3088\u3046\u3068\u3057\u3066\u3044\u308b","\u6d99\u3082\u308d\u3044","\u4eba\u9593\u4e0d\u4fe1\u306a"]],[37,["\u7740\u98fe\u3063\u305f","\u304a\u306d\u3060\u308a\u3057\u3066\u3044\u308b","\u9000\u5c48\u305d\u3046\u306a","\u898b\u6804\u3063\u3071\u308a\u306a","\u9ad8\u3044\u3082\u306e\u3092\u85a6\u3081\u308b","\u5b9d\u77f3\u306a\u3069\u8cb7\u3046\u3064\u3082\u308a\u306e\u306a\u3044"]],[38,["\u3060\u3060\u3092\u3053\u306d\u3066\u3044\u308b","\u306c\u3044\u3050\u308b\u307f\u3092\u62b1\u3044\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u4fb5\u7565\u8005\u3068\u8003\u3048\u3066\u3044\u308b","\u3042\u306a\u305f\u306e\u201d\u304a\u3057\u308a\u201d\u306b\u3055\u308f\u308b","\u5e78\u305b\u306e\u304a\u3082\u3061\u3083\u3092\u58f2\u3063\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u81ea\u5206\u306e\u5b50\u3068\u9593\u9055\u3048\u3066\u3044\u308b"]],[39,["\u4eba\u306e\u8a71\u3092\u805e\u304b\u306a\u3044","\u6c17\u5206\u5c4b\u306a","\u30ab\u30ea\u30a2\u30b2\u3057\u304b\u3067\u304d\u306a\u3044","\u3046\u308f\u3055\u8a71\u306e\u597d\u304d\u306a","\u81ea\u52d5\u8ca9\u58f2\u6a5f\u3092\u958b\u767a\u3057\u305f\u3068\u3044\u3046","\u304a\u305b\u3063\u304b\u3044\u306a"]],[40,["\u304a\u98a8\u5442\u3042\u304c\u308a\u306e","\u3053\u304d\u3064\u304b\u308f\u308c\u3066\u3044\u308b","\u30b7\u30a7\u30a4\u30d7\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b","\u4eba\u304b\u3089\u8ffd\u308f\u308c\u3066\u3044\u308b","\u4eba\u306e\u4f53\u3092\u3058\u308d\u3058\u308d\u3068\u898b\u308b","\u3053\u306e\u753a\u3092\u6848\u5185\u3057\u3066\u307b\u3057\u3044\u3068\u3044\u3046"]],[41,["\u30b5\u30f3\u30b0\u30e9\u30b9\u3092\u304b\u3051\u305f","\u307f\u3093\u306a\u81ea\u5206\u306e\u30d5\u30a1\u30f3\u3068\u601d\u3063\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u5f79\u8005\u3068\u52d8\u9055\u3044\u3057\u3066\u3044\u308b","\u3042\u306a\u305f\u306f\u30b9\u30bf\u30fc\u306b\u306a\u308c\u308b\u3068\u3044\u3046","\u624b\u54c1\u3092\u3057\u3066\u3044\u308b","\u300e\u3044\u305d\u304c\u3057\u3044\u300f\u3092\u3044\u3044\u7d9a\u3051\u3066\u3044\u308b"]],[42,["\u30ae\u30e3\u30f3\u30d6\u30eb\u3092\u3057\u3066\u3044\u308b","\u7af6\u6280\u306b\u51fa\u5834\u3057\u3066\u3044\u308b","\u5168\u8ca1\u7523\u3092\u8ced\u3051\u3066\u3044\u308b","\u52c7\u6562\u306a","\u53c2\u52a0\u8005\u3092\u52df\u3063\u3066\u3044\u308b","\u60c5\u3051\u306a\u3044\u7af6\u6280(\u95d8\u6280)\u3092\u3057\u3066\u308b"]],[43,["\u30c0\u30f3\u30b9\u3092\u8e0a\u3063\u3066\u3044\u308b","\u30d6\u30ec\u30a4\u30af\u30c0\u30f3\u30b9\u3092\u3057\u3066\u5834\u9055\u3044\u306a","\u5b50\u4f9b\u3092\u80cc\u4e2d\u306b\u304a\u3093\u3076\u3057\u3066\u3044\u308b","\u3042\u306a\u305f\u3068\u8e0a\u308a\u305f\u304c\u308b","\u8e0a\u3063\u305f\u3053\u3068\u306e\u306a\u3044","\u98df\u3079\u308b\u3053\u3068\u306b\u5922\u4e2d\u306a"]],[44,["\uff12\u968e\u304b\u3089\u304a\u91d1\u3092\u3070\u3089\u307e\u3044\u3066\u3044\u308b","\u7a93\u306e\u5965\u3067\u6d99\u3092\u306a\u304c\u3057\u3066\u3044\u308b","\u7a93\u304b\u3089\u5fcd\u3073\u3053\u3082\u3046","\u30d4\u30a2\u30ce\u3092\u5f3e\u3044\u3066\u3044\u308b","\u3053\u3053\u306b\u4f4f\u3093\u3067\u3044\u308b","\u5bb6\u306b\u62db\u5f85\u3057\u305f\u304c\u308b"]],[45,["\u99ac\u306b\u30d6\u30e9\u30b7\u3092\u304b\u3051\u3066\u3044\u308b","\u6c17\u6027\u306e\u6fc0\u3057\u3044","\u9a0e\u624b\u3092\u63a2\u3057\u3066\u3044\u308b","\u99ac\u3068\u8a71\u304c\u3067\u304d\u308b","\u99ac\u306e\u751f\u307e\u308c\u5909\u308f\u308a\u3068\u3044\u3046","\u99ac\u3092\u5b89\u697d\u6b7b\u3055\u305b\u3088\u3046\u304b\u8ff7\u3063\u3066\u3044\u308b"]],[46,["\u3044\u305f\u305a\u3089\u597d\u304d\u306a","\u30e9\u30a4\u30d0\u30eb\u610f\u8b58\u306e\u5f37\u3044","\u9b54\u6cd5\u306e\u4e0b\u624b\u306a","\u9b54\u6cd5\u3092\u4fe1\u3058\u306a\u3044","\u81ea\u5206\u3092\u795e\u3068\u601d\u3063\u3066\u3044\u308b","\u9b54\u6cd5\u3092\u4f7f\u3063\u3066\u4eba\u3092\u5316\u304b\u3057\u305f\u304c\u308b"]],[47,["\u50b7\u3060\u3089\u3051\u306a","\u4e21\u624b\u306b\u5b9d\u7269\u3092\u6301\u3063\u305f","\u304b\u308f\u3044\u3044","\u5730\u56f3\u3092\u898b\u306a\u304c\u3089\u51fa\u3066\u304d\u3066\u3044\u308b","\u5263\u3092\u6301\u3063\u305f","\u30c0\u30f3\u30b8\u30e7\u30f3\u306e\u4e3b\u3068\u3044\u308f\u308c\u308b"]],[48,["\u5893\u53c2\u308a\u3092\u3057\u3066\u3044\u308b","\u8033\u306e\u9060\u3044","\u6b7b\u3093\u3067\u3057\u307e\u3063\u305f","\u846c\u5f0f\u3092\u3057\u3066\u3044\u308b","\u304d\u3082\u3060\u3081\u3057\u3092\u3057\u3066\u3044\u308b","\u5893\u5b88\u3092\u3057\u3066\u3044\u308b"]]],t),y(a["$nil?"]())?t:(o=l.$get_table_by_1d6(a),"SET"+T+" \uff1e "+(null==(d=p(o))[1]?t:d[1])+":"+(null==d[0]?t:d[0])+l.$getPersonTable1())},1),R(w,"$getPersonTable1",function(){var d,T=this;return d=m(T,"lambda",[],function l(){return g("\u8868\uff12\u3078",(null==l.$$s?this:l.$$s).$getPersonTable2())},{$$arity:0,$$s:T}),T.$getPersonTable([[11,"\u304a\u3058\u3055\u3093"],[12,"\u304a\u3070\u3055\u3093"],[13,"\u304a\u3058\u3044\u3055\u3093"],[14,"\u304a\u3070\u3042\u3055\u3093"],[15,"\u7537\u306e\u5b50"],[16,"\u5973\u306e\u5b50"],[22,"\u7f8e\u5c11\u5973"],[23,"\u7f8e\u5c11\u5e74"],[24,"\u9752\u5e74"],[25,"\u5c11\u5e74"],[26,"\u7537\u5973(\u30ab\u30c3\u30d7\u30eb)"],[33,"\u65b0\u5a5a\u3055\u3093"],[34,"\u304a\u5144\u3055\u3093"],[35,"\u304a\u59c9\u3055\u3093"],[36,"\u5e97\u4e3b(\u304a\u5e97\u306e\u4eba)"],[44,"\u738b\u69d8"],[45,"\u885b\u5175"],[46,"\u9b54\u5973"],[55,"\u304a\u59eb\u69d8"],[56,d],[66,d]])},0),R(w,"$getPersonTable2",function(){var d,T=this;return d=m(T,"lambda",[],function l(){return g("\u8868\uff13\u3078",(null==l.$$s?this:l.$$s).$getPersonTable3())},{$$arity:0,$$s:T}),T.$getPersonTable([[11,"\u9b54\u6cd5\u4f7f\u3044"],[12,"\u89b3\u5149\u5ba2"],[13,"\u5148\u751f"],[14,"\u63a2\u5075"],[15,"\u5237"],[16,"\u304a\u5b22\u69d8"],[22,"\u304a\u5b22\u69d8"],[23,"\u7d33\u58eb"],[24,"\u3054\u5a66\u4eba"],[25,"\u5973\u738b\u69d8"],[26,"\u8077\u4eba\u3055\u3093"],[33,"\u5973\u5b50\u9ad8\u751f"],[34,"\u5b66\u751f"],[35,"\u5263\u95d8\u58eb"],[36,"\u9ce5"],[44,"\u732b"],[45,"\u72ac"],[46,"\u30ab\u30a8\u30eb"],[55,"\u86c7"],[56,d],[66,d]])},0),R(w,"$getPersonTable3",function(){var d,T=this;return d=m(T,"lambda",[],function l(){return g("\u8868\uff14\u3078",(null==l.$$s?this:l.$$s).$getPersonTable4())},{$$arity:0,$$s:T}),T.$getPersonTable([[11,"\u8cb4\u65cf"],[12,"\u3044\u308b\u304b"],[13,"\u3060\u3044\u3053\u3093"],[14,"\u3058\u3083\u304c\u3044\u3082"],[15,"\u306b\u3093\u3058\u3093"],[16,"\u30c9\u30e9\u30b4\u30f3"],[22,"\u30be\u30f3\u30d3"],[23,"\u5e7d\u970a"],[24,"\u3046\u3055\u304e"],[25,"\u5929\u4f7f"],[26,"\u60aa\u9b54"],[33,"\u8d64\u3061\u3083\u3093"],[34,"\u99ac"],[35,"\u77f3"],[36,"\u304a\u6bcd\u3055\u3093"],[44,"\u5996\u7cbe"],[45,"\u5b88\u8b77\u970a"],[46,"\u732b\u795e\u69d8"],[55,"\u30ed\u30dc\u30c3\u30c8"],[56,"\u6050\u308d\u3057\u3044\u4eba"],[66,d]])},0),R(w,"$getPersonTable4",function(){return this.$getPersonTable([[11,"\u9b54\u5973\u30a8\u30c7\u30a3\u30b9"],[12,"\u9b54\u5973\u30ec\u30fc\u30c7\u30eb\u30e9\u30f3"],[13,"\u9b54\u5973\u30ad\u30ea\u30eb"],[14,"\u5927\u9b54\u5973\u201d\u30ed\u30ed\u201d\u69d8"],[15,"\u30a8\u30c7\u30a3\u30b9\u306e\u304a\u6bcd\u3055\u3093\u201d\u30a8\u30ea\u30fc\u201d"],[16,"\u732b\u30c8\u30f3\u30ac\u30ea"],[22,"\u732b\u30d2\u30e5\u30fc\u30d9"],[23,"\u732b\u3086\u3046\u306e\u3059"],[24,"\u732b\u96c6\u4f1a\u306e\u96c6\u56e3\u306e\u4e00\u56e3"],[25,"\u5ca9"],[26,"PC\u306e\u6bcd"],[33,"PC\u306e\u7236"],[34,"PC\u306e\u5144"],[35,"PC\u306e\u59c9"],[36,"PC\u306e\u5f1f"],[44,"PC\u306e\u59b9"],[45,"PC\u306e\u9060\u3044\u89aa\u621a"],[46,"PC\u306e\u6b7b\u3093\u3060\u306f\u305a\u306e\u4e21\u89aa"],[55,"\u521d\u604b\u306e\u4eba"],[56,"\u5206\u304b\u308c\u305f\u5973(\u7537)\u3001\u4e0d\u502b\u4e2d\u306e\u76f8\u624b\u3001\u307e\u305f\u306f\u72ec\u8eabPC\u306e\u5834\u5408\u3001\u4e8c\u80a1\u3092\u304b\u3051\u3066\u3044\u308b\u4e8c\u4eba\u306e\u4e21\u65b9"],[66,"\u5b87\u5b99\u4eba"]])},0),R(w,"$getPersonTable",function(T){var o,d=this;return o=d.randomizer.$roll_d66(n(A("D66SortType"),"ASC")),d.$debug("getPersonTable number",o),g(" \uff1e "+o+":",d.$get_table_by_number(o,T))},1)})},3350:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var Y,K,z,A,x,D,V,J,j,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.send2,S=e.find_super,R=e.def,m=e.eqeqeq,h=e.truthy,g=e.rb_lt,y=e.rb_gt,k=e.to_ary,p=e.rb_plus,E=e.send,M=e.rb_minus;return Y=H,K=j=[n(H[0],"BCDice")].concat(Y),V=[n(j[0],"GameSystem")].concat(K),J=e.$r(V),z=V,x=[A=B(V[0],J("Base"),"WorldOfDarkness")].concat(z),D=e.$r(x),C(x[0],"ID","WorldOfDarkness"),C(x[0],"NAME","\u30ef\u30fc\u30eb\u30c9\u30fb\u30aa\u30d6\u30fb\u30c0\u30fc\u30af\u30cd\u30b9"),C(x[0],"SORT_KEY","\u308f\u3042\u308b\u3068\u304a\u3075\u305f\u3042\u304f\u306d\u3059"),C(x[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(xSTn+y or xSTSn+y or xSTAn+y)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)ST(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STS(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u3067\u632f\u308a\u8db3\u3057\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STA(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u306f2\u6210\u529f [20th\u30eb\u30fc\u30eb]\n\n\u3000\u96e3\u6613\u5ea6=\u7701\u7565\u66426\n\u3000\u81ea\u52d5\u6210\u529f=\u7701\u7565\u66420\n"),A.$register_prefix("\\d+ST"),R(A,"$initialize",function T(d){var l=this;return delete T.$$p,v(l,S(l,"initialize",T,!1,!0),"initialize",[d],null),l.successDice=0,l.botchDice=0,l.rerollDice=0},1),R(A,"$eval_game_system_specific_command",function(d){var o,l,$,b,r=t,s=t,i=t,u=t,_=t,c=t,f=t,q=t,F=t,W=t,X=t;if(r=6,s=0,i=!1,u=!1,c=(_=d.$match(/^(\d+)(ST[SA]?)(\d+)?([+-]\d+)?/))["$[]"](1).$to_i(),m("STS",b=_["$[]"](2))?i=!0:m("STA",b)&&(u=!0),h(_["$[]"](3))&&(r=_["$[]"](3).$to_i()),h(_["$[]"](4))&&(s=_["$[]"](4).$to_i()),h(g(r,2))&&(r=6),(f=[]).$push("DicePool="+c+", Difficulty="+r+", AutomaticSuccess="+s),h(y(r,10))&&(r=10),q=s,F=0,l=this.$roll_wod(c,r,!0,h(u)?2:1),W=null==(o=k(l))[1]?t:o[1],X=null==o[2]?t:o[2],s=null==o[3]?t:o[3],f.$push((null==o[0]?t:o[0]).$join(",")),q=p(q,W),F=p(F,X),h(i))for(;h(y(s,0));)$=this.$roll_wod(c=s,r,!1),W=null==(l=k($))[1]?t:l[1],X=null==l[2]?t:l[2],s=null==l[3]?t:l[3],f.$push((null==l[0]?t:l[0]).$join(",")),q=p(q,W),F=p(F,X);return h(y(q,0))?f.$push("\u6210\u529f\u6570"+q):h(y(F,0))?f.$push("\u5927\u5931\u6557"):f.$push("\u5931\u6557"),f.$join(" \uff1e ")},1),R(A,"$roll_wod",function(d,o,l,$){var r=t,s=t,i=t,u=t,_=t;return null==l&&(l=!0),null==$&&($=1),(r=E(D("Array"),"new",[d],function c(){var b=null==c.$$s?this:c.$$s;return null==b.randomizer&&(b.randomizer=t),b.randomizer.$roll_once(10)},{$$arity:0,$$s:this}))["$sort!"](),s=0,i=0,u=0,E(r,"each",[],function(b){var f;return null==b&&(b=t),m(10,f=b)?u=p(u,$):m(e.Range.$new(o,10,!1),f)?s=p(s,1):m(1,f)&&h(l)?i=p(i,1):t},1),s=p(s,u),h(l)&&(_=[s,i].$min(),s=M(s,_),i=M(i,_)),[r,s,i,u]},-3)})},929:(ee,te,Z)=>{Z(9993),Opal.queue(function(e){var E,G,J,I,w,z,A,N,K,L,H=[],t=e.nil,n=e.module,B=e.klass,C=e.const_set,v=e.def,S=e.truthy,R=e.to_ary,m=e.rb_plus,h=e.rb_minus,g=e.eqeq,y=e.rb_gt,k=e.rb_ge;return E=H,G=L=[n(H[0],"BCDice")].concat(E),N=[n(L[0],"GameSystem")].concat(G),K=e.$r(N),J=N,w=[I=B(N[0],K("Base"),"YearZeroEngine")].concat(J),z=e.$r(w),(A=I.$$prototype).total_success_dice=A.total_botch_dice=A.base_botch_dice=A.push_dice=A.skill_botch_dice=A.gear_botch_dice=A.difficulty=A.randomizer=t,C(w[0],"ID","YearZeroEngine"),C(w[0],"NAME","YearZeroEngine"),C(w[0],"SORT_KEY","\u3044\u3084\u3042\u305b\u308d\u3048\u3093\u3057\u3093"),C(w[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nYZEx+x+x)\n  (\u96e3\u6613\u5ea6)YZE(\u80fd\u529b\u30c0\u30a4\u30b9\u6570)+(\u6280\u80fd\u30c0\u30a4\u30b9\u6570)+(\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570)  # (6\u306e\u307f\u3092\u6570\u3048\u308b)\n\n\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nMYZx+x+x)\n  (\u96e3\u6613\u5ea6)MYZ(\u80fd\u529b\u30c0\u30a4\u30b9\u6570)+(\u6280\u80fd\u30c0\u30a4\u30b9\u6570)+(\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570)  # (1\u30686\u3092\u6570\u3048\u3001\u30d7\u30c3\u30b7\u30e5\u53ef\u80fd\u6570\u3092\u8868\u793a)\n  (\u96e3\u6613\u5ea6)MYZ(\u80fd\u529b\u30c0\u30a4\u30b9\u6570)-(\u6280\u80fd\u30c0\u30a4\u30b9\u6570)+(\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570)  # (1\u30686\u3092\u6570\u3048\u3001\u30d7\u30c3\u30b7\u30e5\u53ef\u80fd\u6570\u3092\u8868\u793a\u3001\u6280\u80fd\u306e\u30de\u30a4\u30ca\u30b9\u6307\u5b9a)\n\n  \u203b \u96e3\u6613\u5ea6\u3068\u6280\u80fd\u3001\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570\u306f\u7701\u7565\u53ef\u80fd\n"),C(w[0],"DIFFICULTY_INDEX",1),C(w[0],"COMMAND_TYPE_INDEX",2),C(w[0],"ABILITY_INDEX",3),C(w[0],"SKILL_SIGNED_INDEX",5),C(w[0],"SKILL_INDEX",6),C(w[0],"GEAR_INDEX",8),I.$register_prefix("(\\d+)?(YZE|MYZ)"),v(I,"$dice_info_init",function(){var D=this;return D.total_success_dice=0,D.total_botch_dice=0,D.base_botch_dice=0,D.skill_botch_dice=0,D.gear_botch_dice=0,D.push_dice=0,D.difficulty=0},0),v(I,"$eval_game_system_specific_command",function(D){var T,d,$,r,o=this,l=t,a=t,s=t,i=t,u=t,_=t,c=t,b=t,f=t;if(l=/^(\d+)?(YZE|MYZ)(\d+)((\+|-)(\d+))?(\+(\d+))?/.$match(D),!S(l))return"";if(o.$dice_info_init(),o.difficulty=l["$[]"](z("DIFFICULTY_INDEX")).$to_i(),$=l["$[]"](z("COMMAND_TYPE_INDEX")),o.total_success_dice=0,a=l["$[]"](z("ABILITY_INDEX")).$to_i(),d=o.$make_dice_roll(a),r=null==(T=R(d))[0]?t:T[0],i=null==T[2]?t:T[2],o.total_success_dice=m(o.total_success_dice,s=null==T[1]?t:T[1]),o.total_botch_dice=m(o.total_botch_dice,i),o.base_botch_dice=m(o.base_botch_dice,i),o.push_dice=m(o.push_dice,h(a,m(s,i))),u="("+a+"D6)",_=r,S(l["$[]"](z("SKILL_INDEX")))){if(a=l["$[]"](z("SKILL_INDEX")).$to_i(),d=o.$make_dice_roll(a),c=null==(T=R(d))[0]?t:T[0],s=null==T[1]?t:T[1],i=null==T[2]?t:T[2],b=l["$[]"](z("SKILL_SIGNED_INDEX")),g($,"YZE")&&g(b,"-"))return"YZE\u30b3\u30de\u30f3\u30c9\u3067\u306f\u6280\u80fd\u30c0\u30a4\u30b9\u3092\u30de\u30a4\u30ca\u30b9\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002";o.total_success_dice=g($,"MYZ")&&g(b,"-")?h(o.total_success_dice,s):m(o.total_success_dice,s),o.total_botch_dice=m(o.total_botch_dice,i),o.skill_botch_dice=m(o.skill_botch_dice,i),o.push_dice=m(o.push_dice,h(a,s)),u=m(u,b+"("+a+"D6)"),_=m(_,""+b+c)}return S(l["$[]"](z("GEAR_INDEX")))&&(a=l["$[]"](z("GEAR_INDEX")).$to_i(),d=o.$make_dice_roll(a),f=null==(T=R(d))[0]?t:T[0],i=null==T[2]?t:T[2],o.total_success_dice=m(o.total_success_dice,s=null==T[1]?t:T[1]),o.total_botch_dice=m(o.total_botch_dice,i),o.gear_botch_dice=m(o.gear_botch_dice,i),o.push_dice=m(o.push_dice,h(a,m(s,i))),u=m(u,"+("+a+"D6)"),_=m(_,"+"+f)),o.$make_result_text($,u,_)},1),v(I,"$make_result_text",function(D,T,d){return g(D,"YZE")?this.$make_result_with_yze(T,d):g(D,"MYZ")?this.$make_result_with_myz(T,d):"Error"},3),v(I,"$make_result_with_yze",function(D,T){var o,d=this;return o=D+" \uff1e "+T+" \u6210\u529f\u6570:"+d.total_success_dice,S(y(d.difficulty,0))?S(k(d.total_success_dice,d.difficulty))?z("Result").$success(o+" \u96e3\u6613\u5ea6="+d.difficulty+":\u5224\u5b9a\u6210\u529f\uff01"):z("Result").$failure(o+" \u96e3\u6613\u5ea6="+d.difficulty+":\u5224\u5b9a\u5931\u6557\uff01"):o},2),v(I,"$make_result_with_myz",function(D,T){var o,l,d=this;return o=D+" \uff1e "+T+" \u6210\u529f\u6570:"+d.total_success_dice,l="\n\u51fa\u76ee1\uff1a[\u80fd\u529b\uff1a"+d.base_botch_dice+",\u6280\u80fd\uff1a"+d.skill_botch_dice+",\u30a2\u30a4\u30c6\u30e0\uff1a"+d.gear_botch_dice+") \u30d7\u30c3\u30b7\u30e5\u53ef\u80fd="+d.push_dice+"\u30c0\u30a4\u30b9",S(y(d.difficulty,0))?S(k(d.total_success_dice,d.difficulty))?z("Result").$success(o+" \u96e3\u6613\u5ea6="+d.difficulty+":\u5224\u5b9a\u6210\u529f\uff01"+l):z("Result").$failure(o+" \u96e3\u6613\u5ea6="+d.difficulty+":\u5224\u5b9a\u5931\u6557\uff01"+l):""+o+l},2),v(I,"$make_dice_roll",function(D){var o,l,d=t;return o=(d=this.randomizer.$roll_barabara(D,6)).$count(6),l=d.$count(1),["["+d.$join(",")+"]",o,l]},1)})}}]);