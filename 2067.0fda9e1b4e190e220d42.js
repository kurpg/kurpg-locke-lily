(self.webpackChunkudonarium_lily=self.webpackChunkudonarium_lily||[]).push([[2067],{2067:function(te,re,ie){var e,G,U,S,V,F,N,p,D,E,r,i,v,P;ie(4656),Opal.modules["bcdice/game_system/beginning_idol/chain_table"]=function(e){var D,p,N,w,m,B,n,C,K,z,U,y=[],l=e.nil,i=e.$$,v=e.module,P=e.klass,$=e.truthy,G=e.send;return D=y,p=U=[v(y[0],"BCDice")].concat(D),N=z=[v(U[0],"GameSystem")].concat(p),w=K=[P(z[0],i(z,"Base"),"BeginningIdol")].concat(N),n=P(K[0],null,"ChainTable"),C=[n].concat(w),n.$$prototype.times=n.$$prototype.sides=n.$$prototype.items=n.$$prototype.name=l,e.def(n,"$initialize",m=function(g,u,a){var o=this,s=l;return o.name=g,o.items=a.$freeze(),s=/^(\d+)D(\d+)$/i.$match(u),$(s)||o.$raise(i(C,"ArgumentError"),"Unexpected table type: "+u),o.times=s["$[]"](1).$to_i(),o.sides=s["$[]"](2).$to_i()},m.$$arity=3),void e.def(n,"$roll",B=function(g){var u,o,s,c,_,a=this;return s=function(A,D){return"number"==typeof A&&"number"==typeof D?A-D:A["$-"](D)}(o=g.$roll_sum(a.times,a.sides),a.times),c=a.items["$[]"](s),_=G(c,"map",[],(u=function(h){return null==h&&(h=l),$(h["$respond_to?"]("roll"))?h.$roll(g):h},u.$$s=a,u.$$arity=1,u)).$join("\n"),a.name+"("+o+") \uff1e "+_},B.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/chain_d66_table"]=function(e){var I,j,n,B,t,C,V,W,S,b,l=[],r=e.nil,v=e.$$,P=e.module,$=e.klass,G=e.send,A=e.truthy;return I=l,j=b=[P(l[0],"BCDice")].concat(I),V=S=[P(b[0],"GameSystem")].concat(j),n=W=[$(S[0],v(S,"Base"),"BeginningIdol")].concat(V),[C=$(W[0],null,"ChainD66Table")].concat(n),C.$$prototype.items=C.$$prototype.name=r,e.def(C,"$initialize",B=function(u,a){return this.name=u,this.items=a.$freeze()},B.$$arity=2),void e.def(C,"$roll",t=function(u){var a,_,d,o=this,s=r,c=r;return c=function(D,I){return"number"==typeof D&&"number"==typeof I?D+I:D["$+"](I)}(function(D,I){return"number"==typeof D?10*D:D["$*"](10)}((s=u.$roll_barabara(2,6).$sort())["$[]"](0)),s["$[]"](1)),_=o.items["$[]"](c.$to_s()),d=G(_,"map",[],(a=function(R){return null==R&&(R=r),A(R["$respond_to?"]("roll"))?R.$roll(u):R},a.$$s=o,a.$$arity=1,a)).$join("\n"),o.name+"("+c+") \uff1e "+d},t.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/bad_status_table"]=function(e){var p,F,H,B,u,a,o,t,g,n,V,z,i=[],v=e.nil,$=e.$$,G=e.module,A=e.klass,D=e.truthy,I=e.send,U=e.hash2;return p=i,F=z=[G(i[0],"BCDice")].concat(p),H=V=[G(z[0],"GameSystem")].concat(F),B=n=[A(V[0],$(V,"Base"),"BeginningIdol")].concat(H),t=A(n[0],null,"BadStatusTable"),g=[t].concat(B),t.$$prototype.locale=v,e.def(t,"$initialize",u=function(c){return this.locale=c},u.$$arity=1),e.def(t,"$roll_command",a=function(c,_){var d,R=v,T=v,f=v;return R=/^BT(\d+)?$/.$match(_),D(R)?(T=D(f=(d=R["$[]"](1))===v||null==d?v:I(d,"to_i",[]))?f:1,this.$roll(c,T)):v},a.$$arity=2),void e.def(t,"$roll",o=function(c,_){var d,b,h=this,R=v,T=v,f=v,k=v,L=v,M=v,x=v;return null==_&&(_=1),D("number"==typeof(b=_)?b<=0:b["$<="](0))?v:(R=$(g,"I18n").$t("BeginningIdol.BT.name",U(["locale"],{locale:h.locale})),T=$(g,"I18n").$t("BeginningIdol.BT.items",U(["locale"],{locale:h.locale})),f=$(g,"I18n").$t("BeginningIdol.BT.prefix_format",U(["locale"],{locale:h.locale})),L=(k=c.$roll_barabara(_,6).$sort()).$uniq(),D(function(b,p){return"number"==typeof b?b>1:b["$>"](1)}(L.$size()))&&(M=function(b,p){return b["$+"]("\n")}(h.$format(f,U(["count_bad_status"],{count_bad_status:L.$size()})))),x=I(L,"map",[],(d=function(J){return null==J&&(J=v),T["$[]"](function(b,p){return"number"==typeof b?b-1:b["$-"](1)}(J))},d.$$s=h,d.$$arity=1,d)).$join("\n"),R+" \uff1e ["+k.$join(",")+"] \uff1e "+M+x)},o.$$arity=-2)},Opal.modules["bcdice/game_system/beginning_idol/random_event_table"]=function(e){var A,b,F,H,C,m,w,n,V,j,I,E=[],y=e.nil,l=e.$$$,r=e.$$,i=e.module,v=e.klass,P=e.truthy,$=e.hash2;return A=E,b=I=[i(E[0],"BCDice")].concat(A),F=j=[i(I[0],"GameSystem")].concat(b),H=V=[v(j[0],r(j,"Base"),"BeginningIdol")].concat(F),w=v(V[0],null,"RandomEventTable"),n=[w].concat(H),w.$$prototype.locale=y,e.def(w,"$initialize",C=function(t){return this.locale=t},C.$$arity=1),void e.def(w,"$roll",m=function(t){var o,c,_,g=this,u=y,a=y,s=y,d=y;return u=t.$roll_once(6),a=t.$roll_d66(l(r(n,"D66SortType"),"NO_SORT")),o=P(u["$even?"]())?"BeginningIdol.RE.on_event":"BeginningIdol.RE.off_event",s=r(n,"I18n").$t(o,$(["locale"],{locale:g.locale})),c=r(n,"I18n").$t("BeginningIdol.RE.name",$(["locale"],{locale:g.locale})),_=r(n,"I18n").$t("BeginningIdol.RE.format",$(["locale"],{locale:g.locale})),d=s["$[]"]("items")["$[]"](a.$to_s()),c+" \uff1e (1D6) \uff1e "+u+"\n"+s["$[]"]("name")+" \uff1e ["+a+"] \uff1e "+g.$format(_,$(["event","page"],{event:d["$[]"](0),page:d["$[]"](1)}))},m.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/my_skill_name_table"]=function(e){function q(D,I){return"number"==typeof D&&"number"==typeof I?D-I:D["$-"](I)}var I,j,V,n,B,t,C,m,W,S,b,l=[],r=e.nil,i=e.$$$,v=e.$$,P=e.module,$=e.klass,G=e.send,A=e.hash2;return I=l,j=b=[P(l[0],"BCDice")].concat(I),V=S=[P(b[0],"GameSystem")].concat(j),n=W=[$(S[0],v(S,"Base"),"BeginningIdol")].concat(V),C=$(W[0],null,"MySkillNameTable"),m=[C].concat(n),C.$$prototype.chains=C.$$prototype.locale=r,e.def(C,"$initialize",B=function(u){var o=r,s=r,c=r,_=r,d=r;return this.locale=u,o=i(v(m,"DiceTable"),"Table").$from_i18n("BeginningIdol.MS.subtables.article",u),s=i(v(m,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.describe",u),c=i(v(m,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.scene",u),_=i(v(m,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.material",u),d=i(v(m,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.action",u),this.chains=[[s,c,_],[s,c,d],[s,_,d],[c,_,d],[s,c,o],[_,d,o]].$freeze()},B.$$arity=1),void e.def(C,"$roll",t=function(u){var a,o,c,_,h,T,s=this,d=r,R=r;return c=u.$roll_once(6),_=G(s.chains["$[]"](q(c,1)),"map",[],((a=function(k){return null==k&&(k=r),k.$roll(u)}).$$s=s,a.$$arity=1,a)),d=G(_,"map",[],((o=function(k){return null==k&&(k=r),function(D,I){return"number"==typeof D&&"number"==typeof I?D+I:D["$+"](I)}(k.$table_name(),k.$value().$to_s())}).$$s=s,o.$$arity=1,o)),h=v(m,"I18n").$t("BeginningIdol.MS.name",A(["locale"],{locale:s.locale})),R=v(m,"I18n").$t("BeginningIdol.MS.formats",A(["locale"],{locale:s.locale}))["$[]"](q(c,1)),T=G(s,"format",[R].concat(e.to_a(G(_,"map",[],"body".$to_proc())))),h+" \uff1e ["+c+","+d.$join(",")+"] \uff1e "+T},t.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/d6_twice_table"]=function(e){function q(G,A){return"number"==typeof G&&"number"==typeof A?G-A:G["$-"](A)}var A,b,F,H,C,m,B,w,n,V,j,I,y=[],l=e.nil,i=e.$$,v=e.module,P=e.klass,$=e.hash2;return A=y,b=I=[v(y[0],"BCDice")].concat(A),F=j=[v(I[0],"GameSystem")].concat(b),H=V=[P(j[0],i(j,"Base"),"BeginningIdol")].concat(F),w=P(V[0],null,"D6TwiceTable"),n=[w].concat(H),w.$$prototype.items1=w.$$prototype.items2=w.$$prototype.name=l,e.defs(w,"$from_i18n",C=function(g,u){var o=l;return o=i(n,"I18n").$t(g,$(["locale"],{locale:u})),this.$new(o["$[]"]("name"),o["$[]"]("items1"),o["$[]"]("items2"))},C.$$arity=2),e.def(w,"$initialize",m=function(g,u,a){var o=this;return o.name=g,o.items1=u,o.items2=a},m.$$arity=3),void e.def(w,"$roll",B=function(g){var u,a,s,c,_,d,o=this;return a=g.$roll_barabara(2,6),c=null==(u=e.to_ary(a))[1]?l:u[1],_=o.items1["$[]"](q(s=null==u[0]?l:u[0],1)),d=o.items2["$[]"](q(c,1)),o.name+"["+s+","+c+"] \uff1e "+_+d},B.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/item_table"]=function(e){var I,j,V,n,B,t,g,C,m,W,S,b,y=[],l=e.nil,i=e.$$,v=e.module,P=e.klass,$=e.truthy,G=e.send,A=e.hash2;return I=y,j=b=[v(y[0],"BCDice")].concat(I),V=S=[v(b[0],"GameSystem")].concat(j),n=W=[P(S[0],i(S,"Base"),"BeginningIdol")].concat(V),C=P(W[0],null,"ItemTable"),m=[C].concat(n),C.$$prototype.locale=l,e.def(C,"$initialize",B=function(a){return this.locale=a},B.$$arity=1),e.def(C,"$roll_command",t=function(a,o){var s,_=l,d=l,h=l;return _=/^IT(\d+)?$/.$match(o),$(_)?(d=$(h=(s=_["$[]"](1))===l||null==s?l:G(s,"to_i",[]))?h:1,this.$roll(a,d)):l},t.$$arity=2),void e.def(C,"$roll",g=function(a,o){var s,_=l,d=l,h=l,R=l;return null==o&&(o=1),o["$=="](0)?l:(_=i(m,"I18n").$t("BeginningIdol.item_table",A(["locale"],{locale:this.locale})),d=a.$roll_barabara(o,6).$sort(),h=G(d,"group_by",[],"itself".$to_proc()),R=G(h,"map",[],((s=function(f,k){var L=null==s.$$s?this:s.$$s,M=l;return null==f&&(f=l),null==k&&(k=l),M=_["$[]"]("items")["$[]"](function(D,I){return"number"==typeof D?D-1:D["$-"](1)}(f)),$(h.$size()["$!="](1))&&(M=L.$format(_["$[]"]("emph"),A(["item"],{item:M}))),d.$size()["$=="](h.$size())?M:L.$format(_["$[]"]("counting"),A(["item","count"],{item:M,count:k.$size()}))}).$$s=this,s.$$arity=2,s)),_["$[]"]("name")+" \uff1e ["+d.$join(",")+"] \uff1e "+R.$join(_["$[]"]("sep")))},g.$$arity=-2)},Opal.modules["bcdice/game_system/beginning_idol/costume_table"]=function(e){var A,b,F,H,C,m,B,t,w,n,V,j,I,E=[],y=e.nil,l=e.$$$,r=e.$$,i=e.module,v=e.klass,P=e.hash2,$=e.send;return A=E,b=I=[i(E[0],"BCDice")].concat(A),F=j=[i(I[0],"GameSystem")].concat(b),H=V=[v(j[0],r(j,"Base"),"BeginningIdol")].concat(F),w=v(V[0],null,"CostumeTable"),n=[w].concat(H),w.$$prototype.name=w.$$prototype.items=y,e.defs(w,"$from_i18n",C=function(u,a){var s=y;return s=r(n,"I18n").$t(u,P(["locale"],{locale:a})),this.$new(s["$[]"]("name"),s["$[]"]("items"))},C.$$arity=2),e.def(w,"$initialize",m=function(u,a){return this.name=u,this.items=a},m.$$arity=2),e.def(w,"$roll",B=function(u){var o=y;return o=u.$roll_d66(l(r(n,"D66SortType"),"ASC")),this.name+"("+o+") \uff1e "+this.items["$[]"](o.$to_s())},B.$$arity=1),void e.def(w,"$brand_only",t=function(){var u,a=this;return l(r(n,"DiceTable"),"D66Table").$new(a.name,l(r(n,"D66SortType"),"ASC"),$(a.items,"transform_values",[],((u=function(s){return null==s&&(s=y),s.$split("\n").$first()}).$$s=a,u.$$arity=1,u)))},t.$$arity=0)},Opal.modules["bcdice/game_system/beginning_idol/accessories_table"]=function(e){var G,U,S,V,H,W,F,N,p,D,E=[],y=e.nil,l=e.$$$,r=e.$$,i=e.module,v=e.klass,P=e.hash2;return G=E,U=D=[i(E[0],"BCDice")].concat(G),S=p=[i(D[0],"GameSystem")].concat(U),N=[F=v(p[0],r(p,"Base"),"BeginningIdol")].concat(S),V=e.get_singleton_class(F),W=[V].concat(N),V.$private(),void e.def(V,"$translate_accessories_table",H=function(n){var B,m=y;return m=r(W,"I18n").$t("BeginningIdol.ACT.items",P(["locale"],{locale:n})),B=[l(r(W,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.head",n),l(r(W,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.hat",n),l(r(W,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.body",n),l(r(W,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.arm",n),l(r(W,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.foot",n),l(r(W,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.other",n)],r(W,"ChainTable").$new(r(W,"I18n").$t("BeginningIdol.ACT.name",P(["locale"],{locale:n})),"1D6",m.$zip(B))},H.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/with_abnormality"]=function(e){var I,j,F,N,V,w,m,B,n,C,W,S,b,E=[],y=e.nil,l=e.$$$,r=e.$$,i=e.module,v=e.klass,P=e.hash2,$=e.truthy,G=e.send,A=e.send2;return I=E,j=b=[i(E[0],"BCDice")].concat(I),F=(S=[i(b[0],"GameSystem")].concat(j))[0],N=r(S,"Base"),V=S,w=W=[v(F,N,"BeginningIdol")].concat(V),n=i(W[0],"WithAbnormality"),C=[n].concat(w),e.def(n,"$replace_abnormality",m=function(g,u){var a=this,o=y,s=y,c=y,_=y,d=y;return null==a.locale&&(a.locale=y),null==a.bad_status_table&&(a.bad_status_table=y),s=(o=r(C,"Regexp").$new(r(C,"I18n").$t("BeginningIdol.abnormality.regexp",P(["locale"],{locale:a.locale})))).$match(g.$body()),$(s)&&(c=a.$kanji_to_i(s["$[]"](1)),$(c))?(_=a.bad_status_table.$roll(u,c),d=g.$body().$sub(o,_),l(r(C,"DiceTable"),"RollResult").$new(g.$table_name(),g.$value(),d)):g},m.$$arity=2),e.def(n,"$kanji_to_i",B=function(g){var u,a=this;return null==a.locale&&(a.locale=y),(u=r(C,"I18n").$t("BeginningIdol.abnormality.num_map",P(["locale"],{locale:a.locale})).$find_index(g))===y||null==u?y:G(u,"succ",[])},B.$$arity=1),function(H,w,n){var B,t,g,C=v(H,w,"D66WithAbnormality"),m=[C].concat(n);C.$include(r(m,"WithAbnormality")),e.defs(C,"$from_i18n",B=function(a,o,s){var d,_=y;return _=r(m,"I18n").$t(a,P(["locale"],{locale:s})),d=r(m,"D66SortType").$const_get(_["$[]"]("d66_sort_type")),this.$new(_["$[]"]("name"),d,_["$[]"]("items"),o,s)},B.$$arity=3),e.def(C,"$initialize",t=function(a,o,s,c,_){var R=this;return t.$$p&&(t.$$p=null),A(R,e.find_super_dispatcher(R,"initialize",t,!1,!0),"initialize",[a,o,s],null),R.bad_status_table=c,R.locale=_},t.$$arity=5),e.def(C,"$roll",g=function(a){var _,c=this;return g.$$p&&(g.$$p=null),_=A(c,e.find_super_dispatcher(c,"roll",g,!1,!0),"roll",[a],null),c.$replace_abnormality(_,a)},g.$$arity=1)}(W[0],l(r(W,"DiceTable"),"D66Table"),W),void function(H,w,n){var B,t,g,C=v(H,w,"TableWithAbnormality"),m=[C].concat(n);C.$include(r(m,"WithAbnormality")),e.defs(C,"$from_i18n",B=function(a,o,s){var _=y;return _=r(m,"I18n").$t(a,P(["locale"],{locale:s})),this.$new(_["$[]"]("name"),_["$[]"]("type"),_["$[]"]("items"),o,s)},B.$$arity=3),e.def(C,"$initialize",t=function(a,o,s,c,_){var R=this;return t.$$p&&(t.$$p=null),A(R,e.find_super_dispatcher(R,"initialize",t,!1,!0),"initialize",[a,o,s],null),R.bad_status_table=c,R.locale=_},t.$$arity=5),e.def(C,"$roll",g=function(a){var _,c=this;return g.$$p&&(g.$$p=null),_=A(c,e.find_super_dispatcher(c,"roll",g,!1,!0),"roll",[a],null),c.$replace_abnormality(_,a)},g.$$arity=1)}(W[0],l(r(W,"DiceTable"),"Table"),W)},Opal.modules["bcdice/game_system/beginning_idol/work_table"]=function(e){var U,z,K,C,t,g,u,a,m,B,W,H,F,p,y=[],l=e.nil,r=e.$$$,i=e.$$,v=e.module,P=e.klass,$=e.hash2,G=e.send2,A=e.truthy,D=e.send;return U=y,z=p=[v(y[0],"BCDice")].concat(U),K=F=[v(p[0],"GameSystem")].concat(z),C=H=[W=P(F[0],i(F,"Base"),"BeginningIdol")].concat(K),m=P(H[0],r(i(H,"DiceTable"),"D66Table"),"WorkWithChanceTable"),B=[m].concat(C),m.$$prototype.regexp=m.$$prototype.off=l,e.defs(m,"$from_i18n",t=function(s,c){var h,d=l;return d=i(B,"I18n").$t(s,$(["locale"],{locale:c})),h=i(B,"D66SortType").$const_get(d["$[]"]("d66_sort_type")),this.$new(d["$[]"]("name"),h,d["$[]"]("items"),c)},t.$$arity=2),e.def(m,"$initialize",g=function(s,c,_,d){var T=this;return g.$$p&&(g.$$p=null),G(T,e.find_super_dispatcher(T,"initialize",g,!1,!0),"initialize",[s,c,_],null),T.regexp=i(B,"Regexp").$new(i(B,"I18n").$t("BeginningIdol.with_chance.regexp",$(["locale"],{locale:d}))),T.off=i(B,"I18n").$t("BeginningIdol.with_chance.off_text",$(["locale"],{locale:d}))},g.$$arity=4),e.def(m,"$roll_command",u=function(s,c){var _,h=l;return h=/^LO([1-6]{1,2})?$/.$match(c),A(h)?this.$roll(s,(_=h["$[]"](1))===l||null==_?l:D(_,"to_i",[])):l},u.$$arity=2),e.def(m,"$roll",a=function(s,c){var h=this,R=l,T=l,f=l;return a.$$p&&(a.$$p=null),null==c&&(c=l),R=G(h,e.find_super_dispatcher(h,"roll",a,!1,!0),"roll",[s],null),A(c)?(T=h.regexp.$match(R.$body()),A(A(f=T)?function(I,U){return"number"==typeof I&&"number"==typeof U?I>=U:I["$>="](U)}(T["$[]"](1).$to_i(),c):f)?r(i(B,"DiceTable"),"RollResult").$new(R.$table_name(),R.$value(),h.off):A(T)?r(i(B,"DiceTable"),"RollResult").$new(R.$table_name(),R.$value(),R.$body().$sub(h.regexp,"")):R):R},a.$$arity=-2),function(w,n){var m,C=[w].concat(n);w.$private(),e.def(w,"$translate_local_work_table",m=function(t){return i(C,"WorkWithChanceTable").$from_i18n("BeginningIdol.local_work",t)},m.$$arity=1)}(e.get_singleton_class(W),H),void W.$register_prefix("LO")},Opal.modules["bcdice/game_system/beginning_idol/skill_table"]=function(e){function q(I,U){return"number"==typeof I&&"number"==typeof U?I+U:I["$+"](U)}var U,z,N,V,K,w,n,C,t,g,u,m,B,H,F,p,y=[],l=e.nil,r=e.$$$,i=e.$$,v=e.module,P=e.klass,$=e.hash2,G=e.send2,A=e.truthy,D=e.send;return U=y,z=p=[v(y[0],"BCDice")].concat(U),N=(F=[v(p[0],"GameSystem")].concat(z))[0],V=i(F,"Base"),K=F,function(w,n,C){var t,m=P(w,n,"SkillTable");[m].concat(C),e.def(m,"$roll",t=function(u){return this.$roll_command(u,"RTT")},t.$$arity=1)}((H=[P(N,V,"BeginningIdol")].concat(K))[0],r(i(H,"DiceTable"),"SaiFicSkillTable"),H),w=H[0],n=r(i(H,"DiceTable"),"Table"),C=H,m=P(w,n,"SkillGetTable"),B=[m].concat(C),m.$$prototype.reroll_reg=l,e.defs(m,"$from_i18n",t=function(o,s,c){var d=l;return d=i(B,"I18n").$t(o,$(["locale"],{locale:c})),this.$new(d["$[]"]("name"),d["$[]"]("type"),d["$[]"]("items"),s,c)},t.$$arity=3),e.def(m,"$initialize",g=function(o,s,c,_,d){var T=this,f=l;return g.$$p&&(g.$$p=null),G(T,e.find_super_dispatcher(T,"initialize",g,!1,!0),"initialize",[o,s,c],null),T.skill_table=_,f=i(B,"I18n").$t("BeginningIdol.skill_get_table",$(["locale"],{locale:d})),T.reroll_reg=i(B,"Regexp").$new(f["$[]"]("reroll_reg")),T.reroll=f["$[]"]("reroll"),T.secondary_name=f["$[]"]("secondary_name")},g.$$arity=5),e.def(m,"$roll",u=function(o){var s,d=this,h=l,R=l,T=l,f=l;return u.$$p&&(u.$$p=null),h=G(d,e.find_super_dispatcher(d,"roll",u,!1,!0),"roll",[o],null),R=d.reroll_reg.$match(h.$body()),A(R)?(T=R.$captures(),f=q(h.$body(),"\n"),function(){var k=e.new_brk();try{D(d,"loop",[],((s=function(){var M=null==s.$$s?this:s.$$s,x=l;return null==M.skill_table&&(M.skill_table=l),null==M.secondary_name&&(M.secondary_name=l),null==M.reroll&&(M.reroll=l),x=M.skill_table.$roll_skill(o),f=q(f,M.secondary_name+" \uff1e ["+x.$category_dice()+","+x.$row_dice()+"] \uff1e "+x),A(T["$include?"](x.$category_name()))||e.brk(l,k),f=q(f," \uff1e "+M.reroll+"\n")}).$$s=d,s.$$brk=k,s.$$arity=0,s))}catch(L){if(L===k)return L.$v;throw L}}(),r(i(B,"DiceTable"),"RollResult").$new(h.$table_name(),h.$value(),f)):h},u.$$arity=1),void function(w,n,C){var t,g,m=P(w,null,"SkillHometown");[m].concat(C),m.$$prototype.skill_name=l,e.def(m,"$initialize",t=function(a){return this.skill_name=a},t.$$arity=1),e.def(m,"$roll",g=function(a){return this.skill_name.$roll_command(a,"AT6")},g.$$arity=1)}(H[0],0,H)},Opal.modules["bcdice/game_system/beginning_idol/table"]=function(e){var I,j,V,H,C,m,n,K,W,S,b,E=e.top,y=[],l=e.nil,r=e.$$$,i=e.$$,v=e.module,P=e.klass,$=e.hash2,G=e.send,A=e.truthy;return E.$require("bcdice/game_system/beginning_idol/chain_table"),E.$require("bcdice/game_system/beginning_idol/chain_d66_table"),E.$require("bcdice/game_system/beginning_idol/bad_status_table"),E.$require("bcdice/game_system/beginning_idol/random_event_table"),E.$require("bcdice/game_system/beginning_idol/my_skill_name_table"),E.$require("bcdice/game_system/beginning_idol/d6_twice_table"),E.$require("bcdice/game_system/beginning_idol/item_table"),E.$require("bcdice/game_system/beginning_idol/costume_table"),E.$require("bcdice/game_system/beginning_idol/accessories_table"),E.$require("bcdice/game_system/beginning_idol/with_abnormality"),E.$require("bcdice/game_system/beginning_idol/work_table"),E.$require("bcdice/game_system/beginning_idol/skill_table"),I=y,j=b=[v(y[0],"BCDice")].concat(I),V=S=[v(b[0],"GameSystem")].concat(j),W=[K=P(S[0],i(S,"Base"),"BeginningIdol")].concat(V),H=e.get_singleton_class(K),n=[H].concat(W),H.$private(),e.def(H,"$translate_skill_table",C=function(t){return i(n,"SkillTable").$from_i18n("BeginningIdol.skill_table",t,$(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},C.$$arity=1),e.def(H,"$translate_tables",m=function(t){var g,u,a,d,h,R,T,f,k,L,M,Y,J,o=this,s=l,c=l,_=l,x=l;return s=i(n,"CostumeTable").$from_i18n("BeginningIdol.tables.DT",t),c=i(n,"CostumeTable").$from_i18n("BeginningIdol.tables.RC",t),_=i(n,"CostumeTable").$from_i18n("BeginningIdol.tables.FC",t),d=i(n,"ChainTable").$new(i(n,"I18n").$t("BeginningIdol.ACB.name",$(["locale"],{locale:t})),"1D6",[[i(n,"I18n").$t("BeginningIdol.ACB.items.challenge_girls",$(["locale"],{locale:t})),s.$brand_only()],[i(n,"I18n").$t("BeginningIdol.ACB.items.challenge_girls",$(["locale"],{locale:t})),s.$brand_only()],[i(n,"I18n").$t("BeginningIdol.ACB.items.road_to_prince",$(["locale"],{locale:t})),c.$brand_only()],[i(n,"I18n").$t("BeginningIdol.ACB.items.road_to_prince",$(["locale"],{locale:t})),c.$brand_only()],[i(n,"I18n").$t("BeginningIdol.ACB.items.fortune_stars",$(["locale"],{locale:t})),_.$brand_only()],[i(n,"I18n").$t("BeginningIdol.ACB.items.fortune_stars",$(["locale"],{locale:t})),_.$brand_only()]]),h=i(n,"BadStatusTable").$new(t),R=o.$translate_skill_table(t),T=r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.rare_skill_table",t),f=i(n,"ItemTable").$new(t),k=i(n,"ChainTable").$new(i(n,"I18n").$t("BeginningIdol.TN.name",$(["locale"],{locale:t})),"1D6",G(i(n,"I18n").$t("BeginningIdol.TN.items",$(["locale"],{locale:t})).$dup(),"tap",[],((g=function(X){return null==X&&(X=l),X["$[]"](3).$push(R)}).$$s=o,g.$$arity=1,g))),L=i(n,"ChainTable").$new(i(n,"I18n").$t("BeginningIdol.CG.name",$(["locale"],{locale:t})),"1D6",G(i(n,"I18n").$t("BeginningIdol.CG.items",$(["locale"],{locale:t})).$map(),"with_index",[],((u=function(X,Z){return null==X&&(X=l),null==Z&&(Z=l),A([3,4]["$include?"](Z))?[X,f]:[X]}).$$s=o,u.$$arity=2,u))),M=i(n,"ChainD66Table").$new(i(n,"I18n").$t("BeginningIdol.GG.name",$(["locale"],{locale:t})),G(i(n,"I18n").$t("BeginningIdol.GG.items",$(["locale"],{locale:t})),"to_h",[],((a=function(X,Z){var ee;return null==X&&(X=l),null==Z&&(Z=l),ee=A(["23","24","25"]["$include?"](X))?[Z,T]:X["$=="]("56")?[Z,f]:[Z],[X,ee]}).$$s=o,a.$$arity=2,a))),Y=["22",[(x=i(n,"I18n").$t("BeginningIdol.HA.items",$(["locale"],{locale:t})))["$[]"]("22"),i(n,"SkillHometown").$new(R)].$flatten()],G(x,"[]=",e.to_a(Y)),function(D,I){"number"==typeof D||D["$-"](1)}(Y.length),J=i(n,"ChainD66Table").$new(i(n,"I18n").$t("BeginningIdol.HA.name",$(["locale"],{locale:t})),x),$(["DT","RC","FC","ACB","TN","CG","GG","HA","CBT","RCB","HBT","RHB","RU","SIP","BU","HW","FL","MSE","ST","FST","BWT","LWT","TWT","CWT","SU","WI","NA","GA","BA","WT","VA","MU","DR","VI","SP","CHR","PAR","SW","AN","MOV","FA","BVT","LVT","TVT","CVT","BST","LST","TST","CST","BPT","LPT","TPT","CPT","BIT","LIT","TIT","CIT","CHO","SCH","WCH","NCH","GCH","PCH","LUR","SUR","WUR","NUR","GUR","BUR","ACE","ACT","MS","RE","SH","MO","SEA","SPA","LN","SGT","RS"],{DT:s,RC:c,FC:_,ACB:d,TN:k,CG:L,GG:M,HA:J,CBT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CBT",t),RCB:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RCB",t),HBT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.HBT",t),RHB:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RHB",t),RU:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.RU",t),SIP:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SIP",t),BU:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BU",t),HW:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.HW",t),FL:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FL",t),MSE:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.MSE",t),ST:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.ST",t),FST:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FST",t),BWT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BWT",t),LWT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.LWT",t),TWT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.TWT",t),CWT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CWT",t),SU:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SU",t),WI:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WI",t),NA:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.NA",t),GA:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GA",t),BA:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BA",t),WT:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WT",t),VA:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VA",t),MU:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MU",t),DR:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.DR",t),VI:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VI",t),SP:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SP",t),CHR:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHR",t),PAR:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PAR",t),SW:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SW",t),AN:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.AN",t),MOV:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MOV",t),FA:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.FA",t),BVT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BVT",t),LVT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LVT",t),TVT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TVT",t),CVT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CVT",t),BST:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BST",t),LST:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LST",t),TST:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TST",t),CST:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CST",t),BPT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BPT",t),LPT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LPT",t),TPT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TPT",t),CPT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CPT",t),BIT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BIT",t),LIT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LIT",t),TIT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TIT",t),CIT:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CIT",t),CHO:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHO",t),SCH:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SCH",t),WCH:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.WCH",t),NCH:r(i(n,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.NCH",t),GCH:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GCH",t),PCH:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PCH",t),LUR:i(n,"D6TwiceTable").$from_i18n("BeginningIdol.tables.LUR",t),SUR:i(n,"D6TwiceTable").$from_i18n("BeginningIdol.tables.SUR",t),WUR:i(n,"D6TwiceTable").$from_i18n("BeginningIdol.tables.WUR",t),NUR:i(n,"D6TwiceTable").$from_i18n("BeginningIdol.tables.NUR",t),GUR:i(n,"D6TwiceTable").$from_i18n("BeginningIdol.tables.GUR",t),BUR:i(n,"D6TwiceTable").$from_i18n("BeginningIdol.tables.BUR",t),ACE:r(i(n,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.ACE",t),ACT:o.$translate_accessories_table(t),MS:i(n,"MySkillNameTable").$new(t),RE:i(n,"RandomEventTable").$new(t),SH:i(n,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.SH",h,t),MO:i(n,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.MO",h,t),SEA:i(n,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.SEA",h,t),SPA:i(n,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.SPA",h,t),LN:i(n,"TableWithAbnormality").$from_i18n("BeginningIdol.tables.LN",h,t),SGT:i(n,"SkillGetTable").$from_i18n("BeginningIdol.tables.SGT",R,t),RS:i(n,"SkillGetTable").$from_i18n("BeginningIdol.tables.RS",R,t)})},m.$$arity=1),e.const_set(W[0],"TABLES",K.$translate_tables("ja_jp")),e.const_set(W[0],"BAD_STATUS_TABLE",i(W,"BadStatusTable").$new("ja_jp")),e.const_set(W[0],"LOCAL_WORK_TABLE",K.$translate_local_work_table("ja_jp")),e.const_set(W[0],"ITEM_TABLE",i(W,"ItemTable").$new("ja_jp")),e.const_set(W[0],"SKILL_TABLE",K.$translate_skill_table("ja_jp")),void K.$register_prefix(i(W,"TABLES").$keys())},Opal.modules["bcdice/game_system/BeginningIdol"]=function(e){function q(z,S){return"number"==typeof z&&"number"==typeof S?z<=S:z["$<="](S)}function E(z,S){return"number"==typeof z&&"number"==typeof S?z>=S:z["$>="](S)}function r(z,S){return"number"==typeof z&&"number"==typeof S?z+S:z["$+"](S)}var S,K,C,t,g,u,a,o,s,c,_,d,h,m,B,H,N,P=[],$=e.nil,G=e.$$$,A=e.$$,D=e.module,I=e.klass,U=e.send2,b=e.truthy,p=e.send,j=e.hash2;return e.top.$require("bcdice/game_system/beginning_idol/table"),S=P,K=N=[D(P[0],"BCDice")].concat(S),C=H=[D(N[0],"GameSystem")].concat(K),m=I(H[0],A(H,"Base"),"BeginningIdol"),B=[m].concat(C),m.$$prototype.randomizer=$,e.const_set(B[0],"ID","BeginningIdol"),e.const_set(B[0],"NAME","\u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb"),e.const_set(B[0],"SORT_KEY","\u3072\u304d\u306b\u3093\u304f\u3042\u3044\u3068\u308b"),e.const_set(B[0],"HELP_MESSAGE","\u30fb\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3000[r]PDn[+m/-m](r\uff1a\u5834\u306b\u6b8b\u3063\u305f\u51fa\u76ee\u3000n\uff1a\u632f\u308b\u6570\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u30ef\u30fc\u30eb\u30c9\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0\u4ed5\u4e8b\u8868\u3000BWT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LWT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\n\u3000TWT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CWT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\u3000LO[n]\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb(n\uff1a\u30c1\u30e3\u30f3\u30b9)\n\u3000SU\uff1a\u60c5\u71b1\u306e\u590f\u3000WI\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NA\uff1a\u5927\u81ea\u7136\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u4ed5\u4e8b\u8868\u3000WT\u3000VA\uff1a\u30d0\u30e9\u30a8\u30c6\u30a3\u3000MU\uff1a\u97f3\u697d\u95a2\u4fc2\u3000DR\uff1a\u30c9\u30e9\u30de\u95a2\u4fc2\n\u3000VI\uff1a\u30d3\u30b8\u30e5\u30a2\u30eb\u95a2\u4fc2\u3000SP\uff1a\u30b9\u30dd\u30fc\u30c4\u3000CHR\uff1a\u30af\u30ea\u30b9\u30de\u30b9\u3000PAR\uff1a\u30d1\u30fc\u30c8\u30ca\u30fc\u95a2\u4fc2\n\u3000SW\uff1a\u304a\u83d3\u5b50\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30e9\u30f3\u30c0\u30e0\u30a4\u30d9\u30f3\u30c8\u3000RE\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\u30a2\u30a4\u30c9\u30eb\u30b9\u30ad\u30eb\u4fee\u5f97\u8868\u3000SGT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RS\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u5909\u8abf\u3000BT[n](n\uff1a\u767a\u751f\u6570)\n\u30fb\u30a2\u30a4\u30c6\u30e0\u3000IT[n](n\uff1a\u7372\u5f97\u6570)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\u8863\u88c5\u3000DT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RC\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\u7121\u8336\u3076\u308a\u8868\u3000LUR\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb\u3000SUR\uff1a\u60c5\u71b1\u306e\u590f\u3000WUR\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\n\u3000NUR\uff1a\u5927\u81ea\u7136\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u30bb\u30f3\u30bf\u30fc\u30eb\u30fc\u30eb\u3000HW\uff1a\u5411\u304b\u3044\u98a8\u30b7\u30fc\u30f3\u8868\u3000FL\uff1a\u99c6\u3051\u51fa\u3057\u30b7\u30fc\u30f3\u8868\u3000LN\uff1a\u5b64\u72ec\u8868\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\u5408\u5bbf\u30eb\u30fc\u30eb\u3000\u6563\u7b56\u8868\u3010SH\uff1a\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30e2\u30fc\u30eb\u3000MO\uff1a\u5c71\u3000SEA\uff1a\u6d77\u3000SPA\uff1a\u6e29\u6cc9\u8857\u3011\n\u3000TN\uff1a\u591c\u8a9e\u308a\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868\u3000\u6210\u9577\u8868\u3010CG\uff1a\u30b3\u30e2\u30f3\u3000GG\uff1a\u30b4\u30fc\u30eb\u30c9\u3011\n\u30fb\u30b5\u30d3\u8868\u3000CHO\u3000SCH\uff1a\u60c5\u71b1\u306e\u590f\u3000WCH\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NCH\uff1a\u5927\u81ea\u7136\n\u3000GCH\uff1a\u5973\u6027\u5411\u3051\u3000PCH\uff1a\u529b\u5f37\u3044\n\u30fb\u30ad\u30e3\u30e9\u7a7a\u767d\u8868\u3000CBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RCB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u8da3\u5473\u7a7a\u767d\u8868\u3000HBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RHB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u30de\u30b9\u30b3\u30c3\u30c8\u66b4\u8d70\u8868\u3000RU\n\u30fb\u30a2\u30a4\u30c9\u30eb\u71b1\u6e6f\u98a8\u5442\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\u6e29\u5ea6)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\u4f1a\u5834\u8868\n\u3000BVT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LVT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TVT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CVT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u5834\u6240\u8868\n\u3000BST\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LST\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TST\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CST\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u7a2e\u5225\u6c7a\u5b9a\u8868\n\u3000BPT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LPT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TPT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CPT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u9053\u5177\u8868\n\u3000BIT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LIT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TIT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CIT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),m.$register_prefix(A(B,"SKILL_TABLE").$prefixes(),"IT","BT","\\d{2}C","\\d+S?A","[1-7]*PD"),e.def(m,"$initialize",t=function(T){var L=this;return t.$$p&&(t.$$p=null),U(L,e.find_super_dispatcher(L,"initialize",t,!1,!0),"initialize",[T],null),L.sort_add_dice=!0,L.d66_sort_type=G(A(B,"D66SortType"),"ASC")},t.$$arity=1),e.def(m,"$result_nd6",g=function(T,f,k,L,M){var x=this;return M["$=="]("?")||!L["$=="](">=")?$:b(q(f,2))?A(B,"Result").$fumble(x.$translate("BeginningIdol.fumble")):b(E(f,12))?A(B,"Result").$critical(x.$translate("BeginningIdol.special")):b(E(T,M))?A(B,"Result").$success(x.$translate("success")):A(B,"Result").$failure(x.$translate("failure"))},g.$$arity=5),e.alias(m,"check_2D6","check_nD6"),e.def(m,"$eval_game_system_specific_command",u=function(T){var k,L,M,x,Y,J,Q,f=this;return b(k=b(L=b(M=b(x=b(Y=b(J=b(Q=f.$roll_attack(T))?Q:f.$roll_burst(T))?J:f.$roll_performance(T))?Y:G(f.$class(),"SKILL_TABLE").$roll_command(f.randomizer,T))?x:G(f.$class(),"ITEM_TABLE").$roll_command(f.randomizer,T))?M:G(f.$class(),"BAD_STATUS_TABLE").$roll_command(f.randomizer,T))?L:G(f.$class(),"LOCAL_WORK_TABLE").$roll_command(f.randomizer,T))?k:f.$roll_tables(T,G(f.$class(),"TABLES"))},u.$$arity=1),m.$private(),e.def(m,"$roll_burst",a=function(T){var f=this,k=$,L=$,M=$,x=$,Y=$,J=$,Q=$;return k=/^(\d{2})C$/.$match(T),!b(k)||(L=k["$[]"](1).$to_i(),b(b(M=function(z,S){return"number"==typeof z?z<45:z["$<"](45)}(L))?M:function(z,S){return"number"==typeof z?z>55:z["$>"](55)}(L)))?$:(x=b(q(L,49))?3:b(q(L,52))?4:b(q(L,54))?5:6,J=r((Y=f.randomizer.$roll_barabara(x,6).$sort()).$sum(),L),Q=b(E(J,80))?f.$translate("BeginningIdol.burst.burst"):b(E(J,75))?f.$translate("BeginningIdol.burst.critical_success"):b(E(J,65))?f.$translate("BeginningIdol.burst.success"):f.$translate("failure"),f.$translate("BeginningIdol.burst.name")+" \uff1e "+L+"+["+Y.$join(",")+"] \uff1e "+J+" \uff1e "+Q)},a.$$arity=1),e.def(m,"$roll_attack",o=function(T){var f=this,k=$,L=$,M=$,x=$,Y=$,J=$,Q=$,X=$,Z=$,O=$,ee=$,ne=$;return k=/^(\d+)(S?)A([1-6]*)([+\-]\d+)?$/.$match(T),!b(k)||(L=k["$[]"](1).$to_i(),b(q(L,0)))?$:(M=k["$[]"](2)["$empty?"]()["$!"](),x=p(k["$[]"](3).$each_char(),"map",[],"to_i".$to_proc()),Y=k["$[]"](4).$to_i(),J=A(B,"Format").$modifier(Y),X=(Q=f.randomizer.$roll_barabara(L,6).$sort()).$join(","),Q=function(z,S){return"number"==typeof z&&"number"==typeof S?z-S:z["$-"](S)}(Q,x),Z=f.$translate("BeginningIdol.attack.name")+" \uff1e ["+X+"]"+J+" \uff1e ",b(b(O=Q.$count()["$=="](L))?O:Q["$empty?"]())||(Z=r(Z,"["+Q.$join(",")+"]"+J+" \uff1e ")),b(b(ee=M)?ee:Q.$count()["$=="](Q.$uniq().$count()))?(ne=[r(Q.$sum(),Y.$to_i()),0].$max(),Z=r(Z,f.$format(f.$translate("BeginningIdol.attack.damage"),j(["total"],{total:ne})))):Z=r(Z,f.$translate("failure")),Z)},o.$$arity=1),e.def(m,"$roll_performance",s=function(T){var f=this,k=$,L=$,M=$,x=$,Y=$,J=$,Q=$,X=$,Z=$;return k=/^([1-7]*)PD(\d+)([+\-]\d+)?$/.$match(T),!b(k)||(L=k["$[]"](2).$to_i(),b(q(L,0)))?$:(M=p(k["$[]"](1).$chars(),"map",[],"to_i".$to_proc()).$sort(),x=k["$[]"](3).$to_i(),J=r(Y=f.randomizer.$roll_barabara(L,6).$sort(),M).$sort(),Q=f.$select_uniqs(J),X=b(M["$empty?"]())?f.$translate("BeginningIdol.PD.paformance"):f.$translate("BeginningIdol.PD.symphony"),Z=b(M["$empty?"]())?f.$result_performance(Q,x,J):f.$result_symphony(Q,x),[X,f.$format_dice_list(Y,M,x),Z].$join(" \uff1e "))},s.$$arity=1),e.def(m,"$select_uniqs",c=function(T){var f,k;return p(p(p(T,"group_by",[],"itself".$to_proc()).$to_a(),"select",[],(f=function(x,Y){return null==x&&(x=$),null==Y&&(Y=$),Y.$size()["$=="](1)},f.$$s=this,f.$$arity=2,f)),"map",[],(k=function(x,Y){return null==x&&(x=$),null==Y&&(Y=$),x},k.$$s=this,k.$$arity=2,k)).$sort()},c.$$arity=1),e.def(m,"$format_dice_list",_=function(T,f,k){return b(f["$empty?"]())?"["+T.$join(",")+"]"+A(B,"Format").$modifier(k):"["+T.$join(",")+"],["+f.$join(",")+"]"+A(B,"Format").$modifier(k)},_.$$arity=3),e.def(m,"$result_performance",d=function(T,f,k){var L=this;return b(T["$empty?"]())?L.$format(L.$translate("BeginningIdol.PD.miracle"),j(["value"],{value:r(f,10)})):T["$=="]([1,2,3,4,5,6])?L.$format(L.$translate("BeginningIdol.PD.perfect_miracle"),j(["value"],{value:r(f,30)})):b(T.$size()["$!="](k.$size()))?"["+T.$join(",")+"]"+A(B,"Format").$modifier(f)+" \uff1e "+r(T.$sum(),f):r(T.$sum(),f).$to_s()},d.$$arity=3),void e.def(m,"$result_symphony",h=function(T,f){var k=this,L=$;return b(T["$empty?"]())?k.$format(k.$translate("BeginningIdol.PD.miracle_synchro"),j(["value"],{value:r(f,15)})):T["$=="]([1,2,3,4,5,6])?(L=k.$format(k.$translate("BeginningIdol.PD.perfect_miracle"),j(["value"],{value:r(f,30)})),"["+T.$join(",")+"]"+A(B,"Format").$modifier(f)+" \uff1e "+L):"["+T.$join(",")+"]"+A(B,"Format").$modifier(f)+" \uff1e "+r(T.$sum(),f)},h.$$arity=2)},E=[],r=(e=Opal).$$,i=e.module,v=e.klass,P=e.send2,e.top.$require("bcdice/game_system/BeginningIdol"),G=E,U=D=[i(E[0],"BCDice")].concat(G),S=p=[i(D[0],"GameSystem")].concat(U),N=[F=v(p[0],r(p,"BeginningIdol"),"BeginningIdol_Korean")].concat(S),e.const_set(N[0],"ID","BeginningIdol:Korean"),e.const_set(N[0],"NAME","\ube44\uae30\ub2dd \uc544\uc774\ub3cc"),e.const_set(N[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ube44\uae30\ub2dd \uc544\uc774\ub3cc"),e.const_set(N[0],"HELP_MESSAGE","\u30fb\ud37c\ud3ec\uba3c\uc2a4\u3000[r]PDn[+m/-m](r\uff1a\ub0a8\uc740 \uc8fc\uc0ac\uc704 \ub208\u3000n\uff1a\uad74\ub9b4 \uac2f\uc218\u3000m\uff1a\uc218\uc815\uce58)\n\u30fb\uc6d4\ub4dc\uc138\ud305 \uc5c5\ubb34\ud45c\u3000BWT\uff1a\ub300\ud615 \uc5f0\uc608 \ud504\ub85c\ub355\uc158\u3000LWT\uff1a\uc57d\uc18c \uc5f0\uc608 \ud504\ub85c\ub355\uc158\n\u3000TWT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CWT\uff1a\uc544\uc774\ub3cc \ubd80\u3000LO[n]\uff1a\ub85c\uceec \uc544\uc774\ub3cc(n\uff1a\ucc2c\uc2a4)\n\u3000SU\uff1a\uc5f4\uc815\uc758 \uc5ec\ub984\u3000WI\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\u3000NA\uff1a\ub300\uc790\uc5f0\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\uc5c5\ubb34\ud45c\u3000WT\u3000VA\uff1a\ubc84\ub77c\uc774\uc5b4\ud2f0\u3000MU\uff1a\uc74c\uc545 \uad00\ub828\u3000DR\uff1a\ub4dc\ub77c\ub9c8 \uad00\ub828\n\u3000VI\uff1a\ube44\uc8fc\uc5bc \uad00\ub828\u3000SP\uff1a\uc2a4\ud3ec\uce20\u3000CHR\uff1a\ud06c\ub9ac\uc2a4\ub9c8\uc2a4\u3000PAR\uff1a\ud30c\ud2b8\ub108 \uad00\ub828\n\u30fb\ud2b9\uae30 \ub9ac\uc2a4\ud2b8\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\uc544\uc774\ub3cc \uc2a4\ud0ac \uc2b5\ub4dd\ud45c\u3000SGT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RS\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ubcc0\uc870\u3000BT[n](n\uff1a\uc8fc\uc0ac\uc704\ub208)\n\u30fb\uc544\uc774\ud15c\u3000IT[n](n\uff1a\ubcf4\uc720 \uac2f\uc218)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\uc758\uc0c1\u3000DT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RC\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\uc5c9\ub9dd\uc9c4\ucc3d \ud45c\u3000LUR\uff1a\ub85c\uceec \uc544\uc774\ub3cc\u3000SUR\uff1a\uc815\uc5f4\uc758 \uc5ec\ub984\u3000WUR\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\n\u3000NUR\uff1a\ub300\uc790\uc5f0\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\uc13c\ud130 \ub8f0\u3000HW\uff1a\uc5ed\ud48d \uc52c\ud45c\u3000FL\uff1a\uc2e0\ucd9c\ub0b4\uae30 \uc52c\ud45c\u3000LN\uff1a\uace0\ub3c5\ud45c\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\ud569\uc219 \ub8f0\u3000\uc0b0\ucc45\ud45c \u3010SH\uff1a\uc1fc\ud551\ubab0\u3000MO\uff1a\uc0b0\u3000SEA\uff1a\ubc14\ub2e4\u3000SPA\uff1a\uc628\ucc9c\u3011\n\u3000TN\uff1a\uc57c\ubc24\uc758 \ub300\ud654 \uc2dc\uce04\uc5d0\uc774\uc158\u3000\uc131\uc7a5\ud45c \u3010CG\uff1a\ucee4\uba3c\u3000GG\uff1a\uace8\ub4dc\u3011\n\u30fb\uc791\uc0ac\ud45c\u3000CHO\u3000SCH\uff1a\uc815\uc5f4\uc758 \uc5ec\ub984\u3000WCH\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\u3000NCH\uff1a\ub300\uc790\uc5f0\n\u30fb\uce90\ub9ad\ud130 \uacf5\ubc31\ud45c\u3000CBT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RCB\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ucde8\ubbf8 \uacf5\ubc31\ud45c\u3000HBT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RHB\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ub9c8\uc2a4\ucf54\ud2b8 \ud3ed\uc8fc\ud45c\u3000RU\n\u30fb\ubc84\uc2a4\ud2b8 \ud0c0\uc784\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\uc628\ub3c4)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\ud68c\uc7a5\ud45c\n\u3000BVT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LVT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TVT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CVT\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\uc7a5\uc18c\ud45c\n\u3000BST\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LST\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TST\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CST\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\ud504\ub808\uc154 \uc885\ub958 \uacb0\uc815\ud45c\n\u3000BPT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LPT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TPT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CPT\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\ub3c4\uad6c\ud45c\n\u3000BIT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LIT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TIT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CIT\uff1a\uc544\uc774\ub3cc \ubd80\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66 \ub2e4\uc774\uc2a4\uac00 \uc874\uc7ac\n"),F.$register_prefix_from_super_class(),e.def(F,"$initialize",V=function(W){var n=this;return V.$$p&&(V.$$p=null),P(n,e.find_super_dispatcher(n,"initialize",V,!1,!0),"initialize",[W],null),n.locale="ko_kr"},V.$$arity=1),e.const_set(N[0],"TABLES",F.$translate_tables("ko_kr")),e.const_set(N[0],"BAD_STATUS_TABLE",r(N,"BadStatusTable").$new("ko_kr")),e.const_set(N[0],"LOCAL_WORK_TABLE",F.$translate_local_work_table("ko_kr")),e.const_set(N[0],"ITEM_TABLE",r(N,"ItemTable").$new("ko_kr")),e.const_set(N[0],"SKILL_TABLE",F.$translate_skill_table("ko_kr"))}}]);