(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6694],{6694:(de,me,fe)=>{fe(9993),Opal.modules["i18n/backend/fallbacks"]=function(r){var M,_,C,N,A,l,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.class_variable_set,S=r.truthy,I=r.class_variable_get,c=r.def,P=r.send,Y=r.to_a,E=r.rb_minus,z=r.send2,F=r.find_super,j=r.hash2,B=r.find_block_super,U=r.neqeq;return M=H,l=[A=e(H[0],"I18n")].concat(M),b(l[0],"@@fallbacks",t),_=r.get_singleton_class(A),C=[_].concat(l),N=r.$r(C),c(_,"$fallbacks",function(){var v=t;return b(C[1],"@@fallbacks",S(null!=C[1].$$cvars["@@fallbacks"]?"class variable":t)&&S(v=I(C[1],"@@fallbacks",!1))?v:y(y(N("I18n"),"Locale"),"Fallbacks").$new()),S(v=N("Thread").$current()["$[]"]("i18n_fallbacks"))?v:I(C[1],"@@fallbacks",!1)},0),c(_,"$fallbacks=",function(o){var v;return b(C[1],"@@fallbacks",S(o["$is_a?"](N("Array")))?y(y(N("I18n"),"Locale"),"Fallbacks").$new(o):o),v=["i18n_fallbacks",I(C[1],"@@fallbacks",!1)],P(N("Thread").$current(),"[]=",Y(v)),v[E(v.length,1)]},1),function(_,x){var o,v,g,d,N=[e(_,"Backend")].concat(x);return o=N,g=[v=e(N[0],"Fallbacks")].concat(o),d=r.$r(g),c(v,"$translate",function u($,s,i){try{var n=u.$$p||t,a=this,m=t,q=t;return delete u.$$p,null==i&&(i=d("EMPTY_HASH")),S(i.$fetch("fallback",!0))?S(i["$[]"]("fallback_in_progress"))?z(a,F(a,"translate",u,!1,!0),"translate",[$,s,i],n):(S(i["$[]"]("default"))&&(m=a["$extract_non_symbol_default!"](i)),q=i.$merge(j(["fallback_in_progress"],{fallback_in_progress:!0})),P(d("I18n").$fallbacks()["$[]"]($),"each",[],function p(w){var L=null==p.$$s?this:p.$$s;null==w&&(w=t);try{return P(L,"catch",["exception"],function W(){var f=null==W.$$s?this:W.$$s,X=t;if(X=z(f,B(f,"translate",W.$$def||p.$$def||u,!1,!1),"translate",[w,s,q],null),S(X["$nil?"]()))return t;U($.$to_s(),w.$to_s())&&f.$on_fallback($,w,s,i),r.ret(X)},{$$arity:0,$$s:L})}catch(W){if(!r.rescue(W,[y(d("I18n"),"InvalidLocale")]))throw W;try{return t}finally{r.pop_exception()}}},{$$arity:1,$$s:a}),S(i["$key?"]("default"))&&S(i["$[]"]("default")["$nil?"]())?t:S(m)?z(a,F(a,"translate",u,!1,!0),"translate",[$,t,i.$merge(j(["default"],{default:m}))],null):a.$throw("exception",y(d("I18n"),"MissingTranslation").$new($,s,i))):z(a,F(a,"translate",u,!1,!0),"translate",[$,s,i],n)}catch(p){if(p===r.returner)return p.$v;throw p}},-3),c(v,"$extract_non_symbol_default!",function($){var i,s=t,n=t;return s=[$["$[]"]("default")].$flatten(),i=P(s,"detect",[],function(m){return null==m&&(m=t),m["$is_a?"](d("Symbol"))["$!"]()},1),S(i)&&(n=["default",s["$[]"](0,s.$index(i))],P($,"[]=",Y(n)),E(n.length,1)),i},1),c(v,"$exists?",function u($,s,i){try{var n=u.$$p||t,a=this;return delete u.$$p,null==i&&(i=d("EMPTY_HASH")),S(i.$fetch("fallback",!0))?(P(d("I18n").$fallbacks()["$[]"]($),"each",[],function m(q){var p=null==m.$$s?this:m.$$s;null==q&&(q=t);try{if(!S(z(p,B(p,"exists?",m.$$def||u,!1,!1),"exists?",[q,s],null)))return t;r.ret(!0)}catch(w){if(!r.rescue(w,[y(d("I18n"),"InvalidLocale")]))throw w;try{return t}finally{r.pop_exception()}}},{$$arity:1,$$s:a}),!1):z(a,F(a,"exists?",u,!1,!0),"exists?",[$,s,i],n)}catch(m){if(m===r.returner)return m.$v;throw m}},-3),v.$private(),c(v,"$on_fallback",function($,s,i,n){return t},4)}(l[0],l)},Opal.modules["bcdice/randomizer"]=function(r){var A,h,o,v,g,d,_,x,H=[],t=r.nil,y=r.$$$,b=r.klass,S=r.const_set,I=r.def,c=r.truthy,P=r.rb_gt,Y=r.rb_plus,E=r.rb_le,z=r.send,F=r.rb_minus,j=r.eqeq,B=r.rb_times,U=r.eqeqeq,K=r.rb_ge;return A=H,_=[(0,r.module)(H[0],"BCDice")].concat(A),x=r.$r(_),h=_,v=[o=b(_[0],null,"Randomizer")].concat(h),g=r.$r(v),(d=o.$$prototype).rand_results=d.detailed_rand_results=t,S(v[0],"UPPER_LIMIT_DICE_TIMES",200),S(v[0],"UPPER_LIMIT_DICE_SIDES",1e4),S(v[0],"UPPER_LIMIT_RANDS",1e4),I(o,"$initialize",function(){return this.rand_results=[],this.detailed_rand_results=[]},0),o.$attr_reader("rand_results"),o.$attr_reader("detailed_rand_results"),S(v[0],"DetailedRandResult",g("Struct").$new("kind","sides","value")),I(o,"$roll_barabara",function($,s){var i=this;return c(P(Y(i.rand_results.$size(),$),g("UPPER_LIMIT_RANDS")))&&i.$raise(g("TooManyRandsError")),c(E($,0))||c(P($,g("UPPER_LIMIT_DICE_TIMES")))?[]:z(g("Array"),"new",[$],function n(){return(null==n.$$s?this:n.$$s).$roll_once(s)},{$$arity:0,$$s:i})},2),I(o,"$roll_sum",function($,s){return this.$roll_barabara($,s).$sum()},2),I(o,"$roll_once",function($){var i=t;return c(E($,0))||c(P($,g("UPPER_LIMIT_DICE_SIDES")))?0:(i=this.$rand_inner($),this.$push_to_detail("normal",$,i),i)},1),I(o,"$roll_index",function($){return F(this.$roll_once($),1)},1),I(o,"$roll_tens_d10",function(){var i,s=t;return s=this.$rand_inner(10),j(s,10)&&(s=0),i=B(s,10),this.$push_to_detail("tens_d10",10,i),i},0),I(o,"$roll_d9",function(){var s;return s=F(this.$rand_inner(10),1),this.$push_to_detail("d9",10,s),s},0),I(o,"$roll_d66",function($){var n,i=t;return i=z(g("Array"),"new",[2],function a(){return(null==a.$$s?this:a.$$s).$roll_once(6)},{$$arity:0,$$s:this}),U(y(g("D66SortType"),"ASC"),n=$)?i["$sort!"]():U(y(g("D66SortType"),"DESC"),n)&&i["$sort!"]()["$reverse!"](),Y(B(i["$[]"](0),10),i["$[]"](1))},1),o.$private(),I(o,"$rand_inner",function($){var i,s=this;return c(K(s.rand_results.$size(),g("UPPER_LIMIT_RANDS")))&&s.$raise(g("TooManyRandsError")),i=s.$random($),s.rand_results["$<<"]([i,$]),i},1),I(o,"$random",function($){return Y(g("Kernel").$rand($),1)},1),I(o,"$push_to_detail",function($,s,i){var a;return a=g("DetailedRandResult").$new($,s,i),this.detailed_rand_results.$push(a)},3),b(_[0],x("StandardError"),"TooManyRandsError"),t},Opal.modules["bcdice/dice_table/roll_result"]=function(r){var c,z,K,M,A,l,_,j,Y,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,S=r.truthy;return c=H,z=Y=[y(H[0],"BCDice")].concat(c),K=j=[y(Y[0],"DiceTable")].concat(z),A=[M=e(j[0],null,"RollResult")].concat(K),l=r.$r(A),(_=M.$$prototype).table_name=_.value=_.body=t,b(M,"$initialize",function(C,N,h){var o=this;return o.table_name=C,o.value=N,o.body=h},3),M.$attr_reader("table_name"),M.$attr_reader("value"),M.$attr_reader("body"),b(M,"$to_s",function(){var C=this;return C.table_name+"("+C.value+") \uff1e "+C.body},0),b(M,"$last_body",function(){var C=this;return S(C.body["$is_a?"](l("RollResult")))?C.body.$last_body():C.body},0),b(M,"$empty?",function(){return!1},0)},Opal.modules["bcdice/dice_table/chain_table"]=function(r){var P,F,M,A,l,_,x,B,E,H=[],t=r.nil,y=r.module,e=r.klass,b=r.truthy,S=r.def,I=r.rb_minus;return P=H,F=E=[y(H[0],"BCDice")].concat(P),M=B=[y(E[0],"DiceTable")].concat(F),l=[A=e(B[0],null,"ChainTable")].concat(M),_=r.$r(l),(x=A.$$prototype).times=x.sides=x.items=x.name=t,S(A,"$initialize",function(N,h,o){var v=this,g=t;return v.name=N,v.items=o.$freeze(),g=/(\d+)D(\d+)/i.$match(h),b(g)||v.$raise(_("ArgumentError"),"Unexpected table type: "+h),v.times=g["$[]"](1).$to_i(),v.sides=g["$[]"](2).$to_i()},3),S(A,"$roll",function(N){var o,v,h=this,g=t;return o=N.$roll_sum(h.times,h.sides),v=I(o,h.times),g=h.items["$[]"](v),b(g["$respond_to?"]("roll"))&&(g=g.$roll(N)),_("RollResult").$new(h.name,o,g)},1)},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(r){var z,U,_,x,C,N,h,M,j,H=[],t=r.nil,y=r.module,e=r.klass,b=r.hash2,S=r.defs,I=r.def,c=r.rb_plus,P=r.rb_times,Y=r.rb_minus;return z=H,U=j=[y(H[0],"BCDice")].concat(z),_=M=[y(j[0],"DiceTable")].concat(U),C=[x=e(M[0],null,"D66GridTable")].concat(_),N=r.$r(C),(h=x.$$prototype).name=h.items=t,S(x,"$from_i18n",function(v,g){var u=t;return u=N("I18n").$t(v,b(["locale","raise"],{locale:g,raise:!0})),this.$new(u["$[]"]("name"),u["$[]"]("items"))},2),I(x,"$initialize",function(v,g){return this.name=v,this.items=g.$freeze()},2),I(x,"$roll",function(v){var d,u,$,s,i;return d=v.$roll_once(6),u=v.$roll_once(6),$=c(P(d,10),u),s=Y(d,1),i=Y(u,1),N("RollResult").$new(this.name,$,this.items["$[]"](s)["$[]"](i))},1)},Opal.modules["bcdice/dice_table/d66_half_grid_table"]=function(r){var Y,j,l,_,x,C,U,K,z,t=[],y=r.nil,e=r.module,b=r.klass,S=r.hash2,I=r.defs,c=r.def;return r.top.$require("bcdice/dice_table/d66_grid_table"),Y=t,j=z=[e(t[0],"BCDice")].concat(Y),U=[e(z[0],"DiceTable")].concat(j),K=r.$r(U),l=U,x=[_=b(U[0],K("D66GridTable"),"D66HalfGridTable")].concat(l),C=r.$r(x),I(_,"$from_i18n",function(h,o){var g=y;return g=C("I18n").$t(h,S(["locale","raise"],{locale:o,raise:!0})),this.$new(g["$[]"]("name"),g["$[]"]("items_1_2_3"),g["$[]"]("items_4_5_6"))},2),c(_,"$initialize",function(h,o,v){return this.name=h,this.items=[o,o,o,v,v,v].$freeze()},3)},Opal.modules["bcdice/dice_table/d66_one_third_table"]=function(r){var Y,j,l,_,x,C,U,K,z,t=[],y=r.nil,e=r.module,b=r.klass,S=r.hash2,I=r.defs,c=r.def;return r.top.$require("bcdice/dice_table/d66_grid_table"),Y=t,j=z=[e(t[0],"BCDice")].concat(Y),U=[e(z[0],"DiceTable")].concat(j),K=r.$r(U),l=U,x=[_=b(U[0],K("D66GridTable"),"D66OneThirdTable")].concat(l),C=r.$r(x),I(_,"$from_i18n",function(h,o){var g=y;return g=C("I18n").$t(h,S(["locale","raise"],{locale:o,raise:!0})),this.$new(g["$[]"]("name"),g["$[]"]("items_1_2"),g["$[]"]("items_3_4"),g["$[]"]("items_5_6"))},2),c(_,"$initialize",function(h,o,v,g){return this.name=h,this.items=[o,o,v,v,g,g].$freeze()},4)},Opal.modules["bcdice/dice_table/d66_table"]=function(r){var j,M,C,N,h,o,v,l,U,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.klass,S=r.hash2,I=r.defs,c=r.def,P=r.eqeqeq,Y=r.rb_plus,E=r.rb_times,z=r.truthy;return j=H,M=U=[e(H[0],"BCDice")].concat(j),C=l=[e(U[0],"DiceTable")].concat(M),h=[N=b(l[0],null,"D66Table")].concat(C),o=r.$r(h),(v=N.$$prototype).sort_type=v.items=v.name=t,I(N,"$from_i18n",function(d,u){var i,s=t;return s=o("I18n").$t(d,S(["locale"],{locale:u})),i=o("D66SortType").$const_get(s["$[]"]("d66_sort_type")),this.$new(s["$[]"]("name"),i,s["$[]"]("items"))},2),c(N,"$initialize",function(d,u,$){var s=this;return s.name=d,s.sort_type=u,s.items=$.$freeze()},3),c(N,"$roll",function(d){var u=this,$=t,s=t,i=t,n=t;return $=d.$roll_barabara(2,6),P(y(o("D66SortType"),"ASC"),s=u.sort_type)?$["$sort!"]():P(y(o("D66SortType"),"DESC"),s)&&$["$sort!"]()["$reverse!"](),i=Y(E($["$[]"](0),10),$["$[]"](1)),n=z(s=u.items["$[]"](i))?s:u.items["$[]"](i.$to_s()),z(n["$respond_to?"]("roll"))&&(n=n.$roll(d)),o("RollResult").$new(u.name,i,n)},1),c(N,"$choice",function(d){return o("RollResult").$new(this.name,d,this.items["$[]"](d))},1)},Opal.modules["bcdice/dice_table/d66_left_range_table"]=function(r){var K,_,C,N,A,t=[],y=r.nil,e=r.module,b=r.klass,S=r.hash2,I=r.send,c=r.to_ary,P=r.rb_plus,Y=r.rb_times,E=r.to_a,z=r.rb_minus,F=r.send2,j=r.find_super,B=r.def;return r.top.$require("bcdice/dice_table/d66_table"),K=t,_=A=[e(t[0],"BCDice")].concat(K),C=[e(A[0],"DiceTable")].concat(_),N=r.$r(C),B(b(C[0],N("D66Table"),"D66LeftRangeTable"),"$initialize",function g(d,u,$){var n;return delete g.$$p,n=S([],{}),I($,"each",[],function(m){var q,L;return null==m&&(m=y),q=c(m),L=null==q[1]?y:q[1],I(null==q[0]?y:q[0],"each",[],function(f){return null==f&&(f=y),I(L,"each_with_index",[],function(D,ee){var ae,ne;return null==D&&(D=y),null==ee&&(ee=y),ae=P(Y(f,10),P(ee,1)),I(n,"[]=",E(ne=[ae,D])),ne[z(ne.length,1)]},2)},1)},1),F(this,j(this,"initialize",g,!1,!0),"initialize",[d,u,n],null)},3)},Opal.modules["bcdice/dice_table/d66_parity_table"]=function(r){var F,K,x,C,N,h,o,A,B,H=[],t=r.nil,y=r.module,e=r.klass,b=r.hash2,S=r.defs,I=r.def,c=r.truthy,P=r.rb_minus,Y=r.rb_plus,E=r.rb_times;return F=H,K=B=[y(H[0],"BCDice")].concat(F),x=A=[y(B[0],"DiceTable")].concat(K),N=[C=e(A[0],null,"D66ParityTable")].concat(x),h=r.$r(N),(o=C.$$prototype).odd=o.even=o.name=t,S(C,"$from_i18n",function(g,d){var $=t;return $=h("I18n").$t(g,b(["locale","raise"],{locale:d,raise:!0})),this.$new($["$[]"]("name"),$["$[]"]("odd"),$["$[]"]("even"))},2),I(C,"$initialize",function(g,d,u){var $=this;return $.name=g,$.odd=d.$freeze(),$.even=u.$freeze()},3),I(C,"$roll",function(g){var $,i,n,d=this,u=t;return u=g.$roll_once(6),$=g.$roll_once(6),i=(c(u["$odd?"]())?d.odd:d.even)["$[]"](P($,1)),n=Y(E(u,10),$),h("RollResult").$new(d.name,n,i)},1)},Opal.modules["bcdice/dice_table/d66_range_table"]=function(r){var Y,j,A,l,_,x,C,U,z,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,S=r.rb_plus,I=r.rb_times,c=r.send;return Y=H,j=z=[y(H[0],"BCDice")].concat(Y),A=U=[y(z[0],"DiceTable")].concat(j),_=[l=e(U[0],null,"D66RangeTable")].concat(A),x=r.$r(_),(C=l.$$prototype).items=C.name=t,b(l,"$initialize",function(h,o){return this.name=h,this.items=o.$freeze()},2),b(l,"$roll",function(h){var v,g,d,u=t;return v=h.$roll_once(6),g=h.$roll_once(6),d=S(I(v,10),g),u=c(this.items,"find",[],function(s){return null==s&&(s=t),s["$[]"](0)["$include?"](d)},1),x("RollResult").$new(this.name,d,u["$[]"](1))},1)},Opal.modules["bcdice/dice_table/range_table"]=function(r){var B,A,N,h,o,v,g,_,K,H=[],t=r.nil,y=r.module,e=r.klass,b=r.const_set,S=r.send,I=r.truthy,c=r.def,P=r.to_a,Y=r.rb_minus,E=r.eqeqeq,z=r.rb_times,F=r.rb_plus;return B=H,A=K=[y(H[0],"BCDice")].concat(B),N=_=[y(K[0],"DiceTable")].concat(A),o=[h=e(_[0],null,"RangeTable")].concat(N),v=r.$r(o),(g=h.$$prototype).name=g.items=g.num_of_dice=g.num_of_sides=g.formatter=t,b(o[0],"RollResult",S(v("Struct"),"new",["sum","values","content","formatted"],function d(){return(null==d.$$s?this:d.$$s).$alias_method("to_s","formatted")},{$$arity:0,$$s:h})),b(o[0],"Item",v("Struct").$new("range","content")),b(o[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),b(o[0],"DEFAULT_FORMATTER",S(h,"lambda",[],function(u,$){return null==u&&(u=t),null==$&&($=t),u.$name()+"("+$.$sum()+") \uff1e "+$.$content()},2)),h.$attr_reader("name"),h.$attr_reader("num_of_dice"),h.$attr_reader("num_of_sides"),c(h,"$initialize",function d(u,$,s){var a,i=d.$$p||t,n=this,m=t;return delete d.$$p,n.name=u.$freeze(),n.formatter=I(a=i)?a:v("DEFAULT_FORMATTER"),m=v("DICE_ROLL_METHOD_RE").$match($),I(m)||n.$raise(v("ArgumentError"),n.name+": invalid dice roll method: "+$),n.num_of_dice=m["$[]"](1).$to_i(),n.num_of_sides=m["$[]"](2).$to_i(),n.$store(s)},3),c(h,"$fetch",function(u){var s,$=this;return s=S($.items,"find",[],function(n){return null==n&&(n=t),n.$range()["$include?"](u)},1),I(s)||$.$raise(v("RangeError"),$.name+": value is out of range: "+u),s},1),c(h,"$roll",function(u){var i,n,a,$=this,s=t;return i=(s=u.$roll_barabara($.num_of_dice,$.num_of_sides)).$sum(),n=v("RollResult").$new(i,s,$.$fetch(i).$content()),a=[$.formatter["$[]"]($,n)],S(n,"formatted=",P(a)),Y(a.length,1),n},1),h.$private(),c(h,"$store",function(u){var s,i,$=this;return s=S(u,"map",[],function n(a,m){return null==a&&(a=t),null==m&&(m=t),[(null==n.$$s?this:n.$$s).$coerce_to_int_range(a),m]},{$$arity:2,$$s:$}),i=S(s,"sort_by",[],function(a,m){return null==a&&(a=t),null==m&&(m=t),a.$min()},2),$.$assert_min_sum_is_covered(i),$.$assert_max_sum_is_covered(i),$.$assert_no_gap_or_overlap_in_ranges(i),$.items=S(i,"map",[],function(a,m){return null==a&&(a=t),null==m&&(m=t),v("Item").$new(a,m.$freeze()).$freeze()},2).$freeze(),$},1),c(h,"$coerce_to_int_range",function(u){var s;return E(v("Integer"),s=u)?v("Range").$new(u,u):E(v("Range"),s)&&I(u.$begin()["$is_a?"](v("Integer")))&&I(u.$end()["$is_a?"](v("Integer")))?u:this.$raise(v("TypeError"),this.name+": "+u+" ("+u.$class()+") must be an Integer or a Range with Integers ")},1),c(h,"$assert_min_sum_is_covered",function(u){var s,$=this,i=t;return s=$.num_of_dice,i=u.$first()["$[]"](0),I(i["$include?"](s))||$.$raise(v("RangeError"),$.name+": min value ("+s+") is not covered: "+i),$},1),c(h,"$assert_max_sum_is_covered",function(u){var s,$=this,i=t;return s=z($.num_of_dice,$.num_of_sides),i=u.$last()["$[]"](0),I(i["$include?"](s))||$.$raise(v("RangeError"),$.name+": max value ("+s+") is not covered: "+i),$},1),c(h,"$assert_no_gap_or_overlap_in_ranges",function(u){return S(u,"each_cons",[2],function s(i,n){var p,w,a=null==s.$$s?this:s.$$s,m=t,q=t;return null==a.name&&(a.name=t),null==i&&(i=t),null==n&&(n=t),m=i["$[]"](0),q=n["$[]"](0),p=m.$max(),w=F(p,1),I(q["$include?"](p))&&a.$raise(v("RangeError"),a.name+": Range overlap: "+m+" and "+q),I(q["$include?"](w))?t:a.$raise(v("RangeError"),a.name+": Range gap: "+m+" and "+q)},{$$arity:2,$$s:this}),this},1)},Opal.modules["bcdice/dice_table/sai_fic_skill_table/category"]=function(r){var Y,j,A,N,h,o,v,_,U,z,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.klass,S=r.send,I=r.def,c=r.rb_minus;return Y=H,j=z=[e(H[0],"BCDice")].concat(Y),A=U=[e(z[0],"DiceTable")].concat(j),N=_=[b(U[0],null,"SaiFicSkillTable")].concat(A),o=[h=b(_[0],null,"Category")].concat(N),v=r.$r(o),h.$$prototype.name=t,I(h,"$initialize",function(u,$,s,i){var n=this;return n.name=u,n.skills=S($.$map(),"with_index",[2],function(m,q){return null==m&&(m=t),null==q&&(q=t),y(v("SaiFicSkillTable"),"Skill").$new(u,m,s,q,i)},2),n.dice=s},4),I(h,"$roll",function(u){return this.$skills()["$[]"](c(u.$roll_sum(2,6),2))},1),I(h,"$to_s",function(){return this.name},0),h.$attr_reader("name","dice","skills")},Opal.modules["bcdice/dice_table/sai_fic_skill_table/skill"]=function(r){var c,z,K,x,C,A,j,Y,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,S=r.hash2;return c=H,z=Y=[y(H[0],"BCDice")].concat(c),K=j=[y(Y[0],"DiceTable")].concat(z),A=[e(j[0],null,"SaiFicSkillTable")].concat(K),(C=(x=e(A[0],null,"Skill")).$$prototype).s_format=C.category_dice=C.row_dice=C.category_name=C.name=t,b(x,"$initialize",function(h,o,v,g,d){var u=this;return u.category_name=h,u.name=o,u.category_dice=v,u.row_dice=g,u.s_format=d},5),b(x,"$to_s",function(){var h=this;return h.$format(h.s_format,S(["category_dice","row_dice","category_name","skill_name"],{category_dice:h.category_dice,row_dice:h.row_dice,category_name:h.category_name,skill_name:h.name}))},0),x.$attr_reader("category_name","name","category_dice","row_dice")},Opal.modules["bcdice/dice_table/sai_fic_skill_table"]=function(r){var M,x,v,g,d,u,$,N,l,H=r.top,t=[],y=r.nil,e=r.$$$,b=r.module,S=r.klass,I=r.hash2,c=r.send,Y=r.defs,E=r.const_set,z=r.to_ary,F=r.def,j=r.truthy,B=r.rb_minus,U=r.rb_plus;return H.$require("bcdice/dice_table/sai_fic_skill_table/category"),H.$require("bcdice/dice_table/sai_fic_skill_table/skill"),M=t,x=l=[b(t[0],"BCDice")].concat(M),v=N=[b(l[0],"DiceTable")].concat(x),d=[g=S(N[0],null,"SaiFicSkillTable")].concat(v),u=r.$r(d),($=g.$$prototype).rtt=$.rtt_format=$.rct=$.rct_format=$.rttn=$.rttn_format=$.categories=y,Y(g,"$from_i18n",function(i,n,a){var m,q,p,f,W=y;if(null==a)a=I([],{});else if(!a.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return null==(m=a.$$smap.rtt)&&(m=y),null==(q=a.$$smap.rct)&&(q=y),null==(p=a.$$smap.rttn)&&(p=y),f=(W=u("I18n").$t("RTT",I(["locale","raise","default"],{locale:n,raise:!1,default:I([],{})})).$merge(u("I18n").$t(i,I(["locale","raise"],{locale:n,raise:!0}))))["$[]"]("items"),W=c(W,"select",[],function(D,ee){return null==D&&(D=y),null==ee&&(ee=y),["rtt_format","rttn_format","rct_format","s_format"]["$include?"](D)},2),this.$new(f,r.to_hash(W).$merge(I(["rtt","rct","rttn"],{rtt:m,rct:q,rttn:p})))},-3),E(d[0],"DEFAULT_RTT","\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<text>s"),E(d[0],"DEFAULT_RCT","\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868(%<category_dice>d) \uff1e %<category_name>s"),E(d[0],"DEFAULT_RTTN","%<category_name>s\u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<row_dice>d) \uff1e %<text>s"),E(d[0],"DEFAULT_S","\u300a%<skill_name>s\uff0f%<category_name>s%<row_dice>d\u300b"),F(g,"$initialize",function(i,n){var a,m,q,p,w,L,W,f=this;if(null==n)n=I([],{});else if(!n.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return null==(a=n.$$smap.rtt)&&(a=y),null==(m=n.$$smap.rct)&&(m=y),null==(q=n.$$smap.rttn)&&(q=y),null==(p=n.$$smap.rtt_format)&&(p=u("DEFAULT_RTT")),null==(w=n.$$smap.rct_format)&&(w=u("DEFAULT_RCT")),null==(L=n.$$smap.rttn_format)&&(L=u("DEFAULT_RTTN")),null==(W=n.$$smap.s_format)&&(W=u("DEFAULT_S")),f.categories=c(i.$map(),"with_index",[1],function(D,ee){var ae,ce,te;return null==D&&(D=y),null==ee&&(ee=y),ce=null==(ae=z(D))[0]?y:ae[0],te=null==ae[1]?y:ae[1],e(u("SaiFicSkillTable"),"Category").$new(ce,te,ee,W)},{$$arity:2,$$has_top_level_mlhs_arg:!0}),f.rtt=a,f.rct=m,f.rttn=q.$to_a(),f.rtt_format=p,f.rct_format=w,f.rttn_format=L},-2),E(d[0],"RTTN",["RTT1","RTT2","RTT3","RTT4","RTT5","RTT6"].$freeze()),g.$attr_reader("categories"),F(g,"$roll_command",function(i,n){var m,a=this,q=y,p=y;return j(["RTT",a.rtt]["$include?"](m=n))?a.$format_skill(a.rtt_format,a.$roll_skill(i)):j(["RCT",a.rct]["$include?"](m))?(q=a.$roll_category(i),a.$format(a.rct_format,I(["category_dice","category_name"],{category_dice:q.$dice(),category_name:q.$name()}))):j(p=u("RTTN").$index(m))||j(p=a.rttn.$index(m))?a.$format_skill(a.rttn_format,a.categories["$[]"](p).$roll(i)):y},2),F(g,"$roll_category",function(i){return this.categories["$[]"](B(i.$roll_once(6),1))},1),F(g,"$roll_skill",function(i){return this.$roll_category(i).$roll(i)},1),F(g,"$prefixes",function(){var i=this;return U(["RTT[1-6]?","RCT",i.rtt,i.rct],i.rttn).$compact()},0),g.$private(),F(g,"$format_skill",function(i,n){return this.$format(i,I(["category_dice","row_dice","category_name","skill_name","text"],{category_dice:n.$category_dice(),row_dice:n.$row_dice(),category_name:n.$category_name(),skill_name:n.$name(),text:n.$to_s()}))},2)},Opal.modules["bcdice/dice_table/table"]=function(r){var E,B,l,_,x,C,N,K,F,H=[],t=r.nil,y=r.module,e=r.klass,b=r.hash2,S=r.defs,I=r.truthy,c=r.def,P=r.rb_minus;return E=H,B=F=[y(H[0],"BCDice")].concat(E),l=K=[y(F[0],"DiceTable")].concat(B),x=[_=e(K[0],null,"Table")].concat(l),C=r.$r(x),(N=_.$$prototype).times=N.sides=N.name=N.items=t,S(_,"$from_i18n",function(o,v){var d=t;return d=C("I18n").$t(o,b(["locale"],{locale:v})),this.$new(d["$[]"]("name"),d["$[]"]("type"),d["$[]"]("items"))},2),c(_,"$initialize",function(o,v,g){var d=this,u=t;return d.name=o,d.items=g.$freeze(),u=/(\d+)D(\d+)/i.$match(v),I(u)||d.$raise(C("ArgumentError"),"Unexpected table type: "+v),d.times=u["$[]"](1).$to_i(),d.sides=u["$[]"](2).$to_i()},3),c(_,"$roll",function(o){var g,v=this;return g=o.$roll_sum(v.times,v.sides),v.$choice(g)},1),c(_,"$choice",function(o){var g,v=this;return g=P(o,v.times),C("RollResult").$new(v.name,o,v.items["$[]"](g))},1)},Opal.modules["bcdice/dice_table"]=function(r){var H=r.top;return H.$require("bcdice/dice_table/roll_result"),H.$require("bcdice/dice_table/chain_table"),H.$require("bcdice/dice_table/d66_grid_table"),H.$require("bcdice/dice_table/d66_half_grid_table"),H.$require("bcdice/dice_table/d66_one_third_table"),H.$require("bcdice/dice_table/d66_left_range_table"),H.$require("bcdice/dice_table/d66_parity_table"),H.$require("bcdice/dice_table/d66_range_table"),H.$require("bcdice/dice_table/d66_table"),H.$require("bcdice/dice_table/range_table"),H.$require("bcdice/dice_table/sai_fic_skill_table"),H.$require("bcdice/dice_table/table")},Opal.modules["bcdice/enum"]=function(r){var S,Y,z,c,H=[],y=r.module,e=r.const_set;return S=H,Y=c=[y(H[0],"BCDice")].concat(S),z=[y(c[0],"D66SortType")].concat(Y),e(z[0],"NO_SORT","no_sort"),e(z[0],"ASC","asc"),e(z[0],"DESC","desc"),function(P,Y){var z=[y(P,"RoundType")].concat(Y);return e(z[0],"CEIL","ceil"),e(z[0],"FLOOR","floor"),e(z[0],"ROUND","round")}(c[0],c)},Opal.modules["bcdice/translate"]=function(r){var c,z,F,j,B,Y,H=[],t=r.nil,y=r.module,e=r.hash2,S=r.def;return c=H,z=Y=[y(H[0],"BCDice")].concat(c),j=[F=y(Y[0],"Translate")].concat(z),B=r.$r(j),S(F,"$translate",function(K,M){var A,l=this;if(null==l.locale&&(l.locale=t),null==M)M=e([],{});else if(!M.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return A=r.kwrestargs(M,{}),B("I18n").$translate(K,e(["locale","raise"],{locale:l.locale,raise:!0}).$merge(r.to_hash(A)))},-2)},Opal.modules["bcdice/result"]=function(r){var Y,B,A,U,M,z,H=[],t=r.nil,e=r.klass,b=r.send,S=r.to_a,I=r.rb_minus,c=r.def;return Y=H,B=z=[(0,r.module)(H[0],"BCDice")].concat(Y),[U=e(z[0],null,"Result")].concat(B),(M=U.$$prototype).secret=M.success=M.failure=M.critical=M.fumble=t,c(A=r.get_singleton_class(U),"$success",function(x){return b(this.$new(),"tap",[],function(h){var o=t;return null==h&&(h=t),b(h,"text=",S(o=[x])),I(o.length,1),b(h,"success=",S(o=[!0])),o[I(o.length,1)]},1)},1),c(A,"$failure",function(x){return b(this.$new(),"tap",[],function(h){var o=t;return null==h&&(h=t),b(h,"text=",S(o=[x])),I(o.length,1),b(h,"failure=",S(o=[!0])),o[I(o.length,1)]},1)},1),c(A,"$critical",function(x){return b(this.$new(),"tap",[],function(h){var o=t;return null==h&&(h=t),b(h,"text=",S(o=[x])),I(o.length,1),b(h,"critical=",S(o=[!0])),I(o.length,1),b(h,"success=",S(o=[!0])),o[I(o.length,1)]},1)},1),c(A,"$fumble",function(x){return b(this.$new(),"tap",[],function(h){var o=t;return null==h&&(h=t),b(h,"text=",S(o=[x])),I(o.length,1),b(h,"fumble=",S(o=[!0])),I(o.length,1),b(h,"failure=",S(o=[!0])),o[I(o.length,1)]},1)},1),c(A,"$nothing",function(){return"nothing"},0),c(U,"$initialize",function(l){var _=this;return null==l&&(l=t),_.text=l,_.rands=t,_.detailed_rands=t,_.secret=!1,_.success=!1,_.failure=!1,_.critical=!1,_.fumble=!1},-1),U.$attr_accessor("text","rands","detailed_rands"),U.$attr_writer("secret","success","failure","critical","fumble"),c(U,"$secret?",function(){return this.secret},0),c(U,"$success?",function(){return this.success},0),c(U,"$failure?",function(){return this.failure},0),c(U,"$critical?",function(){return this.critical},0),c(U,"$fumble?",function(){return this.fumble},0),c(U,"$condition=",function(l){return this.success=l,this.failure=l["$!"]()},1)},Opal.modules["racc/parser"]=function(r){var v,d,u,t=[],y=r.$r(t),e=r.nil,b=r.$$$,S=r.module,I=r.klass,c=r.truthy,P=r.const_set,Y=r.defs,E=r.gvars,z=r.rb_lt,F=r.send,j=r.to_a,B=r.rb_minus,U=r.def,K=r.to_ary,M=r.neqeq,A=r.rb_plus,l=r.eqeq,_=r.rb_ge,x=r.rb_gt,C=r.eqeqeq,N=r.rb_le,h=r.rb_times;return v=t,d=[S(t[0],"Racc")].concat(v),u=r.$r(d),I(d[0],u("StandardError"),"ParseError"),c(b("::","ParseError","skip_raise")?"constant":e)||P(t[0],"ParseError",b(y("Racc"),"ParseError")),function(o,v){var n,a,m,q,p,u=[S(o,"Racc")].concat(v),$=r.$r(u);return c($("Racc_No_Extensions","skip_raise")?"constant":e)||P(u[0],"Racc_No_Extensions",!1),n=u,m=[a=I(u[0],null,"Parser")].concat(n),q=r.$r(m),(p=a.$$prototype).yydebug=p.racc_debug_out=p.racc_error_status=p.racc_t=p.racc_vstack=p.racc_val=p.racc_state=p.racc_tstack=e,P(m[0],"Racc_Runtime_Version","1.4.6"),P(m[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),P(m[0],"Racc_Runtime_Core_Version_R","1.4.6"),P(m[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),P(m[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),P(m[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),P(m[0],"Racc_Runtime_Core_Version",q("Racc_Runtime_Core_Version_R")),P(m[0],"Racc_Runtime_Core_Revision",q("Racc_Runtime_Core_Revision_R")),P(m[0],"Racc_Runtime_Type","ruby"),Y(q("Parser"),"$racc_runtime_type",function(){return q("Racc_Runtime_Type")},0),U(a,"$_racc_setup",function(){var L,W,f=this,X=e,D=e,ee=e;return null==E.stderr&&(E.stderr=e),c(b(f.$class(),"Racc_debug_parser"))||(f.yydebug=!1),c(null!=(L=f.yydebug)&&L!==e?"instance-variable":e)||(f.yydebug=!1),c(f.yydebug)&&(c(null!=(W=f.racc_debug_out)&&W!==e?"instance-variable":e)||(f.racc_debug_out=E.stderr),f.racc_debug_out=c(X=f.racc_debug_out)?X:E.stderr),D=b(f.$class(),"Racc_arg"),c(z(D.$size(),14))&&(F(D,"[]=",j(ee=[13,!0])),B(ee.length,1)),D},0),U(a,"$_racc_init_sysvars",function(){var L=this;return L.racc_state=[0],L.racc_tstack=[],L.racc_vstack=[],L.racc_t=e,L.racc_val=e,L.racc_read_next=!0,L.racc_user_yyerror=!1,L.racc_error_status=0},0),U(a,"$do_parse",function(){return this.$__send__(q("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},0),U(a,"$next_token",function(){return this.$raise(q("NotImplementedError"),this.$class()+"#next_token is not defined")},0),U(a,"$_racc_do_parse_rb",function(L,W){var f,D=this,ee=e,ae=e,ne=e,ce=e,V=e,R=e,Q=e,k=e;return f=K(L),ee=null==f[0]?e:f[0],ae=null==f[1]?e:f[1],ne=null==f[2]?e:f[2],ce=null==f[3]?e:f[3],V=null==f[10]?e:f[10],D.$_racc_init_sysvars(),R=Q=k=e,F(D,"catch",["racc_end_parse"],function T(){var re,Z,G=null==T.$$s?this:T.$$s,se=e;for(null==G.racc_state&&(G.racc_state=e),null==G.racc_read_next&&(G.racc_read_next=e),null==G.racc_t&&(G.racc_t=e),null==G.yydebug&&(G.yydebug=e),null==G.racc_val&&(G.racc_val=e);c(!0);)for(c(k=ce["$[]"](G.racc_state["$[]"](-1)))?(c(G.racc_read_next)&&M(G.racc_t,0)&&(Z=G.$next_token(),re=K(Z),R=null==re[0]?e:re[0],G.racc_val=null==re[1]?e:re[1],G.racc_t=c(R)?c(se=V["$[]"](R))?se:1:0,c(G.yydebug)&&G.$racc_read_token(G.racc_t,R,G.racc_val),G.racc_read_next=!1),k=A(k,G.racc_t),c(_(k,0))&&c(Q=ee["$[]"](k))&&l(ae["$[]"](k),G.racc_state["$[]"](-1))||(Q=ne["$[]"](G.racc_state["$[]"](-1)))):Q=ne["$[]"](G.racc_state["$[]"](-1));c(Q=G.$_racc_evalact(Q,L)););},{$$arity:0,$$s:D})},2),U(a,"$yyparse",function(L,W){return this.$__send__(q("Racc_YY_Parse_Method"),L,W,this.$_racc_setup(),!0)},2),U(a,"$_racc_yyparse_rb",function(L,W,f,X){var D,ne=e,ce=e,te=e,V=e,Q=e,k=e,T=e;return D=K(f),ne=null==D[0]?e:D[0],ce=null==D[1]?e:D[1],te=null==D[2]?e:D[2],V=null==D[3]?e:D[3],Q=null==D[10]?e:D[10],this.$_racc_init_sysvars(),k=e,T=e,F(this,"catch",["racc_end_parse"],function O(){var G=null==O.$$s?this:O.$$s;for(null==G.racc_state&&(G.racc_state=e);!c(T=V["$[]"](G.racc_state["$[]"](-1)));)for(;c(k=G.$_racc_evalact(te["$[]"](G.racc_state["$[]"](-1)),f)););return F(L,"__send__",[W],function se($e,_e){var ie=null==se.$$s?this:se.$$s,J=e,oe=e;for(null==ie.racc_t&&(ie.racc_t=e),null==ie.racc_state&&(ie.racc_state=e),null==ie.racc_read_next&&(ie.racc_read_next=e),null==$e&&($e=e),null==_e&&(_e=e),ie.racc_t=c($e)?c(J=Q["$[]"]($e))?J:1:0,ie.racc_val=_e,ie.racc_read_next=!1,T=A(T,ie.racc_t),c(_(T,0))&&c(k=ne["$[]"](T))&&l(ce["$[]"](T),ie.racc_state["$[]"](-1))||(k=te["$[]"](ie.racc_state["$[]"](-1)));c(k=ie.$_racc_evalact(k,f)););for(;c(c(J=c(oe=(T=V["$[]"](ie.racc_state["$[]"](-1)))["$!"]())?oe:ie.racc_read_next["$!"]())?J:ie.racc_t["$=="](0));)for(c(T)&&c(T=A(T,ie.racc_t))&&c(_(T,0))&&c(k=ne["$[]"](T))&&l(ce["$[]"](T),ie.racc_state["$[]"](-1))||(k=te["$[]"](ie.racc_state["$[]"](-1)));c(k=ie.$_racc_evalact(k,f)););},{$$arity:2,$$s:G})},{$$arity:0,$$s:this})},4),U(a,"$_racc_evalact",function(L,W){var f,te,D=this,ee=e,ae=e,ce=e,V=e,R=e,Q=e,k=e;if(ee=null==(f=K(W))[0]?e:f[0],ae=null==f[1]?e:f[1],ce=null==f[3]?e:f[3],te=null==f[11]?e:f[11],V=null==f[12]?e:f[12],c(x(L,0))&&c(z(L,te)))c(x(D.racc_error_status,0))&&(l(D.racc_t,1)||(D.racc_error_status=B(D.racc_error_status,1))),D.racc_vstack.$push(D.racc_val),D.racc_state.$push(L),D.racc_read_next=!0,c(D.yydebug)&&(D.racc_tstack.$push(D.racc_t),D.$racc_shift(D.racc_t,D.racc_tstack,D.racc_vstack));else if(c(z(L,0))&&c(x(L,V["$-@"]()))){if(R=F(D,"catch",["racc_jump"],function T(){var O=null==T.$$s?this:T.$$s;return null==O.racc_state&&(O.racc_state=e),O.racc_state.$push(O.$_racc_do_reduce(W,L)),!1},{$$arity:0,$$s:D}),c(R)){if(C(1,Q=R))return D.racc_user_yyerror=!0,V["$-@"]();if(C(2,Q))return te;D.$raise("[Racc Bug] unknown jump code")}}else if(l(L,te))c(D.yydebug)&&D.$racc_accept(),D.$throw("racc_end_parse",D.racc_vstack["$[]"](0));else{if(l(L,V["$-@"]())){for(C(0,Q=D.racc_error_status)?c(W["$[]"](21))||D.$on_error(D.racc_t,D.racc_val,D.racc_vstack):C(3,Q)&&(l(D.racc_t,0)&&D.$throw("racc_end_parse",e),D.racc_read_next=!0),D.racc_user_yyerror=!1,D.racc_error_status=3;c(!0)&&!(c(k=ce["$[]"](D.racc_state["$[]"](-1)))&&(k=A(k,1),c(_(k,0))&&c(L=ee["$[]"](k))&&l(ae["$[]"](k),D.racc_state["$[]"](-1))));)c(N(D.racc_state.$size(),1))&&D.$throw("racc_end_parse",e),D.racc_state.$pop(),D.racc_vstack.$pop(),c(D.yydebug)&&(D.racc_tstack.$pop(),D.$racc_e_pop(D.racc_state,D.racc_tstack,D.racc_vstack));return L}D.$raise("[Racc Bug] unknown action "+L.$inspect())}return c(D.yydebug)&&D.$racc_next_state(D.racc_state["$[]"](-1),D.racc_state),e},2),U(a,"$_racc_do_reduce",function(L,W){var f,V,Q,G,se,$e,ie,D=this,ae=e,ne=e,ce=e,te=e,R=e,k=e,T=e,O=e,re=e,Z=e,_e=e,le=e,ue=e,J=e;return ae=null==(f=K(L))[4]?e:f[4],ne=null==f[5]?e:f[5],ce=null==f[6]?e:f[6],te=null==f[7]?e:f[7],V=null==f[8]?e:f[8],R=null==f[9]?e:f[9],Q=null==f[13]?e:f[13],k=D.racc_state,T=D.racc_vstack,O=D.racc_tstack,re=h(W,-3),Z=R["$[]"](re),G=R["$[]"](A(re,1)),se=R["$[]"](A(re,2)),$e=[],c(D.yydebug)&&(_e=O["$[]"](Z["$-@"](),Z)),le=T["$[]"](Z["$-@"](),Z),c(D.yydebug)&&(ue=[Z["$-@"](),Z,$e],F(O,"[]=",j(ue)),B(ue.length,1)),ue=[Z["$-@"](),Z,$e],F(T,"[]=",j(ue)),B(ue.length,1),ue=[Z["$-@"](),Z,$e],F(k,"[]=",j(ue)),B(ue.length,1),c(Q)?T.$push(D.$__send__(se,le,T,le["$[]"](0))):T.$push(D.$__send__(se,le,T)),O.$push(G),c(D.yydebug)&&D.$racc_reduce(_e,G,O,T),ie=B(G,V),c(re=te["$[]"](ie))&&(re=A(re,k["$[]"](-1)),c(_(re,0))&&c(J=ae["$[]"](re))&&l(ne["$[]"](re),ie))?J:ce["$[]"](ie)},2),U(a,"$on_error",function(L,W,f){var D,X=this;return X.$raise(q("ParseError"),X.$sprintf("\nparse error on value %s (%s)",W.$inspect(),c(D=X.$token_to_str(L))?D:"?"))},3),U(a,"$yyerror",function(){return this.$throw("racc_jump",1)},0),U(a,"$yyaccept",function(){return this.$throw("racc_jump",2)},0),U(a,"$yyerrok",function(){return this.racc_error_status=0},0),U(a,"$racc_read_token",function(L,W,f){var X=this;return X.racc_debug_out.$print("read    "),X.racc_debug_out.$print(W.$inspect(),"(",X.$racc_token2str(L),") "),X.racc_debug_out.$puts(f.$inspect()),X.racc_debug_out.$puts()},3),U(a,"$racc_shift",function(L,W,f){var X=this;return X.racc_debug_out.$puts("shift   "+X.$racc_token2str(L)),X.$racc_print_stacks(W,f),X.racc_debug_out.$puts()},3),U(a,"$racc_reduce",function(L,W,f,X){var D=this,ee=e;return(ee=D.racc_debug_out).$print("reduce "),c(L["$empty?"]())?ee.$print(" <none>"):F(L,"each",[],function ae(ne){return null==ne&&(ne=e),ee.$print(" ",(null==ae.$$s?this:ae.$$s).$racc_token2str(ne))},{$$arity:1,$$s:D}),ee.$puts(" --\x3e "+D.$racc_token2str(W)),D.$racc_print_stacks(f,X),D.racc_debug_out.$puts()},4),U(a,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},0),U(a,"$racc_e_pop",function(L,W,f){var X=this;return X.racc_debug_out.$puts("error recovering mode: pop token"),X.$racc_print_states(L),X.$racc_print_stacks(W,f),X.racc_debug_out.$puts()},3),U(a,"$racc_next_state",function(L,W){var f=this;return f.racc_debug_out.$puts("goto    "+L),f.$racc_print_states(W),f.racc_debug_out.$puts()},2),U(a,"$racc_print_stacks",function(L,W){var X=e;return(X=this.racc_debug_out).$print("        ["),F(L,"each_index",[],function D(ee){return null==ee&&(ee=e),X.$print(" (",(null==D.$$s?this:D.$$s).$racc_token2str(L["$[]"](ee))," ",W["$[]"](ee).$inspect(),")")},{$$arity:1,$$s:this}),X.$puts(" ]")},2),U(a,"$racc_print_states",function(L){var f=e;return(f=this.racc_debug_out).$print("        ["),F(L,"each",[],function(D){return null==D&&(D=e),f.$print(" ",D)},1),f.$puts(" ]")},1),U(a,"$racc_token2str",function(L){var f;return c(f=b(this.$class(),"Racc_token_to_s_table")["$[]"](L))?f:this.$raise("[Racc Bug] can't convert token "+L+" to string")},1),U(a,"$token_to_str",function(L){return b(this.$class(),"Racc_token_to_s_table")["$[]"](L)},1)}(t[0],t)},Opal.modules["bcdice/arithmetic/node"]=function(r){var U,l,N,u,$,o,v,x,M,H=[],t=r.nil,y=r.$$$,e=r.module,b=r.klass,S=r.def,I=r.send2,c=r.find_super,P=r.eqeq,Y=r.const_set,E=r.eqeqeq,z=r.rb_divide,F=r.truthy,j=r.alias;return U=H,l=M=[e(H[0],"BCDice")].concat(U),N=x=[e(M[0],"Arithmetic")].concat(l),o=[e(x[0],"Node")].concat(N),v=r.$r(o),($=(u=b(o[0],null,"BinaryOp")).$$prototype).lhs=$.rhs=$.op=t,S(u,"$initialize",function(i,n,a){var m=this;return m.lhs=i,m.op=n,m.rhs=a},3),S(u,"$eval",function(i){var m,n=this,a=t;return a=n.lhs.$eval(i),m=n.rhs.$eval(i),a.$send(n.op,m)},1),S(u,"$output",function(){var i=this;return""+i.lhs.$output()+i.op+i.rhs.$output()},0),S(u,"$s_exp",function(){var i=this;return"("+i.$op_for_s_exp()+" "+i.lhs.$s_exp()+" "+i.rhs.$s_exp()+")"},0),S(u,"$op_for_s_exp",function(){return this.op},0),function(g,d,u){var $=b(g,d,"DivideBase"),s=[$].concat(u),i=r.$r(s),n=$.$$prototype;n.lhs=n.rhs=n.op=t,S($,"$initialize",function a(m,q){return delete a.$$p,I(this,c(this,"initialize",a,!1,!0),"initialize",[m,"/",q],null)},2),S($,"$eval",function(m){var p,w,q=this;return p=q.lhs.$eval(m),w=q.rhs.$eval(m),P(w,0)&&q.$raise(i("ZeroDivisionError")),q.$divide_and_round(p,w,m)},1),S($,"$output",function a(){var m=a.$$p||t,q=this;return delete a.$$p,""+I(q,c(q,"output",a,!1,!0),"output",[],m)+q.$rounding_method()},0),$.$private(),S($,"$rounding_method",function(){return y(this.$class(),"ROUNDING_METHOD")},0),S($,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()},0),S($,"$divide_and_round",function(m,q,p){return this.$raise(i("NotImplementedError"))},3)}(o[0],v("BinaryOp"),o),function(g,d,u){var $=b(g,d,"DivideWithGameSystemDefault"),s=[$].concat(u),i=r.$r(s);Y(s[0],"ROUNDING_METHOD",""),$.$private(),S($,"$divide_and_round",function(a,m,q){var p,w=t;return E(y(i("RoundType"),"CEIL"),p=q)?z(a.$to_f(),m).$ceil():E(y(i("RoundType"),"ROUND"),p)?(w=z(a.$to_f(),m),F(w["$negative?"]())?w.$abs().$round()["$-@"]():w.$round()):z(a,m).$floor()},3)}(o[0],v("DivideBase"),o),function(g,d,u){var $=b(g,d,"DivideWithCeil"),s=[$].concat(u);Y(s[0],"ROUNDING_METHOD","C"),$.$private(),S($,"$divide_and_round",function(n,a,m){return z(n.$to_f(),a).$ceil()},3)}(o[0],v("DivideBase"),o),function(g,d,u){var $=b(g,d,"DivideWithRound"),s=[$].concat(u);Y(s[0],"ROUNDING_METHOD","R"),$.$private(),S($,"$divide_and_round",function(n,a,m){var q=t;return q=z(n.$to_f(),a),F(q["$negative?"]())?q.$abs().$round()["$-@"]():q.$round()},3)}(o[0],v("DivideBase"),o),function(g,d,u){var $=b(g,d,"DivideWithFloor"),s=[$].concat(u);Y(s[0],"ROUNDING_METHOD","F"),$.$private(),S($,"$divide_and_round",function(n,a,m){return z(n,a).$floor()},3)}(o[0],v("DivideBase"),o),function(g,d){var u=b(g,null,"Negative");u.$$prototype.body=t,S(u,"$initialize",function(i){return this.body=i},1),S(u,"$eval",function(i){return this.body.$eval(i)["$-@"]()},1),S(u,"$output",function(){return"-"+this.body.$output()},0),S(u,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"},0)}(o[0]),function(g,d){var u=b(g,null,"Parenthesis");u.$$prototype.expr=t,S(u,"$initialize",function(i){return this.expr=i},1),S(u,"$eval",function(i){return this.expr.$eval(i)},1),S(u,"$output",function(){return"("+this.expr.$output()+")"},0),S(u,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"},0)}(o[0]),function(g,d){var u=b(g,null,"Number");return u.$$prototype.value=t,S(u,"$initialize",function(i){return this.value=i},1),S(u,"$eval",function(i){return this.value},1),S(u,"$output",function(){return this.value.$to_s()},0),j(u,"s_exp","output")}(o[0])},Opal.modules.strscan=function(r){var j,B,U,K,M,H=[],t=r.nil,e=r.def,b=r.truthy,S=r.eqeqeq,I=r.Opal,c=r.send,P=r.to_a,Y=r.rb_minus,E=r.alias;return j=H,U=[B=(0,r.klass)(H[0],null,"StringScanner")].concat(j),K=r.$r(U),(M=B.$$prototype).pos=M.string=M.working=M.matched=M.prev_pos=M.match=t,B.$attr_reader("pos","matched"),e(B,"$initialize",function(l){var _=this;return _.string=l,_.pos=0,_.matched=t,_.working=l,_.match=[]},1),B.$attr_reader("string"),e(B,"$beginning_of_line?",function(){var l=this;return 0===l.pos||"\n"===l.string.charAt(l.pos-1)},0),e(B,"$scan",function(l){var _=this,x=(l=_.$anchor(l)).exec(_.working);return null==x?_.matched=t:"object"==typeof x?(_.prev_pos=_.pos,_.pos+=x[0].length,_.working=_.working.substring(x[0].length),_.matched=x[0],_.match=x,x[0]):"string"==typeof x?(_.pos+=x.length,_.working=_.working.substring(x.length),x):t},1),e(B,"$scan_until",function(l){var _=this;l=_.$anchor(l);for(var N,x=_.pos,C=_.working;;){if(N=l.exec(C),x+=1,C=C.substr(1),null!=N)return _.matched=_.string.substr(_.pos,x-_.pos-1+N[0].length),_.match=N,_.prev_pos=x-1,_.pos=x,_.working=C.substr(N[0].length),_.matched;if(0===C.length)return _.match=[],_.matched=t}},1),e(B,"$[]",function(l){var x;if(b(this.match["$empty?"]()))return t;S(K("Symbol"),x=l)?l=l.$to_s():S(K("String"),x)||(l=I["$coerce_to!"](l,K("Integer"),"to_int"));var C=this.match;return l<0&&(l+=C.length),l<0||l>=C.length||null==C[l]?t:C[l]},1),e(B,"$check",function(l){var _=this,x=(l=_.$anchor(l)).exec(_.working);return _.matched=null==x?t:x[0]},1),e(B,"$check_until",function(l){var _=this,x=_.prev_pos,C=_.pos,N=_.$scan_until(l);return N!==t&&(_.matched=N.substr(-1),_.working=_.string.substr(C)),_.prev_pos=x,_.pos=C,N},1),e(B,"$peek",function(l){return this.working.substring(0,l)},1),e(B,"$eos?",function(){return 0===this.working.length},0),e(B,"$exist?",function(l){var x=l.exec(this.working);return null==x?t:0==x.index?0:x.index+1},1),e(B,"$skip",function(l){var _=this,x=(l=_.$anchor(l)).exec(_.working);if(null==x)return _.match=[],_.matched=t;var C=x[0],N=C.length;return _.matched=C,_.match=x,_.prev_pos=_.pos,_.pos+=N,_.working=_.working.substring(N),N},1),e(B,"$skip_until",function(l){var x=this.$scan_until(l);return x===t?t:(this.matched=x.substr(-1),x.length)},1),e(B,"$get_byte",function(){var l=this,_=t;return l.pos<l.string.length?(l.prev_pos=l.pos,l.pos+=1,_=l.matched=l.working.substring(0,1),l.working=l.working.substring(1)):l.matched=t,_},0),e(B,"$match?",function(l){var _=this,x=(l=_.$anchor(l)).exec(_.working);return null==x?t:(_.prev_pos=_.pos,x[0].length)},1),e(B,"$pos=",function(l){var _=this;return l<0&&(l+=_.string.$length()),_.pos=l,_.working=_.string.slice(l)},1),e(B,"$matched_size",function(){return this.matched===t?t:this.matched.length},0),e(B,"$post_match",function(){var l=this;return l.matched===t?t:l.string.substr(l.pos)},0),e(B,"$pre_match",function(){var l=this;return l.matched===t?t:l.string.substr(0,l.prev_pos)},0),e(B,"$reset",function(){var l=this;return l.working=l.string,l.matched=t,l.pos=0},0),e(B,"$rest",function(){return this.working},0),e(B,"$rest?",function(){return 0!==this.working.length},0),e(B,"$rest_size",function(){return this.$rest().$size()},0),e(B,"$terminate",function(){var _,l=this;return l.match=t,_=[l.string.$length()],c(l,"pos=",P(_)),_[Y(_.length,1)]},0),e(B,"$unscan",function(){var l=this;return l.pos=l.prev_pos,l.prev_pos=t,l.match=t,l},0),E(B,"bol?","beginning_of_line?"),E(B,"getch","get_byte"),B.$private(),e(B,"$anchor",function(l){var _=l.toString().match(/\/([^\/]+)$/);return _=_?_[1]:void 0,new RegExp("^(?:"+l.source+")",_)},1)},Opal.modules["bcdice/normalize"]=function(r){var c,z,Y,H=[],t=r.nil,y=r.module,e=r.eqeqeq,b=r.def,S=r.eqeq;return c=H,Y=[y(H[0],"BCDice")].concat(c),(z=y(Y[0],"Normalize")).$module_function(),b(z,"$comparison_operator",function(j){var B;return e(/<=|=</,B=j)?"<=":e(/>=|=>/,B)?">=":e(/<>|!=|=!/,B)?"!=":e(/</,B)?"<":e(/>/,B)?">":e(/=/,B)?"==":t},1),b(z,"$target_number",function(j){return S(j,"?")?j:j.$to_i()},1)},Opal.modules["bcdice/command/lexer"]=function(r){var z,U,_,x,C,N,h,M,j,H=r.top,t=[],y=r.nil,e=r.module,b=r.klass,S=r.const_set,I=r.hash2,c=r.truthy,P=r.send,Y=r.def;return H.$require("strscan"),H.$require("bcdice/normalize"),z=t,U=j=[e(t[0],"BCDice")].concat(z),_=M=[e(j[0],"Command")].concat(U),C=[x=b(M[0],null,"Lexer")].concat(_),N=r.$r(C),(h=x.$$prototype).scanner=h.notations=y,S(C[0],"SYMBOLS",I(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),Y(x,"$initialize",function(v,g){var d,u,s;return v=c(s=(u=(d=v)===y||null==d?y:P(d,"split",[" ",2]))===y||null==u?y:P(u,"first",[]))?s:"",this.scanner=N("StringScanner").$new(v),this.notations=P(g,"map",[],function(n){return null==n&&(n=y),c(n["$is_a?"](N("String")))?N("Regexp").$new(n):n},1)},2),Y(x,"$next_token",function(){try{var v=this,g=y,d=y,$=y,s=y;return c(v.scanner["$eos?"]())?[!1,"$"]:(P(v.notations,"each",[],function i(n){var m,a=null==i.$$s?this:i.$$s;if(null==a.scanner&&(a.scanner=y),null==n&&(n=y),m=a.scanner.$scan(n),!c(m))return y;r.ret(["NOTATION",m])},{$$arity:1,$$s:v}),c(g=v.scanner.$scan(/\d+/))?["NUMBER",g.$to_i()]:c(d=v.scanner.$scan(/[<>!=]+/))?(d=N("Normalize").$comparison_operator(d),[c(d)?"CMP_OP":"ILLEGAL",d]):($=v.scanner.$getch().$upcase(),[c(s=N("SYMBOLS")["$[]"]($))?s:$.$to_sym(),$]))}catch(i){if(i===r.returner)return i.$v;throw i}},0),Y(x,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/command/parsed"]=function(r){var P,F,M,A,l,_,x,B,E,H=[],t=r.nil,y=r.module,e=r.klass,b=r.def,S=r.truthy,I=r.eqeqeq;return P=H,F=E=[y(H[0],"BCDice")].concat(P),M=B=[y(E[0],"Command")].concat(F),l=[A=e(B[0],null,"Parsed")].concat(M),_=r.$r(l),(x=A.$$prototype).question_target=x.critical=x.fumble=x.dollar=x.modify_number=x.target_number=x.prefix_number=x.command=x.suffix_number=x.cmp_op=t,A.$attr_accessor("command"),A.$attr_accessor("prefix_number"),A.$attr_accessor("suffix_number"),A.$attr_accessor("critical"),A.$attr_accessor("fumble"),A.$attr_accessor("dollar"),A.$attr_accessor("modify_number"),A.$attr_accessor("cmp_op"),A.$attr_accessor("target_number"),A.$attr_writer("question_target"),b(A,"$initialize",function(){var N=this;return N.prefix_number=t,N.suffix_number=t,N.critical=t,N.fumble=t,N.dollar=t,N.cmp_op=t,N.target_number=t,N.question_target=!1},0),b(A,"$question_target?",function(){return this.question_target},0),b(A,"$to_s",function(N){var $,h=this,o=t,v=t,g=t,d=t,u=t;return null==N&&(N="after_command"),o=S(h.critical)?"@"+h.critical:t,v=S(h.fumble)?"#"+h.fumble:t,g=S(h.dollar)?"$"+h.dollar:t,d=_("Format").$modifier(h.modify_number),u=S(h.question_target)?"?":h.target_number,I("after_command",$=N)?[h.prefix_number,h.command,h.suffix_number,o,v,g,d,h.cmp_op,u].$join():I("after_modify_number",$)?[h.prefix_number,h.command,h.suffix_number,d,o,v,g,h.cmp_op,u].$join():I("after_target_number",$)?[h.prefix_number,h.command,h.suffix_number,d,h.cmp_op,u,o,v,g].$join():t},-1)},Opal.modules["bcdice/command/parser"]=function(r){var _,h,$,a,m,q,p,w,L,W,f,X,ae,s,i,n,te,v,g,C,H=r.top,t=[],y=r.$r(t),e=r.nil,b=r.$$$,S=r.klass,I=r.module,c=r.hash2,P=r.send2,Y=r.find_super,E=r.def,z=r.send,F=r.to_a,j=r.rb_minus,B=r.eqeq,U=r.hash,K=r.const_set,M=r.truthy,A=r.to_ary;return H.$require("racc/parser.rb"),H.$require("bcdice/arithmetic/node"),H.$require("bcdice/command/lexer"),H.$require("bcdice/command/parsed"),S(b(y("BCDice"),"Command"),b(y("Racc"),"Parser"),"Parser"),_=t,h=C=[I(t[0],"BCDice")].concat(_),v=[I(C[0],"Command")].concat(h),g=r.$r(v),$=v,i=[s=S(v[0],b(g("Racc"),"Parser"),"Parser")].concat($),n=r.$r(i),(te=s.$$prototype).notations=te.lexer=te.modifier=te.suffix_number=te.prefix_number=te.need_suffix_number=te.need_prefix_number=te.critical=te.fumble=te.dollar=te.allowed_cmp_op=te.question_target=e,E(s,"$initialize",function V(R,Q){var k,T,O,re,G=this;if(delete V.$$p,k=r.slice.call(arguments),null==(T=r.extract_kwargs(k)))T=c([],{});else if(!T.$$is_hash)throw r.ArgumentError.$new("expected kwargs");if(O=k,!r.hasOwnProperty.call(T.$$smap,"round_type"))throw r.ArgumentError.$new("missing keyword: round_type");return re=T.$$smap.round_type,P(G,Y(G,"initialize",V,!1,!0),"initialize",[],null),G.notations=O,G.round_type=re,G.prefix_number=!1,G.suffix_number=!1,G.need_prefix_number=!1,G.need_suffix_number=!1,G.modifier=!0,G.critical=!1,G.fumble=!1,G.dollar=!1,G.allowed_cmp_op=[e,">=",">","<=","<","==","!="],G.question_target=!1},-2),E(s,"$disable_modifier",function(){return this.modifier=!1,this},0),E(s,"$enable_prefix_number",function(){return this.prefix_number=!0,this},0),E(s,"$enable_suffix_number",function(){return this.suffix_number=!0,this},0),E(s,"$has_prefix_number",function(){var R=this;return R.prefix_number=!0,R.need_prefix_number=!0,R},0),E(s,"$has_suffix_number",function(){var R=this;return R.suffix_number=!0,R.need_suffix_number=!0,R},0),E(s,"$enable_critical",function(){return this.critical=!0,this},0),E(s,"$enable_fumble",function(){return this.fumble=!0,this},0),E(s,"$enable_dollar",function(){return this.dollar=!0,this},0),E(s,"$restrict_cmp_op_to",function(R){var Q,T=this;return Q=r.slice.call(arguments),T.allowed_cmp_op=Q,T},-1),E(s,"$enable_question_target",function(){return this.question_target=!0,this},0),E(s,"$parse",function(R){var Q=this;try{return Q.lexer=n("Lexer").$new(R,Q.notations),Q.$do_parse()}catch(k){if(!r.rescue(k,[n("ParseError"),n("ZeroDivisionError")]))throw k;try{return e}finally{r.pop_exception()}}},1),s.$private(),E(s,"$parsed",function(R,Q,k,T){return z(n("Parsed").$new(),"tap",[],function re(Z){var G,se,$e,_e,le,ue,ie=null==re.$$s?this:re.$$s,J=e;return null==ie.round_type&&(ie.round_type=e),null==Z&&(Z=e),J=[R["$[]"]("command")],z(Z,"command=",F(J)),j(J.length,1),J=[(G=R["$[]"]("prefix"),G===e||null==G?e:z(G,"eval",[ie.round_type]))],z(Z,"prefix_number=",F(J)),j(J.length,1),J=[(se=R["$[]"]("suffix"),se===e||null==se?e:z(se,"eval",[ie.round_type]))],z(Z,"suffix_number=",F(J)),j(J.length,1),J=[($e=Q["$[]"]("critical"),$e===e||null==$e?e:z($e,"eval",[ie.round_type]))],z(Z,"critical=",F(J)),j(J.length,1),J=[(_e=Q["$[]"]("fumble"),_e===e||null==_e?e:z(_e,"eval",[ie.round_type]))],z(Z,"fumble=",F(J)),j(J.length,1),J=[(le=Q["$[]"]("dollar"),le===e||null==le?e:z(le,"eval",[ie.round_type]))],z(Z,"dollar=",F(J)),j(J.length,1),J=[k.$eval(ie.round_type)],z(Z,"modify_number=",F(J)),j(J.length,1),J=[T["$[]"]("cmp_op")],z(Z,"cmp_op=",F(J)),j(J.length,1),B(T["$[]"]("target"),"?")?(z(Z,"question_target=",F(J=[!0])),j(J.length,1),z(Z,"target_number=",F(J=[0])),J[j(J.length,1)]):(z(Z,"question_target=",F(J=[!1])),j(J.length,1),J=[(ue=T["$[]"]("target"),ue===e||null==ue?e:z(ue,"eval",[ie.round_type]))],z(Z,"target_number=",F(J)),J[j(J.length,1)])},{$$arity:1,$$s:this})},4),E(s,"$next_token",function(){return this.lexer.$next_token()},0),a=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,33,34,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,e,e,17,18,6,e,5,e,e,17,18,e,e,5,23,24,25,26,56,54,55,57],m=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,e,17,15,15,18,18,23,e,18,30,30,23,23,24,e,23,31,31,24,24,25,e,24,44,44,25,25,28,e,25,47,47,28,28,29,e,28,48,48,29,29,33,e,29,49,49,33,33,34,e,33,50,50,34,34,36,e,34,e,e,36,36,37,e,36,e,e,37,37,e,e,37,27,27,27,27,52,52,52,52],q=[-2,4,16,-3,-1,11,e,33,13,35,23,30,1,e,28,40,e,37,44,e,e,-2,e,51,58,65,0,106,72,79,47,54,e,86,93,e,100,107,e,e,e,e,e,e,63,e,e,68,75,82,89,e,120,e,e,e,e,e],p=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],w=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,e,e,21,47,48,40,51,52,49,50,44,46,3,e,e,e,13,e,e,e,e,e,e,e,32],L=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,e,e,4,8,8,5,7,7,8,8,9,5,6,e,e,e,6,e,e,e,e,e,e,e,6],W=[e,6,13,3,9,-1,27,-15,-10,-1,-38],f=[e,e,e,e,e,e,19,16,15,e,e],X=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],ae=U(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),K(i[0],"Racc_arg",[a,m,p,q,w,L,f,W,19,X,ae,58,35,!0]),K(i[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),K(i[0],"Racc_debug_parser",!1),E(s,"$_reduce_1",function(R,Q,k){var T;return M(this.modifier)||this.$raise(n("ParseError")),T=A(R),this.$parsed(null==T[0]?e:T[0],null==T[1]?e:T[1],null==T[2]?e:T[2],null==T[3]?e:T[3])},3),E(s,"$_reduce_2",function(R,Q,k){var T;return M(this.modifier)||this.$raise(n("ParseError")),T=A(R),this.$parsed(null==T[0]?e:T[0],null==T[2]?e:T[2],null==T[1]?e:T[1],null==T[3]?e:T[3])},3),E(s,"$_reduce_3",function(R,Q,k){var T,se;return se=null==(T=A(R))[2]?e:T[2],this.$parsed(null==T[0]?e:T[0],null==T[1]?e:T[1],b(b(n("Arithmetic"),"Node"),"Number").$new(0),se)},3),E(s,"$_reduce_4",function(R,Q,k){var T=this;return M(T.prefix_number)&&M(T.suffix_number)||T.$raise(n("ParseError")),c(["command","prefix","suffix"],{command:R["$[]"](1),prefix:R["$[]"](0),suffix:R["$[]"](2)})},3),E(s,"$_reduce_5",function(R,Q,k){var T=this;return M(T.prefix_number)||T.$raise(n("ParseError")),M(T.need_suffix_number)&&T.$raise(n("ParseError")),c(["command","prefix"],{command:R["$[]"](1),prefix:R["$[]"](0)})},3),E(s,"$_reduce_6",function(R,Q,k){var T=this;return M(T.suffix_number)||T.$raise(n("ParseError")),M(T.need_prefix_number)&&T.$raise(n("ParseError")),c(["command","suffix"],{command:R["$[]"](0),suffix:R["$[]"](1)})},3),E(s,"$_reduce_7",function(R,Q,k){var T=this;return(M(T.need_prefix_number)||M(T.need_suffix_number))&&T.$raise(n("ParseError")),c(["command"],{command:R["$[]"](0)})},3),E(s,"$_reduce_8",function(R,Q,k){return c([],{})},3),E(s,"$_reduce_9",function(R,Q,k){var T,se,$e,Z=e;return Z=null==(T=A(R))[0]?e:T[0],se=null==T[2]?e:T[2],M(this.critical)&&M(Z["$[]"]("critical")["$nil?"]())||this.$raise(n("ParseError")),z(Z,"[]=",F($e=["critical",se])),j($e.length,1),Z},3),E(s,"$_reduce_10",function(R,Q,k){var T,se,$e,Z=e;return Z=null==(T=A(R))[0]?e:T[0],se=null==T[2]?e:T[2],M(this.fumble)&&M(Z["$[]"]("fumble")["$nil?"]())||this.$raise(n("ParseError")),z(Z,"[]=",F($e=["fumble",se])),j($e.length,1),Z},3),E(s,"$_reduce_11",function(R,Q,k){var T,se,$e,Z=e;return Z=null==(T=A(R))[0]?e:T[0],se=null==T[2]?e:T[2],M(this.dollar)&&M(Z["$[]"]("dollar")["$nil?"]())||this.$raise(n("ParseError")),z(Z,"[]=",F($e=["dollar",se])),j($e.length,1),Z},3),E(s,"$_reduce_12",function(R,Q,k){return R["$[]"](1)},3),E(s,"$_reduce_13",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"Negative").$new(R["$[]"](1))},3),E(s,"$_reduce_14",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"+",R["$[]"](2))},3),E(s,"$_reduce_15",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"-",R["$[]"](2))},3),E(s,"$_reduce_16",function(R,Q,k){return M(this.allowed_cmp_op["$include?"](e))||this.$raise(n("ParseError")),c([],{})},3),E(s,"$_reduce_17",function(R,Q,k){var T,Z,G;return G=null==(T=A(R))[1]?e:T[1],M(this.allowed_cmp_op["$include?"](Z=null==T[0]?e:T[0]))||this.$raise(n("ParseError")),c(["cmp_op","target"],{cmp_op:Z,target:G})},3),E(s,"$_reduce_18",function(R,Q,k){var O,T=this;return O=R["$[]"](0),M(T.question_target)||T.$raise(n("ParseError")),M(T.allowed_cmp_op["$include?"](O))||T.$raise(n("ParseError")),c(["cmp_op","target"],{cmp_op:O,target:"?"})},3),E(s,"$_reduce_19",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"+",R["$[]"](2))},3),E(s,"$_reduce_20",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"-",R["$[]"](2))},3),E(s,"$_reduce_22",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"BinaryOp").$new(R["$[]"](0),"*",R["$[]"](2))},3),E(s,"$_reduce_23",function(R,Q,k){return R["$[]"](3).$new(R["$[]"](0),R["$[]"](2))},3),E(s,"$_reduce_25",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),E(s,"$_reduce_26",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithCeil")},3),E(s,"$_reduce_27",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithCeil")},3),E(s,"$_reduce_28",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithRound")},3),E(s,"$_reduce_29",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"DivideWithFloor")},3),E(s,"$_reduce_30",function(R,Q,k){return R["$[]"](1)},3),E(s,"$_reduce_31",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"Negative").$new(R["$[]"](1))},3),E(s,"$_reduce_33",function(R,Q,k){return R["$[]"](1)},3),E(s,"$_reduce_34",function(R,Q,k){return b(b(n("Arithmetic"),"Node"),"Number").$new(R["$[]"](0))},3),E(s,"$_reduce_none",function(R,Q,k){return R["$[]"](0)},3)},Opal.modules["bcdice/deprecated/checker"]=function(r){var P,F,K,M,A,l,B,E,H=[],t=r.nil,y=r.module,e=r.send,b=r.eqeqeq,S=r.truthy,I=r.def;return P=H,F=E=[y(H[0],"BCDice")].concat(P),K=B=[y(E[0],"Deprecated")].concat(F),A=[M=y(B[0],"Checker")].concat(K),l=r.$r(A),M.$private(),I(M,"$check_result_legacy",function(x,C,N,h){var d,o=this,v=t,g=t,u=t,$=t;return v=e(C,"map",[],"sides".$to_proc()),d=(g=e(C,"map",[],"value".$to_proc())).$sum(),u=b([100],$=v)?o.$check_1D100(x,d,N,h):b([20],$)?o.$check_1D20(x,d,N,h):b([6,6],$)?o.$check_2D6(x,d,g,N,h):t,(S(u["$nil?"]())||S(u["$empty?"]()))&&(u=b([10],$=v.$uniq())?o.$check_nD10(x,d,g,N,h):b([6],$)?o.$check_nD6(x,d,g,N,h):t,S(u["$nil?"]())||S(u["$empty?"]()))?t:l("Result").$new(u.$delete_prefix(" \uff1e "))},4),I(M,"$check_1D100",function(x,C,N,h){return t},4),I(M,"$check_1D20",function(x,C,N,h){return t},4),I(M,"$check_nD10",function(x,C,N,h,o){return t},5),I(M,"$check_2D6",function(x,C,N,h,o){return t},5),I(M,"$check_nD6",function(x,C,N,h,o){return t},5)},Opal.modules["bcdice/base"]=function(r){var C,g,i,a,m,d,u,$,s,h,H=r.top,t=[],y=r.$r(t),e=r.nil,b=r.$$$,S=r.module,I=r.klass,c=r.truthy,P=r.def,Y=r.regexp,E=r.rb_plus,z=r.send,F=r.to_a,j=r.rb_minus,B=r.eqeqeq,U=r.eqeq,K=r.range,M=r.rb_divide,A=r.rb_times,l=r.rb_ge,_=e;return H.$require("i18n"),H.$require("i18n/backend/fallbacks"),H.$require("bcdice/randomizer"),H.$require("bcdice/dice_table"),H.$require("bcdice/enum"),H.$require("bcdice/translate"),H.$require("bcdice/result"),H.$require("bcdice/command/parser"),H.$require("bcdice/deprecated/checker"),C=t,g=h=[S(t[0],"BCDice")].concat(C),u=[d=I(h[0],null,"Base")].concat(g),$=r.$r(u),(s=d.$$prototype).sort_add_dice=s.sort_barabara_dice=s.enabled_d9=s.raw_input=s.randomizer=s.enabled_upcase_input=s.debug=e,a=[i=r.get_singleton_class(d)].concat(u),m=r.$r(a),i.$attr_reader("prefixes"),P(i,"$register_prefix",function(p){var L,W=this,f=e;return null==W.prefixes&&(W.prefixes=e),L=r.slice.call(arguments),W.prefixes=c(f=W.prefixes)?f:[],W.prefixes.$concat(L.$flatten())},-1),P(i,"$register_prefix_from_super_class",function(){return this.$register_prefix(this.$superclass().$prefixes())},0),P(i,"$prefixes_pattern",function(){var p=this,w=e;return null==p.prefixes_pattern&&(p.prefixes_pattern=e),null==p.prefixes&&(p.prefixes=e),p.prefixes_pattern=c(w=p.prefixes_pattern)?w:e,c(p.prefixes_pattern)?p.prefixes_pattern:(p.prefixes=c(w=p.prefixes)?w:[],p.prefixes.$freeze(),p.prefixes_pattern=(c(p.prefixes["$empty?"]())?/(?!)/:Y(["^(S)?(",p.prefixes.$join("|"),")"],"i")).$freeze())},0),P(i,"$command_pattern",function(){var p=this,w=e,L=e;return null==p.command_pattern&&(p.command_pattern=e),null==p.prefixes&&(p.prefixes=e),p.command_pattern=c(w=p.command_pattern)?w:e,c(p.command_pattern)?p.command_pattern:(p.prefixes=c(w=p.prefixes)?w:[],p.prefixes.$freeze(),L=E(z(b(m("CommonCommand"),"COMMANDS"),"map",[],function(f){return null==f&&(f=e),b(f,"PREFIX_PATTERN").$source()},1),p.prefixes),p.command_pattern=Y(["^S?(",L.$join("|"),")"],"i").$freeze())},0),P(i,"$eval",function(p){return this.$new(p).$eval()},1),d.$include($("Translate")),d.$include(b($("Deprecated"),"Checker")),P(d,"$initialize",function(n){var a=this;return a.raw_input=n,a.sort_add_dice=!1,a.sort_barabara_dice=!1,a.d66_sort_type=b($("D66SortType"),"NO_SORT"),a.enabled_d9=!1,a.round_type=b($("RoundType"),"FLOOR"),a.sides_implicit_d=6,a.upper_dice_reroll_threshold=e,a.reroll_dice_reroll_threshold=e,a.default_cmp_op=e,a.default_target_number=e,a.enabled_upcase_input=!0,a.locale="ja_jp",a.randomizer=b($("BCDice"),"Randomizer").$new(),a.debug=!1},1),d.$attr_accessor("randomizer"),d.$attr_reader("d66_sort_type"),d.$attr_reader("round_type"),d.$attr_reader("sides_implicit_d"),d.$attr_reader("upper_dice_reroll_threshold"),d.$attr_reader("reroll_dice_reroll_threshold"),d.$attr_reader("default_cmp_op"),d.$attr_reader("default_target_number"),P(d,"$sort_add_dice?",function(){return this.sort_add_dice},0),P(d,"$sort_barabara_dice?",function(){return this.sort_barabara_dice},0),P(d,"$enabled_d9?",function(){return this.enabled_d9},0),P(d,"$enable_debug",function(){return this.debug=!0},0),P(d,"$eval",function(){var a,m,q,n=this,p=e;return a=b($("BCDice"),"Preprocessor").$process(n.raw_input,n),m=c(q=n.$dice_command(a))?q:n.$eval_common_command(n.raw_input),c(m)?(p=[n.randomizer.$rand_results()],z(m,"rands=",F(p)),j(p.length,1),p=[n.randomizer.$detailed_rand_results()],z(m,"detailed_rands=",F(p)),j(p.length,1),m):e},0),P(d,"$change_text",function(n){return n},1),P(d,"$check_result",function(n,a,m,q){var p=this,w=e,L=e,W=e,f=e,X=e;return w=p.$check_result_legacy(n,a,m,q),c(w)?w:(L=z(a,"map",[],"sides".$to_proc()),f=(W=z(a,"map",[],"value".$to_proc())).$sum(),w=B([100],X=L)?p.$result_1d100(n,f,m,q):B([20],X)?p.$result_1d20(n,f,m,q):B([6,6],X)?p.$result_2d6(n,f,W,m,q):e,U(w,$("Result").$nothing())?e:c(w)?w:(w=B([10],X=L.$uniq())?p.$result_nd10(n,f,W,m,q):B([6],X)?p.$result_nd6(n,f,W,m,q):e,U(w,$("Result").$nothing())?e:c(w)?w:p.$result_ndx(n,m,q)))},4),P(d,"$grich_text",function(n,a,m){return e},3),d.$private(),P(d,"$eval_common_command",function(n){try{return n=this.$change_text(n),z(b($("CommonCommand"),"COMMANDS"),"each",[],function m(q){var w,p=null==m.$$s?this:m.$$s;if(null==p.randomizer&&(p.randomizer=e),null==q&&(q=e),w=q.$eval(n,p,p.randomizer),!c(w))return e;r.ret(w)},{$$arity:1,$$s:this}),e}catch(m){if(m===r.returner)return m.$v;throw m}},1),P(d,"$dice_command",function(n){var a=this,m=e,q=e,p=e,w=e,L=e;return c(a.enabled_upcase_input)&&(n=n.$upcase()),m=a.$class().$prefixes_pattern().$match(n),c(m)?(q=m["$[]"](1)["$nil?"]()["$!"](),c(q)&&(n=n["$[]"](K(1,-1,!1))),p=a.$eval_game_system_specific_command(n),c(p["$is_a?"]($("Result")))?(w=[c(L=p["$secret?"]())?L:q],z(p,"secret=",F(w)),j(w.length,1),p):c(p["$nil?"]())||c(p["$empty?"]())||U(p,"1")?e:z($("Result").$new(),"tap",[],function(f){return null==f&&(f=e),w=[p.$to_s()],z(f,"text=",F(w)),j(w.length,1),z(f,"secret=",F(w=[q])),w[j(w.length,1)]},1)):e},1),P(d,"$eval_game_system_specific_command",function(n){return e},1),P(d,"$result_ndx",function(n,a,m){return c(m["$is_a?"]($("String")))?e:c(n.$send(a,m))?$("Result").$success(this.$translate("success")):$("Result").$failure(this.$translate("failure"))},3),P(d,"$result_1d100",function(n,a,m,q){return e},4),P(d,"$result_1d20",function(n,a,m,q){return e},4),P(d,"$result_nd10",function(n,a,m,q,p){return e},5),P(d,"$result_2d6",function(n,a,m,q,p){return e},5),P(d,"$result_nd6",function(n,a,m,q,p){return e},5),P(d,"$get_table_by_2d6",function(n){return this.$get_table_by_nD6(n,2)},1),P(d,"$get_table_by_1d6",function(n){return this.$get_table_by_nD6(n,1)},1),P(d,"$get_table_by_nD6",function(n,a){return this.$get_table_by_nDx(n,a,6)},2),P(d,"$get_table_by_nDx",function(n,a,m){var p,w=e;return p=this.randomizer.$roll_sum(a,m),w=this.$get_table_value(n["$[]"](j(p,a))),c(w["$nil?"]())?["1",0]:[w,p]},3),P(d,"$get_table_by_1d3",function(n){var q,p,a=this,w=e;return a.$debug("get_table_by_1d3"),q=a.randomizer.$roll_sum(1,6),a.$debug("num",q),p=M(j(q,1),2).$to_i(),a.$debug("index",p),w=n["$[]"](p),c(w["$nil?"]())?["1",0]:[w,q]},1),P(d,"$get_table_by_d66_swap",function(n){var m;return m=this.randomizer.$roll_d66(b($("D66SortType"),"ASC")),[this.$get_table_by_number(m,n),m]},1),P(d,"$get_table_by_d66",function(n){var m,q,p,L,w=e;return m=this.randomizer.$roll_once(6),q=this.randomizer.$roll_once(6),p=E(A(j(m,1),6),j(q,1)),w=n["$[]"](p),L=""+m+q,c(w["$nil?"]())?["1",L]:[w,L]},1),P(d,"$get_table_by_number",function(n,a,m){try{return null==m&&(m="1"),z(a,"each",[],function p(w){var W,L=null==p.$$s?this:p.$$s;if(null==w&&(w=e),W=w["$[]"](0),!c(l(W,n)))return e;r.ret(L.$get_table_value(w["$[]"](1)))},{$$arity:1,$$s:this}),this.$get_table_value(m)}catch(p){if(p===r.returner)return p.$v;throw p}},-3),P(d,"$get_table_value",function(n){return c(n["$is_a?"]($("Proc")))?n.$call():n},1),P(d,"$roll_tables",function(n,a){var q=e;return q=a["$[]"](n),c(q)?q.$roll(this.randomizer).$to_s():e},2),P(d,"$debug",function(n,a){var q,p=this,w=e,L=e;return q=r.slice.call(arguments,1),c(p.debug)?(w=c(n["$is_a?"]($("String")))?n:n.$inspect(),c(q["$empty?"]())?p.$warn(w):(L=z(q,"map",[],function(f){return null==f&&(f=e),c(f["$is_a?"]($("String")))?'"'+f+'"':f.$inspect()},1),p.$warn(w+": "+L.$join(", ")))):e},-2),b(b(y("I18n"),"Backend"),"Simple").$include(b(b(y("I18n"),"Backend"),"Fallbacks")),y("I18n").$load_path()["$<<"](y("Dir")["$[]"](y("File").$join("bcdice","../../i18n/**/*.yml"))),_=["ja_jp"],z(y("I18n"),"default_locale=",F(_)),j(_.length,1),_=[["ja_jp"]],z(y("I18n").$fallbacks(),"defaults=",F(_)),_[j(_.length,1)]},Opal.queue(function(r){var j,M,N,h,o,v,l,_,U,t=[],y=r.nil,e=r.$$$,b=r.module,S=r.klass,I=r.const_set,c=r.regexp,P=r.truthy,Y=r.def,E=r.send,z=r.hash2;return r.top.$require("bcdice/base"),j=t,M=U=[b(t[0],"BCDice")].concat(j),l=[b(U[0],"GameSystem")].concat(M),_=r.$r(l),N=l,o=[h=S(l[0],_("Base"),"UnsungDuet")].concat(N),v=r.$r(o),h.$$prototype.randomizer=y,I(o[0],"ID","UnsungDuet"),I(o[0],"NAME","\u30a2\u30f3\u30b5\u30f3\u30b0\u30fb\u30c7\u30e5\u30a8\u30c3\u30c8"),I(o[0],"SORT_KEY","\u3042\u3093\u3055\u3093\u304f\u3066\u3086\u3048\u3064\u3068"),I(o[0],"HELP_MESSAGE","\u25a0 \u30b7\u30d5\u30bf\u30fc\u7528\u5224\u5b9a (shifter, UDS)\n  1D10\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 shifter, UDS, shifter>=5, shifter+1>=6\n\n\u25a0 \u30d0\u30a4\u30f3\u30c0\u30fc\u7528\u5224\u5b9a (binder, UDB)\n  2D6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 binder, UDB, binder>=5, binder+1>=6\n\n\u25a0 \u5909\u7570\u8868\n  \u30fb\u5916\u50b7 (HIN, HInjury)\n  \u30fb\u4f53\u8abf\u306e\u5909\u5316 (HPH, HPhysical)\n  \u30fb\u6050\u6016 (HFE, HFear)\n  \u30fb\u5e7b\u60f3\u5316 (HFA, HFantasy)\n  \u30fb\u7cbe\u795e (HMI, HMind)\n  \u30fb\u305d\u306e\u307b\u304b (HOT, HOther)\n"),I(o[0],"ALIAS_1D10",["shifter","UDS"].$freeze()),I(o[0],"ALIAS_2D6",["binder","UDB"].$freeze()),I(o[0],"SHIFTER_ALIAS_REG",c(["^",v("ALIAS_1D10").$join("|")],"i").$freeze()),I(o[0],"BINDER_ALIAS_REG",c(["^",v("ALIAS_2D6").$join("|")],"i").$freeze()),h.$register_prefix(v("ALIAS_1D10"),v("ALIAS_2D6")),Y(h,"$eval_game_system_specific_command",function(u){var i,$=this,s=y;return u=P(s=v("ALIAS")["$[]"](u))?s:u,P(s=P(i=$.$roll_replaced_command_if_match(u,v("SHIFTER_ALIAS_REG"),"1D10"))?i:$.$roll_replaced_command_if_match(u,v("BINDER_ALIAS_REG"),"2D6"))?s:$.$roll_tables(u,v("TABLES"))},1),Y(h,"$roll_replaced_command_if_match",function(u,$,s){return P(u["$match?"]($))?e(v("CommonCommand"),"AddDice").$eval(u.$sub($,s),this,this.randomizer):y},3),I(o[0],"ALIAS",E(z(["HInjury","HPhysical","HFear","HFantasy","HMind","HOther"],{HInjury:"HIN",HPhysical:"HPH",HFear:"HFE",HFantasy:"HFA",HMind:"HMI",HOther:"HOT"}),"transform_keys",[],"upcase".$to_proc())),I(o[0],"TABLES",z(["HIN","HPH","HFE","HFA","HMI","HOT"],{HIN:e(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5916\u50b7","1D6",["\u9854\u306e\u50b7 \u2192 \u9854\u306b\u3067\u304d\u305f\u50b7\u3002\u3058\u308f\u308a\u3068\u8840\u304c\u306b\u3058\u3080","\u5927\u304d\u306a\u602a\u6211 \u2192 \u65e9\u304f\u624b\u5f53\u3066\u3092\u3057\u306a\u3044\u3068\u547d\u306b\u95a2\u308f\u308b","\u75db\u307f\u306e\u306a\u3044\u50b7 \u2192 \u5927\u304d\u306a\u50b7\u306a\u306e\u306b\u3001\u306a\u305c\u304b\u75db\u304f\u306a\u3044","\u55aa\u5931 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304c\u6d88\u3048\u3066\u3057\u307e\u3063\u305f","\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7\u8de1 \u2192 \u8aad\u3081\u306a\u3044\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7","\u6a21\u69d8\u3092\u63cf\u304f\u30a2\u30b6 \u2192 \u6a21\u69d8\u306e\u3088\u3046\u306a\u3001\u8eab\u4f53\u306b\u3067\u304d\u305f\u30a2\u30b6"]),HPH:e(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u4f53\u8abf\u306e\u5909\u5316","1D6",["\u8996\u754c\u304c\u307c\u3084\u3051\u308b \u2192 \u76ee\u306e\u7126\u70b9\u304c\u5408\u308f\u306a\u3044","\u8033\u9cf4\u308a \u2192 \u305a\u3063\u3068\u7532\u9ad8\u3044\u97f3\u304c\u9cf4\u308a\u7d9a\u3051\u3066\u3044\u308b\u6c17\u304c\u3059\u308b","\u7570\u69d8\u306a\u5bd2\u6c17 \u2192 \u51cd\u3048\u305d\u3046\u306a\u307b\u3069\u306b\u5bd2\u304f\u611f\u3058\u308b","\u767a\u6c57 \u2192 \u6691\u3044\u308f\u3051\u3067\u3082\u306a\u3044\u306e\u306b\u3001\u6c57\u304c\u3060\u3089\u3060\u3089\u3068","\u5e7b\u899a \u2192 \u305d\u308c\u304c\u672c\u7269\u304b\u5e7b\u304b\u3001\u533a\u5225\u304c\u3064\u304b\u306a\u3044","\u8d70\u99ac\u706f \u2192 \u904e\u53bb\u306e\u3053\u3068\u3092\u6b21\u3005\u3068\u601d\u3044\u51fa\u3057\u3066\u3057\u307e\u3046"]),HFE:e(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u6050\u6016","1D6",["\u4e0d\u5b89 \u2192 \u6f20\u7136\u3068\u3057\u305f\u4e0d\u5b89\u304c\u5fc3\u3092\u8755\u3080","\u72ed\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u72ed\u3044\u5834\u6240\u306b\u5165\u308a\u305f\u304f\u306a\u3044","\u9707\u3048\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u3069\u3046\u3057\u3066\u3082\u843d\u3061\u7740\u304b\u306a\u3044","\u7269\u97f3\u304c\u6016\u3044 \u2192 \u307b\u3093\u306e\u5c0f\u3055\u306a\u7269\u97f3\u306b\u3082\u602f\u3048\u3066\u3057\u307e\u3046","\u6697\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u706f\u308a\u306e\u306a\u3044\u5834\u6240\u304c\u3072\u3069\u304f\u6050\u308d\u3057\u3044","\u8ab0\u304b\u304c\u3064\u3044\u3066\u304f\u308b \u2192 \u8ab0\u304b\u304c\u5f8c\u308d\u306b\u3044\u308b\u6c17\u304c\u3059\u308b\u2026\u2026"]),HFA:e(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5e7b\u60f3\u5316","1D6",["\u785d\u5b50\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u30ac\u30e9\u30b9\u306e\u3088\u3046\u306b\u900f\u660e\u306b","\u7fbd\u6bdb\u5316 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304b\u3089\u7fbd\u6bdb\u304c\u751f\u3048\u3066\u304f\u308b","\u690d\u7269\u5316 \u2192 \u30c4\u30bf\u3084\u8449\u304c\u8eab\u4f53\u304b\u3089\u751f\u3048\u3066\u304f\u308b","\u52d5\u7269\u306e\u77b3 \u2192 \u77b3\u306e\u5f62\u304c\u52d5\u7269\u306e\u305d\u308c\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046","\u6709\u89d2\u5316 \u2192 \u984d\u3084\u5074\u982d\u90e8\u304b\u3089\u89d2\u304c\u751f\u3048\u3066\u304f\u308b","\u9676\u5668\u5316 \u2192 \u76ae\u819a\u304c\u9676\u5668\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u5909\u308f\u3063\u3066\u3044\u304f"]),HMI:e(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u7cbe\u795e","1D6",["\u8a18\u61b6\u306e\u6df7\u4e71 \u2192 \u3053\u3053\u306f\u3069\u3053\u3001\u3069\u3046\u3057\u3066\u3053\u3093\u306a\u3068\u3053\u308d\u306b?","\u5e7c\u5c11\u671f\u306e\u8a18\u61b6 \u2192 \u53e3\u8abf\u3084\u614b\u5ea6\u304c\u5e7c\u304f\u306a\u3063\u3066\u3057\u307e\u3046","\u7d20\u76f4 \u2192 \u601d\u3063\u305f\u3053\u3068\u3092\u5168\u90e8\u8a00\u3063\u3066\u3057\u307e\u3046","\u86ee\u52c7 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u5b88\u308b\u305f\u3081\u306b\u7121\u8336\u3070\u304b\u308a\u3059\u308b","\u7591\u5fc3\u6697\u9b3c \u2192 \u4f55\u3082\u304b\u3082\u304c\u60aa\u3044\u65b9\u5411\u306b\u3057\u304b\u8003\u3048\u3089\u308c\u306a\u3044","\u98df\u3079\u3061\u3083\u3044\u305f\u3044 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u304b\u3058\u308a\u305f\u304f\u306a\u308b"]),HOT:e(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u305d\u306e\u307b\u304b","1D6",["\u5f71\u7d75\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u5f71\u306e\u3088\u3046\u306b\u306a\u308b","\u6c34\u69fd\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u6c34\u69fd\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u306a\u308b","\u6d99\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u306a\u305c\u304b\u6d99\u304c\u6d41\u308c\u7d9a\u3051\u308b","\u9264\u722a \u2192 \u624b\u3084\u8db3\u304c\u3001\u7363\u306e\u3088\u3046\u306a\u9264\u722a\u306b\u306a\u308b","\u672a\u6765\u8996 \u2192 \u672a\u6765\u304c\u898b\u3048\u3066\u3057\u307e\u3046\u3002\u672c\u5f53\u304b\u3069\u3046\u304b\u306f\u4e0d\u660e","\u5e30\u308a\u305f\u304f\u306a\u3044 \u2192 \u73fe\u5b9f\u306b\u5e30\u308a\u305f\u304f\u306a\u3044\u3068\u5fae\u304b\u306b\u601d\u3046"])}).$freeze()),h.$register_prefix(v("ALIAS").$keys(),v("TABLES").$keys())})}}]);