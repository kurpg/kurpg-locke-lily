(self.webpackChunkudonarium_lily=self.webpackChunkudonarium_lily||[]).push([[2389],{2389:function(Ie,Me,Le){Le(4656),Opal.modules["bcdice/dice_table/table"]=function(e){var G,c,b,x,s,M,_,E,I,K,j,u=[],a=e.nil,v=e.$$,Y=e.module,B=e.klass,Z=e.hash2,Q=e.truthy;return G=u,c=j=[Y(u[0],"BCDice")].concat(G),b=K=[Y(j[0],"DiceTable")].concat(c),E=B(K[0],null,"Table"),I=[E].concat(b),E.$$prototype.times=E.$$prototype.sides=E.$$prototype.name=E.$$prototype.items=a,e.defs(E,"$from_i18n",x=function(w,P){var p=a;return p=v(I,"I18n").$t(w,Z(["locale"],{locale:P})),this.$new(p["$[]"]("name"),p["$[]"]("type"),p["$[]"]("items"))},x.$$arity=2),e.def(E,"$initialize",s=function(w,P,A){var p=this,k=a;return p.name=w,p.items=A.$freeze(),k=/(\d+)D(\d+)/i.$match(P),Q(k)||p.$raise(v(I,"ArgumentError"),"Unexpected table type: "+P),p.times=k["$[]"](1).$to_i(),p.sides=k["$[]"](2).$to_i()},s.$$arity=3),e.def(E,"$roll",M=function(w){var A,P=this;return A=w.$roll_sum(P.times,P.sides),P.$choice(A)},M.$$arity=1),void e.def(E,"$choice",_=function(w){var A,P=this;return A=function(r,G){return"number"==typeof r&&"number"==typeof G?r-G:r["$-"](G)}(w,P.times),v(I,"RollResult").$new(P.name,w,P.items["$[]"](A))},_.$$arity=1)},Opal.modules["bcdice/dice_table/range_table"]=function(e){var j,K,I,M,_,y,w,P,A,p,k,q,x,s,d,c,H=[],v=e.nil,B=e.$$,Z=e.module,Q=e.klass,r=e.send,G=e.truthy;return j=H,K=c=[Z(H[0],"BCDice")].concat(j),I=d=[Z(c[0],"DiceTable")].concat(K),x=Q(d[0],null,"RangeTable"),s=[x].concat(I),x.$$prototype.name=x.$$prototype.items=x.$$prototype.num_of_dice=x.$$prototype.num_of_sides=x.$$prototype.formatter=v,e.const_set(s[0],"RollResult",r(B(s,"Struct"),"new",["sum","values","content","formatted"],((M=function(){return(null==M.$$s?this:M.$$s).$alias_method("to_s","formatted")}).$$s=x,M.$$arity=0,M))),e.const_set(s[0],"Item",B(s,"Struct").$new("range","content")),e.const_set(s[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),e.const_set(s[0],"DEFAULT_FORMATTER",r(x,"lambda",[],($$2=function(U){function h(m,D){return U.apply(this,arguments)}return h.toString=function(){return U.toString()},h}(function(U,h){return null==$$2.$$s||$$2,null==U&&(U=v),null==h&&(h=v),U.$name()+"("+h.$sum()+") \uff1e "+h.$content()}),$$2.$$s=x,$$2.$$arity=2,$$2))),x.$attr_reader("name"),x.$attr_reader("num_of_dice"),x.$attr_reader("num_of_sides"),e.def(x,"$initialize",_=function(h,m,D){var $,C=_.$$p,N=C||v,n=this,g=v;return C&&(_.$$p=null),C&&(_.$$p=null),n.name=h.$freeze(),n.formatter=G($=N)?$:B(s,"DEFAULT_FORMATTER"),g=B(s,"DICE_ROLL_METHOD_RE").$match(m),G(g)||n.$raise(B(s,"ArgumentError"),n.name+": invalid dice roll method: "+m),n.num_of_dice=g["$[]"](1).$to_i(),n.num_of_sides=g["$[]"](2).$to_i(),n.$store(D)},_.$$arity=3),e.def(x,"$fetch",y=function(h){var m,C,D=this;return C=r(D.items,"find",[],((m=function(n){return null==n&&(n=v),n.$range()["$include?"](h)}).$$s=D,m.$$arity=1,m)),G(C)||D.$raise(B(s,"RangeError"),D.name+": value is out of range: "+h),C},y.$$arity=1),e.def(x,"$roll",w=function(h){var C,N,n,o,m=this,D=v;return C=(D=h.$roll_barabara(m.num_of_dice,m.num_of_sides)).$sum(),N=B(s,"RollResult").$new(C,D,m.$fetch(C).$content()),n=[m.formatter["$[]"](m,N)],r(N,"formatted=",e.to_a(n)),"number"==typeof(o=n.length)||o["$-"](1),N},w.$$arity=1),x.$private(),e.def(x,"$store",P=function(h){var m,D,C,n,$,N=this;return n=r(h,"map",[],((m=function(z,V){return null==z&&(z=v),null==V&&(V=v),[(null==m.$$s?this:m.$$s).$coerce_to_int_range(z),V]}).$$s=N,m.$$arity=2,m)),$=r(n,"sort_by",[],((D=function(z,V){return null==z&&(z=v),null==V&&(V=v),z.$min()}).$$s=N,D.$$arity=2,D)),N.$assert_min_sum_is_covered($),N.$assert_max_sum_is_covered($),N.$assert_no_gap_or_overlap_in_ranges($),N.items=r($,"map",[],(C=function(z,V){return null==z&&(z=v),null==V&&(V=v),B(s,"Item").$new(z,V.$freeze()).$freeze()},C.$$s=N,C.$$arity=2,C)).$freeze(),N},P.$$arity=1),e.def(x,"$coerce_to_int_range",A=function(h){var D,C=v;return D=h,B(s,"Integer")["$==="](D)?B(s,"Range").$new(h,h):B(s,"Range")["$==="](D)&&G(G(C=h.$begin()["$is_a?"](B(s,"Integer")))?h.$end()["$is_a?"](B(s,"Integer")):C)?h:this.$raise(B(s,"TypeError"),this.name+": "+h+" ("+h.$class()+") must be an Integer or a Range with Integers ")},A.$$arity=1),e.def(x,"$assert_min_sum_is_covered",p=function(h){var D,m=this,C=v;return D=m.num_of_dice,C=h.$first()["$[]"](0),G(C["$include?"](D))||m.$raise(B(s,"RangeError"),m.name+": min value ("+D+") is not covered: "+C),m},p.$$arity=1),e.def(x,"$assert_max_sum_is_covered",k=function(h){var D,m=this,C=v;return D=function(o,j){return"number"==typeof o&&"number"==typeof j?o*j:o["$*"](j)}(m.num_of_dice,m.num_of_sides),C=h.$last()["$[]"](0),G(C["$include?"](D))||m.$raise(B(s,"RangeError"),m.name+": max value ("+D+") is not covered: "+C),m},k.$$arity=1),void e.def(x,"$assert_no_gap_or_overlap_in_ranges",q=function(h){var m;return r(h,"each_cons",[2],((m=function(N,n){var V,O,o,$=null==m.$$s?this:m.$$s,g=v,z=v;return null==$.name&&($.name=v),null==N&&(N=v),null==n&&(n=v),g=N["$[]"](0),z=n["$[]"](0),O="number"==typeof(o=V=g.$max())?o+1:o["$+"](1),G(z["$include?"](V))&&$.$raise(B(s,"RangeError"),$.name+": Range overlap: "+g+" and "+z),G(z["$include?"](O))?v:$.$raise(B(s,"RangeError"),$.name+": Range gap: "+g+" and "+z)}).$$s=this,m.$$arity=2,m)),this},q.$$arity=1)},Opal.modules["bcdice/arithmetic/node"]=function(e){function X(Q,r){return"number"==typeof Q&&"number"==typeof r?Q/r:Q["$/"](r)}var r,te,T,E,I,x,_,y,w,P,A,p,s,M,b,W,o,u=[],a=e.nil,H=e.$$$,v=e.$$,Y=e.module,B=e.klass,Z=e.send2;return r=u,te=o=[Y(u[0],"BCDice")].concat(r),T=W=[Y(o[0],"Arithmetic")].concat(te),function(E,I,x){var _,y,w,P,A,s=B(E,null,"BinaryOp");[s].concat(x),s.$$prototype.lhs=s.$$prototype.rhs=s.$$prototype.op=a,e.def(s,"$initialize",_=function(k,q,U){var h=this;return h.lhs=k,h.op=q,h.rhs=U},_.$$arity=3),e.def(s,"$eval",y=function(k){var h,q=this,U=a;return U=q.lhs.$eval(k),h=q.rhs.$eval(k),U.$send(q.op,h)},y.$$arity=1),e.def(s,"$output",w=function(){var k=this;return""+k.lhs.$output()+k.op+k.rhs.$output()},w.$$arity=0),e.def(s,"$s_exp",P=function(){var k=this;return"("+k.$op_for_s_exp()+" "+k.lhs.$s_exp()+" "+k.rhs.$s_exp()+")"},P.$$arity=0),e.def(s,"$op_for_s_exp",A=function(){return this.op},A.$$arity=0)}((b=[Y(W[0],"Node")].concat(T))[0],0,b),E=b[0],I=v(b,"BinaryOp"),x=b,s=B(E,I,"DivideBase"),M=[s].concat(x),s.$$prototype.lhs=s.$$prototype.rhs=s.$$prototype.op=a,e.def(s,"$initialize",_=function(q,U){return _.$$p&&(_.$$p=null),Z(this,e.find_super_dispatcher(this,"initialize",_,!1,!0),"initialize",[q,"/",U],null)},_.$$arity=2),e.def(s,"$eval",y=function(q){var h,U=this,m=a;return h=U.lhs.$eval(q),(m=U.rhs.$eval(q))["$=="](0)&&U.$raise(v(M,"ZeroDivisionError")),U.$divide_and_round(h,m,q)},y.$$arity=1),e.def(s,"$output",w=function(){var q=w.$$p,h=this,m=a,D=a,C=a;for(q&&(w.$$p=null),D=0,C=arguments.length,m=new Array(C);D<C;D++)m[D]=arguments[D];return""+Z(h,e.find_super_dispatcher(h,"output",w,!1,!0),"output",m,q)+h.$rounding_method()},w.$$arity=0),s.$private(),e.def(s,"$rounding_method",P=function(){return H(this.$class(),"ROUNDING_METHOD")},P.$$arity=0),e.def(s,"$op_for_s_exp",A=function(){return""+this.op+this.$rounding_method()},A.$$arity=0),e.def(s,"$divide_and_round",p=function(q,U,h){return this.$raise(v(M,"NotImplementedError"))},p.$$arity=3),function(E,I,x){var _,s=B(E,I,"DivideWithGameSystemDefault"),M=[s].concat(x);e.const_set(M[0],"ROUNDING_METHOD",""),s.$private(),e.def(s,"$divide_and_round",_=function(w,P,A){var k;return k=A,H(v(M,"RoundType"),"CEIL")["$==="](k)?X(w.$to_f(),P).$ceil():H(v(M,"RoundType"),"ROUND")["$==="](k)?X(w.$to_f(),P).$round():X(w,P).$to_i()},_.$$arity=3)}(b[0],v(b,"DivideBase"),b),function(E,I,x){var _,s=B(E,I,"DivideWithCeil"),M=[s].concat(x);e.const_set(M[0],"ROUNDING_METHOD","C"),s.$private(),e.def(s,"$divide_and_round",_=function(w,P,A){return X(w.$to_f(),P).$ceil()},_.$$arity=3)}(b[0],v(b,"DivideBase"),b),function(E,I,x){var _,s=B(E,I,"DivideWithRound"),M=[s].concat(x);e.const_set(M[0],"ROUNDING_METHOD","R"),s.$private(),e.def(s,"$divide_and_round",_=function(w,P,A){return X(w.$to_f(),P).$round()},_.$$arity=3)}(b[0],v(b,"DivideBase"),b),function(E,I,x){var _,s=B(E,I,"DivideWithFloor"),M=[s].concat(x);e.const_set(M[0],"ROUNDING_METHOD","F"),s.$private(),e.def(s,"$divide_and_round",_=function(w,P,A){return X(w,P).$to_i()},_.$$arity=3)}(b[0],v(b,"DivideBase"),b),function(E,I,x){var _,y,w,P,s=B(E,null,"Negative");[s].concat(x),s.$$prototype.body=a,e.def(s,"$initialize",_=function(p){return this.body=p},_.$$arity=1),e.def(s,"$eval",y=function(p){return this.body.$eval(p)["$-@"]()},y.$$arity=1),e.def(s,"$output",w=function(){return"-"+this.body.$output()},w.$$arity=0),e.def(s,"$s_exp",P=function(){return"(- "+this.body.$s_exp()+")"},P.$$arity=0)}(b[0],0,b),function(E,I,x){var _,y,w,P,s=B(E,null,"Parenthesis");[s].concat(x),s.$$prototype.expr=a,e.def(s,"$initialize",_=function(p){return this.expr=p},_.$$arity=1),e.def(s,"$eval",y=function(p){return this.expr.$eval(p)},y.$$arity=1),e.def(s,"$output",w=function(){return"("+this.expr.$output()+")"},w.$$arity=0),e.def(s,"$s_exp",P=function(){return"(Parenthesis "+this.expr.$s_exp()+")"},P.$$arity=0)}(b[0],0,b),void function(E,I,x){var _,y,w,s=B(E,null,"Number");[s].concat(x),s.$$prototype.value=a,e.def(s,"$initialize",_=function(A){return this.value=A},_.$$arity=1),e.def(s,"$eval",y=function(A){return this.value},y.$$arity=1),e.def(s,"$output",w=function(){return this.value.$to_s()},w.$$arity=0),e.alias(s,"s_exp","output")}(b[0],0,b)},Opal.modules["racc/parser"]=function(e){function X(T,d){return"number"==typeof T&&"number"==typeof d?T<d:T["$<"](d)}function $e(T,d){return"number"==typeof T&&"number"==typeof d?T-d:T["$-"](d)}function u(T,d){return"number"==typeof T&&"number"==typeof d?T+d:T["$+"](d)}function a(T,d){return"number"==typeof T&&"number"==typeof d?T>=d:T["$>="](d)}function H(T,d){return"number"==typeof T&&"number"==typeof d?T>d:T["$>"](d)}function v(T,d){return"number"==typeof T&&"number"==typeof d?T<=d:T["$<="](d)}var I,x,s,d,E,Q=[],r=e.nil,G=e.$$$,o=e.$$,j=e.module,te=e.klass,c=e.truthy,W=e.gvars,K=e.send;return d=Q,I=(E=[j(Q[0],"Racc")].concat(d))[0],x=o(E,"StandardError"),s=E,[te(I,x,"ParseError")].concat(s),c(G("::","ParseError","skip_raise")?"constant":r)||e.const_set(Q[0],"ParseError",G(o(Q,"Racc"),"ParseError")),function(T,d){var M,w,P,A,p,k,q,U,h,m,D,C,N,n,$,g,z,V,O,he,pe,be,ke,Re,Se,_,y,E=[j(T,"Racc")].concat(d);c(o(E,"Racc_No_Extensions","skip_raise")?"constant":r)||e.const_set(E[0],"Racc_No_Extensions",!1),M=E,_=te(E[0],null,"Parser"),y=[_].concat(M),_.$$prototype.yydebug=_.$$prototype.racc_debug_out=_.$$prototype.racc_error_status=_.$$prototype.racc_t=_.$$prototype.racc_vstack=_.$$prototype.racc_val=_.$$prototype.racc_state=_.$$prototype.racc_tstack=r,e.const_set(y[0],"Racc_Runtime_Version","1.4.6"),e.const_set(y[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),e.const_set(y[0],"Racc_Runtime_Core_Version_R","1.4.6"),e.const_set(y[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),e.const_set(y[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),e.const_set(y[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),e.const_set(y[0],"Racc_Runtime_Core_Version",o(y,"Racc_Runtime_Core_Version_R")),e.const_set(y[0],"Racc_Runtime_Core_Revision",o(y,"Racc_Runtime_Core_Revision_R")),e.const_set(y[0],"Racc_Runtime_Type","ruby"),e.defs(o(y,"Parser"),"$racc_runtime_type",w=function(){return o(y,"Racc_Runtime_Type")},w.$$arity=0),e.def(_,"$_racc_setup",P=function(){var i,R,t=this,S=r,l=r,f=r;return null==W.stderr&&(W.stderr=r),c(G(t.$class(),"Racc_debug_parser"))||(t.yydebug=!1),c(null!=(i=t.yydebug)&&i!==r?"instance-variable":r)||(t.yydebug=!1),c(t.yydebug)&&(c(null!=(R=t.racc_debug_out)&&R!==r?"instance-variable":r)||(t.racc_debug_out=W.stderr),t.racc_debug_out=c(S=t.racc_debug_out)?S:W.stderr),l=G(t.$class(),"Racc_arg"),c(X(l.$size(),14))&&(K(l,"[]=",e.to_a(f=[13,!0])),$e(f.length,1)),l},P.$$arity=0),e.def(_,"$_racc_init_sysvars",A=function(){var i=this;return i.racc_state=[0],i.racc_tstack=[],i.racc_vstack=[],i.racc_t=r,i.racc_val=r,i.racc_read_next=!0,i.racc_user_yyerror=!1,i.racc_error_status=0},A.$$arity=0),e.def(_,"$do_parse",p=function(){return this.$__send__(o(y,"Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},p.$$arity=0),e.def(_,"$next_token",k=function(){return this.$raise(o(y,"NotImplementedError"),this.$class()+"#next_token is not defined")},k.$$arity=0),e.def(_,"$_racc_do_parse_rb",q=function(i,R){var t,l,f=this,re=r,le=r,ie=r,de=r,ue=r,ae=r,oe=r,J=r;return t=e.to_ary(i),re=null==t[0]?r:t[0],le=null==t[1]?r:t[1],ie=null==t[2]?r:t[2],de=null==t[3]?r:t[3],ue=null==t[10]?r:t[10],f.$_racc_init_sysvars(),ae=oe=J=r,K(f,"catch",["racc_end_parse"],((l=function(){var ve,me,L=null==l.$$s?this:l.$$s,_e=r,ge=r,ye=r;for(null==L.racc_state&&(L.racc_state=r),null==L.racc_read_next&&(L.racc_read_next=r),null==L.racc_t&&(L.racc_t=r),null==L.yydebug&&(L.yydebug=r),null==L.racc_val&&(L.racc_val=r);c(!0);)for(c(J=de["$[]"](L.racc_state["$[]"](-1)))?(c(L.racc_read_next)&&c(L.racc_t["$!="](0))&&(me=L.$next_token(),ve=e.to_ary(me),ae=null==ve[0]?r:ve[0],L.racc_val=null==ve[1]?r:ve[1],L.racc_t=c(ae)?c(_e=ue["$[]"](ae))?_e:1:0,c(L.yydebug)&&L.$racc_read_token(L.racc_t,ae,L.racc_val),L.racc_read_next=!1),J=u(J,L.racc_t),c(c(ge=c(ye=a(J,0))?oe=re["$[]"](J):ye)?le["$[]"](J)["$=="](L.racc_state["$[]"](-1)):ge)||(oe=ie["$[]"](L.racc_state["$[]"](-1)))):oe=ie["$[]"](L.racc_state["$[]"](-1));c(oe=L.$_racc_evalact(oe,i)););}).$$s=f,l.$$arity=0,l))},q.$$arity=2),e.def(_,"$yyparse",U=function(i,R){return this.$__send__(o(y,"Racc_YY_Parse_Method"),i,R,this.$_racc_setup(),!0)},U.$$arity=2),e.def(_,"$_racc_yyparse_rb",h=function(i,R,t,S){var l,re,ie=r,de=r,ce=r,ue=r,oe=r,J=r,ee=r;return l=e.to_ary(t),ie=null==l[0]?r:l[0],de=null==l[1]?r:l[1],ce=null==l[2]?r:l[2],ue=null==l[3]?r:l[3],oe=null==l[10]?r:l[10],this.$_racc_init_sysvars(),J=r,ee=r,K(this,"catch",["racc_end_parse"],((re=function(){var _e,se=null==re.$$s?this:re.$$s;for(null==se.racc_state&&(se.racc_state=r);!c(ee=ue["$[]"](se.racc_state["$[]"](-1)));)for(;c(J=se.$_racc_evalact(ce["$[]"](se.racc_state["$[]"](-1)),t)););return K(i,"__send__",[R],((_e=function(ye,fe){var De,Ne,ne=null==_e.$$s?this:_e.$$s,xe=r,Ee=r,Te=r,ze=r,Ae=r,Be=r,Ce=r;for(null==ne.racc_t&&(ne.racc_t=r),null==ne.racc_state&&(ne.racc_state=r),null==ne.racc_read_next&&(ne.racc_read_next=r),null==ye&&(ye=r),null==fe&&(fe=r),ne.racc_t=c(ye)?c(xe=oe["$[]"](ye))?xe:1:0,ne.racc_val=fe,ne.racc_read_next=!1,ee=u(ee,ne.racc_t),c(c(De=c(Ne=a(ee,0))?J=ie["$[]"](ee):Ne)?de["$[]"](ee)["$=="](ne.racc_state["$[]"](-1)):De)||(J=ce["$[]"](ne.racc_state["$[]"](-1)));c(J=ne.$_racc_evalact(J,t)););for(;c(c(Ee=c(Te=(ee=ue["$[]"](ne.racc_state["$[]"](-1)))["$!"]())?Te:ne.racc_read_next["$!"]())?Ee:ne.racc_t["$=="](0));)for(c(c(ze=c(Ae=c(Be=c(Ce=ee)?ee=u(ee,ne.racc_t):Ce)?a(ee,0):Be)?J=ie["$[]"](ee):Ae)?de["$[]"](ee)["$=="](ne.racc_state["$[]"](-1)):ze)||(J=ce["$[]"](ne.racc_state["$[]"](-1)));c(J=ne.$_racc_evalact(J,t)););}).$$s=se,_e.$$arity=2,_e))}).$$s=this,re.$$arity=0,re))},h.$$arity=4),e.def(_,"$_racc_evalact",m=function(i,R){var t,l,ce,ae,f=this,re=r,le=r,de=r,ue=r,oe=r,J=r,ee=r,L=r,se=r,ve=r;if(re=null==(t=e.to_ary(R))[0]?r:t[0],le=null==t[1]?r:t[1],de=null==t[3]?r:t[3],ce=null==t[11]?r:t[11],ue=null==t[12]?r:t[12],c(c(ae=H(i,0))?X(i,ce):ae))c(H(f.racc_error_status,0))&&(f.racc_t["$=="](1)||(f.racc_error_status=$e(f.racc_error_status,1))),f.racc_vstack.$push(f.racc_val),f.racc_state.$push(i),f.racc_read_next=!0,c(f.yydebug)&&(f.racc_tstack.$push(f.racc_t),f.$racc_shift(f.racc_t,f.racc_tstack,f.racc_vstack));else if(c(c(oe=X(i,0))?H(i,ue["$-@"]()):oe)){if(J=K(f,"catch",["racc_jump"],((l=function(){var _e=null==l.$$s?this:l.$$s;return null==_e.racc_state&&(_e.racc_state=r),_e.racc_state.$push(_e.$_racc_do_reduce(R,i)),!1}).$$s=f,l.$$arity=0,l)),c(J)){if(1["$==="](ee=J))return f.racc_user_yyerror=!0,ue["$-@"]();if(2["$==="](ee))return ce;f.$raise("[Racc Bug] unknown jump code")}}else if(i["$=="](ce))c(f.yydebug)&&f.$racc_accept(),f.$throw("racc_end_parse",f.racc_vstack["$[]"](0));else{if(i["$=="](ue["$-@"]())){for((0)["$==="](ee=f.racc_error_status)?c(R["$[]"](21))||f.$on_error(f.racc_t,f.racc_val,f.racc_vstack):3["$==="](ee)&&(f.racc_t["$=="](0)&&f.$throw("racc_end_parse",r),f.racc_read_next=!0),f.racc_user_yyerror=!1,f.racc_error_status=3;c(!0)&&(!c(L=de["$[]"](f.racc_state["$[]"](-1)))||(L=u(L,1),!c(c(se=c(ve=a(L,0))?i=re["$[]"](L):ve)?le["$[]"](L)["$=="](f.racc_state["$[]"](-1)):se)));)c(v(f.racc_state.$size(),1))&&f.$throw("racc_end_parse",r),f.racc_state.$pop(),f.racc_vstack.$pop(),c(f.yydebug)&&(f.racc_tstack.$pop(),f.$racc_e_pop(f.racc_state,f.racc_tstack,f.racc_vstack));return i}f.$raise("[Racc Bug] unknown action "+i.$inspect())}return c(f.yydebug)&&f.$racc_next_state(f.racc_state["$[]"](-1),f.racc_state),r},m.$$arity=2),e.def(_,"$_racc_do_reduce",D=function(i,R){var t,ce,ae,ve,me,_e,ne,l=this,re=r,le=r,ie=r,de=r,ue=r,oe=r,J=r,ee=r,L=r,se=r,ge=r,ye=r,fe=r,we=r,Pe=r,xe=r;return re=null==(t=e.to_ary(i))[4]?r:t[4],le=null==t[5]?r:t[5],ie=null==t[6]?r:t[6],de=null==t[7]?r:t[7],ce=null==t[8]?r:t[8],ue=null==t[9]?r:t[9],ae=null==t[13]?r:t[13],oe=l.racc_state,J=l.racc_vstack,ee=l.racc_tstack,L=function(T,d){return"number"==typeof T?-3*T:T["$*"](-3)}(R),se=ue["$[]"](L),ve=ue["$[]"](u(L,1)),me=ue["$[]"](u(L,2)),_e=[],c(l.yydebug)&&(ge=ee["$[]"](se["$-@"](),se)),ye=J["$[]"](se["$-@"](),se),c(l.yydebug)&&(fe=[se["$-@"](),se,_e],K(ee,"[]=",e.to_a(fe)),$e(fe.length,1)),fe=[se["$-@"](),se,_e],K(J,"[]=",e.to_a(fe)),$e(fe.length,1),fe=[se["$-@"](),se,_e],K(oe,"[]=",e.to_a(fe)),$e(fe.length,1),c(ae)?J.$push(l.$__send__(me,ye,J,ye["$[]"](0))):J.$push(l.$__send__(me,ye,J)),ee.$push(ve),c(l.yydebug)&&l.$racc_reduce(ge,ve,ee,J),ne=$e(ve,ce),c(L=de["$[]"](ne))&&(L=u(L,oe["$[]"](-1)),c(c(we=c(Pe=a(L,0))?xe=re["$[]"](L):Pe)?le["$[]"](L)["$=="](ne):we))?xe:ie["$[]"](ne)},D.$$arity=2),e.def(_,"$on_error",C=function(i,R,t){var l,S=this;return S.$raise(o(y,"ParseError"),S.$sprintf("\nparse error on value %s (%s)",R.$inspect(),c(l=S.$token_to_str(i))?l:"?"))},C.$$arity=3),e.def(_,"$yyerror",N=function(){return this.$throw("racc_jump",1)},N.$$arity=0),e.def(_,"$yyaccept",n=function(){return this.$throw("racc_jump",2)},n.$$arity=0),e.def(_,"$yyerrok",$=function(){return this.racc_error_status=0},$.$$arity=0),e.def(_,"$racc_read_token",g=function(i,R,t){var S=this;return S.racc_debug_out.$print("read    "),S.racc_debug_out.$print(R.$inspect(),"(",S.$racc_token2str(i),") "),S.racc_debug_out.$puts(t.$inspect()),S.racc_debug_out.$puts()},g.$$arity=3),e.def(_,"$racc_shift",z=function(i,R,t){var S=this;return S.racc_debug_out.$puts("shift   "+S.$racc_token2str(i)),S.$racc_print_stacks(R,t),S.racc_debug_out.$puts()},z.$$arity=3),e.def(_,"$racc_reduce",V=function(i,R,t,S){var l,f=this,re=r;return(re=f.racc_debug_out).$print("reduce "),c(i["$empty?"]())?re.$print(" <none>"):K(i,"each",[],((l=function(ie){return null==ie&&(ie=r),re.$print(" ",(null==l.$$s?this:l.$$s).$racc_token2str(ie))}).$$s=f,l.$$arity=1,l)),re.$puts(" --\x3e "+f.$racc_token2str(R)),f.$racc_print_stacks(t,S),f.racc_debug_out.$puts()},V.$$arity=4),e.def(_,"$racc_accept",O=function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},O.$$arity=0),e.def(_,"$racc_e_pop",he=function(i,R,t){var S=this;return S.racc_debug_out.$puts("error recovering mode: pop token"),S.$racc_print_states(i),S.$racc_print_stacks(R,t),S.racc_debug_out.$puts()},he.$$arity=3),e.def(_,"$racc_next_state",pe=function(i,R){var t=this;return t.racc_debug_out.$puts("goto    "+i),t.$racc_print_states(R),t.racc_debug_out.$puts()},pe.$$arity=2),e.def(_,"$racc_print_stacks",be=function(i,R){var t,l=r;return(l=this.racc_debug_out).$print("        ["),K(i,"each_index",[],((t=function(re){return null==re&&(re=r),l.$print(" (",(null==t.$$s?this:t.$$s).$racc_token2str(i["$[]"](re))," ",R["$[]"](re).$inspect(),")")}).$$s=this,t.$$arity=1,t)),l.$puts(" ]")},be.$$arity=2),e.def(_,"$racc_print_states",ke=function(i){var R,S=r;return(S=this.racc_debug_out).$print("        ["),K(i,"each",[],((R=function(f){return null==f&&(f=r),S.$print(" ",f)}).$$s=this,R.$$arity=1,R)),S.$puts(" ]")},ke.$$arity=1),e.def(_,"$racc_token2str",Re=function(i){var t;return c(t=G(this.$class(),"Racc_token_to_s_table")["$[]"](i))?t:this.$raise("[Racc Bug] can't convert token "+i+" to string")},Re.$$arity=1),e.def(_,"$token_to_str",Se=function(i){return G(this.$class(),"Racc_token_to_s_table")["$[]"](i)},Se.$$arity=1)}(Q[0],Q)},Opal.modules.strscan=function(e){var G,te,c,W,K,T,d,b,E,I,x,s,M,_,y,w,P,A,p,k,q,U,h,m,D,C,o,j,u=[],a=e.nil,v=e.$$,B=e.truthy,Z=e.send;return G=u,o=(0,e.klass)(u[0],null,"StringScanner"),j=[o].concat(G),o.$$prototype.pos=o.$$prototype.string=o.$$prototype.working=o.$$prototype.matched=o.$$prototype.prev_pos=o.$$prototype.match=a,o.$attr_reader("pos"),o.$attr_reader("matched"),e.def(o,"$initialize",te=function(n){var $=this;return $.string=n,$.pos=0,$.matched=a,$.working=n,$.match=[]},te.$$arity=1),o.$attr_reader("string"),e.def(o,"$beginning_of_line?",c=function(){var n=this;return 0===n.pos||"\n"===n.string.charAt(n.pos-1)},c.$$arity=0),e.alias(o,"bol?","beginning_of_line?"),e.def(o,"$scan",W=function(n){var $=this,g=(n=$.$anchor(n)).exec($.working);return null==g?$.matched=a:"object"==typeof g?($.prev_pos=$.pos,$.pos+=g[0].length,$.working=$.working.substring(g[0].length),$.matched=g[0],$.match=g,g[0]):"string"==typeof g?($.pos+=g.length,$.working=$.working.substring(g.length),g):a},W.$$arity=1),e.def(o,"$scan_until",K=function(n){var $=this;n=$.$anchor(n);for(var V,g=$.pos,z=$.working;;){if(V=n.exec(z),g+=1,z=z.substr(1),null!=V)return $.matched=$.string.substr($.pos,g-$.pos-1+V[0].length),$.match=V,$.prev_pos=g-1,$.pos=g,$.working=z.substr(V[0].length),$.matched;if(0===z.length)return $.match=[],$.matched=a}},K.$$arity=1),e.def(o,"$[]",T=function(n){var g;if(B(this.match["$empty?"]()))return a;g=n,v(j,"Symbol")["$==="](g)?n=n.$to_s():v(j,"String")["$==="](g)||(n=v(j,"Opal")["$coerce_to!"](n,v(j,"Integer"),"to_int"));var z=this.match;return n<0&&(n+=z.length),n<0||n>=z.length||null==z[n]?a:z[n]},T.$$arity=1),e.def(o,"$check",d=function(n){var $=this,g=(n=$.$anchor(n)).exec($.working);return $.matched=null==g?a:g[0]},d.$$arity=1),e.def(o,"$check_until",b=function(n){var $=this,g=$.prev_pos,z=$.pos,V=$.$scan_until(n);return V!==a&&($.matched=V.substr(-1),$.working=$.string.substr(z)),$.prev_pos=g,$.pos=z,V},b.$$arity=1),e.def(o,"$peek",E=function(n){return this.working.substring(0,n)},E.$$arity=1),e.def(o,"$eos?",I=function(){return 0===this.working.length},I.$$arity=0),e.def(o,"$exist?",x=function(n){var g=n.exec(this.working);return null==g?a:0==g.index?0:g.index+1},x.$$arity=1),e.def(o,"$skip",s=function(n){var $=this,g=(n=$.$anchor(n)).exec($.working);if(null==g)return $.match=[],$.matched=a;var z=g[0],V=z.length;return $.matched=z,$.match=g,$.prev_pos=$.pos,$.pos+=V,$.working=$.working.substring(V),V},s.$$arity=1),e.def(o,"$skip_until",M=function(n){var g=this.$scan_until(n);return g===a?a:(this.matched=g.substr(-1),g.length)},M.$$arity=1),e.def(o,"$get_byte",_=function(){var n=this,$=a;return n.pos<n.string.length?(n.prev_pos=n.pos,n.pos+=1,$=n.matched=n.working.substring(0,1),n.working=n.working.substring(1)):n.matched=a,$},_.$$arity=0),e.alias(o,"getch","get_byte"),e.def(o,"$match?",y=function(n){var $=this,g=(n=$.$anchor(n)).exec($.working);return null==g?a:($.prev_pos=$.pos,g[0].length)},y.$$arity=1),e.def(o,"$pos=",w=function(n){var $=this;return n<0&&(n+=$.string.$length()),$.pos=n,$.working=$.string.slice(n)},w.$$arity=1),e.def(o,"$matched_size",P=function(){return this.matched===a?a:this.matched.length},P.$$arity=0),e.def(o,"$post_match",A=function(){var n=this;return n.matched===a?a:n.string.substr(n.pos)},A.$$arity=0),e.def(o,"$pre_match",p=function(){var n=this;return n.matched===a?a:n.string.substr(0,n.prev_pos)},p.$$arity=0),e.def(o,"$reset",k=function(){var n=this;return n.working=n.string,n.matched=a,n.pos=0},k.$$arity=0),e.def(o,"$rest",q=function(){return this.working},q.$$arity=0),e.def(o,"$rest?",U=function(){return 0!==this.working.length},U.$$arity=0),e.def(o,"$rest_size",h=function(){return this.$rest().$size()},h.$$arity=0),e.def(o,"$terminate",m=function(){var $,Q,n=this;return n.match=a,$=[n.string.$length()],Z(n,"pos=",e.to_a($)),$[(Q=$.length,"number"==typeof Q?Q-1:Q["$-"](1))]},m.$$arity=0),e.def(o,"$unscan",D=function(){var n=this;return n.pos=n.prev_pos,n.prev_pos=a,n.match=a,n},D.$$arity=0),o.$private(),e.def(o,"$anchor",C=function(n){var g=n.toString().match(/\/([^\/]+)$/);return g=g?g[1]:void 0,new RegExp("^(?:"+n.source+")",g)},C.$$arity=1),a&&"anchor"},Opal.modules["bcdice/normalize"]=function(e){var G,te,c,o,B,Q,$e=[],u=e.nil,v=e.module;return B=$e,G=Q=[v($e[0],"BCDice")].concat(B),[o=v(Q[0],"Normalize")].concat(G),o.$module_function(),e.def(o,"$comparison_operator",te=function(K){var d;return/<=|=</["$==="](d=K)?"<=":/>=|=>/["$==="](d)?">=":/<>|!=|=!/["$==="](d)?"!=":/</["$==="](d)?"<":/>/["$==="](d)?">":/=/["$==="](d)?"==":u},te.$$arity=1),void e.def(o,"$target_number",c=function(K){return K["$=="]("?")?K:K.$to_i()},c.$$arity=1)},Opal.modules["bcdice/common_command/lexer"]=function(e){var r,te,d,I,x,s,b,E,W,o,X=e.top,$e=[],u=e.nil,H=e.$$,v=e.module,Y=e.klass,B=e.hash2,Z=e.truthy;return X.$require("strscan"),X.$require("bcdice/normalize"),r=$e,te=o=[v($e[0],"BCDice")].concat(r),d=W=[v(o[0],"CommonCommand")].concat(te),b=Y(W[0],null,"Lexer"),E=[b].concat(d),b.$$prototype.scanner=u,e.const_set(E[0],"SYMBOLS",B(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),e.def(b,"$initialize",I=function(_){var w;return _=Z(w=_.$split(" ",2).$first())?w:"",this.scanner=H(E,"StringScanner").$new(_)},I.$$arity=1),e.def(b,"$next_token",x=function(){var _=this,y=u,w=u,P=u,p=u;return Z(_.scanner["$eos?"]())?[!1,"$"]:Z(y=_.scanner.$scan(/\d+/))?["NUMBER",y.$to_i()]:Z(w=_.scanner.$scan(/[<>!=]+/))?["CMP_OP",H(E,"Normalize").$comparison_operator(w)]:(P=_.scanner.$getch().$upcase(),[Z(p=H(E,"SYMBOLS")["$[]"](P))?p:P.$to_sym(),P])},x.$$arity=0),void e.def(b,"$source",s=function(){return this.scanner.$string()},s.$$arity=0)},Opal.modules["bcdice/arithmetic/parser"]=function(e){var Q,j,T,E,I,x,s,M,_,y,w,P,A,p,k,q,U,h,m,D,C,N,n,$,g,z,V,O,he,ke,d,b,c,G,X=e.top,$e=[],u=e.nil,a=e.$$$,H=e.$$,v=e.module,Y=e.klass,B=e.hash;return X.$require("racc/parser.rb"),X.$require("bcdice/common_command/lexer"),X.$require("bcdice/arithmetic/node"),Q=$e,j=G=[v($e[0],"BCDice")].concat(Q),T=c=[v(G[0],"Arithmetic")].concat(j),d=Y(c[0],a(H(c,"Racc"),"Parser"),"Parser"),b=[d].concat(T),d.$$prototype.lexer=u,e.defs(d,"$parse",E=function(i){return this.$new().$parse(i)},E.$$arity=1),e.def(d,"$parse",I=function(i){try{return this.lexer=a(a(H(b,"BCDice"),"CommonCommand"),"Lexer").$new(i),this.$do_parse()}catch(t){if(!e.rescue(t,[H(b,"ParseError")]))throw t;try{return u}finally{e.pop_exception()}}},I.$$arity=1),d.$private(),e.def(d,"$next_token",x=function(){return this.lexer.$next_token()},x.$$arity=0),C=[8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,u,u,4,5,4,5,7,9,7,u,u,10,11,u,10,11,22,26,24,25,27],N=[0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,u,u,12,12,13,13,12,1,13,u,u,16,16,u,1,1,16,21,21,21,21],n=[-2,40,-6,u,0,8,u,10,u,1,18,20,28,30,u,u,37,u,4,14,u,47,u,u,u,u,u,u],$=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],g=[14,15,23,1,18,19,u,u,20,21,16],z=[3,3,4,1,2,2,u,u,3,3,1],V=[u,3,-6,-4,-19,u],O=[u,u,2,3,u,6],he=[0,0,"racc_error",3,14,"_reduce_1",3,14,"_reduce_2",1,14,"_reduce_none",3,15,"_reduce_4",4,15,"_reduce_5",1,15,"_reduce_none",0,17,"_reduce_7",1,17,"_reduce_8",1,17,"_reduce_9",1,17,"_reduce_10",1,17,"_reduce_11",2,16,"_reduce_12",2,16,"_reduce_13",1,16,"_reduce_none",3,18,"_reduce_15",1,18,"_reduce_16"],ke=B(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),e.const_set(b[0],"Racc_arg",[C,N,$,n,g,z,O,V,13,he,ke,28,17,!0]),e.const_set(b[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),e.const_set(b[0],"Racc_debug_parser",!1),e.def(d,"$_reduce_1",s=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},s.$$arity=3),e.def(d,"$_reduce_2",M=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},M.$$arity=3),e.def(d,"$_reduce_4",_=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"*",i["$[]"](2))},_.$$arity=3),e.def(d,"$_reduce_5",y=function(i,R,t){return i["$[]"](3).$new(i["$[]"](0),i["$[]"](2))},y.$$arity=3),e.def(d,"$_reduce_7",w=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"DivideWithGameSystemDefault")},w.$$arity=3),e.def(d,"$_reduce_8",P=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"DivideWithCeil")},P.$$arity=3),e.def(d,"$_reduce_9",A=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"DivideWithCeil")},A.$$arity=3),e.def(d,"$_reduce_10",p=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"DivideWithRound")},p.$$arity=3),e.def(d,"$_reduce_11",k=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"DivideWithFloor")},k.$$arity=3),e.def(d,"$_reduce_12",q=function(i,R,t){return i["$[]"](1)},q.$$arity=3),e.def(d,"$_reduce_13",U=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},U.$$arity=3),e.def(d,"$_reduce_15",h=function(i,R,t){return i["$[]"](1)},h.$$arity=3),e.def(d,"$_reduce_16",m=function(i,R,t){return a(a(H(b,"Arithmetic"),"Node"),"Number").$new(i["$[]"](0))},m.$$arity=3),void e.def(d,"$_reduce_none",D=function(i,R,t){return i["$[]"](0)},D.$$arity=3)},Opal.modules["bcdice/arithmetic"]=function(e){var Z,o,c,T,K,j,te,r,X=e.top,$e=[],u=e.nil,H=e.$$,v=e.module,Y=e.send;return X.$require("bcdice/arithmetic/node"),X.$require("bcdice/arithmetic/parser"),Z=$e,o=r=[v($e[0],"BCDice")].concat(Z),te=[j=v(r[0],"Arithmetic")].concat(o),c=e.get_singleton_class(j),K=[c].concat(te),void e.def(c,"$eval",T=function(b,E){var I;try{return(I=H(K,"Parser").$parse(b))===u||null==I?u:Y(I,"eval",[E])}catch(M){if(!e.rescue(M,[H(K,"ZeroDivisionError")]))throw M;try{return u}finally{e.pop_exception()}}},T.$$arity=2)},function(e){function u(c,W){return"number"==typeof c&&"number"==typeof W?c>W:c["$>"](W)}function a(c,W){return"number"==typeof c&&"number"==typeof W?c-W:c["$-"](W)}var W,b,M,w,P,_,y,I,T,H=e.top,v=[],Y=e.nil,B=e.$$$,Z=e.$$,Q=e.module,r=e.klass,G=e.truthy,o=e.send,j=e.hash2,te=e.range;H.$require("bcdice/dice_table/table"),H.$require("bcdice/dice_table/range_table"),H.$require("bcdice/arithmetic"),W=v,b=T=[Q(v[0],"BCDice")].concat(W),M=I=[Q(T[0],"GameSystem")].concat(b),_=r(I[0],Z(I,"Base"),"AnimaAnimus"),y=[_].concat(M),_.$$prototype.randomizer=Y,e.const_set(y[0],"ID","AnimaAnimus"),e.const_set(y[0],"NAME","\u30a2\u30cb\u30de\u30a2\u30cb\u30e0\u30b9"),e.const_set(y[0],"SORT_KEY","\u3042\u306b\u307e\u3042\u306b\u3080\u3059"),e.const_set(y[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a(xAN<=y\xb1z)\n\u3000\u5341\u9762\u30c0\u30a4\u30b9\u3092x\u500b\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u9054\u6210\u5024\u304c\u7b97\u51fa\u3055\u308c\u307e\u3059(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u767a\u751f\u6642\u306f2\u5897\u52a0)\u3002\n\u3000x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570\u3002\u9b42\u9b44\u5024\u3084\u653b\u6483\u5024\u3002\n\u3000y\uff1a\u6210\u529f\u5024\u3002\n\u3000z\uff1a\u6210\u529f\u5024\u3078\u306e\u88dc\u6b63\u3002\u7701\u7565\u53ef\u80fd\u3002\n\u3000(\u4f8b) 2AN<=3+1 5AN<=7\n\u30fb\u5404\u7a2e\u8868\n\u3000\u60c5\u5831\u53ce\u96c6\u8868\u3000IGT/\u55aa\u5931\u8868\u3000LT\n"),e.def(_,"$eval_game_system_specific_command",w=function(p){var q;return q=/(\d+)AN<=(\d+([+\-]\d+)*)/i.$match(p),G(Z(y,"TABLES")["$key?"](p))?this.$roll_tables(p,Z(y,"TABLES")):G(q)?this.$check_action(q):Y},w.$$arity=1),e.def(_,"$check_action",P=function(p){var k,q,h,m,C,N,n,$,c,U=this,D=Y;return h=Z(y,"Arithmetic").$eval(p["$[]"](1),B(Z(y,"RoundType"),"FLOOR")),m=Z(y,"Arithmetic").$eval(p["$[]"](2),B(Z(y,"RoundType"),"FLOOR")),U.$debug("dice_cnt",h),U.$debug("target",m),D=U.randomizer.$roll_barabara(h,10),C=D.$join(","),N=o(D,"count",[],((k=function(z){return null==z&&(z=Y),function(c,W){return"number"==typeof c&&"number"==typeof W?c<=W:c["$<="](W)}(z,m)}).$$s=U,k.$$arity=1,k)),n=D["$include?"](1),$=G(n)?"number"==typeof(c=N)?c+2:c["$+"](2):N,o(Z(y,"Result").$new(),"tap",[],((q=function(z){var O=Y;return null==z&&(z=Y),O=["("+h+"B10<="+m+") \uff1e "+C+" \uff1e "+(G(u($,0))?"\u6210\u529f":"\u5931\u6557")+"(\u9054\u6210\u5024:"+$+")"+(G(n)?" (\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u767a\u751f)":"")],o(z,"text=",e.to_a(O)),a(O.length,1),o(z,"critical=",e.to_a(O=[n])),a(O.length,1),O=[u($,0)],o(z,"success=",e.to_a(O)),a(O.length,1),O=[z["$success?"]()["$!"]()],o(z,"failure=",e.to_a(O)),O[a(O.length,1)]}).$$s=U,q.$$arity=1,q))},P.$$arity=1),e.const_set(y[0],"TABLES",j(["IGT","LT"],{IGT:B(Z(y,"DiceTable"),"Table").$new("\u60c5\u5831\u53ce\u96c6\u8868","1d10",["\u30b9\u30c8\u30ea\u30fc\u30c8\u30d5\u30a1\u30a4\u30c8/<\u683c\u95d8>/\u300c\u4ffa\u306b\u52dd\u3066\u305f\u3089\u6559\u3048\u3066\u3084\u308b\u3088\u300d\u60c5\u5831\u3092\u77e5\u308b\u9b42\u9858\u8005\u304b\u3089\u52dd\u8ca0\u3092\u6311\u307e\u308c\u305f\u3002\u751f\u304d\u5ef6\u3073\u308b\u305f\u3081\u306b\u3082\u3053\u306e\u52dd\u8ca0\u3001\u8ca0\u3051\u308b\u308f\u3051\u306b\u306f\u3044\u304b\u306a\u3044\u3002","\u8ffd\u8de1\uff01/<\u8ffd\u8de1\uff0f\u9003\u8d70>/\u6709\u76ca\u306a\u60c5\u5831\u3092\u6301\u3063\u3066\u3044\u308b\u4eba\u9593\u3092\u898b\u3064\u3051\u305f\u304c\u3001\u3053\u3061\u3089\u306e\u9854\u3092\u898b\u308b\u306a\u308a\u9003\u3052\u51fa\u3057\u305f\u3002\u3069\u3046\u306b\u304b\u3057\u3066\u6355\u307e\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044\u3002","\u8105\u3057/<\u5a01\u5727>/\u306a\u3089\u305a\u8005\u305f\u3061\u304c\u96c6\u307e\u308b\u30d0\u30fc\u306b\u3084\u3063\u3066\u304d\u305f\u3002\u88cf\u793e\u4f1a\u306b\u751f\u304d\u308b\u5f7c\u3089\u3092\u8105\u305b\u3070\u6709\u76ca\u306a\u60c5\u5831\u304c\u624b\u306b\u5165\u308b\u306f\u305a\u3060\u3002","\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8/<\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf>/SNS\u3084\u30cb\u30e5\u30fc\u30b9\u306a\u3069\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u60c5\u5831\u3092\u8abf\u67fb\u3059\u308b\u3002\u30c7\u30de\u306b\u306f\u9a19\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u306a\u304f\u3066\u306f\u3002","\u7015\u6b7b\u306e\u60c5\u5831\u63d0\u4f9b\u8005/<\u533b\u5b66>/\u60c5\u5831\u3092\u77e5\u308b\u4eba\u7269\u304c\u3044\u308b\u3068\u805e\u3044\u3066\u3084\u3063\u3066\u304d\u305f\u3089\u3001\u305d\u306e\u4eba\u7269\u304c\u7015\u6b7b\u306e\u91cd\u50b7\u3092\u8ca0\u3063\u3066\u3044\u305f\u3002\u306a\u3093\u3068\u304b\u3057\u3066\u8607\u751f\u3055\u305b\u306a\u304f\u3066\u306f\u3002","\u6f5c\u5165\u635c\u67fb/<\u96a0\u5bc6>/\u6575\u5bfe\u3059\u308b\u9b42\u9858\u8005\u305f\u3061\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u6f5c\u308a\u8fbc\u3093\u3067\u306e\u8abf\u67fb\u6d3b\u52d5\u3002\u30ea\u30b9\u30af\u306f\u9ad8\u3044\u304c\u3001\u6709\u76ca\u306a\u60c5\u5831\u304c\u624b\u306b\u5165\u308b\u78ba\u7387\u306f\u9ad8\u3044\u3002","\u60c5\u5831\u4ea4\u63db/<\u4ea4\u6e09>/\u53cb\u597d\u7684\u306a\u95a2\u4fc2\u306b\u3042\u308b\u9b42\u9858\u8005\u3068\u306e\u60c5\u5831\u4ea4\u63db\u3002\u3046\u307e\u304f\u8a71\u3092\u805e\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u3088\u3044\u304c\u3002","\u9b54\u5bb4\u306e\u60c5\u5831\u5c4b/<\u8abf\u9054>/\u9b54\u5bb4\u306e\u60c5\u5831\u5c4b\u306b\u63a5\u89e6\u3057\u3066\u60c5\u5831\u3092\u805e\u304d\u51fa\u3059\u3053\u3068\u306b\u3057\u305f\u3002\u4e00\u7b4b\u7e04\u3067\u306f\u3044\u304b\u306a\u3044\u76f8\u624b\u3089\u3057\u3044\u304c\u3001\u306f\u305f\u3057\u3066\u2026\u2026\uff1f","\u9055\u6cd5\u8abf\u67fb/<\u72af\u7f6a>/\u6cd5\u306b\u89e6\u308c\u308b\u3084\u308a\u65b9\u3067\u60c5\u5831\u3092\u96c6\u3081\u308b\u3053\u3068\u306b\u3057\u305f\u3002\u30cf\u30c3\u30ad\u30f3\u30b0\u3001\u7a83\u76d7\u3001\u6050\u559d\u3001\u3069\u3093\u306a\u624b\u6bb5\u3092\u9078\u307c\u3046\u304b\u3002","\u805e\u304d\u8fbc\u307f/<\u81ea\u6211>/\u8857\u3086\u304f\u4eba\u3073\u3068\u306b\u805e\u304d\u8fbc\u307f\u3092\u884c\u306a\u3046\u3002\u5730\u9053\u306a\u6d3b\u52d5\u3053\u305d\u304c\u76ee\u6a19\u306b\u305f\u3069\u308a\u7740\u304f\u305f\u3081\u306e\u6700\u77ed\u306e\u65b9\u6cd5\u3060\u3002"]),LT:B(Z(y,"DiceTable"),"RangeTable").$new("\u55aa\u5931\u8868","1d10",[[te(1,2,!1),"\u5b58\u5728/\u5b58\u5728\u304c\u5e0c\u8584\u306b\u306a\u308a\u3001\u77e5\u308a\u5408\u3044\u3084\u53cb\u4eba\u306b\u81ea\u5206\u306e\u5b58\u5728\u3092\u5fd8\u308c\u3089\u308c\u3066\u3057\u307e\u3046\u3002\u3044\u305a\u308c\u5927\u5207\u306a\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u8a18\u61b6\u304b\u3089\u3082\u6d88\u3048\u3001\u3053\u306e\u4e16\u754c\u3067\u3072\u3068\u308a\u307c\u3063\u3061\u306b\u306a\u308b\u3002\n\u3042\u306a\u305f\u306e\u51fa\u81ea\u3092\u6d88\u53bb\u3059\u308b\u3053\u3068\u3002"],[te(3,4,!1),"\u8a18\u61b6/\u81ea\u5206\u306e\u5927\u5207\u306a\u8a18\u61b6\u3092\u3072\u3068\u3064\u5931\u306a\u3046\u3002\u3053\u308c\u304b\u3089\u306f\u529b\u3092\u4f7f\u3046\u305f\u3073\u306b\u8a18\u61b6\u3092\u3072\u3068\u3064\u5931\u306a\u3046\u3053\u3068\u306b\u306a\u308a\u3001\u6700\u5f8c\u306b\u306f\u5927\u5207\u306a\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u3053\u3068\u3082\u601d\u3044\u51fa\u305b\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\u3042\u306a\u305f\u306e\u30e1\u30e2\u30ea\u30a2\u3092\u3072\u3068\u3064\u9078\u629e\u3057\u3066\u6d88\u53bb\u3059\u308b\u3053\u3068\u3002\u30b7\u30ca\u30ea\u30aa\u30e1\u30e2\u30ea\u30a2\u306f\u9078\u629e\u3067\u304d\u306a\u3044\u3002"],[te(5,6,!1),"\u5bb9\u59ff/\u3060\u3093\u3060\u3093\u3068\u4ee5\u524d\u3068\u306f\u304b\u3051\u96e2\u308c\u305f\u59ff\u306b\u5909\u308f\u3063\u3066\u3044\u304f\u3002\u3044\u305a\u308c\u8ab0\u3082\u81ea\u5206\u306e\u3053\u3068\u3092\u81ea\u5206\u3060\u3068\u6c17\u3065\u304b\u306a\u304f\u306a\u308b\u306e\u3060\u308d\u3046\u3002\n\u3042\u306a\u305f\u306e\u7279\u5fb4\u7684\u306a\u5916\u898b\u3092\u5931\u306a\u3046\u3002\u5185\u5bb9\u3092\u3075\u3055\u308f\u3057\u3044\u3082\u306e\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068(\u7279\u5fb4\u7684\u306a\u5916\u898b\u304c\u7f8e\u3057\u3044\u9aea\u3067\u3042\u308c\u3070\u919c\u3044\u9aea\u306a\u3069)\u3002"],[te(7,8,!1),"\u611f\u60c5/\u559c\u6012\u54c0\u697d\u306e\u611f\u60c5\u306e\u3046\u3061\u3001\u3044\u305a\u308c\u304b\u3072\u3068\u3064\u3092\u5931\u306a\u3046\u3002\u529b\u3092\u4f7f\u3046\u305f\u3073\u306b\u4ed6\u306e\u611f\u60c5\u3082\u5931\u3063\u3066\u3044\u304d\u3001\u6700\u5f8c\u306b\u306f\u305f\u3060\u751f\u304d\u6b8b\u308b\u305f\u3081\u306b\u6226\u3046\u6a5f\u68b0\u3068\u306a\u308b\u3002\n\u30dd\u30b8\u30c6\u30a3\u30d6\u304b\u30cd\u30ac\u30c6\u30a3\u30d6\u306e\u3069\u3061\u3089\u304b\u3092\u9078\u629e\u3059\u308b\u3002\u9078\u629e\u3057\u305f\u611f\u60c5\u3092\u3059\u3079\u3066\u306e\u30e1\u30e2\u30ea\u30a2\u304b\u3089\u6d88\u53bb\u3059\u308b\u3002\u6d88\u53bb\u3057\u305f\u7d50\u679c\u3001\u8868\u51fa\u611f\u60c5\u304c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001\u6b8b\u3063\u305f\u611f\u60c5\u3092\u8868\u51fa\u611f\u60c5\u306b\u3059\u308b\u3053\u3068\u3002\u306a\u304a\u3001\u65b0\u3057\u304f\u30e1\u30e2\u30ea\u30a2\u3092\u53d6\u5f97\u3057\u305f\u5834\u5408\u3082\u3001\u9078\u3093\u3060\u611f\u60c5\u3092\u5f97\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002"],[te(9,10,!1),"\u4e94\u611f/\u5c11\u3057\u305a\u3064\u4e94\u611f\u304c\u920d\u304f\u306a\u308b\u3002\u4eca\u307e\u3067\u3067\u304d\u3066\u3044\u305f\u306f\u305a\u306e\u3053\u3068\u304c\u3067\u304d\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\u3042\u306a\u305f\u306e\u7279\u6280\u3092\u3072\u3068\u3064\u9078\u629e\u3059\u308b\u3002\u9078\u629e\u3057\u305f\u7279\u6280\u306b\xd7\u3092\u3064\u3051\u308b\u3053\u3068\u3002\xd7\u304c\u4ed8\u3044\u305f\u6280\u80fd\u3067\u5224\u5b9a\u3092\u884c\u306a\u3046\u3053\u3068\u306f\u3067\u304d\u305a\u3001\u5224\u5b9a\u3092\u6c42\u3081\u3089\u308c\u305f\u5834\u5408\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3068\u306a\u308b\u3002"]])}).$freeze()),_.$register_prefix("\\d+AN<=",Z(y,"TABLES").$keys())}(Opal)}}]);