(self.webpackChunkudonarium_lily=self.webpackChunkudonarium_lily||[]).push([[8890],{8890:function(ee,ne,O){var e,E,p,W,a,M,G,s,$,q,D,v,n,T;O(4656),Opal.modules["bcdice/dice_table/table"]=function(e){var $,s,G,B,x,K,R,a,h,u,p,w=[],g=e.nil,v=e.$$,n=e.module,T=e.klass,t=e.hash2,E=e.truthy;return $=w,s=p=[n(w[0],"BCDice")].concat($),G=u=[n(p[0],"DiceTable")].concat(s),a=T(u[0],null,"Table"),h=[a].concat(G),a.$$prototype.times=a.$$prototype.sides=a.$$prototype.name=a.$$prototype.items=g,e.defs(a,"$from_i18n",B=function(i,f){var _=g;return _=v(h,"I18n").$t(i,t(["locale"],{locale:f})),this.$new(_["$[]"]("name"),_["$[]"]("type"),_["$[]"]("items"))},B.$$arity=2),e.def(a,"$initialize",x=function(i,f,d){var _=this,y=g;return _.name=i,_.items=d.$freeze(),y=/(\d+)D(\d+)/i.$match(f),E(y)||_.$raise(v(h,"ArgumentError"),"Unexpected table type: "+f),_.times=y["$[]"](1).$to_i(),_.sides=y["$[]"](2).$to_i()},x.$$arity=3),e.def(a,"$roll",K=function(i){var d,f=this;return d=i.$roll_sum(f.times,f.sides),f.$choice(d)},K.$$arity=1),void e.def(a,"$choice",R=function(i){var d,f=this;return d=function(b,$){return"number"==typeof b&&"number"==typeof $?b-$:b["$-"]($)}(i,f.times),v(h,"RollResult").$new(f.name,i,f.items["$[]"](d))},R.$$arity=1)},Opal.modules["bcdice/dice_table/d66_range_table"]=function(e){var $,s,G,B,x,a,h,u,p,g=[],D=e.nil,n=e.$$,T=e.module,t=e.klass,E=e.send;return $=g,s=p=[T(g[0],"BCDice")].concat($),G=u=[T(p[0],"DiceTable")].concat(s),a=t(u[0],null,"D66RangeTable"),h=[a].concat(G),a.$$prototype.items=a.$$prototype.name=D,e.def(a,"$initialize",B=function(R,c){return this.name=R,this.items=c.$freeze()},B.$$arity=2),void e.def(a,"$roll",x=function(R){var c,f,d,_,b,i=this,y=D;return f=R.$roll_once(6),d=R.$roll_once(6),_=function(b,$){return"number"==typeof b&&"number"==typeof $?b+$:b["$+"]($)}("number"==typeof(b=f)?10*b:b["$*"](10),d),y=E(i.items,"find",[],((c=function(r){return null==r&&(r=D),r["$[]"](0)["$include?"](_)}).$$s=i,c.$$arity=1,c)),n(h,"RollResult").$new(i.name,_,y["$[]"](1))},x.$$arity=1)},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(e){function w($,o){return"number"==typeof $&&"number"==typeof o?$-o:$["$-"](o)}var o,l,a,x,K,R,h,B,W,k,D=[],v=e.nil,T=e.$$,t=e.module,E=e.klass,b=e.hash2;return o=D,l=k=[t(D[0],"BCDice")].concat(o),a=W=[t(k[0],"DiceTable")].concat(l),h=E(W[0],null,"D66GridTable"),B=[h].concat(a),h.$$prototype.name=h.$$prototype.items=v,e.defs(h,"$from_i18n",x=function(i,f){var _=v;return _=T(B,"I18n").$t(i,b(["locale","raise"],{locale:f,raise:!0})),this.$new(_["$[]"]("name"),_["$[]"]("items"))},x.$$arity=2),e.def(h,"$initialize",K=function(i,f){return this.name=i,this.items=f.$freeze()},K.$$arity=2),void e.def(h,"$roll",R=function(i){var d,_,y,A,r;return d=i.$roll_once(6),_=i.$roll_once(6),y=function($,o){return"number"==typeof $&&"number"==typeof o?$+o:$["$+"](o)}(function($,o){return"number"==typeof $?10*$:$["$*"](10)}(d),_),A=w(d,1),r=w(_,1),T(B,"RollResult").$new(this.name,y,this.items["$[]"](A)["$[]"](r))},R.$$arity=1)},Opal.modules["bcdice/format"]=function(e){var E,p,l,u,k,s,$,w=[],g=e.nil,v=e.$$,n=e.module,T=e.truthy;return E=w,p=$=[n(w[0],"BCDice")].concat(E),k=n($[0],"Format"),s=[k].concat(p),k.$module_function(),e.def(k,"$comparison_operator",l=function(M){var a;return"=="["$==="](a=M)?"=":"!="["$==="](a)?"<>":v(s,"Symbol")["$==="](a)?M.$to_s():g},l.$$arity=1),void e.def(k,"$modifier",u=function(M){return T(M["$nil?"]())?g:M["$=="](0)?"":T("number"==typeof(t=M)?t>0:t["$>"](0))?"+"+M:M.$to_s();var t},u.$$arity=1)},Opal.modules["bcdice/game_system/MonotoneMuseum"]=function(e){function w(l,u){return"number"==typeof l&&"number"==typeof u?l>=u:l["$>="](u)}var u,a,R,f,d,_,y,A,r,m,L,S,z,c,i,B,M,D=e.top,v=[],n=e.nil,T=e.$$$,t=e.$$,E=e.module,b=e.klass,$=e.send2,o=e.truthy,p=e.send,k=e.hash2,s=e.range;return D.$require("bcdice/dice_table/table"),D.$require("bcdice/dice_table/d66_range_table"),D.$require("bcdice/dice_table/d66_grid_table"),D.$require("bcdice/format"),u=v,a=M=[E(v[0],"BCDice")].concat(u),R=B=[E(M[0],"GameSystem")].concat(a),c=b(B[0],t(B,"Base"),"MonotoneMuseum"),i=[c].concat(R),c.$$prototype.randomizer=n,e.const_set(i[0],"ID","MonotoneMuseum"),e.const_set(i[0],"NAME","\u30e2\u30ce\u30c8\u30fc\u30f3\u30df\u30e5\u30fc\u30b8\u30a2\u30e0RPG"),e.const_set(i[0],"SORT_KEY","\u3082\u306e\u3068\u304a\u3093\u307f\u3086\u3046\u3057\u3042\u3080RPG"),e.const_set(i[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u3000\u30fb\u901a\u5e38\u5224\u5b9a\u3000\u3000\u3000\u3000\u3000\u30002D6+m>=t[c,f]\n\u3000\u3000\u4fee\u6b63\u5024m,\u76ee\u6a19\u5024t,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c,\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002([]\u3054\u3068\u7701\u7565\u3067\u304d\u307e\u3059)\n\u3000\u3000\u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u6210\u529f\u3001\u5931\u6557\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u611f\u60c5\u8868\u3000ET\uff0f\u611f\u60c5\u8868 2.0\u3000ET2\n\u3000\u30fb\u5146\u5019\u8868\u3000OT\uff0f\u5146\u5019\u8868ver2.0\u3000OT2\uff0f\u5146\u5019\u8868ver3.0\u3000OT3\n\u3000\u30fb\u6b6a\u307f\u8868\u3000DT\uff0f\u6b6a\u307f\u8868ver2.0\u3000DT2\uff0f\u6b6a\u307f\u8868(\u91ce\u5916)\u3000DTO\uff0f\u6b6a\u307f\u8868(\u6d77)\u3000DTS\uff0f\u6b6a\u307f\u8868(\u9928\u30fb\u57ce)\u3000DTM\n\u3000\u30fb\u4e16\u754c\u6b6a\u66f2\u8868\u3000WDT\uff0f\u4e16\u754c\u6b6a\u66f2\u88682.0\u3000WDT2\n\u3000\u30fb\u6c38\u52ab\u6d88\u5931\u8868\u3000EDT\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),e.def(c,"$initialize",f=function(A){var z=this;return f.$$p&&(f.$$p=null),$(z,e.find_super_dispatcher(z,"initialize",f,!1,!0),"initialize",[A],null),z.d66_sort_type=T(t(i,"D66SortType"),"NO_SORT"),z.sort_add_dice=!0},f.$$arity=1),e.def(c,"$eval_game_system_specific_command",d=function(A){var S,r=this;return o(S=r.$check_roll(A))?S:r.$roll_tables(A,T(r.$class(),"TABLES"))},d.$$arity=1),c.$private(),e.def(c,"$check_roll",_=function(A){var r,S,z=this,m=n,L=n,U=n,I=n,N=n,j=n,F=n,P=n,H=n,Y=n,X=n,V=n,J=n,Q=n;return m=/^(\d+)D6([+\-\d]*)>=(\d+)(\[(\d+)?(,(\d+))?\])?$/i.$match(A),o(m)?(L=m["$[]"](1).$to_i(),U=o(m["$[]"](2))?t(i,"ArithmeticEvaluator").$eval(m["$[]"](2)):0,I=m["$[]"](3).$to_i(),N=o(j=(r=m["$[]"](5))===n||null==r?n:p(r,"to_i",[]))?j:12,F=o(P=(S=m["$[]"](7))===n||null==S?n:p(S,"to_i",[]))?P:2,Y=(H=z.randomizer.$roll_barabara(L,6).$sort()).$sum(),X=H.$join(","),V=function(l,u){return"number"==typeof l&&"number"==typeof u?l+u:l["$+"](u)}(Y,U),J=o(function(l,u){return"number"==typeof l&&"number"==typeof u?l<=u:l["$<="](u)}(Y,F))?t(i,"Result").$fumble(z.$translate("MonotoneMuseum.automatic_failure")):o(w(Y,N))?t(i,"Result").$critical(z.$translate("MonotoneMuseum.automatic_success")):o(w(V,I))?t(i,"Result").$success(z.$translate("success")):t(i,"Result").$failure(z.$translate("failure")),Q=[["("+A+")",Y+"["+X+"]"+t(i,"Format").$modifier(U),V.$to_s(),J.$text()].$join(" \uff1e ")],p(J,"text=",e.to_a(Q)),function(l,u){"number"==typeof l||l["$-"](1)}(Q.length),J):n},_.$$arity=1),y=i[0],A=T(t(i,"DiceTable"),"D66RangeTable"),r=i,S=b(y,A,"MMTable"),z=[S].concat(r),e.defs(S,"$from_i18n",m=function(I,N){var F=n;return F=t(z,"I18n").$translate(I,k(["locale","raise"],{locale:N,raise:!0})),this.$new(F["$[]"]("name"),F["$[]"]("items"))},m.$$arity=2),e.def(S,"$initialize",L=function(I,N){var H,P=this;return L.$$p&&(L.$$p=null),o(N.$size()["$!="](t(z,"RANGE").$size()))&&P.$raise(t(z,"UnexpectedTableSize").$new(I,N.$size())),H=t(z,"RANGE").$zip(N),$(P,e.find_super_dispatcher(P,"initialize",L,!1,!0),"initialize",[I,H],null)},L.$$arity=2),e.const_set(z[0],"RANGE",[s(11,12,!1),s(13,14,!1),s(15,16,!1),s(21,22,!1),s(23,24,!1),s(25,26,!1),s(31,32,!1),s(33,34,!1),s(35,36,!1),s(41,42,!1),s(43,44,!1),s(45,46,!1),s(51,52,!1),s(53,54,!1),s(55,56,!1),s(61,62,!1),s(63,64,!1),s(65,66,!1)].$freeze()),function(y,A){var S,r=[y].concat(A);y.$private(),e.def(y,"$translate_tables",S=function(m){return k(["ET","ET2","OT","DT","DT2","WDT","WDT2","OT2","DTO","DTS","EDT","DTM","OT3"],{ET:T(t(r,"DiceTable"),"D66GridTable").$from_i18n("MonotoneMuseum.table.ET",m),ET2:T(t(r,"DiceTable"),"D66GridTable").$from_i18n("MonotoneMuseum.table.ET2",m),OT:T(t(r,"DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.OT",m),DT:T(t(r,"DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.DT",m),DT2:t(r,"MMTable").$from_i18n("MonotoneMuseum.table.DT2",m),WDT:T(t(r,"DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.WDT",m),WDT2:t(r,"MMTable").$from_i18n("MonotoneMuseum.table.WDT2",m),OT2:t(r,"MMTable").$from_i18n("MonotoneMuseum.table.OT2",m),DTO:t(r,"MMTable").$from_i18n("MonotoneMuseum.table.DTO",m),DTS:t(r,"MMTable").$from_i18n("MonotoneMuseum.table.DTS",m),EDT:T(t(r,"DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.EDT",m),DTM:t(r,"MMTable").$from_i18n("MonotoneMuseum.table.DTM",m),OT3:T(t(r,"DiceTable"),"Table").$from_i18n("MonotoneMuseum.table.OT3",m)})},S.$$arity=1)}(e.get_singleton_class(c),i),e.const_set(i[0],"TABLES",c.$translate_tables("ja_jp").$freeze()),void c.$register_prefix("\\d+D6",t(i,"TABLES").$keys())},q=[],D=(e=Opal).$$,v=e.module,n=e.klass,T=e.send2,e.top.$require("bcdice/game_system/MonotoneMuseum"),E=q,p=$=[v(q[0],"BCDice")].concat(E),W=s=[v($[0],"GameSystem")].concat(p),G=[M=n(s[0],D(s,"MonotoneMuseum"),"MonotoneMuseum_Korean")].concat(W),e.const_set(G[0],"ID","MonotoneMuseum:Korean"),e.const_set(G[0],"NAME","\ubaa8\ub178\ud1a4 \ubba4\uc9c0\uc5c4"),e.const_set(G[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ubaa8\ub178\ud1a4 \ubba4\uc9c0\uc5c4"),e.const_set(G[0],"HELP_MESSAGE","\u30fb\ud310\uc815\n\u3000\u30fb\ud1b5\uc0c1\ud310\uc815\u3000\u3000\u3000\u3000\u3000\u30002D6+m>=t[c,f]\n\u3000\u3000\uc218\uc815\uce58m,\ubaa9\ud45c\uce58t,\ud06c\ub9ac\ud2f0\uceec\uce58c,\ud38c\ube14\uce58f\ub85c \ud310\uc815 \uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\u3000\ud06c\ub9ac\ud2f0\uceec, \ud38c\ube14\uce58\ub294 \uc0dd\ub7b5\uac00\ub2a5\ud569\ub2c8\ub2e4. ([]\uc790\uccb4\ub97c \uc0dd\ub7b5\uac00\ub2a5)\n\u3000\u3000\uc790\ub3d9\uc131\uacf5, \uc790\ub3d9\uc2e4\ud328, \uc131\uacf5, \uc2e4\ud328\ub97c \uc790\ub3d9\ud45c\uae30\ud569\ub2c8\ub2e4.\n\u30fb\uac01\uc885\ud45c\n\u3000\u30fb\uac10\uc815\ud45c\u3000ET\uff0f\uac10\uc815\ud45c 2.0\u3000ET2\n\u3000\u30fb\uc9d5\uc870\ud45c\u3000OT\uff0f\uc9d5\uc870\ud45cver2.0\u3000OT2\uff0f\uc9d5\uc870\ud45cver3.0\u3000OT3\n\u3000\u30fb\uc77c\uadf8\ub7ec\uc9d0\ud45c\u3000DT\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45cver2.0\u3000DT2\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45c(\uc57c\uc678)\u3000DTO\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45c(\ubc14\ub2e4)\u3000DTS\uff0f\uc77c\uadf8\ub7ec\uc9d0\ud45c(\uc800\ud0dd\u30fb\uc131)\u3000DTM\n\u3000\u30fb\uc138\uacc4\uc65c\uace1\ud45c\u3000\u3000WDT\uff0f\uc138\uacc4\uc65c\uace1\ud45c2.0\u3000WDT2\n\u3000\u30fb\uc601\uad6c\uc18c\uc2e4\ud45c\u3000EDT\n\u30fbD66\ub2e4\uc774\uc2a4 \uc788\uc74c\n"),M.$register_prefix_from_super_class(),e.def(M,"$initialize",a=function(B){var R=this;return a.$$p&&(a.$$p=null),T(R,e.find_super_dispatcher(R,"initialize",a,!1,!0),"initialize",[B],null),R.locale="ko_kr"},a.$$arity=1),e.const_set(G[0],"TABLES",M.$translate_tables("ko_kr").$freeze())}}]);