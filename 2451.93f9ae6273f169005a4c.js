(self.webpackChunkudonarium_lily=self.webpackChunkudonarium_lily||[]).push([[2451],{2451:function(Be,ve,_e){_e(4656),function(i){function T(s,o){return"number"==typeof s&&"number"==typeof o?s<=o:s["$<="](o)}function b(s,o){return"number"==typeof s&&"number"==typeof o?s+o:s["$+"](o)}function v(s,o){return"number"==typeof s&&"number"==typeof o?s>=o:s["$>="](o)}function L(s,o){return"number"==typeof s&&"number"==typeof o?s/o:s["$/"](o)}function F(s,o){return"number"==typeof s&&"number"==typeof o?s<o:s["$<"](o)}function K(s,o){return"number"==typeof s&&"number"==typeof o?s-o:s["$-"](o)}var o,Ce,xe,A,P,E,M,N,j,G,Y,q,J,Q,U,V,W,X,Z,O,ee,te,ue,ne,g,d,D,I,S=[],e=i.nil,B=i.$$,z=i.module,ce=i.klass,ge=i.send2,w=i.range,f=i.truthy,k=i.send,he=i.hash2;o=S,Ce=I=[z(S[0],"BCDice")].concat(o),xe=D=[z(I[0],"GameSystem")].concat(Ce),g=ce(D[0],B(D,"Base"),"Cthulhu7th_Korean"),d=[g].concat(xe),g.$$prototype.bonus_dice_range=g.$$prototype.randomizer=e,i.const_set(d[0],"ID","Cthulhu7th:Korean"),i.const_set(d[0],"NAME","\ud06c\ud234\ub8e8\uc758 \ubd80\ub984 7\ud310"),i.const_set(d[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8\uc758 \ubd80\ub984 7\ud310"),i.const_set(d[0],"HELP_MESSAGE","\u30fb\ud310\uc815\u3000CC(x)<=\uff08\ubaa9\ud45c\uce58\uff09\n\u3000x\uff1a\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uff1aBonus/Penalty Dice (2~-2). \uc0dd\ub7b5 \uac00\ub2a5.\n\u3000\ub300\uc2e4\ud328\uff1aFumble\uff0f\uc2e4\ud328\uff1aFailure\uff0f\ubcf4\ud1b5 \uc131\uacf5\uff1aRegular success\uff0f\n\u3000\uc5b4\ub824\uc6b4 \uc131\uacf5\uff1aHard success\uff0f\ub300\ub2e8\ud55c \uc131\uacf5\uff1aExtreme success\uff0f\n\u3000\ub300\uc131\uacf5\uff1aCritical success\u3000\uc744 \uc790\ub3d9\ud310\uc815.\n\uc608\uff09CC<=30\u3000CC(2)<=50\u3000CC(-1)<=75\n\n\u30fb\uc870\ud569 \ud310\uc815\u3000(CBR(x,y))\n\u3000\ubaa9\ud45c\uce58 x \uc640 y \ub85c \ub3d9\uc2dc\uc5d0 \uff05\ud310\uc815\uc744 \ud55c\ub2e4.\n\u3000\uc608\uff09CBR(50,20)\n\n\u30fb\uc5f0\uc0ac(Full Auto)\ud310\uc815\u3000FAR(w,x,y,z)\n\u3000w\uff1a\ud0c4\uc218(1~100), x\uff1a\uae30\ub2a5 \uc218\uce58(1~100), y\uff1a\uace0\uc7a5 \ub118\ubc84\n\u3000z\uff1a\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704(-2~2). \uc0dd\ub7b5 \uac00\ub2a5.\n\u3000\uba85\uc911\uc218\uc640 \uad00\ud1b5\uc218, \uc794\ud0c4\uc218\ub9cc\uc744 \uacc4\uc0b0. \ub370\ubbf8\uc9c0\ub294 \uacc4\uc0b0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc608\uff09FAR(25,70,98)\u3000FAR(50,80,98,-1)\n"),g.$register_prefix("CC","CBR","FAR"),i.def(g,"$initialize",A=function(n){var $=this;return A.$$p&&(A.$$p=null),ge($,i.find_super_dispatcher($,"initialize",A,!1,!0),"initialize",[n],null),$.bonus_dice_range=w(-2,2,!1)},A.$$arity=1),i.def(g,"$eval_game_system_specific_command",P=function(n){var t,u=this;return/CC/i["$==="](t=n)?u.$getCheckResult(n):/CBR/i["$==="](t)?u.$getCombineRoll(n):/FAR/i["$==="](t)?u.$getFullAutoResult(n):e},P.$$arity=1),i.def(g,"$getCheckResult",E=function(n){var t,$,u=this,l=e,c=e,_=e,a=e,r=e;return f(/^CC([-\d]+)?<=(\d+)/i["$=~"](n)),t=B(d,"Regexp").$last_match(1).$to_i(),$=B(d,"Regexp").$last_match(2).$to_i(),f(T($,0))?"\uc5d0\ub7ec. \ubaa9\ud45c\uce58\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":f(u.bonus_dice_range["$include?"](t))?(l=b(l="","(1D100<="+$+")"),l=b(l," \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704["+t+"]"),c=u.$rollPercentD10(),_=u.$getTotalLists(t,c),a=u.$getTotal(_,t),r=u.$getCheckResultText(a,$),l=b(l," \uff1e "+_.$join(", ")+" \uff1e "+a+" \uff1e "+r)):"\uc5d0\ub7ec. \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uc758 \uc218\uce58\ub294 "+u.bonus_dice_range.$min()+"~"+u.bonus_dice_range.$max()+"\uc785\ub2c8\ub2e4."},E.$$arity=1),i.def(g,"$rollPercentD10",M=function(){var u=e;return(u=this.randomizer.$roll_once(10))["$=="](10)&&(u=0),u},M.$$arity=0),i.def(g,"$getTotalLists",N=function(n,u){var t,c,l=e;return l=[],c=b(1,n.$abs()),k(c,"times",[],((t=function(){var s,m=e;return(m=b((s=(null==t.$$s?this:t.$$s).$rollPercentD10(),"number"==typeof s?10*s:s["$*"](10)),u))["$=="](0)&&(m=100),l.$push(m)}).$$s=this,t.$$arity=0,t)),l},N.$$arity=2),i.def(g,"$getTotal",j=function(n,u){return f(v(u,0))?n.$min():n.$max()},j.$$arity=2),i.def(g,"$getCheckResultText",G=function(n,u,t){var l;if(null==t&&(t=!1),f(T(n,u)))return n["$=="](1)?"\ub300\uc131\uacf5":f(T(n,L(u,5).$to_i()))?"\ub300\ub2e8\ud55c \uc131\uacf5":f(T(n,L(u,2).$to_i()))?"\uc5b4\ub824\uc6b4 \uc131\uacf5":"\ubcf4\ud1b5 \uc131\uacf5";if(l="\ub300\uc2e4\ud328",n["$=="](100))return l;if(f(v(n,96))){if(f(F(u,50)))return l;if(f(t))return l}return"\uc2e4\ud328"},G.$$arity=-3),i.def(g,"$getCombineRoll",Y=function(n){var u=this,t=e,$=e,l=e,c=e,_=e,a=e,r=e;return f(/CBR\((\d+),(\d+)\)/i["$=~"](n))?(t=B(d,"Regexp").$last_match(1).$to_i(),$=B(d,"Regexp").$last_match(2).$to_i(),l=u.randomizer.$roll_once(100),c=u.$getCheckResultText(l,t),_=u.$getCheckResultText(l,$),r=0,f((a=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5","\uc5b4\ub824\uc6b4 \uc131\uacf5","\ubcf4\ud1b5\uc131\uacf5"])["$include?"](c))&&(r=b(r,1)),f(a["$include?"](_))&&(r=b(r,1)),u.$debug("succesCount",r),"(1d100<="+t+","+$+") \uff1e "+l+"["+c+","+_+"] \uff1e "+(f(v(r,2))?"\uc131\uacf5":r["$=="](1)?"\ubd80\ubd84\uc801 \uc131\uacf5":"\uc2e4\ud328")):e},Y.$$arity=1),i.def(g,"$getFullAutoResult",q=function(n){var u=this,t=e,$=e,l=e,c=e,_=e,a=e,r=e;return f(/^FAR\((-?\d+)(,(-?\d+))(,(-?\d+))(,(-?\d+))?\)/i["$=~"](n))?(t=B(d,"Regexp").$last_match(1).$to_i(),$=B(d,"Regexp").$last_match(3).$to_i(),l=B(d,"Regexp").$last_match(5).$to_i(),c=(f(_=B(d,"Regexp").$last_match(7))?_:0).$to_i(),a="",f(function(s,o){return"number"==typeof s&&"number"==typeof o?s>o:s["$>"](o)}(t,r=100))&&(a=b(a,"\n\ud0c4\uc57d\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a5\uc804\ub41c \ud0c4\uc57d\uc744 "+r+"\uac1c\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n"),t=r),f(T(t,0))?"\ud0c4\uc57d\uc740 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":f(T($,0))?"\ubaa9\ud45c\uce58\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":(f(F(l,0))&&(a=b(a,"\n\uace0\uc7a5 \ub118\ubc84\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4. \ub9c8\uc774\ub108\uc2a4 \uae30\ud638\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4.\n"),l=l.$abs()),f(u.bonus_dice_range["$include?"](c))?(a=b(a,"\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704 ["+c+"]"),a=b(a,u.$rollFullAuto(t,$,l,c))):"\n\uc5d0\ub7ec. \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uc758 \uc218\uce58\ub294 "+u.bonus_dice_range.$min()+"~"+u.bonus_dice_range.$max()+"\uc785\ub2c8\ub2e4.")):e},q.$$arity=1),i.def(g,"$rollFullAuto",J=function(n,u,t,$){try{var l,_=e,a=e,r=e;return _="",a=0,r=he(["hit_bullet","impale_bullet","bullet"],{hit_bullet:0,impale_bullet:0,bullet:n}),k(w(0,3,!1),"each",[],((l=function(R){var C,H,y=null==l.$$s?this:l.$$s,p=e,$e=e,ie=e,re=e,se=e,oe=e,x=e;for(null==y.bonus_dice_range&&(y.bonus_dice_range=e),null==R&&(R=e),_=b(_,y.$getNextDifficltyMessage(R));f(v($,y.bonus_dice_range.$min()));)a=b(a,1),H=y.$getHitResultInfos($,u,R),p=null==(C=i.to_ary(H))[0]?e:C[0],$e=null==C[1]?e:C[1],_=b(_,"\n"+a+"\ubc88\uc9f8: \uff1e "+(null==C[2]?e:C[2]).$join(", ")+" \uff1e "+p),f(v($e,t))&&(_=b(_," \ucd1d\uc54c \uac78\ub9bc"),i.ret(y.$getHitResultText(_,r))),ie=y.$getHitType(R,p),H=y.$getBulletResults(r["$[]"]("bullet"),ie,u),re=null==(C=i.to_ary(H))[0]?e:C[0],se=null==C[1]?e:C[1],oe=null==C[2]?e:C[2],x=["hit_bullet",b(r["$[]"]("hit_bullet"),re)],k(r,"[]=",i.to_a(x)),K(x.length,1),x=["impale_bullet",b(r["$[]"]("impale_bullet"),se)],k(r,"[]=",i.to_a(x)),K(x.length,1),x=["bullet",K(r["$[]"]("bullet"),oe)],k(r,"[]=",i.to_a(x)),K(x.length,1),f(T(r["$[]"]("bullet"),0))&&i.ret(y.$getHitResultText(_,r)),$=K($,1);return $=b($,1)}).$$s=this,l.$$arity=1,l)),this.$getHitResultText(_,r)}catch(m){if(m===i.returner)return m.$v;throw m}},J.$$arity=4),i.def(g,"$getHitResultInfos",Q=function(n,u,t){var l,c,_,a,$=this;return l=$.$rollPercentD10(),c=$.$getTotalLists(n,l),_=$.$getTotal(c,n),a=$.$getFumbleable(t),[$.$getCheckResultText(_,u,a),_,c]},Q.$$arity=3),i.def(g,"$getHitResultText",U=function(n,u){return n+"\n\uff1e "+u["$[]"]("hit_bullet")+"\ubc1c\uc774 \uba85\uc911, "+u["$[]"]("impale_bullet")+"\ubc1c\uc774 \uad00\ud1b5, \uc794\ud0c4 "+u["$[]"]("bullet")+"\ubc1c"},U.$$arity=2),i.def(g,"$getHitType",V=function(n,u){var t,$,_=e;return $=this.$getSuccessListImpaleBulletList(n),_=null==(t=i.to_ary($))[1]?e:t[1],f((null==t[0]?e:t[0])["$include?"](u))?"hit":f(_["$include?"](u))?"impale":""},V.$$arity=2),i.def(g,"$getBulletResults",W=function(n,u,t){var l,c,$=this,_=e,a=e,r=e,m=e,R=e,y=e;return l=$.$getSetOfBullet(t),c=$.$getHitBulletCountBase(t,l),_=L(l,2..$to_f()),a=0,r=0,m=0,f($.$isLastBulletTurn(n,l)["$!"]())?("hit"["$==="](R=u)?r=c:"impale"["$==="](R)&&(r=_.$floor(),m=_.$ceil()),a=l):("hit"["$==="](R=u)?r=$.$getLastHitBulletCount(n):"impale"["$==="](R)&&(r=(y=L(n,2..$to_f())).$floor(),m=y.$ceil()),a=n),[r.$to_i(),m.$to_i(),a.$to_i()]},W.$$arity=3),i.def(g,"$getSuccessListImpaleBulletList",X=function(n){var l,t=e,$=e;return t=[],$=[],(0)["$==="](l=n)?(t=["\uc5b4\ub824\uc6b4 \uc131\uacf5","\ubcf4\ud1b5 \uc131\uacf5"],$=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"]):1["$==="](l)?(t=["\uc5b4\ub824\uc6b4 \uc131\uacf5"],$=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"]):2["$==="](l)?(t=[],$=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"]):3["$==="](l)&&(t=["\ub300\uc131\uacf5"],$=[]),[t,$]},X.$$arity=1),i.def(g,"$getNextDifficltyMessage",Z=function(n){var t;return 1["$==="](t=n)?"\n    \ub09c\uc774\ub3c4\uac00 \uc5b4\ub824\uc6b4 \uc131\uacf5\uc73c\ub85c \ubcc0\uacbd":2["$==="](t)?"\n    \ub09c\uc774\ub3c4\uac00 \ub300\ub2e8\ud55c \uc131\uacf5\uc73c\ub85c \ubcc0\uacbd":3["$==="](t)?"\n    \ub09c\uc774\ub3c4\uac00 \ub300\uc131\uacf5\uc73c\ub85c \ubcc0\uacbd":""},Z.$$arity=1),i.def(g,"$getSetOfBullet",O=function(n){var $,t=e;return t=L(n,10).$to_i(),f(f($=v(n,1))?F(n,10):$)&&(t=1),t},O.$$arity=1),i.def(g,"$getHitBulletCountBase",ee=function(n,u){var l,$=e;return $=L(u,2).$to_i(),f(f(l=v(n,1))?F(n,10):l)&&($=1),$},ee.$$arity=2),i.def(g,"$isLastBulletTurn",te=function(n,u){return F(K(n,u),0)},te.$$arity=2),i.def(g,"$getLastHitBulletCount",ue=function(n){return n["$=="](1)?1:L(n,2..$to_f()).$floor()},ue.$$arity=1),i.def(g,"$getFumbleable",ne=function(n){return v(n,1)},ne.$$arity=1)}(Opal)}}]);