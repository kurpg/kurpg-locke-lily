(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6103],{6103:(de,ve,fe)=>{fe(9993),Opal.modules["bcdice/dice_table/table"]=function(r){var m,g,$,a,h,S,T,O,I,V=[],l=r.nil,s=r.module,e=r.klass,x=r.hash2,L=r.defs,ne=r.truthy,_=r.def,J=r.rb_minus;return m=V,g=I=[s(V[0],"BCDice")].concat(m),$=O=[s(I[0],"DiceTable")].concat(g),h=[a=e(O[0],null,"Table")].concat($),S=r.$r(h),(T=a.$$prototype).times=T.sides=T.name=T.items=l,L(a,"$from_i18n",function(A,C){var w=l;return w=S("I18n").$t(A,x(["locale"],{locale:C})),this.$new(w["$[]"]("name"),w["$[]"]("type"),w["$[]"]("items"))},2),_(a,"$initialize",function(A,C,B){var w=this,v=l;return w.name=A,w.items=B.$freeze(),v=/(\d+)D(\d+)/i.$match(C),ne(v)||w.$raise(S("ArgumentError"),"Unexpected table type: "+C),w.times=v["$[]"](1).$to_i(),w.sides=v["$[]"](2).$to_i()},3),_(a,"$roll",function(A){var B,C=this;return B=A.$roll_sum(C.times,C.sides),C.$choice(B)},1),_(a,"$choice",function(A){var B,C=this;return B=J(A,C.times),S("RollResult").$new(C.name,A,C.items["$[]"](B))},1)},Opal.modules["bcdice/dice_table/d66_table"]=function(r){var j,M,S,T,H,A,C,$,F,V=[],l=r.nil,s=r.$$$,e=r.module,x=r.klass,L=r.hash2,ne=r.defs,_=r.def,J=r.eqeqeq,re=r.rb_plus,m=r.rb_times,z=r.truthy;return j=V,M=F=[e(V[0],"BCDice")].concat(j),S=$=[e(F[0],"DiceTable")].concat(M),H=[T=x($[0],null,"D66Table")].concat(S),A=r.$r(H),(C=T.$$prototype).sort_type=C.items=C.name=l,ne(T,"$from_i18n",function(w,v){var f,o=l;return o=A("I18n").$t(w,L(["locale"],{locale:v})),f=A("D66SortType").$const_get(o["$[]"]("d66_sort_type")),this.$new(o["$[]"]("name"),f,o["$[]"]("items"))},2),_(T,"$initialize",function(w,v,y){var o=this;return o.name=w,o.sort_type=v,o.items=y.$freeze()},3),_(T,"$roll",function(w){var v=this,y=l,o=l,f=l,d=l;return y=w.$roll_barabara(2,6),J(s(A("D66SortType"),"ASC"),o=v.sort_type)?y["$sort!"]():J(s(A("D66SortType"),"DESC"),o)&&y["$sort!"]()["$reverse!"](),f=re(m(y["$[]"](0),10),y["$[]"](1)),d=z(o=v.items["$[]"](f))?o:v.items["$[]"](f.$to_s()),z(d["$respond_to?"]("roll"))&&(d=d.$roll(w)),A("RollResult").$new(v.name,f,d)},1),_(T,"$choice",function(w){return A("RollResult").$new(this.name,w,this.items["$[]"](w))},1)},Opal.modules["bcdice/arithmetic/node"]=function(r){var F,$,T,v,y,A,C,h,M,V=[],l=r.nil,s=r.$$$,e=r.module,x=r.klass,L=r.def,ne=r.send2,_=r.find_super,J=r.eqeq,re=r.const_set,m=r.eqeqeq,z=r.rb_divide,I=r.truthy,j=r.alias;return F=V,$=M=[e(V[0],"BCDice")].concat(F),T=h=[e(M[0],"Arithmetic")].concat($),A=[e(h[0],"Node")].concat(T),C=r.$r(A),(y=(v=x(A[0],null,"BinaryOp")).$$prototype).lhs=y.rhs=y.op=l,L(v,"$initialize",function(f,d,q){var K=this;return K.lhs=f,K.op=d,K.rhs=q},3),L(v,"$eval",function(f){var K,d=this,q=l;return q=d.lhs.$eval(f),K=d.rhs.$eval(f),q.$send(d.op,K)},1),L(v,"$output",function(){var f=this;return""+f.lhs.$output()+f.op+f.rhs.$output()},0),L(v,"$s_exp",function(){var f=this;return"("+f.$op_for_s_exp()+" "+f.lhs.$s_exp()+" "+f.rhs.$s_exp()+")"},0),L(v,"$op_for_s_exp",function(){return this.op},0),function(B,w,v){var y=x(B,w,"DivideBase"),o=[y].concat(v),f=r.$r(o),d=y.$$prototype;d.lhs=d.rhs=d.op=l,L(y,"$initialize",function q(K,Z){return delete q.$$p,ne(this,_(this,"initialize",q,!1,!0),"initialize",[K,"/",Z],null)},2),L(y,"$eval",function(K){var ce,G,Z=this;return ce=Z.lhs.$eval(K),G=Z.rhs.$eval(K),J(G,0)&&Z.$raise(f("ZeroDivisionError")),Z.$divide_and_round(ce,G,K)},1),L(y,"$output",function q(){var K=q.$$p||l,Z=this;return delete q.$$p,""+ne(Z,_(Z,"output",q,!1,!0),"output",[],K)+Z.$rounding_method()},0),y.$private(),L(y,"$rounding_method",function(){return s(this.$class(),"ROUNDING_METHOD")},0),L(y,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()},0),L(y,"$divide_and_round",function(K,Z,ce){return this.$raise(f("NotImplementedError"))},3)}(A[0],C("BinaryOp"),A),function(B,w,v){var y=x(B,w,"DivideWithGameSystemDefault"),o=[y].concat(v),f=r.$r(o);re(o[0],"ROUNDING_METHOD",""),y.$private(),L(y,"$divide_and_round",function(q,K,Z){var ce,G=l;return m(s(f("RoundType"),"CEIL"),ce=Z)?z(q.$to_f(),K).$ceil():m(s(f("RoundType"),"ROUND"),ce)?(G=z(q.$to_f(),K),I(G["$negative?"]())?G.$abs().$round()["$-@"]():G.$round()):z(q,K).$floor()},3)}(A[0],C("DivideBase"),A),function(B,w,v){var y=x(B,w,"DivideWithCeil"),o=[y].concat(v);re(o[0],"ROUNDING_METHOD","C"),y.$private(),L(y,"$divide_and_round",function(d,q,K){return z(d.$to_f(),q).$ceil()},3)}(A[0],C("DivideBase"),A),function(B,w,v){var y=x(B,w,"DivideWithRound"),o=[y].concat(v);re(o[0],"ROUNDING_METHOD","R"),y.$private(),L(y,"$divide_and_round",function(d,q,K){var Z=l;return Z=z(d.$to_f(),q),I(Z["$negative?"]())?Z.$abs().$round()["$-@"]():Z.$round()},3)}(A[0],C("DivideBase"),A),function(B,w,v){var y=x(B,w,"DivideWithFloor"),o=[y].concat(v);re(o[0],"ROUNDING_METHOD","F"),y.$private(),L(y,"$divide_and_round",function(d,q,K){return z(d,q).$floor()},3)}(A[0],C("DivideBase"),A),function(B,w){var v=x(B,null,"Negative");v.$$prototype.body=l,L(v,"$initialize",function(f){return this.body=f},1),L(v,"$eval",function(f){return this.body.$eval(f)["$-@"]()},1),L(v,"$output",function(){return"-"+this.body.$output()},0),L(v,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"},0)}(A[0]),function(B,w){var v=x(B,null,"Parenthesis");v.$$prototype.expr=l,L(v,"$initialize",function(f){return this.expr=f},1),L(v,"$eval",function(f){return this.expr.$eval(f)},1),L(v,"$output",function(){return"("+this.expr.$output()+")"},0),L(v,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"},0)}(A[0]),function(B,w){var v=x(B,null,"Number");return v.$$prototype.value=l,L(v,"$initialize",function(f){return this.value=f},1),L(v,"$eval",function(f){return this.value},1),L(v,"$output",function(){return this.value.$to_s()},0),j(v,"s_exp","output")}(A[0])},Opal.modules["racc/parser"]=function(r){var C,w,v,l=[],s=r.$r(l),e=r.nil,x=r.$$$,L=r.module,ne=r.klass,_=r.truthy,J=r.const_set,re=r.defs,m=r.gvars,z=r.rb_lt,I=r.send,j=r.to_a,g=r.rb_minus,F=r.def,O=r.to_ary,M=r.neqeq,R=r.rb_plus,$=r.eqeq,a=r.rb_ge,h=r.rb_gt,S=r.eqeqeq,T=r.rb_le,H=r.rb_times;return C=l,w=[L(l[0],"Racc")].concat(C),v=r.$r(w),ne(w[0],v("StandardError"),"ParseError"),_(x("::","ParseError","skip_raise")?"constant":e)||J(l[0],"ParseError",x(s("Racc"),"ParseError")),function(A,C){var d,q,K,Z,ce,v=[L(A,"Racc")].concat(C),y=r.$r(v);return _(y("Racc_No_Extensions","skip_raise")?"constant":e)||J(v[0],"Racc_No_Extensions",!1),d=v,K=[q=ne(v[0],null,"Parser")].concat(d),Z=r.$r(K),(ce=q.$$prototype).yydebug=ce.racc_debug_out=ce.racc_error_status=ce.racc_t=ce.racc_vstack=ce.racc_val=ce.racc_state=ce.racc_tstack=e,J(K[0],"Racc_Runtime_Version","1.4.6"),J(K[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),J(K[0],"Racc_Runtime_Core_Version_R","1.4.6"),J(K[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),J(K[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),J(K[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),J(K[0],"Racc_Runtime_Core_Version",Z("Racc_Runtime_Core_Version_R")),J(K[0],"Racc_Runtime_Core_Revision",Z("Racc_Runtime_Core_Revision_R")),J(K[0],"Racc_Runtime_Type","ruby"),re(Z("Parser"),"$racc_runtime_type",function(){return Z("Racc_Runtime_Type")},0),F(q,"$_racc_setup",function(){var p,D,t=this,N=e,n=e,Q=e;return null==m.stderr&&(m.stderr=e),_(x(t.$class(),"Racc_debug_parser"))||(t.yydebug=!1),_(null!=(p=t.yydebug)&&p!==e?"instance-variable":e)||(t.yydebug=!1),_(t.yydebug)&&(_(null!=(D=t.racc_debug_out)&&D!==e?"instance-variable":e)||(t.racc_debug_out=m.stderr),t.racc_debug_out=_(N=t.racc_debug_out)?N:m.stderr),n=x(t.$class(),"Racc_arg"),_(z(n.$size(),14))&&(I(n,"[]=",j(Q=[13,!0])),g(Q.length,1)),n},0),F(q,"$_racc_init_sysvars",function(){var p=this;return p.racc_state=[0],p.racc_tstack=[],p.racc_vstack=[],p.racc_t=e,p.racc_val=e,p.racc_read_next=!0,p.racc_user_yyerror=!1,p.racc_error_status=0},0),F(q,"$do_parse",function(){return this.$__send__(Z("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},0),F(q,"$next_token",function(){return this.$raise(Z("NotImplementedError"),this.$class()+"#next_token is not defined")},0),F(q,"$_racc_do_parse_rb",function(p,D){var t,n=this,Q=e,ue=e,ie=e,ae=e,P=e,i=e,k=e,c=e;return t=O(p),Q=null==t[0]?e:t[0],ue=null==t[1]?e:t[1],ie=null==t[2]?e:t[2],ae=null==t[3]?e:t[3],P=null==t[10]?e:t[10],n.$_racc_init_sysvars(),i=k=c=e,I(n,"catch",["racc_end_parse"],function u(){var Y,E,b=null==u.$$s?this:u.$$s,$e=e;for(null==b.racc_state&&(b.racc_state=e),null==b.racc_read_next&&(b.racc_read_next=e),null==b.racc_t&&(b.racc_t=e),null==b.yydebug&&(b.yydebug=e),null==b.racc_val&&(b.racc_val=e);_(!0);)for(_(c=ae["$[]"](b.racc_state["$[]"](-1)))?(_(b.racc_read_next)&&M(b.racc_t,0)&&(E=b.$next_token(),Y=O(E),i=null==Y[0]?e:Y[0],b.racc_val=null==Y[1]?e:Y[1],b.racc_t=_(i)?_($e=P["$[]"](i))?$e:1:0,_(b.yydebug)&&b.$racc_read_token(b.racc_t,i,b.racc_val),b.racc_read_next=!1),c=R(c,b.racc_t),_(a(c,0))&&_(k=Q["$[]"](c))&&$(ue["$[]"](c),b.racc_state["$[]"](-1))||(k=ie["$[]"](b.racc_state["$[]"](-1)))):k=ie["$[]"](b.racc_state["$[]"](-1));_(k=b.$_racc_evalact(k,p)););},{$$arity:0,$$s:n})},2),F(q,"$yyparse",function(p,D){return this.$__send__(Z("Racc_YY_Parse_Method"),p,D,this.$_racc_setup(),!0)},2),F(q,"$_racc_yyparse_rb",function(p,D,t,N){var n,ie=e,ae=e,X=e,P=e,k=e,c=e,u=e;return n=O(t),ie=null==n[0]?e:n[0],ae=null==n[1]?e:n[1],X=null==n[2]?e:n[2],P=null==n[3]?e:n[3],k=null==n[10]?e:n[10],this.$_racc_init_sysvars(),c=e,u=e,I(this,"catch",["racc_end_parse"],function W(){var b=null==W.$$s?this:W.$$s;for(null==b.racc_state&&(b.racc_state=e);!_(u=P["$[]"](b.racc_state["$[]"](-1)));)for(;_(c=b.$_racc_evalact(X["$[]"](b.racc_state["$[]"](-1)),t)););return I(p,"__send__",[D],function $e(te,_e){var ee=null==$e.$$s?this:$e.$$s,U=e,le=e;for(null==ee.racc_t&&(ee.racc_t=e),null==ee.racc_state&&(ee.racc_state=e),null==ee.racc_read_next&&(ee.racc_read_next=e),null==te&&(te=e),null==_e&&(_e=e),ee.racc_t=_(te)?_(U=k["$[]"](te))?U:1:0,ee.racc_val=_e,ee.racc_read_next=!1,u=R(u,ee.racc_t),_(a(u,0))&&_(c=ie["$[]"](u))&&$(ae["$[]"](u),ee.racc_state["$[]"](-1))||(c=X["$[]"](ee.racc_state["$[]"](-1)));_(c=ee.$_racc_evalact(c,t)););for(;_(_(U=_(le=(u=P["$[]"](ee.racc_state["$[]"](-1)))["$!"]())?le:ee.racc_read_next["$!"]())?U:ee.racc_t["$=="](0));)for(_(u)&&_(u=R(u,ee.racc_t))&&_(a(u,0))&&_(c=ie["$[]"](u))&&$(ae["$[]"](u),ee.racc_state["$[]"](-1))||(c=X["$[]"](ee.racc_state["$[]"](-1)));_(c=ee.$_racc_evalact(c,t)););},{$$arity:2,$$s:b})},{$$arity:0,$$s:this})},4),F(q,"$_racc_evalact",function(p,D){var t,X,n=this,Q=e,ue=e,ae=e,P=e,i=e,k=e,c=e;if(Q=null==(t=O(D))[0]?e:t[0],ue=null==t[1]?e:t[1],ae=null==t[3]?e:t[3],X=null==t[11]?e:t[11],P=null==t[12]?e:t[12],_(h(p,0))&&_(z(p,X)))_(h(n.racc_error_status,0))&&($(n.racc_t,1)||(n.racc_error_status=g(n.racc_error_status,1))),n.racc_vstack.$push(n.racc_val),n.racc_state.$push(p),n.racc_read_next=!0,_(n.yydebug)&&(n.racc_tstack.$push(n.racc_t),n.$racc_shift(n.racc_t,n.racc_tstack,n.racc_vstack));else if(_(z(p,0))&&_(h(p,P["$-@"]()))){if(i=I(n,"catch",["racc_jump"],function u(){var W=null==u.$$s?this:u.$$s;return null==W.racc_state&&(W.racc_state=e),W.racc_state.$push(W.$_racc_do_reduce(D,p)),!1},{$$arity:0,$$s:n}),_(i)){if(S(1,k=i))return n.racc_user_yyerror=!0,P["$-@"]();if(S(2,k))return X;n.$raise("[Racc Bug] unknown jump code")}}else if($(p,X))_(n.yydebug)&&n.$racc_accept(),n.$throw("racc_end_parse",n.racc_vstack["$[]"](0));else{if($(p,P["$-@"]())){for(S(0,k=n.racc_error_status)?_(D["$[]"](21))||n.$on_error(n.racc_t,n.racc_val,n.racc_vstack):S(3,k)&&($(n.racc_t,0)&&n.$throw("racc_end_parse",e),n.racc_read_next=!0),n.racc_user_yyerror=!1,n.racc_error_status=3;_(!0)&&!(_(c=ae["$[]"](n.racc_state["$[]"](-1)))&&(c=R(c,1),_(a(c,0))&&_(p=Q["$[]"](c))&&$(ue["$[]"](c),n.racc_state["$[]"](-1))));)_(T(n.racc_state.$size(),1))&&n.$throw("racc_end_parse",e),n.racc_state.$pop(),n.racc_vstack.$pop(),_(n.yydebug)&&(n.racc_tstack.$pop(),n.$racc_e_pop(n.racc_state,n.racc_tstack,n.racc_vstack));return p}n.$raise("[Racc Bug] unknown action "+p.$inspect())}return _(n.yydebug)&&n.$racc_next_state(n.racc_state["$[]"](-1),n.racc_state),e},2),F(q,"$_racc_do_reduce",function(p,D){var t,P,k,b,$e,te,ee,n=this,ue=e,ie=e,ae=e,X=e,i=e,c=e,u=e,W=e,Y=e,E=e,_e=e,oe=e,se=e,U=e;return ue=null==(t=O(p))[4]?e:t[4],ie=null==t[5]?e:t[5],ae=null==t[6]?e:t[6],X=null==t[7]?e:t[7],P=null==t[8]?e:t[8],i=null==t[9]?e:t[9],k=null==t[13]?e:t[13],c=n.racc_state,u=n.racc_vstack,W=n.racc_tstack,Y=H(D,-3),E=i["$[]"](Y),b=i["$[]"](R(Y,1)),$e=i["$[]"](R(Y,2)),te=[],_(n.yydebug)&&(_e=W["$[]"](E["$-@"](),E)),oe=u["$[]"](E["$-@"](),E),_(n.yydebug)&&(se=[E["$-@"](),E,te],I(W,"[]=",j(se)),g(se.length,1)),se=[E["$-@"](),E,te],I(u,"[]=",j(se)),g(se.length,1),se=[E["$-@"](),E,te],I(c,"[]=",j(se)),g(se.length,1),_(k)?u.$push(n.$__send__($e,oe,u,oe["$[]"](0))):u.$push(n.$__send__($e,oe,u)),W.$push(b),_(n.yydebug)&&n.$racc_reduce(_e,b,W,u),ee=g(b,P),_(Y=X["$[]"](ee))&&(Y=R(Y,c["$[]"](-1)),_(a(Y,0))&&_(U=ue["$[]"](Y))&&$(ie["$[]"](Y),ee))?U:ae["$[]"](ee)},2),F(q,"$on_error",function(p,D,t){var n,N=this;return N.$raise(Z("ParseError"),N.$sprintf("\nparse error on value %s (%s)",D.$inspect(),_(n=N.$token_to_str(p))?n:"?"))},3),F(q,"$yyerror",function(){return this.$throw("racc_jump",1)},0),F(q,"$yyaccept",function(){return this.$throw("racc_jump",2)},0),F(q,"$yyerrok",function(){return this.racc_error_status=0},0),F(q,"$racc_read_token",function(p,D,t){var N=this;return N.racc_debug_out.$print("read    "),N.racc_debug_out.$print(D.$inspect(),"(",N.$racc_token2str(p),") "),N.racc_debug_out.$puts(t.$inspect()),N.racc_debug_out.$puts()},3),F(q,"$racc_shift",function(p,D,t){var N=this;return N.racc_debug_out.$puts("shift   "+N.$racc_token2str(p)),N.$racc_print_stacks(D,t),N.racc_debug_out.$puts()},3),F(q,"$racc_reduce",function(p,D,t,N){var n=this,Q=e;return(Q=n.racc_debug_out).$print("reduce "),_(p["$empty?"]())?Q.$print(" <none>"):I(p,"each",[],function ue(ie){return null==ie&&(ie=e),Q.$print(" ",(null==ue.$$s?this:ue.$$s).$racc_token2str(ie))},{$$arity:1,$$s:n}),Q.$puts(" --\x3e "+n.$racc_token2str(D)),n.$racc_print_stacks(t,N),n.racc_debug_out.$puts()},4),F(q,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},0),F(q,"$racc_e_pop",function(p,D,t){var N=this;return N.racc_debug_out.$puts("error recovering mode: pop token"),N.$racc_print_states(p),N.$racc_print_stacks(D,t),N.racc_debug_out.$puts()},3),F(q,"$racc_next_state",function(p,D){var t=this;return t.racc_debug_out.$puts("goto    "+p),t.$racc_print_states(D),t.racc_debug_out.$puts()},2),F(q,"$racc_print_stacks",function(p,D){var N=e;return(N=this.racc_debug_out).$print("        ["),I(p,"each_index",[],function n(Q){return null==Q&&(Q=e),N.$print(" (",(null==n.$$s?this:n.$$s).$racc_token2str(p["$[]"](Q))," ",D["$[]"](Q).$inspect(),")")},{$$arity:1,$$s:this}),N.$puts(" ]")},2),F(q,"$racc_print_states",function(p){var t=e;return(t=this.racc_debug_out).$print("        ["),I(p,"each",[],function(n){return null==n&&(n=e),t.$print(" ",n)},1),t.$puts(" ]")},1),F(q,"$racc_token2str",function(p){var t;return _(t=x(this.$class(),"Racc_token_to_s_table")["$[]"](p))?t:this.$raise("[Racc Bug] can't convert token "+p+" to string")},1),F(q,"$token_to_str",function(p){return x(this.$class(),"Racc_token_to_s_table")["$[]"](p)},1)}(l[0],l)},Opal.modules.strscan=function(r){var j,g,F,O,M,V=[],l=r.nil,e=r.def,x=r.truthy,L=r.eqeqeq,ne=r.Opal,_=r.send,J=r.to_a,re=r.rb_minus,m=r.alias;return j=V,F=[g=(0,r.klass)(V[0],null,"StringScanner")].concat(j),O=r.$r(F),(M=g.$$prototype).pos=M.string=M.working=M.matched=M.prev_pos=M.match=l,g.$attr_reader("pos","matched"),e(g,"$initialize",function($){var a=this;return a.string=$,a.pos=0,a.matched=l,a.working=$,a.match=[]},1),g.$attr_reader("string"),e(g,"$beginning_of_line?",function(){var $=this;return 0===$.pos||"\n"===$.string.charAt($.pos-1)},0),e(g,"$scan",function($){var a=this,h=($=a.$anchor($)).exec(a.working);return null==h?a.matched=l:"object"==typeof h?(a.prev_pos=a.pos,a.pos+=h[0].length,a.working=a.working.substring(h[0].length),a.matched=h[0],a.match=h,h[0]):"string"==typeof h?(a.pos+=h.length,a.working=a.working.substring(h.length),h):l},1),e(g,"$scan_until",function($){var a=this;$=a.$anchor($);for(var T,h=a.pos,S=a.working;;){if(T=$.exec(S),h+=1,S=S.substr(1),null!=T)return a.matched=a.string.substr(a.pos,h-a.pos-1+T[0].length),a.match=T,a.prev_pos=h-1,a.pos=h,a.working=S.substr(T[0].length),a.matched;if(0===S.length)return a.match=[],a.matched=l}},1),e(g,"$[]",function($){var h;if(x(this.match["$empty?"]()))return l;L(O("Symbol"),h=$)?$=$.$to_s():L(O("String"),h)||($=ne["$coerce_to!"]($,O("Integer"),"to_int"));var S=this.match;return $<0&&($+=S.length),$<0||$>=S.length||null==S[$]?l:S[$]},1),e(g,"$check",function($){var a=this,h=($=a.$anchor($)).exec(a.working);return a.matched=null==h?l:h[0]},1),e(g,"$check_until",function($){var a=this,h=a.prev_pos,S=a.pos,T=a.$scan_until($);return T!==l&&(a.matched=T.substr(-1),a.working=a.string.substr(S)),a.prev_pos=h,a.pos=S,T},1),e(g,"$peek",function($){return this.working.substring(0,$)},1),e(g,"$eos?",function(){return 0===this.working.length},0),e(g,"$exist?",function($){var h=$.exec(this.working);return null==h?l:0==h.index?0:h.index+1},1),e(g,"$skip",function($){var a=this,h=($=a.$anchor($)).exec(a.working);if(null==h)return a.match=[],a.matched=l;var S=h[0],T=S.length;return a.matched=S,a.match=h,a.prev_pos=a.pos,a.pos+=T,a.working=a.working.substring(T),T},1),e(g,"$skip_until",function($){var h=this.$scan_until($);return h===l?l:(this.matched=h.substr(-1),h.length)},1),e(g,"$get_byte",function(){var $=this,a=l;return $.pos<$.string.length?($.prev_pos=$.pos,$.pos+=1,a=$.matched=$.working.substring(0,1),$.working=$.working.substring(1)):$.matched=l,a},0),e(g,"$match?",function($){var a=this,h=($=a.$anchor($)).exec(a.working);return null==h?l:(a.prev_pos=a.pos,h[0].length)},1),e(g,"$pos=",function($){var a=this;return $<0&&($+=a.string.$length()),a.pos=$,a.working=a.string.slice($)},1),e(g,"$matched_size",function(){return this.matched===l?l:this.matched.length},0),e(g,"$post_match",function(){var $=this;return $.matched===l?l:$.string.substr($.pos)},0),e(g,"$pre_match",function(){var $=this;return $.matched===l?l:$.string.substr(0,$.prev_pos)},0),e(g,"$reset",function(){var $=this;return $.working=$.string,$.matched=l,$.pos=0},0),e(g,"$rest",function(){return this.working},0),e(g,"$rest?",function(){return 0!==this.working.length},0),e(g,"$rest_size",function(){return this.$rest().$size()},0),e(g,"$terminate",function(){var a,$=this;return $.match=l,a=[$.string.$length()],_($,"pos=",J(a)),a[re(a.length,1)]},0),e(g,"$unscan",function(){var $=this;return $.pos=$.prev_pos,$.prev_pos=l,$.match=l,$},0),m(g,"bol?","beginning_of_line?"),m(g,"getch","get_byte"),g.$private(),e(g,"$anchor",function($){var a=$.toString().match(/\/([^\/]+)$/);return a=a?a[1]:void 0,new RegExp("^(?:"+$.source+")",a)},1)},Opal.modules["bcdice/normalize"]=function(r){var _,z,re,V=[],l=r.nil,s=r.module,e=r.eqeqeq,x=r.def,L=r.eqeq;return _=V,re=[s(V[0],"BCDice")].concat(_),(z=s(re[0],"Normalize")).$module_function(),x(z,"$comparison_operator",function(j){var g;return e(/<=|=</,g=j)?"<=":e(/>=|=>/,g)?">=":e(/<>|!=|=!/,g)?"!=":e(/</,g)?"<":e(/>/,g)?">":e(/=/,g)?"==":l},1),x(z,"$target_number",function(j){return L(j,"?")?j:j.$to_i()},1)},Opal.modules["bcdice/common_command/lexer"]=function(r){var m,g,$,a,h,S,O,I,V=r.top,l=[],s=r.nil,e=r.module,x=r.klass,L=r.const_set,ne=r.hash2,_=r.truthy,J=r.def;return V.$require("strscan"),V.$require("bcdice/normalize"),m=l,g=I=[e(l[0],"BCDice")].concat(m),$=O=[e(I[0],"CommonCommand")].concat(g),h=[a=x(O[0],null,"Lexer")].concat($),S=r.$r(h),a.$$prototype.scanner=s,L(h[0],"SYMBOLS",ne(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),J(a,"$initialize",function(A){var B;return A=_(B=A.$split(" ",2).$first())?B:"",this.scanner=S("StringScanner").$new(A)},1),J(a,"$next_token",function(){var A=this,C=s,B=s,w=s,y=s;return _(A.scanner["$eos?"]())?[!1,"$"]:_(C=A.scanner.$scan(/\d+/))?["NUMBER",C.$to_i()]:_(B=A.scanner.$scan(/[<>!=]+/))?["CMP_OP",S("Normalize").$comparison_operator(B)]:(w=A.scanner.$getch().$upcase(),[_(y=S("SYMBOLS")["$[]"](w))?y:w.$to_sym(),w])},0),J(a,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/arithmetic/parser"]=function(r){var z,F,h,A,C,B,w,v,y,o,f,d,Z,S,T,H,M,R,j,V=r.top,l=[],s=r.nil,e=r.$$$,x=r.module,L=r.klass,ne=r.defs,_=r.def,J=r.hash,re=r.const_set;return V.$require("racc/parser.rb"),V.$require("bcdice/common_command/lexer"),V.$require("bcdice/arithmetic/node"),z=l,F=j=[x(l[0],"BCDice")].concat(z),M=[x(j[0],"Arithmetic")].concat(F),R=r.$r(M),h=M,T=[S=L(M[0],e(R("Racc"),"Parser"),"Parser")].concat(h),H=r.$r(T),S.$$prototype.lexer=s,ne(S,"$parse",function(t){return this.$new().$parse(t)},1),_(S,"$parse",function(t){try{return this.lexer=e(e(H("BCDice"),"CommonCommand"),"Lexer").$new(t),this.$do_parse()}catch(n){if(!r.rescue(n,[H("ParseError")]))throw n;try{return s}finally{r.pop_exception()}}},1),S.$private(),_(S,"$next_token",function(){return this.lexer.$next_token()},0),A=[8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,s,s,4,5,4,5,7,9,7,s,s,10,11,s,10,11,22,26,24,25,27],C=[0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,s,s,12,12,13,13,12,1,13,s,s,16,16,s,1,1,16,21,21,21,21],B=[-2,40,-6,s,0,8,s,10,s,1,18,20,28,30,s,s,37,s,4,14,s,47,s,s,s,s,s,s],w=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],v=[14,15,23,1,18,19,s,s,20,21,16],y=[3,3,4,1,2,2,s,s,3,3,1],o=[s,3,-6,-4,-19,s],f=[s,s,2,3,s,6],d=[0,0,"racc_error",3,14,"_reduce_1",3,14,"_reduce_2",1,14,"_reduce_none",3,15,"_reduce_4",4,15,"_reduce_5",1,15,"_reduce_none",0,17,"_reduce_7",1,17,"_reduce_8",1,17,"_reduce_9",1,17,"_reduce_10",1,17,"_reduce_11",2,16,"_reduce_12",2,16,"_reduce_13",1,16,"_reduce_none",3,18,"_reduce_15",1,18,"_reduce_16"],Z=J(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),re(T[0],"Racc_arg",[A,C,w,B,v,y,f,o,13,d,Z,28,17,!0]),re(T[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),re(T[0],"Racc_debug_parser",!1),_(S,"$_reduce_1",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},3),_(S,"$_reduce_2",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},3),_(S,"$_reduce_4",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))},3),_(S,"$_reduce_5",function(t,N,n){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))},3),_(S,"$_reduce_7",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),_(S,"$_reduce_8",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"DivideWithCeil")},3),_(S,"$_reduce_9",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"DivideWithCeil")},3),_(S,"$_reduce_10",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"DivideWithRound")},3),_(S,"$_reduce_11",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"DivideWithFloor")},3),_(S,"$_reduce_12",function(t,N,n){return t["$[]"](1)},3),_(S,"$_reduce_13",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},3),_(S,"$_reduce_15",function(t,N,n){return t["$[]"](1)},3),_(S,"$_reduce_16",function(t,N,n){return e(e(H("Arithmetic"),"Node"),"Number").$new(t["$[]"](0))},3),_(S,"$_reduce_none",function(t,N,n){return t["$[]"](0)},3)},Opal.modules["bcdice/arithmetic"]=function(r){var _,z,g,O,M,I,j,re,V=r.top,l=[],s=r.nil,e=r.module,x=r.send,L=r.def;return V.$require("bcdice/arithmetic/node"),V.$require("bcdice/arithmetic/parser"),_=l,z=re=[e(l[0],"BCDice")].concat(_),j=[I=e(re[0],"Arithmetic")].concat(z),O=[g=r.get_singleton_class(I)].concat(j),M=r.$r(O),L(g,"$eval",function($,a){var h;try{return(h=M("Parser").$parse($))===s||null==h?s:x(h,"eval",[a])}catch(T){if(!r.rescue(T,[M("ZeroDivisionError")]))throw T;try{return s}finally{r.pop_exception()}}},2)},Opal.modules["bcdice/command/lexer"]=function(r){var z,F,a,h,S,T,H,M,j,V=r.top,l=[],s=r.nil,e=r.module,x=r.klass,L=r.const_set,ne=r.hash2,_=r.truthy,J=r.send,re=r.def;return V.$require("strscan"),V.$require("bcdice/normalize"),z=l,F=j=[e(l[0],"BCDice")].concat(z),a=M=[e(j[0],"Command")].concat(F),S=[h=x(M[0],null,"Lexer")].concat(a),T=r.$r(S),(H=h.$$prototype).scanner=H.notations=s,L(S[0],"SYMBOLS",ne(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),re(h,"$initialize",function(C,B){var w,v,o;return C=_(o=(v=(w=C)===s||null==w?s:J(w,"split",[" ",2]))===s||null==v?s:J(v,"first",[]))?o:"",this.scanner=T("StringScanner").$new(C),this.notations=J(B,"map",[],function(d){return null==d&&(d=s),_(d["$is_a?"](T("String")))?T("Regexp").$new(d):d},1)},2),re(h,"$next_token",function(){try{var C=this,B=s,w=s,y=s,o=s;return _(C.scanner["$eos?"]())?[!1,"$"]:(J(C.notations,"each",[],function f(d){var K,q=null==f.$$s?this:f.$$s;if(null==q.scanner&&(q.scanner=s),null==d&&(d=s),K=q.scanner.$scan(d),!_(K))return s;r.ret(["NOTATION",K])},{$$arity:1,$$s:C}),_(B=C.scanner.$scan(/\d+/))?["NUMBER",B.$to_i()]:_(w=C.scanner.$scan(/[<>!=]+/))?(w=T("Normalize").$comparison_operator(w),[_(w)?"CMP_OP":"ILLEGAL",w]):(y=C.scanner.$getch().$upcase(),[_(o=T("SYMBOLS")["$[]"](y))?o:y.$to_sym(),y]))}catch(f){if(f===r.returner)return f.$v;throw f}},0),re(h,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/command/parsed"]=function(r){var J,I,M,R,$,a,h,g,m,V=[],l=r.nil,s=r.module,e=r.klass,x=r.def,L=r.truthy,ne=r.eqeqeq;return J=V,I=m=[s(V[0],"BCDice")].concat(J),M=g=[s(m[0],"Command")].concat(I),$=[R=e(g[0],null,"Parsed")].concat(M),a=r.$r($),(h=R.$$prototype).question_target=h.critical=h.fumble=h.dollar=h.modify_number=h.target_number=h.prefix_number=h.command=h.suffix_number=h.cmp_op=l,R.$attr_accessor("command"),R.$attr_accessor("prefix_number"),R.$attr_accessor("suffix_number"),R.$attr_accessor("critical"),R.$attr_accessor("fumble"),R.$attr_accessor("dollar"),R.$attr_accessor("modify_number"),R.$attr_accessor("cmp_op"),R.$attr_accessor("target_number"),R.$attr_writer("question_target"),x(R,"$initialize",function(){var T=this;return T.prefix_number=l,T.suffix_number=l,T.critical=l,T.fumble=l,T.dollar=l,T.cmp_op=l,T.target_number=l,T.question_target=!1},0),x(R,"$question_target?",function(){return this.question_target},0),x(R,"$to_s",function(T){var y,H=this,A=l,C=l,B=l,w=l,v=l;return null==T&&(T="after_command"),A=L(H.critical)?"@"+H.critical:l,C=L(H.fumble)?"#"+H.fumble:l,B=L(H.dollar)?"$"+H.dollar:l,w=a("Format").$modifier(H.modify_number),v=L(H.question_target)?"?":H.target_number,ne("after_command",y=T)?[H.prefix_number,H.command,H.suffix_number,A,C,B,w,H.cmp_op,v].$join():ne("after_modify_number",y)?[H.prefix_number,H.command,H.suffix_number,w,A,C,B,H.cmp_op,v].$join():ne("after_target_number",y)?[H.prefix_number,H.command,H.suffix_number,w,H.cmp_op,v,A,C,B].$join():l},-1)},Opal.modules["bcdice/command/parser"]=function(r){var a,H,y,q,K,Z,ce,G,p,D,t,N,ue,o,f,d,X,C,B,S,V=r.top,l=[],s=r.$r(l),e=r.nil,x=r.$$$,L=r.klass,ne=r.module,_=r.hash2,J=r.send2,re=r.find_super,m=r.def,z=r.send,I=r.to_a,j=r.rb_minus,g=r.eqeq,F=r.hash,O=r.const_set,M=r.truthy,R=r.to_ary;return V.$require("racc/parser.rb"),V.$require("bcdice/arithmetic/node"),V.$require("bcdice/command/lexer"),V.$require("bcdice/command/parsed"),L(x(s("BCDice"),"Command"),x(s("Racc"),"Parser"),"Parser"),a=l,H=S=[ne(l[0],"BCDice")].concat(a),C=[ne(S[0],"Command")].concat(H),B=r.$r(C),y=C,f=[o=L(C[0],x(B("Racc"),"Parser"),"Parser")].concat(y),d=r.$r(f),(X=o.$$prototype).notations=X.lexer=X.modifier=X.suffix_number=X.prefix_number=X.need_suffix_number=X.need_prefix_number=X.critical=X.fumble=X.dollar=X.allowed_cmp_op=X.question_target=e,m(o,"$initialize",function P(i,k){var c,u,W,Y,b=this;if(delete P.$$p,c=r.slice.call(arguments),null==(u=r.extract_kwargs(c)))u=_([],{});else if(!u.$$is_hash)throw r.ArgumentError.$new("expected kwargs");if(W=c,!r.hasOwnProperty.call(u.$$smap,"round_type"))throw r.ArgumentError.$new("missing keyword: round_type");return Y=u.$$smap.round_type,J(b,re(b,"initialize",P,!1,!0),"initialize",[],null),b.notations=W,b.round_type=Y,b.prefix_number=!1,b.suffix_number=!1,b.need_prefix_number=!1,b.need_suffix_number=!1,b.modifier=!0,b.critical=!1,b.fumble=!1,b.dollar=!1,b.allowed_cmp_op=[e,">=",">","<=","<","==","!="],b.question_target=!1},-2),m(o,"$disable_modifier",function(){return this.modifier=!1,this},0),m(o,"$enable_prefix_number",function(){return this.prefix_number=!0,this},0),m(o,"$enable_suffix_number",function(){return this.suffix_number=!0,this},0),m(o,"$has_prefix_number",function(){var i=this;return i.prefix_number=!0,i.need_prefix_number=!0,i},0),m(o,"$has_suffix_number",function(){var i=this;return i.suffix_number=!0,i.need_suffix_number=!0,i},0),m(o,"$enable_critical",function(){return this.critical=!0,this},0),m(o,"$enable_fumble",function(){return this.fumble=!0,this},0),m(o,"$enable_dollar",function(){return this.dollar=!0,this},0),m(o,"$restrict_cmp_op_to",function(i){var k,u=this;return k=r.slice.call(arguments),u.allowed_cmp_op=k,u},-1),m(o,"$enable_question_target",function(){return this.question_target=!0,this},0),m(o,"$parse",function(i){var k=this;try{return k.lexer=d("Lexer").$new(i,k.notations),k.$do_parse()}catch(c){if(!r.rescue(c,[d("ParseError"),d("ZeroDivisionError")]))throw c;try{return e}finally{r.pop_exception()}}},1),o.$private(),m(o,"$parsed",function(i,k,c,u){return z(d("Parsed").$new(),"tap",[],function Y(E){var b,$e,te,_e,oe,se,ee=null==Y.$$s?this:Y.$$s,U=e;return null==ee.round_type&&(ee.round_type=e),null==E&&(E=e),U=[i["$[]"]("command")],z(E,"command=",I(U)),j(U.length,1),U=[(b=i["$[]"]("prefix"),b===e||null==b?e:z(b,"eval",[ee.round_type]))],z(E,"prefix_number=",I(U)),j(U.length,1),U=[($e=i["$[]"]("suffix"),$e===e||null==$e?e:z($e,"eval",[ee.round_type]))],z(E,"suffix_number=",I(U)),j(U.length,1),U=[(te=k["$[]"]("critical"),te===e||null==te?e:z(te,"eval",[ee.round_type]))],z(E,"critical=",I(U)),j(U.length,1),U=[(_e=k["$[]"]("fumble"),_e===e||null==_e?e:z(_e,"eval",[ee.round_type]))],z(E,"fumble=",I(U)),j(U.length,1),U=[(oe=k["$[]"]("dollar"),oe===e||null==oe?e:z(oe,"eval",[ee.round_type]))],z(E,"dollar=",I(U)),j(U.length,1),U=[c.$eval(ee.round_type)],z(E,"modify_number=",I(U)),j(U.length,1),U=[u["$[]"]("cmp_op")],z(E,"cmp_op=",I(U)),j(U.length,1),g(u["$[]"]("target"),"?")?(z(E,"question_target=",I(U=[!0])),j(U.length,1),z(E,"target_number=",I(U=[0])),U[j(U.length,1)]):(z(E,"question_target=",I(U=[!1])),j(U.length,1),U=[(se=u["$[]"]("target"),se===e||null==se?e:z(se,"eval",[ee.round_type]))],z(E,"target_number=",I(U)),U[j(U.length,1)])},{$$arity:1,$$s:this})},4),m(o,"$next_token",function(){return this.lexer.$next_token()},0),q=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,33,34,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,e,e,17,18,6,e,5,e,e,17,18,e,e,5,23,24,25,26,56,54,55,57],K=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,e,17,15,15,18,18,23,e,18,30,30,23,23,24,e,23,31,31,24,24,25,e,24,44,44,25,25,28,e,25,47,47,28,28,29,e,28,48,48,29,29,33,e,29,49,49,33,33,34,e,33,50,50,34,34,36,e,34,e,e,36,36,37,e,36,e,e,37,37,e,e,37,27,27,27,27,52,52,52,52],Z=[-2,4,16,-3,-1,11,e,33,13,35,23,30,1,e,28,40,e,37,44,e,e,-2,e,51,58,65,0,106,72,79,47,54,e,86,93,e,100,107,e,e,e,e,e,e,63,e,e,68,75,82,89,e,120,e,e,e,e,e],ce=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],G=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,e,e,21,47,48,40,51,52,49,50,44,46,3,e,e,e,13,e,e,e,e,e,e,e,32],p=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,e,e,4,8,8,5,7,7,8,8,9,5,6,e,e,e,6,e,e,e,e,e,e,e,6],D=[e,6,13,3,9,-1,27,-15,-10,-1,-38],t=[e,e,e,e,e,e,19,16,15,e,e],N=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],ue=F(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),O(f[0],"Racc_arg",[q,K,ce,Z,G,p,t,D,19,N,ue,58,35,!0]),O(f[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),O(f[0],"Racc_debug_parser",!1),m(o,"$_reduce_1",function(i,k,c){var u,Y=this;return M(Y.modifier)||Y.$raise(d("ParseError")),u=R(i),Y.$parsed(null==u[0]?e:u[0],null==u[1]?e:u[1],null==u[2]?e:u[2],null==u[3]?e:u[3])},3),m(o,"$_reduce_2",function(i,k,c){var u,Y=this;return M(Y.modifier)||Y.$raise(d("ParseError")),u=R(i),Y.$parsed(null==u[0]?e:u[0],null==u[2]?e:u[2],null==u[1]?e:u[1],null==u[3]?e:u[3])},3),m(o,"$_reduce_3",function(i,k,c){var u,$e;return $e=null==(u=R(i))[2]?e:u[2],this.$parsed(null==u[0]?e:u[0],null==u[1]?e:u[1],x(x(d("Arithmetic"),"Node"),"Number").$new(0),$e)},3),m(o,"$_reduce_4",function(i,k,c){var u=this;return M(u.prefix_number)&&M(u.suffix_number)||u.$raise(d("ParseError")),_(["command","prefix","suffix"],{command:i["$[]"](1),prefix:i["$[]"](0),suffix:i["$[]"](2)})},3),m(o,"$_reduce_5",function(i,k,c){var u=this;return M(u.prefix_number)||u.$raise(d("ParseError")),M(u.need_suffix_number)&&u.$raise(d("ParseError")),_(["command","prefix"],{command:i["$[]"](1),prefix:i["$[]"](0)})},3),m(o,"$_reduce_6",function(i,k,c){var u=this;return M(u.suffix_number)||u.$raise(d("ParseError")),M(u.need_prefix_number)&&u.$raise(d("ParseError")),_(["command","suffix"],{command:i["$[]"](0),suffix:i["$[]"](1)})},3),m(o,"$_reduce_7",function(i,k,c){var u=this;return(M(u.need_prefix_number)||M(u.need_suffix_number))&&u.$raise(d("ParseError")),_(["command"],{command:i["$[]"](0)})},3),m(o,"$_reduce_8",function(i,k,c){return _([],{})},3),m(o,"$_reduce_9",function(i,k,c){var u,$e,te,E=e;return E=null==(u=R(i))[0]?e:u[0],$e=null==u[2]?e:u[2],M(this.critical)&&M(E["$[]"]("critical")["$nil?"]())||this.$raise(d("ParseError")),z(E,"[]=",I(te=["critical",$e])),j(te.length,1),E},3),m(o,"$_reduce_10",function(i,k,c){var u,$e,te,E=e;return E=null==(u=R(i))[0]?e:u[0],$e=null==u[2]?e:u[2],M(this.fumble)&&M(E["$[]"]("fumble")["$nil?"]())||this.$raise(d("ParseError")),z(E,"[]=",I(te=["fumble",$e])),j(te.length,1),E},3),m(o,"$_reduce_11",function(i,k,c){var u,$e,te,E=e;return E=null==(u=R(i))[0]?e:u[0],$e=null==u[2]?e:u[2],M(this.dollar)&&M(E["$[]"]("dollar")["$nil?"]())||this.$raise(d("ParseError")),z(E,"[]=",I(te=["dollar",$e])),j(te.length,1),E},3),m(o,"$_reduce_12",function(i,k,c){return i["$[]"](1)},3),m(o,"$_reduce_13",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},3),m(o,"$_reduce_14",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},3),m(o,"$_reduce_15",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},3),m(o,"$_reduce_16",function(i,k,c){return M(this.allowed_cmp_op["$include?"](e))||this.$raise(d("ParseError")),_([],{})},3),m(o,"$_reduce_17",function(i,k,c){var u,E,b;return b=null==(u=R(i))[1]?e:u[1],M(this.allowed_cmp_op["$include?"](E=null==u[0]?e:u[0]))||this.$raise(d("ParseError")),_(["cmp_op","target"],{cmp_op:E,target:b})},3),m(o,"$_reduce_18",function(i,k,c){var W,u=this;return W=i["$[]"](0),M(u.question_target)||u.$raise(d("ParseError")),M(u.allowed_cmp_op["$include?"](W))||u.$raise(d("ParseError")),_(["cmp_op","target"],{cmp_op:W,target:"?"})},3),m(o,"$_reduce_19",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},3),m(o,"$_reduce_20",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},3),m(o,"$_reduce_22",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"*",i["$[]"](2))},3),m(o,"$_reduce_23",function(i,k,c){return i["$[]"](3).$new(i["$[]"](0),i["$[]"](2))},3),m(o,"$_reduce_25",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),m(o,"$_reduce_26",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"DivideWithCeil")},3),m(o,"$_reduce_27",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"DivideWithCeil")},3),m(o,"$_reduce_28",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"DivideWithRound")},3),m(o,"$_reduce_29",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"DivideWithFloor")},3),m(o,"$_reduce_30",function(i,k,c){return i["$[]"](1)},3),m(o,"$_reduce_31",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},3),m(o,"$_reduce_33",function(i,k,c){return i["$[]"](1)},3),m(o,"$_reduce_34",function(i,k,c){return x(x(d("Arithmetic"),"Node"),"Number").$new(i["$[]"](0))},3),m(o,"$_reduce_none",function(i,k,c){return i["$[]"](0)},3)},Opal.queue(function(r){var $,T,v,y,o,f,A,C,h,V=r.top,l=[],s=r.nil,e=r.$$$,x=r.module,L=r.klass,ne=r.const_set,_=r.send2,J=r.find_super,re=r.def,m=r.truthy,z=r.hash2,I=r.rb_ge,j=r.rb_le,g=r.send,F=r.to_a,O=r.rb_minus,M=r.hash;return V.$require("bcdice/dice_table/table"),V.$require("bcdice/dice_table/d66_table"),V.$require("bcdice/arithmetic"),V.$require("bcdice/command/parser"),$=l,T=h=[x(l[0],"BCDice")].concat($),A=[x(h[0],"GameSystem")].concat(T),C=r.$r(A),v=A,o=[y=L(A[0],C("Base"),"Bakenokawa")].concat(v),f=r.$r(o),y.$$prototype.randomizer=s,ne(o[0],"ID","Bakenokawa"),ne(o[0],"NAME","\u30d0\u30b1\u30ce\u30ab\u30ef"),ne(o[0],"SORT_KEY","\u306f\u3051\u306e\u304b\u308f"),ne(o[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\n  xBKy@z\n    x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570(\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f2)\n    y\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u9762\u6570\n    z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u5024(@\u3054\u3068\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f12)\n  \uff08\u4f8b\uff09BK10\n  \u3000\u3000\u30004BK6\n  \u3000\u3000\u30002BK6@10\n\n\u30fb\u5404\u7a2e\u8868\n  \u4eca\u306e\u95a2\u4fc2\u8868 NRT\n  \u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868 KKT\n  \u8abf\u67fb\u6f14\u51fa\u8868\n    \u30ab\u30a4\u30d6\u30c4 RTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef RTB\n  \u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\n    \u30ab\u30a4\u30d6\u30c4 CTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef CTB\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\n"),re(y,"$initialize",function q(K){return delete q.$$p,_(this,J(this,"initialize",q,!1,!0),"initialize",[K],null),this.sort_barabara_dice=!0,this.d66_sort_type=e(f("D66SortType"),"ASC")},1),re(y,"$eval_game_system_specific_command",function(K){var ce;return m(ce=this.$check_action(K))?ce:this.$roll_tables(K,f("TABLES"))},1),re(y,"$check_action",function(K){var Z=this,G=s,p=s,D=s,t=s,N=s,n=s,Q=s,ue=s,ie=s,ae=s,X=s,P=s;return G=e(f("Command"),"Parser").$new("BK",z(["round_type"],{round_type:e(f("RoundType"),"FLOOR")})).$enable_critical().$enable_prefix_number().$has_suffix_number().$parse(K),m(G["$nil?"]())?s:(p=4,D=m(t=G.$prefix_number())?t:2,N=G.$suffix_number(),n=m(t=G.$critical())?t:12,Z.$debug("dice_faces",N),Z.$debug("dice_cnt",D),Z.$debug("special_target",n),Q=Z.randomizer.$roll_barabara(D,N).$sort(),ue=Q.$join(","),ie=Q.$sum(),ae=I(ie,n),X=j(ie,2),P=I(g(Q,"count",[],function(k){return null==k&&(k=s),I(k,p)},1),1),g(f("Result").$new(),"tap",[],function(k){var c=s;return null==k&&(k=s),c=["("+D+"B"+N+">="+p+") \uff1e ["+ue+"] \uff1e "+ie+" \uff1e "+(m(P)?"\u6210\u529f":"\u5931\u6557")+(m(ae)?"(\u30b9\u30da\u30b7\u30e3\u30eb)":"")+(m(X)?"(\u30d5\u30a1\u30f3\u30d6\u30eb)":"")],g(k,"text=",F(c)),O(c.length,1),g(k,"critical=",F(c=[ae])),O(c.length,1),g(k,"fumble=",F(c=[X])),O(c.length,1),g(k,"success=",F(c=[P])),O(c.length,1),c=[k["$success?"]()["$!"]()],g(k,"failure=",F(c)),c[O(c.length,1)]},1))},1),ne(o[0],"TABLES",z(["NRT","KKT","RTK","RTB","CTK","CTB","FT"],{NRT:e(f("DiceTable"),"D66Table").$new("\u4eca\u306e\u95a2\u4fc2\u8868",e(f("D66SortType"),"ASC"),M(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u89aa\u621a\u3060\u3063\u305f",12,"\u4ef2\u306e\u3044\u3044\u8077\u5834\u306e\u540c\u50da",13,"\u4ed5\u4e8b\u306e\u3053\u3068\u3067\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u3053\u3068\u304c\u3042\u308b",14,"\u4eba\u9593\u793e\u4f1a\u306e\u3053\u3068\u3092\u6559\u3048\u5408\u3063\u3066\u3044\u308b",15,"\u65bd\u8a2d\u540c\u58eb\u304c\u3088\u304f\u30b3\u30e9\u30dc\u3059\u308b",16,"\u8857\u306e\u304a\u5e97\u306b\u4e8c\u4eba\u3067\u51fa\u304b\u3051\u308b\u4ef2",22,"\u3069\u3046\u306b\u3082\u30a6\u30de\u304c\u5408\u308f\u305a\u306b\u55a7\u5629\u3070\u304b\u308a\u3057\u3066\u3044\u308b",23,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u7fa8\u307e\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f",24,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306b\u95a2\u3059\u308b\u82e6\u52b4\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b",25,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u306e\u751f\u6d3b\u570f\u304c\u8fd1\u3044",26,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u77e5\u308a\u5408\u3044\u3060\u3063\u305f",33,"\u3042\u3093\u306a\u4eba\u9593\u306b\u306a\u308a\u305f\u3044\u3068\u61a7\u308c\u3092\u899a\u3048\u305f",34,"\u53cb\u4eba\u3068\u3057\u3066\u8272\u3005\u306a\u60a9\u307f\u3092\u5171\u306b\u89e3\u6c7a\u3057\u3066\u304d\u305f",35,"\u653e\u3063\u3066\u304a\u3051\u306a\u3044\u3068\u3053\u308d\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u308b",36,"\u3044\u3064\u3082\u8ff7\u60d1\u3092\u304b\u3051\u3066\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u308b",44,"\u6bce\u671d\u6328\u62f6\u3092\u3059\u308b\u3088\u3046\u306a\u3054\u8fd1\u6240\u3055\u3093\uff0f\u5bee\u306e\u90e8\u5c4b\u304c\u96a3",45,"\u4f55\u304b\u60a9\u3093\u3067\u3044\u305d\u3046\u306a\u9854\u304c\u6c17\u306b\u306a\u3063\u305f",46,"\u4f55\u304b\u3068\u4ed5\u4e8b\u95a2\u4fc2\u3067\u52a9\u3051\u3066\u3082\u3089\u3044\u3001\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b",55,"\u7acb\u3061\u632f\u308b\u821e\u3044\u304c\u4eba\u9593\u3089\u3057\u304f\u3066\u7fa8\u307e\u3057\u3044",56,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u3067\u306e\u632f\u308b\u821e\u3044\u3084\u4ed5\u4e8b\u3076\u308a\u306b\u4e00\u76ee\u7f6e\u3044\u3066\u3044\u308b",66,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u898b\u308b\u3068\u61d0\u304b\u3057\u3055\u3092\u899a\u3048\u308b")),KKT:e(f("DiceTable"),"D66Table").$new("\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868",e(f("D66SortType"),"ASC"),M(11,"\u4e00\u7dd2\u306e\u7262\u7344\u306b\u6355\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",12,"\u5730\u4e0b\u306e\u56fd\u3067\u4e00\u7dd2\u306b\u904a\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308b",13,"\u5730\u4e0a\u306b\u51fa\u3066\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u308b\u5922\u3092\u8a9e\u308a\u5408\u3063\u305f",14,"\u4e00\u7dd2\u306b\u4eba\u9593\u793e\u4f1a\u3092\u5b66\u3076\u8a13\u7df4\u3092\u53d7\u3051\u305f",15,"\u751f\u307e\u308c\u305f\u6642\u304b\u3089\u305a\u3063\u3068\u4e00\u7dd2\u3060\u3063\u305f",16,"\u6642\u3005\u55a7\u5629\u3092\u3057\u5408\u3046\u3088\u3046\u306a\u4ef2\u3060\u3063\u305f",22,"\u5e7c\u5c11\u671f\u306b\u80b2\u3066\u3066\u3082\u3089\u3063\u305f\u6069\u304c\u3042\u308b",23,"\u6614\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u6642\u306e\u501f\u308a\u304c\u3042\u308b",24,"\u601d\u3044\u51fa\u305b\u306a\u3044\u3050\u3089\u3044\u6614\u306b\u3001\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u2026\u2026\u6c17\u304c\u3059\u308b",25,"\u4e00\u7dd2\u306b\u5730\u4e0a\u3067\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u3088\u3046\u3068\u7d04\u675f\u3057\u305f",26,"\u4eba\u9593\u306b\u5bfe\u3059\u308b\u61a7\u308c\u3092\u8a9e\u3063\u305f",33,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u3001\u4e00\u65b9\u7684\u306b\u61a7\u308c\u3092\u62b1\u3044\u3066\u3044\u305f",34,"\u4eba\u9593\u306e\u307e\u306d\u4e8b\u3092\u4e00\u7dd2\u306b\u3057\u3066\u3044\u305f",35,"\u5c11\u3057\u306e\u9593\u3001\u4e00\u7dd2\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",36,"\u4e00\u7dd2\u306b\u304a\u8336\u4f1a\u3092\u3057\u305f\u4ef2",44,"\u540c\u3058\u89aa\u306e\u3082\u3068\u3067\u80b2\u3063\u305f",45,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u306b\u8cb8\u3057\u304c\u3042\u3063\u3066\u3001\u307e\u3060\u8fd4\u3057\u3066\u3082\u3089\u3063\u3066\u306a\u3044",46,"\u4f55\u304b\u3068\u7af6\u3044\u5408\u3046\u3001\u30e9\u30a4\u30d0\u30eb\u540c\u58eb\u3060\u3063\u305f",55,"\u6226\u3044\u3092\u6311\u307f\u3001\u30dc\u30b3\u30dc\u30b3\u306b\u3055\u308c\u305f",56,"\u4e00\u7dd2\u306b\u9000\u5c48\u3092\u7d1b\u3089\u308f\u3059\u305f\u3081\u306b\u8272\u3005\u60aa\u3060\u304f\u307f\u3057\u3066\u3044\u305f",66,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u8cb0\u3063\u305f\u5f8c\u306b\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u8a9e\u3063\u3066\u3082\u3089\u3063\u305f\u899a\u3048\u304c\u3042\u308b")),RTK:e(f("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30ab\u30a4\u30d6\u30c4","1D10",["\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u8857\u306b\u6f5c\u307f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u3066\u56de\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3044\u3001\u30c1\u30a7\u30a4\u30f3NPC\u3092\u5c3e\u884c\u3057\u3066\u597d\u307f\u3092\u8abf\u3079\u305f","\u4eba\u9593\u306b\u306f\u6f5c\u5165\u3067\u304d\u306a\u3044\u30eb\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u305f","\u4eba\u9593\u3068\u3057\u3066\u8abf\u3079\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u304c\u51fa\u3066\u56f0\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u3092\u8abf\u67fb\u306b\u6d3b\u304b\u3057\u3001\u8abf\u3079\u4e0a\u3052\u305f","\u9b54\u6cd5\u306e\u93e1\u306b\u554f\u3044\u304b\u3051\u3066\u3001\u7b54\u3048\u3092\u8cb0\u3063\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304b\u3089\u3001\u9b54\u6cd5\u306e\u529b\u3092\u4f7f\u3063\u3066\u904e\u53bb\u3092\u8fbf\u3063\u305f","\u4ef2\u9593\u306e\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u3068\u4e00\u7dd2\u306b\u3001\u8857\u306b\u7e70\u308a\u51fa\u3057\u3066\u30c9\u30bf\u30d0\u30bf\u5287\u3092\u7e70\u308a\u5e83\u3052\u306a\u304c\u3089\u60c5\u5831\u3092\u96c6\u3081\u305f","\u5c0f\u3055\u306a\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u306b\u3001\u6c17\u4ed8\u304b\u308c\u306a\u3044\u3088\u3046\u306b\u30c1\u30a7\u30a4\u30f3NPC\u3092\u8abf\u3079\u3066\u3082\u3089\u3063\u305f","\u9b54\u5973\u306e\u30ab\u30a4\u30d6\u30c4\u306b\u983c\u3093\u3067\u3001\u8abf\u67fb\u306b\u4fbf\u5229\u306a\u85ac\u3092\u4f5c\u3063\u3066\u3082\u3089\u3063\u305f,"]),RTB:e(f("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef","1D10",["\u4eba\u9593\u306e\u53cb\u4eba\u3092\u983c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5642\u8a71\u3092\u805e\u304f","\u4eba\u9593\u306e\u8857\u306b\u884c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u56de\u308b","\u30c1\u30a7\u30a4\u30f3PC\u306b\u8a71\u3092\u805e\u3044\u3066\u3001\u305d\u306e\u5b50\u306e\u7279\u5fb4\u304b\u3089\u597d\u307f\u3092\u63a8\u5bdf\u3059\u308b","\u30c1\u30a7\u30a4\u30f3PC\u3068\u4e00\u7dd2\u306b\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u56f2\u3092\u805e\u304d\u8fbc\u307f\u3057\u3066\u56de\u3063\u305f","\u4eba\u9593\u3068\u3057\u3066\u3001\u60c5\u5831\u901a\u306e\u4eba\u9593\u304c\u96c6\u307e\u308b\u5834\u6240\u306b\u5411\u304b\u3044\u3001\u305d\u3053\u3067\u3044\u308d\u3044\u308d\u306a\u8a71\u3092\u805e\u3044\u3066\u56de\u3063\u305f","\u30cd\u30c3\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304c\u306a\u3044\u304b\u8abf\u3079\u3066\u307f\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u304c\u3088\u304f\u884c\u304f\u5834\u6240\u3092\u63b4\u307f\u3001\u305d\u3053\u3067\u60c5\u5831\u53ce\u96c6\u3092\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u81ea\u5206\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u304a\u5ba2\u69d8\u3068\u3057\u3066\u81ea\u5206\u306e\u62c5\u5f53\u65bd\u8a2d\u306b\u6765\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u5370\u8c61\u3092\u601d\u3044\u51fa\u3057\u305f"]),CTK:e(f("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30ab\u30a4\u30d6\u30c4",e(f("D66SortType"),"ASC"),M(11,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u300d\u3092\u4f7f\u3063\u305f\u30c9\u6d3e\u624b\u306a\u30b3\u30e9\u30dc",12,"\u81ea\u5206\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",13,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",15,"\u81ea\u5206\u306e\u65bd\u8a2d\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",16,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u3068\u81ea\u5206\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",22,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u300d\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u30d1\u30d3\u30ea\u30aa\u30f3\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",24,"\u81ea\u5206\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",25,"\u76f8\u624b\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",26,"\u81ea\u5206\u304c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u512a\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u30b3\u30e9\u30dc\u76f8\u624b\u306b\u805e\u3044\u3066\u30d2\u30f3\u30c8\u306b\u3059\u308b",33,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u30b0\u30c3\u30ba\u3068\u3057\u3066\u58f2\u308a\u51fa\u3059\u30b3\u30e9\u30dc",34,"\u9b54\u6cd5\u306e\u529b\u3092\u6f14\u51fa\u306b\u4f7f\u3063\u305f\u3001\u30ad\u30e9\u30ad\u30e9\u306e\u30b3\u30e9\u30dc",35,"\u9b54\u6cd5\u306e\u9053\u5177\u3092\u4f7f\u3063\u305f\u3001\u304a\u5ba2\u69d8\u3092\u9a5a\u304b\u305b\u308b\u3088\u3046\u306a\u30b3\u30e9\u30dc",36,"\u7ae5\u8a71\u306e\u4e16\u754c\u3092\u304f\u3063\u3064\u3051\u3066\u3001\u3061\u3050\u306f\u3050\u306a\u611f\u3058\u3092\u697d\u3057\u3093\u3067\u3082\u3089\u3046",44,"\u30d1\u30d3\u30ea\u30aa\u30f3\u306e\u4ef2\u9593\u305f\u3061\u3092\u96c6\u3081\u305f\u30b9\u30c6\u30fc\u30b8\u3092\u958b\u50ac",45,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u3042\u3048\u3066\u6652\u3057\u3001\u305d\u308c\u3092\u300c\u6f14\u51fa\u300d\u306b\u7d44\u307f\u8fbc\u3080",46,"\u81ea\u5206\u305f\u3061\u306e\u529b\u3092\u300c\u6f14\u51fa\u300d\u3068\u3057\u3066\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",55,"\u9b54\u6cd5\u306e\u529b\u304c\u304b\u304b\u3063\u305f\u304a\u571f\u7523\u3092\u6301\u305f\u305b\u308b\u30b3\u30e9\u30dc",56,"\u4e0d\u601d\u8b70\u306a\u6f14\u51fa\u304c\u3044\u3063\u3071\u3044\u306e\u30b3\u30e9\u30dc",66,"\u81ea\u5206\u305f\u3061\u4ee5\u5916\u306e\u30ab\u30a4\u30d6\u30c4\u3082\u547c\u3093\u3060\u3001\u8cd1\u3084\u304b\u306a\u30b3\u30e9\u30dc")),CTB:e(f("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef",e(f("D66SortType"),"ASC"),M(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u751f\u6d3b\u3059\u308b\u3046\u3061\u306b\u899a\u3048\u305f\u3001\u300c\u697d\u3057\u304b\u3063\u305f\u3053\u3068\u300d\u3092\u3084\u3063\u3066\u307f\u308b",12,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u3058\u3083\u307e\u3059\u308b\u30b3\u30e9\u30dc",13,"\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u30b3\u30e9\u30dc\u76f8\u624b\u3092\u547c\u3076",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u571f\u7523\u3092\u7528\u610f\u3059\u308b",15,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u4f7f\u3046",16,"\u81ea\u5206\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u8d08\u308b",22,"\u30d0\u30b1\u30ce\u30ab\u30ef\u751f\u6d3b\u306e\u4e2d\u3067\u6c17\u4ed8\u3044\u305f\u3001\u300c\u4eba\u9593\u306f\u9762\u767d\u3044\u300d\u3068\u601d\u3048\u305f\u3053\u3068\u3092\u3084\u308b",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u6280\u80fd\u3067\u5712\u5168\u4f53\u3092\u76db\u308a\u4e0a\u3052\u308b",24,"\u81ea\u5206\u306e\u6280\u80fd\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",25,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u6280\u80fd\u3092\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",26,"\u81ea\u5206\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",33,"\u81ea\u5206\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u3068\u76f8\u8ac7\u3059\u308b",34,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",35,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u5408\u308f\u305b\u305f\u3088\u3046\u306a\u65bd\u8a2d\u3092\u9650\u5b9a\u30aa\u30fc\u30d7\u30f3",36,"\u304a\u5ba2\u69d8\u306e\u7b11\u9854\u3092\u601d\u3044\u51fa\u3057\u3001\u305d\u3046\u306a\u308b\u3088\u3046\u306b\u4e8c\u4eba\u3067\u52aa\u529b\u3059\u308b",44,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u7e4b\u3052\u308b\u5712\u5185\u30d0\u30b9\u3092\u7528\u610f\u3059\u308b",45,"\u304a\u5ba2\u69d8\u306b\u697d\u3057\u3093\u3067\u3082\u3089\u3048\u308b\u6f14\u51fa\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",46,"\u304a\u5ba2\u69d8\u304c\u597d\u307f\u305d\u3046\u306a\u304a\u571f\u7523\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",55,"\u4eba\u9593\u306e\u53cb\u9054\u306b\u3001\u300c\u4f55\u304c\u697d\u3057\u3044\u306e\u304b\u300d\u3092\u6539\u3081\u3066\u805e\u304f",56,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u4f1d\u624b\u3092\u4f7f\u3063\u3066\u3001\u4eba\u9593\u306e\u53cb\u9054\u306b\u8a71\u3092\u805e\u304f",66,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u306e\u307f\u3093\u306a\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3046\u8c6a\u83ef\u306a\u30b3\u30e9\u30dc")),FT:e(f("DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u300c\u3042\u308c\uff1f\u201d\u81ea\u5206\u201d\u306f\u4e00\u4f53\u4f55\u8005\u3060\u3063\u305f\u304b\u306a\uff1f\u300d\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u30921\u3064\u9078\u3093\u3067\u5931\u3046","\u3075\u3068\u3057\u305f\u77ac\u9593\u306b\u3001\u697d\u3057\u3044\u611f\u60c5\u306b\u5bfe\u3057\u3066\u61d0\u7591\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u9078\u3093\u3067\u5931\u3046","\u305b\u3063\u304b\u304f\u7528\u610f\u3057\u305f\u9053\u5177\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3002\u30bb\u30c3\u30c8\u3057\u3066\u3044\u305f\u30b5\u30d7\u30e9\u30a4\u30ba\u30ab\u30fc\u30c9\u30921\u679a\u9078\u3093\u3067\u7834\u68c4\u3059\u308b","\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u8a18\u61b6\u304c\u601d\u3044\u51fa\u3055\u308c\u308b\u3002\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3068\u305d\u308c\u306b\u4ed8\u968f\u3059\u308b\u30d1\u30fc\u30bd\u30ca\u30eb\u6280\u80fd\u30921\u3064\u305a\u3064\u7372\u5f97\u3059\u308b","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u81ea\u5206\u304c\u524d\u9762\u306b\u51fa\u3066\u3057\u307e\u3046\u3002\u6b21\u306b\u884c\u3046\u5224\u5b9a\u306e\u9593\u3001\u3059\u3079\u3066\u306e\u6280\u80fd\u3092\u4fee\u5f97\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u3046","\u5931\u6557\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u3001\u305d\u308c\u304c\u304a\u5ba2\u69d8\u306b\u30a6\u30b1\u305f\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u7372\u5f97\u3059\u308b"])}).$freeze()),y.$register_prefix("\\d*BK",f("TABLES").$keys())})}}]);