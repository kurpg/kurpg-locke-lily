(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2890],{2890:(de,me,fe)=>{fe(9993),Opal.modules["bcdice/format"]=function(n){var ue,O,M,j,se,U,ie=[],u=n.nil,a=n.module,e=n.eqeqeq,q=n.def,P=n.truthy,Y=n.eqeq,c=n.rb_gt;return ue=ie,O=U=[a(ie[0],"BCDice")].concat(ue),j=[M=a(U[0],"Format")].concat(O),se=n.$r(j),M.$module_function(),q(M,"$comparison_operator",function(L){var _;return e("==",_=L)?"=":e("!=",_)?"<>":e(se("Symbol"),_)?L.$to_s():u},1),q(M,"$modifier",function(L){return P(L["$nil?"]())?u:Y(L,0)?"":P(c(L,0))?"+"+L:L.$to_s()},1)},Opal.modules["racc/parser"]=function(n){var N,I,g,u=[],a=n.$r(u),e=n.nil,q=n.$$$,P=n.module,Y=n.klass,c=n.truthy,te=n.const_set,ue=n.defs,y=n.gvars,U=n.rb_lt,F=n.send,O=n.to_a,M=n.rb_minus,j=n.def,se=n.to_ary,Z=n.neqeq,L=n.rb_plus,_=n.eqeq,l=n.rb_ge,d=n.rb_gt,re=n.eqeqeq,Q=n.rb_le,W=n.rb_times;return N=u,I=[P(u[0],"Racc")].concat(N),g=n.$r(I),Y(I[0],g("StandardError"),"ParseError"),c(q("::","ParseError","skip_raise")?"constant":e)||te(u[0],"ParseError",q(a("Racc"),"ParseError")),function(J,N){var m,b,A,G,ae,g=[P(J,"Racc")].concat(N),p=n.$r(g);return c(p("Racc_No_Extensions","skip_raise")?"constant":e)||te(g[0],"Racc_No_Extensions",!1),m=g,A=[b=Y(g[0],null,"Parser")].concat(m),G=n.$r(A),(ae=b.$$prototype).yydebug=ae.racc_debug_out=ae.racc_error_status=ae.racc_t=ae.racc_vstack=ae.racc_val=ae.racc_state=ae.racc_tstack=e,te(A[0],"Racc_Runtime_Version","1.4.6"),te(A[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),te(A[0],"Racc_Runtime_Core_Version_R","1.4.6"),te(A[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),te(A[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),te(A[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),te(A[0],"Racc_Runtime_Core_Version",G("Racc_Runtime_Core_Version_R")),te(A[0],"Racc_Runtime_Core_Revision",G("Racc_Runtime_Core_Revision_R")),te(A[0],"Racc_Runtime_Type","ruby"),ue(G("Parser"),"$racc_runtime_type",function(){return G("Racc_Runtime_Type")},0),j(b,"$_racc_setup",function(){var k,X,t=this,v=e,r=e,R=e;return null==y.stderr&&(y.stderr=e),c(q(t.$class(),"Racc_debug_parser"))||(t.yydebug=!1),c(null!=(k=t.yydebug)&&k!==e?"instance-variable":e)||(t.yydebug=!1),c(t.yydebug)&&(c(null!=(X=t.racc_debug_out)&&X!==e?"instance-variable":e)||(t.racc_debug_out=y.stderr),t.racc_debug_out=c(v=t.racc_debug_out)?v:y.stderr),r=q(t.$class(),"Racc_arg"),c(U(r.$size(),14))&&(F(r,"[]=",O(R=[13,!0])),M(R.length,1)),r},0),j(b,"$_racc_init_sysvars",function(){var k=this;return k.racc_state=[0],k.racc_tstack=[],k.racc_vstack=[],k.racc_t=e,k.racc_val=e,k.racc_read_next=!0,k.racc_user_yyerror=!1,k.racc_error_status=0},0),j(b,"$do_parse",function(){return this.$__send__(G("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},0),j(b,"$next_token",function(){return this.$raise(G("NotImplementedError"),this.$class()+"#next_token is not defined")},0),j(b,"$_racc_do_parse_rb",function(k,X){var t,r=this,R=e,o=e,z=e,K=e,h=e,i=e,E=e,$=e;return t=se(k),R=null==t[0]?e:t[0],o=null==t[1]?e:t[1],z=null==t[2]?e:t[2],K=null==t[3]?e:t[3],h=null==t[10]?e:t[10],r.$_racc_init_sysvars(),i=E=$=e,F(r,"catch",["racc_end_parse"],function s(){var B,S,x=null==s.$$s?this:s.$$s,ne=e;for(null==x.racc_state&&(x.racc_state=e),null==x.racc_read_next&&(x.racc_read_next=e),null==x.racc_t&&(x.racc_t=e),null==x.yydebug&&(x.yydebug=e),null==x.racc_val&&(x.racc_val=e);c(!0);)for(c($=K["$[]"](x.racc_state["$[]"](-1)))?(c(x.racc_read_next)&&Z(x.racc_t,0)&&(S=x.$next_token(),B=se(S),i=null==B[0]?e:B[0],x.racc_val=null==B[1]?e:B[1],x.racc_t=c(i)?c(ne=h["$[]"](i))?ne:1:0,c(x.yydebug)&&x.$racc_read_token(x.racc_t,i,x.racc_val),x.racc_read_next=!1),$=L($,x.racc_t),c(l($,0))&&c(E=R["$[]"]($))&&_(o["$[]"]($),x.racc_state["$[]"](-1))||(E=z["$[]"](x.racc_state["$[]"](-1)))):E=z["$[]"](x.racc_state["$[]"](-1));c(E=x.$_racc_evalact(E,k)););},{$$arity:0,$$s:r})},2),j(b,"$yyparse",function(k,X){return this.$__send__(G("Racc_YY_Parse_Method"),k,X,this.$_racc_setup(),!0)},2),j(b,"$_racc_yyparse_rb",function(k,X,t,v){var r,o=this,z=e,K=e,C=e,h=e,E=e,$=e,s=e;return r=se(t),z=null==r[0]?e:r[0],K=null==r[1]?e:r[1],C=null==r[2]?e:r[2],h=null==r[3]?e:r[3],E=null==r[10]?e:r[10],o.$_racc_init_sysvars(),$=e,s=e,F(o,"catch",["racc_end_parse"],function D(){var x=null==D.$$s?this:D.$$s;for(null==x.racc_state&&(x.racc_state=e);!c(s=h["$[]"](x.racc_state["$[]"](-1)));)for(;c($=x.$_racc_evalact(C["$[]"](x.racc_state["$[]"](-1)),t)););return F(k,"__send__",[X],function ne(ee,ce){var $e=null==ne.$$s?this:ne.$$s,H=e,le=e;for(null==$e.racc_t&&($e.racc_t=e),null==$e.racc_state&&($e.racc_state=e),null==$e.racc_read_next&&($e.racc_read_next=e),null==ee&&(ee=e),null==ce&&(ce=e),$e.racc_t=c(ee)?c(H=E["$[]"](ee))?H:1:0,$e.racc_val=ce,$e.racc_read_next=!1,s=L(s,$e.racc_t),c(l(s,0))&&c($=z["$[]"](s))&&_(K["$[]"](s),$e.racc_state["$[]"](-1))||($=C["$[]"]($e.racc_state["$[]"](-1)));c($=$e.$_racc_evalact($,t)););for(;c(c(H=c(le=(s=h["$[]"]($e.racc_state["$[]"](-1)))["$!"]())?le:$e.racc_read_next["$!"]())?H:$e.racc_t["$=="](0));)for(c(s)&&c(s=L(s,$e.racc_t))&&c(l(s,0))&&c($=z["$[]"](s))&&_(K["$[]"](s),$e.racc_state["$[]"](-1))||($=C["$[]"]($e.racc_state["$[]"](-1)));c($=$e.$_racc_evalact($,t)););},{$$arity:2,$$s:x})},{$$arity:0,$$s:o})},4),j(b,"$_racc_evalact",function(k,X){var t,C,r=this,R=e,o=e,K=e,h=e,i=e,E=e,$=e;if(R=null==(t=se(X))[0]?e:t[0],o=null==t[1]?e:t[1],K=null==t[3]?e:t[3],C=null==t[11]?e:t[11],h=null==t[12]?e:t[12],c(d(k,0))&&c(U(k,C)))c(d(r.racc_error_status,0))&&(_(r.racc_t,1)||(r.racc_error_status=M(r.racc_error_status,1))),r.racc_vstack.$push(r.racc_val),r.racc_state.$push(k),r.racc_read_next=!0,c(r.yydebug)&&(r.racc_tstack.$push(r.racc_t),r.$racc_shift(r.racc_t,r.racc_tstack,r.racc_vstack));else if(c(U(k,0))&&c(d(k,h["$-@"]()))){if(i=F(r,"catch",["racc_jump"],function s(){var D=null==s.$$s?this:s.$$s;return null==D.racc_state&&(D.racc_state=e),D.racc_state.$push(D.$_racc_do_reduce(X,k)),!1},{$$arity:0,$$s:r}),c(i)){if(re(1,E=i))return r.racc_user_yyerror=!0,h["$-@"]();if(re(2,E))return C;r.$raise("[Racc Bug] unknown jump code")}}else if(_(k,C))c(r.yydebug)&&r.$racc_accept(),r.$throw("racc_end_parse",r.racc_vstack["$[]"](0));else{if(_(k,h["$-@"]())){for(re(0,E=r.racc_error_status)?c(X["$[]"](21))||r.$on_error(r.racc_t,r.racc_val,r.racc_vstack):re(3,E)&&(_(r.racc_t,0)&&r.$throw("racc_end_parse",e),r.racc_read_next=!0),r.racc_user_yyerror=!1,r.racc_error_status=3;c(!0)&&!(c($=K["$[]"](r.racc_state["$[]"](-1)))&&($=L($,1),c(l($,0))&&c(k=R["$[]"]($))&&_(o["$[]"]($),r.racc_state["$[]"](-1))));)c(Q(r.racc_state.$size(),1))&&r.$throw("racc_end_parse",e),r.racc_state.$pop(),r.racc_vstack.$pop(),c(r.yydebug)&&(r.racc_tstack.$pop(),r.$racc_e_pop(r.racc_state,r.racc_tstack,r.racc_vstack));return k}r.$raise("[Racc Bug] unknown action "+k.$inspect())}return c(r.yydebug)&&r.$racc_next_state(r.racc_state["$[]"](-1),r.racc_state),e},2),j(b,"$_racc_do_reduce",function(k,X){var t,h,E,x,ne,ee,$e,r=this,o=e,z=e,K=e,C=e,i=e,$=e,s=e,D=e,B=e,S=e,ce=e,oe=e,_e=e,H=e;return o=null==(t=se(k))[4]?e:t[4],z=null==t[5]?e:t[5],K=null==t[6]?e:t[6],C=null==t[7]?e:t[7],h=null==t[8]?e:t[8],i=null==t[9]?e:t[9],E=null==t[13]?e:t[13],$=r.racc_state,s=r.racc_vstack,D=r.racc_tstack,B=W(X,-3),S=i["$[]"](B),x=i["$[]"](L(B,1)),ne=i["$[]"](L(B,2)),ee=[],c(r.yydebug)&&(ce=D["$[]"](S["$-@"](),S)),oe=s["$[]"](S["$-@"](),S),c(r.yydebug)&&(_e=[S["$-@"](),S,ee],F(D,"[]=",O(_e)),M(_e.length,1)),_e=[S["$-@"](),S,ee],F(s,"[]=",O(_e)),M(_e.length,1),_e=[S["$-@"](),S,ee],F($,"[]=",O(_e)),M(_e.length,1),c(E)?s.$push(r.$__send__(ne,oe,s,oe["$[]"](0))):s.$push(r.$__send__(ne,oe,s)),D.$push(x),c(r.yydebug)&&r.$racc_reduce(ce,x,D,s),$e=M(x,h),c(B=C["$[]"]($e))&&(B=L(B,$["$[]"](-1)),c(l(B,0))&&c(H=o["$[]"](B))&&_(z["$[]"](B),$e))?H:K["$[]"]($e)},2),j(b,"$on_error",function(k,X,t){var r,v=this;return v.$raise(G("ParseError"),v.$sprintf("\nparse error on value %s (%s)",X.$inspect(),c(r=v.$token_to_str(k))?r:"?"))},3),j(b,"$yyerror",function(){return this.$throw("racc_jump",1)},0),j(b,"$yyaccept",function(){return this.$throw("racc_jump",2)},0),j(b,"$yyerrok",function(){return this.racc_error_status=0},0),j(b,"$racc_read_token",function(k,X,t){var v=this;return v.racc_debug_out.$print("read    "),v.racc_debug_out.$print(X.$inspect(),"(",v.$racc_token2str(k),") "),v.racc_debug_out.$puts(t.$inspect()),v.racc_debug_out.$puts()},3),j(b,"$racc_shift",function(k,X,t){var v=this;return v.racc_debug_out.$puts("shift   "+v.$racc_token2str(k)),v.$racc_print_stacks(X,t),v.racc_debug_out.$puts()},3),j(b,"$racc_reduce",function(k,X,t,v){var r=this,R=e;return(R=r.racc_debug_out).$print("reduce "),c(k["$empty?"]())?R.$print(" <none>"):F(k,"each",[],function o(z){return null==z&&(z=e),R.$print(" ",(null==o.$$s?this:o.$$s).$racc_token2str(z))},{$$arity:1,$$s:r}),R.$puts(" --\x3e "+r.$racc_token2str(X)),r.$racc_print_stacks(t,v),r.racc_debug_out.$puts()},4),j(b,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},0),j(b,"$racc_e_pop",function(k,X,t){var v=this;return v.racc_debug_out.$puts("error recovering mode: pop token"),v.$racc_print_states(k),v.$racc_print_stacks(X,t),v.racc_debug_out.$puts()},3),j(b,"$racc_next_state",function(k,X){var t=this;return t.racc_debug_out.$puts("goto    "+k),t.$racc_print_states(X),t.racc_debug_out.$puts()},2),j(b,"$racc_print_stacks",function(k,X){var v=e;return(v=this.racc_debug_out).$print("        ["),F(k,"each_index",[],function r(R){return null==R&&(R=e),v.$print(" (",(null==r.$$s?this:r.$$s).$racc_token2str(k["$[]"](R))," ",X["$[]"](R).$inspect(),")")},{$$arity:1,$$s:this}),v.$puts(" ]")},2),j(b,"$racc_print_states",function(k){var t=e;return(t=this.racc_debug_out).$print("        ["),F(k,"each",[],function(r){return null==r&&(r=e),t.$print(" ",r)},1),t.$puts(" ]")},1),j(b,"$racc_token2str",function(k){var t;return c(t=q(this.$class(),"Racc_token_to_s_table")["$[]"](k))?t:this.$raise("[Racc Bug] can't convert token "+k+" to string")},1),j(b,"$token_to_str",function(k){return q(this.$class(),"Racc_token_to_s_table")["$[]"](k)},1)}(u[0],u)},Opal.modules["bcdice/arithmetic/node"]=function(n){var j,_,Q,g,p,J,N,d,Z,ie=[],u=n.nil,a=n.$$$,e=n.module,q=n.klass,P=n.def,Y=n.send2,c=n.find_super,te=n.eqeq,ue=n.const_set,y=n.eqeqeq,U=n.rb_divide,F=n.truthy,O=n.alias;return j=ie,_=Z=[e(ie[0],"BCDice")].concat(j),Q=d=[e(Z[0],"Arithmetic")].concat(_),J=[e(d[0],"Node")].concat(Q),N=n.$r(J),(p=(g=q(J[0],null,"BinaryOp")).$$prototype).lhs=p.rhs=p.op=u,P(g,"$initialize",function(T,m,b){var A=this;return A.lhs=T,A.op=m,A.rhs=b},3),P(g,"$eval",function(T){var A,m=this,b=u;return b=m.lhs.$eval(T),A=m.rhs.$eval(T),b.$send(m.op,A)},1),P(g,"$output",function(){var T=this;return""+T.lhs.$output()+T.op+T.rhs.$output()},0),P(g,"$s_exp",function(){var T=this;return"("+T.$op_for_s_exp()+" "+T.lhs.$s_exp()+" "+T.rhs.$s_exp()+")"},0),P(g,"$op_for_s_exp",function(){return this.op},0),function(V,I,g){var p=q(V,I,"DivideBase"),f=[p].concat(g),T=n.$r(f),m=p.$$prototype;m.lhs=m.rhs=m.op=u,P(p,"$initialize",function b(A,G){return delete b.$$p,Y(this,c(this,"initialize",b,!1,!0),"initialize",[A,"/",G],null)},2),P(p,"$eval",function(A){var ae,w,G=this;return ae=G.lhs.$eval(A),w=G.rhs.$eval(A),te(w,0)&&G.$raise(T("ZeroDivisionError")),G.$divide_and_round(ae,w,A)},1),P(p,"$output",function b(){var A=b.$$p||u,G=this;return delete b.$$p,""+Y(G,c(G,"output",b,!1,!0),"output",[],A)+G.$rounding_method()},0),p.$private(),P(p,"$rounding_method",function(){return a(this.$class(),"ROUNDING_METHOD")},0),P(p,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()},0),P(p,"$divide_and_round",function(A,G,ae){return this.$raise(T("NotImplementedError"))},3)}(J[0],N("BinaryOp"),J),function(V,I,g){var p=q(V,I,"DivideWithGameSystemDefault"),f=[p].concat(g),T=n.$r(f);ue(f[0],"ROUNDING_METHOD",""),p.$private(),P(p,"$divide_and_round",function(b,A,G){var ae,w=u;return y(a(T("RoundType"),"CEIL"),ae=G)?U(b.$to_f(),A).$ceil():y(a(T("RoundType"),"ROUND"),ae)?(w=U(b.$to_f(),A),F(w["$negative?"]())?w.$abs().$round()["$-@"]():w.$round()):U(b,A).$floor()},3)}(J[0],N("DivideBase"),J),function(V,I,g){var p=q(V,I,"DivideWithCeil"),f=[p].concat(g);ue(f[0],"ROUNDING_METHOD","C"),p.$private(),P(p,"$divide_and_round",function(m,b,A){return U(m.$to_f(),b).$ceil()},3)}(J[0],N("DivideBase"),J),function(V,I,g){var p=q(V,I,"DivideWithRound"),f=[p].concat(g);ue(f[0],"ROUNDING_METHOD","R"),p.$private(),P(p,"$divide_and_round",function(m,b,A){var G=u;return G=U(m.$to_f(),b),F(G["$negative?"]())?G.$abs().$round()["$-@"]():G.$round()},3)}(J[0],N("DivideBase"),J),function(V,I,g){var p=q(V,I,"DivideWithFloor"),f=[p].concat(g);ue(f[0],"ROUNDING_METHOD","F"),p.$private(),P(p,"$divide_and_round",function(m,b,A){return U(m,b).$floor()},3)}(J[0],N("DivideBase"),J),function(V,I){var g=q(V,null,"Negative");g.$$prototype.body=u,P(g,"$initialize",function(T){return this.body=T},1),P(g,"$eval",function(T){return this.body.$eval(T)["$-@"]()},1),P(g,"$output",function(){return"-"+this.body.$output()},0),P(g,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"},0)}(J[0]),function(V,I){var g=q(V,null,"Parenthesis");g.$$prototype.expr=u,P(g,"$initialize",function(T){return this.expr=T},1),P(g,"$eval",function(T){return this.expr.$eval(T)},1),P(g,"$output",function(){return"("+this.expr.$output()+")"},0),P(g,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"},0)}(J[0]),function(V,I){var g=q(V,null,"Number");return g.$$prototype.value=u,P(g,"$initialize",function(T){return this.value=T},1),P(g,"$eval",function(T){return this.value},1),P(g,"$output",function(){return this.value.$to_s()},0),O(g,"s_exp","output")}(J[0])},Opal.modules.strscan=function(n){var O,M,j,se,Z,ie=[],u=n.nil,e=n.def,q=n.truthy,P=n.eqeqeq,Y=n.Opal,c=n.send,te=n.to_a,ue=n.rb_minus,y=n.alias;return O=ie,j=[M=(0,n.klass)(ie[0],null,"StringScanner")].concat(O),se=n.$r(j),(Z=M.$$prototype).pos=Z.string=Z.working=Z.matched=Z.prev_pos=Z.match=u,M.$attr_reader("pos","matched"),e(M,"$initialize",function(_){var l=this;return l.string=_,l.pos=0,l.matched=u,l.working=_,l.match=[]},1),M.$attr_reader("string"),e(M,"$beginning_of_line?",function(){var _=this;return 0===_.pos||"\n"===_.string.charAt(_.pos-1)},0),e(M,"$scan",function(_){var l=this,d=(_=l.$anchor(_)).exec(l.working);return null==d?l.matched=u:"object"==typeof d?(l.prev_pos=l.pos,l.pos+=d[0].length,l.working=l.working.substring(d[0].length),l.matched=d[0],l.match=d,d[0]):"string"==typeof d?(l.pos+=d.length,l.working=l.working.substring(d.length),d):u},1),e(M,"$scan_until",function(_){var l=this;_=l.$anchor(_);for(var Q,d=l.pos,re=l.working;;){if(Q=_.exec(re),d+=1,re=re.substr(1),null!=Q)return l.matched=l.string.substr(l.pos,d-l.pos-1+Q[0].length),l.match=Q,l.prev_pos=d-1,l.pos=d,l.working=re.substr(Q[0].length),l.matched;if(0===re.length)return l.match=[],l.matched=u}},1),e(M,"$[]",function(_){var d;if(q(this.match["$empty?"]()))return u;P(se("Symbol"),d=_)?_=_.$to_s():P(se("String"),d)||(_=Y["$coerce_to!"](_,se("Integer"),"to_int"));var re=this.match;return _<0&&(_+=re.length),_<0||_>=re.length||null==re[_]?u:re[_]},1),e(M,"$check",function(_){var l=this,d=(_=l.$anchor(_)).exec(l.working);return l.matched=null==d?u:d[0]},1),e(M,"$check_until",function(_){var l=this,d=l.prev_pos,re=l.pos,Q=l.$scan_until(_);return Q!==u&&(l.matched=Q.substr(-1),l.working=l.string.substr(re)),l.prev_pos=d,l.pos=re,Q},1),e(M,"$peek",function(_){return this.working.substring(0,_)},1),e(M,"$eos?",function(){return 0===this.working.length},0),e(M,"$exist?",function(_){var d=_.exec(this.working);return null==d?u:0==d.index?0:d.index+1},1),e(M,"$skip",function(_){var l=this,d=(_=l.$anchor(_)).exec(l.working);if(null==d)return l.match=[],l.matched=u;var re=d[0],Q=re.length;return l.matched=re,l.match=d,l.prev_pos=l.pos,l.pos+=Q,l.working=l.working.substring(Q),Q},1),e(M,"$skip_until",function(_){var d=this.$scan_until(_);return d===u?u:(this.matched=d.substr(-1),d.length)},1),e(M,"$get_byte",function(){var _=this,l=u;return _.pos<_.string.length?(_.prev_pos=_.pos,_.pos+=1,l=_.matched=_.working.substring(0,1),_.working=_.working.substring(1)):_.matched=u,l},0),e(M,"$match?",function(_){var l=this,d=(_=l.$anchor(_)).exec(l.working);return null==d?u:(l.prev_pos=l.pos,d[0].length)},1),e(M,"$pos=",function(_){var l=this;return _<0&&(_+=l.string.$length()),l.pos=_,l.working=l.string.slice(_)},1),e(M,"$matched_size",function(){return this.matched===u?u:this.matched.length},0),e(M,"$post_match",function(){var _=this;return _.matched===u?u:_.string.substr(_.pos)},0),e(M,"$pre_match",function(){var _=this;return _.matched===u?u:_.string.substr(0,_.prev_pos)},0),e(M,"$reset",function(){var _=this;return _.working=_.string,_.matched=u,_.pos=0},0),e(M,"$rest",function(){return this.working},0),e(M,"$rest?",function(){return 0!==this.working.length},0),e(M,"$rest_size",function(){return this.$rest().$size()},0),e(M,"$terminate",function(){var l,_=this;return _.match=u,l=[_.string.$length()],c(_,"pos=",te(l)),l[ue(l.length,1)]},0),e(M,"$unscan",function(){var _=this;return _.pos=_.prev_pos,_.prev_pos=u,_.match=u,_},0),y(M,"bol?","beginning_of_line?"),y(M,"getch","get_byte"),M.$private(),e(M,"$anchor",function(_){var l=_.toString().match(/\/([^\/]+)$/);return l=l?l[1]:void 0,new RegExp("^(?:"+_.source+")",l)},1)},Opal.modules["bcdice/normalize"]=function(n){var c,U,ue,ie=[],u=n.nil,a=n.module,e=n.eqeqeq,q=n.def,P=n.eqeq;return c=ie,ue=[a(ie[0],"BCDice")].concat(c),(U=a(ue[0],"Normalize")).$module_function(),q(U,"$comparison_operator",function(O){var M;return e(/<=|=</,M=O)?"<=":e(/>=|=>/,M)?">=":e(/<>|!=|=!/,M)?"!=":e(/</,M)?"<":e(/>/,M)?">":e(/=/,M)?"==":u},1),q(U,"$target_number",function(O){return P(O,"?")?O:O.$to_i()},1)},Opal.modules["bcdice/command/lexer"]=function(n){var U,j,l,d,re,Q,W,Z,O,ie=n.top,u=[],a=n.nil,e=n.module,q=n.klass,P=n.const_set,Y=n.hash2,c=n.truthy,te=n.send,ue=n.def;return ie.$require("strscan"),ie.$require("bcdice/normalize"),U=u,j=O=[e(u[0],"BCDice")].concat(U),l=Z=[e(O[0],"Command")].concat(j),re=[d=q(Z[0],null,"Lexer")].concat(l),Q=n.$r(re),(W=d.$$prototype).scanner=W.notations=a,P(re[0],"SYMBOLS",Y(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),ue(d,"$initialize",function(N,V){var I,g,f;return N=c(f=(g=(I=N)===a||null==I?a:te(I,"split",[" ",2]))===a||null==g?a:te(g,"first",[]))?f:"",this.scanner=Q("StringScanner").$new(N),this.notations=te(V,"map",[],function(m){return null==m&&(m=a),c(m["$is_a?"](Q("String")))?Q("Regexp").$new(m):m},1)},2),ue(d,"$next_token",function(){try{var N=this,V=a,I=a,p=a,f=a;return c(N.scanner["$eos?"]())?[!1,"$"]:(te(N.notations,"each",[],function T(m){var A,b=null==T.$$s?this:T.$$s;if(null==b.scanner&&(b.scanner=a),null==m&&(m=a),A=b.scanner.$scan(m),!c(A))return a;n.ret(["NOTATION",A])},{$$arity:1,$$s:N}),c(V=N.scanner.$scan(/\d+/))?["NUMBER",V.$to_i()]:c(I=N.scanner.$scan(/[<>!=]+/))?(I=Q("Normalize").$comparison_operator(I),[c(I)?"CMP_OP":"ILLEGAL",I]):(p=N.scanner.$getch().$upcase(),[c(f=Q("SYMBOLS")["$[]"](p))?f:p.$to_sym(),p]))}catch(T){if(T===n.returner)return T.$v;throw T}},0),ue(d,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/command/parsed"]=function(n){var te,F,Z,L,_,l,d,M,y,ie=[],u=n.nil,a=n.module,e=n.klass,q=n.def,P=n.truthy,Y=n.eqeqeq;return te=ie,F=y=[a(ie[0],"BCDice")].concat(te),Z=M=[a(y[0],"Command")].concat(F),_=[L=e(M[0],null,"Parsed")].concat(Z),l=n.$r(_),(d=L.$$prototype).question_target=d.critical=d.fumble=d.dollar=d.modify_number=d.target_number=d.prefix_number=d.command=d.suffix_number=d.cmp_op=u,L.$attr_accessor("command"),L.$attr_accessor("prefix_number"),L.$attr_accessor("suffix_number"),L.$attr_accessor("critical"),L.$attr_accessor("fumble"),L.$attr_accessor("dollar"),L.$attr_accessor("modify_number"),L.$attr_accessor("cmp_op"),L.$attr_accessor("target_number"),L.$attr_writer("question_target"),q(L,"$initialize",function(){var Q=this;return Q.prefix_number=u,Q.suffix_number=u,Q.critical=u,Q.fumble=u,Q.dollar=u,Q.cmp_op=u,Q.target_number=u,Q.question_target=!1},0),q(L,"$question_target?",function(){return this.question_target},0),q(L,"$to_s",function(Q){var p,W=this,J=u,N=u,V=u,I=u,g=u;return null==Q&&(Q="after_command"),J=P(W.critical)?"@"+W.critical:u,N=P(W.fumble)?"#"+W.fumble:u,V=P(W.dollar)?"$"+W.dollar:u,I=l("Format").$modifier(W.modify_number),g=P(W.question_target)?"?":W.target_number,Y("after_command",p=Q)?[W.prefix_number,W.command,W.suffix_number,J,N,V,I,W.cmp_op,g].$join():Y("after_modify_number",p)?[W.prefix_number,W.command,W.suffix_number,I,J,N,V,W.cmp_op,g].$join():Y("after_target_number",p)?[W.prefix_number,W.command,W.suffix_number,I,W.cmp_op,g,J,N,V].$join():u},-1)},Opal.modules["bcdice/command/parser"]=function(n){var l,W,p,b,A,G,ae,w,k,X,t,v,o,f,T,m,C,N,V,re,ie=n.top,u=[],a=n.$r(u),e=n.nil,q=n.$$$,P=n.klass,Y=n.module,c=n.hash2,te=n.send2,ue=n.find_super,y=n.def,U=n.send,F=n.to_a,O=n.rb_minus,M=n.eqeq,j=n.hash,se=n.const_set,Z=n.truthy,L=n.to_ary;return ie.$require("racc/parser.rb"),ie.$require("bcdice/arithmetic/node"),ie.$require("bcdice/command/lexer"),ie.$require("bcdice/command/parsed"),P(q(a("BCDice"),"Command"),q(a("Racc"),"Parser"),"Parser"),l=u,W=re=[Y(u[0],"BCDice")].concat(l),N=[Y(re[0],"Command")].concat(W),V=n.$r(N),p=N,T=[f=P(N[0],q(V("Racc"),"Parser"),"Parser")].concat(p),m=n.$r(T),(C=f.$$prototype).notations=C.lexer=C.modifier=C.suffix_number=C.prefix_number=C.need_suffix_number=C.need_prefix_number=C.critical=C.fumble=C.dollar=C.allowed_cmp_op=C.question_target=e,y(f,"$initialize",function h(i,E){var $,s,D,B,x=this;if(delete h.$$p,$=n.slice.call(arguments),null==(s=n.extract_kwargs($)))s=c([],{});else if(!s.$$is_hash)throw n.ArgumentError.$new("expected kwargs");if(D=$,!n.hasOwnProperty.call(s.$$smap,"round_type"))throw n.ArgumentError.$new("missing keyword: round_type");return B=s.$$smap.round_type,te(x,ue(x,"initialize",h,!1,!0),"initialize",[],null),x.notations=D,x.round_type=B,x.prefix_number=!1,x.suffix_number=!1,x.need_prefix_number=!1,x.need_suffix_number=!1,x.modifier=!0,x.critical=!1,x.fumble=!1,x.dollar=!1,x.allowed_cmp_op=[e,">=",">","<=","<","==","!="],x.question_target=!1},-2),y(f,"$disable_modifier",function(){return this.modifier=!1,this},0),y(f,"$enable_prefix_number",function(){return this.prefix_number=!0,this},0),y(f,"$enable_suffix_number",function(){return this.suffix_number=!0,this},0),y(f,"$has_prefix_number",function(){var i=this;return i.prefix_number=!0,i.need_prefix_number=!0,i},0),y(f,"$has_suffix_number",function(){var i=this;return i.suffix_number=!0,i.need_suffix_number=!0,i},0),y(f,"$enable_critical",function(){return this.critical=!0,this},0),y(f,"$enable_fumble",function(){return this.fumble=!0,this},0),y(f,"$enable_dollar",function(){return this.dollar=!0,this},0),y(f,"$restrict_cmp_op_to",function(i){var E,s=this;return E=n.slice.call(arguments),s.allowed_cmp_op=E,s},-1),y(f,"$enable_question_target",function(){return this.question_target=!0,this},0),y(f,"$parse",function(i){var E=this;try{return E.lexer=m("Lexer").$new(i,E.notations),E.$do_parse()}catch($){if(!n.rescue($,[m("ParseError"),m("ZeroDivisionError")]))throw $;try{return e}finally{n.pop_exception()}}},1),f.$private(),y(f,"$parsed",function(i,E,$,s){return U(m("Parsed").$new(),"tap",[],function B(S){var x,ne,ee,ce,oe,_e,$e=null==B.$$s?this:B.$$s,H=e;return null==$e.round_type&&($e.round_type=e),null==S&&(S=e),H=[i["$[]"]("command")],U(S,"command=",F(H)),O(H.length,1),H=[(x=i["$[]"]("prefix"),x===e||null==x?e:U(x,"eval",[$e.round_type]))],U(S,"prefix_number=",F(H)),O(H.length,1),H=[(ne=i["$[]"]("suffix"),ne===e||null==ne?e:U(ne,"eval",[$e.round_type]))],U(S,"suffix_number=",F(H)),O(H.length,1),H=[(ee=E["$[]"]("critical"),ee===e||null==ee?e:U(ee,"eval",[$e.round_type]))],U(S,"critical=",F(H)),O(H.length,1),H=[(ce=E["$[]"]("fumble"),ce===e||null==ce?e:U(ce,"eval",[$e.round_type]))],U(S,"fumble=",F(H)),O(H.length,1),H=[(oe=E["$[]"]("dollar"),oe===e||null==oe?e:U(oe,"eval",[$e.round_type]))],U(S,"dollar=",F(H)),O(H.length,1),H=[$.$eval($e.round_type)],U(S,"modify_number=",F(H)),O(H.length,1),H=[s["$[]"]("cmp_op")],U(S,"cmp_op=",F(H)),O(H.length,1),M(s["$[]"]("target"),"?")?(U(S,"question_target=",F(H=[!0])),O(H.length,1),U(S,"target_number=",F(H=[0])),H[O(H.length,1)]):(U(S,"question_target=",F(H=[!1])),O(H.length,1),H=[(_e=s["$[]"]("target"),_e===e||null==_e?e:U(_e,"eval",[$e.round_type]))],U(S,"target_number=",F(H)),H[O(H.length,1)])},{$$arity:1,$$s:this})},4),y(f,"$next_token",function(){return this.lexer.$next_token()},0),b=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,33,34,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,e,e,17,18,6,e,5,e,e,17,18,e,e,5,23,24,25,26,56,54,55,57],A=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,e,17,15,15,18,18,23,e,18,30,30,23,23,24,e,23,31,31,24,24,25,e,24,44,44,25,25,28,e,25,47,47,28,28,29,e,28,48,48,29,29,33,e,29,49,49,33,33,34,e,33,50,50,34,34,36,e,34,e,e,36,36,37,e,36,e,e,37,37,e,e,37,27,27,27,27,52,52,52,52],G=[-2,4,16,-3,-1,11,e,33,13,35,23,30,1,e,28,40,e,37,44,e,e,-2,e,51,58,65,0,106,72,79,47,54,e,86,93,e,100,107,e,e,e,e,e,e,63,e,e,68,75,82,89,e,120,e,e,e,e,e],ae=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],w=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,e,e,21,47,48,40,51,52,49,50,44,46,3,e,e,e,13,e,e,e,e,e,e,e,32],k=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,e,e,4,8,8,5,7,7,8,8,9,5,6,e,e,e,6,e,e,e,e,e,e,e,6],X=[e,6,13,3,9,-1,27,-15,-10,-1,-38],t=[e,e,e,e,e,e,19,16,15,e,e],v=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],o=j(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),se(T[0],"Racc_arg",[b,A,ae,G,w,k,t,X,19,v,o,58,35,!0]),se(T[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),se(T[0],"Racc_debug_parser",!1),y(f,"$_reduce_1",function(i,E,$){var s,B=this;return Z(B.modifier)||B.$raise(m("ParseError")),s=L(i),B.$parsed(null==s[0]?e:s[0],null==s[1]?e:s[1],null==s[2]?e:s[2],null==s[3]?e:s[3])},3),y(f,"$_reduce_2",function(i,E,$){var s,B=this;return Z(B.modifier)||B.$raise(m("ParseError")),s=L(i),B.$parsed(null==s[0]?e:s[0],null==s[2]?e:s[2],null==s[1]?e:s[1],null==s[3]?e:s[3])},3),y(f,"$_reduce_3",function(i,E,$){var s,ne;return ne=null==(s=L(i))[2]?e:s[2],this.$parsed(null==s[0]?e:s[0],null==s[1]?e:s[1],q(q(m("Arithmetic"),"Node"),"Number").$new(0),ne)},3),y(f,"$_reduce_4",function(i,E,$){var s=this;return Z(s.prefix_number)&&Z(s.suffix_number)||s.$raise(m("ParseError")),c(["command","prefix","suffix"],{command:i["$[]"](1),prefix:i["$[]"](0),suffix:i["$[]"](2)})},3),y(f,"$_reduce_5",function(i,E,$){var s=this;return Z(s.prefix_number)||s.$raise(m("ParseError")),Z(s.need_suffix_number)&&s.$raise(m("ParseError")),c(["command","prefix"],{command:i["$[]"](1),prefix:i["$[]"](0)})},3),y(f,"$_reduce_6",function(i,E,$){var s=this;return Z(s.suffix_number)||s.$raise(m("ParseError")),Z(s.need_prefix_number)&&s.$raise(m("ParseError")),c(["command","suffix"],{command:i["$[]"](0),suffix:i["$[]"](1)})},3),y(f,"$_reduce_7",function(i,E,$){var s=this;return(Z(s.need_prefix_number)||Z(s.need_suffix_number))&&s.$raise(m("ParseError")),c(["command"],{command:i["$[]"](0)})},3),y(f,"$_reduce_8",function(i,E,$){return c([],{})},3),y(f,"$_reduce_9",function(i,E,$){var s,ne,ee,S=e;return S=null==(s=L(i))[0]?e:s[0],ne=null==s[2]?e:s[2],Z(this.critical)&&Z(S["$[]"]("critical")["$nil?"]())||this.$raise(m("ParseError")),U(S,"[]=",F(ee=["critical",ne])),O(ee.length,1),S},3),y(f,"$_reduce_10",function(i,E,$){var s,ne,ee,S=e;return S=null==(s=L(i))[0]?e:s[0],ne=null==s[2]?e:s[2],Z(this.fumble)&&Z(S["$[]"]("fumble")["$nil?"]())||this.$raise(m("ParseError")),U(S,"[]=",F(ee=["fumble",ne])),O(ee.length,1),S},3),y(f,"$_reduce_11",function(i,E,$){var s,ne,ee,S=e;return S=null==(s=L(i))[0]?e:s[0],ne=null==s[2]?e:s[2],Z(this.dollar)&&Z(S["$[]"]("dollar")["$nil?"]())||this.$raise(m("ParseError")),U(S,"[]=",F(ee=["dollar",ne])),O(ee.length,1),S},3),y(f,"$_reduce_12",function(i,E,$){return i["$[]"](1)},3),y(f,"$_reduce_13",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},3),y(f,"$_reduce_14",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},3),y(f,"$_reduce_15",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},3),y(f,"$_reduce_16",function(i,E,$){return Z(this.allowed_cmp_op["$include?"](e))||this.$raise(m("ParseError")),c([],{})},3),y(f,"$_reduce_17",function(i,E,$){var s,S,x;return x=null==(s=L(i))[1]?e:s[1],Z(this.allowed_cmp_op["$include?"](S=null==s[0]?e:s[0]))||this.$raise(m("ParseError")),c(["cmp_op","target"],{cmp_op:S,target:x})},3),y(f,"$_reduce_18",function(i,E,$){var D,s=this;return D=i["$[]"](0),Z(s.question_target)||s.$raise(m("ParseError")),Z(s.allowed_cmp_op["$include?"](D))||s.$raise(m("ParseError")),c(["cmp_op","target"],{cmp_op:D,target:"?"})},3),y(f,"$_reduce_19",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},3),y(f,"$_reduce_20",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},3),y(f,"$_reduce_22",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"*",i["$[]"](2))},3),y(f,"$_reduce_23",function(i,E,$){return i["$[]"](3).$new(i["$[]"](0),i["$[]"](2))},3),y(f,"$_reduce_25",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),y(f,"$_reduce_26",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithCeil")},3),y(f,"$_reduce_27",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithCeil")},3),y(f,"$_reduce_28",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithRound")},3),y(f,"$_reduce_29",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithFloor")},3),y(f,"$_reduce_30",function(i,E,$){return i["$[]"](1)},3),y(f,"$_reduce_31",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},3),y(f,"$_reduce_33",function(i,E,$){return i["$[]"](1)},3),y(f,"$_reduce_34",function(i,E,$){return q(q(m("Arithmetic"),"Node"),"Number").$new(i["$[]"](0))},3),y(f,"$_reduce_none",function(i,E,$){return i["$[]"](0)},3)},Opal.modules["bcdice/dice_table/table"]=function(n){var y,M,_,l,d,re,Q,se,F,ie=[],u=n.nil,a=n.module,e=n.klass,q=n.hash2,P=n.defs,Y=n.truthy,c=n.def,te=n.rb_minus;return y=ie,M=F=[a(ie[0],"BCDice")].concat(y),_=se=[a(F[0],"DiceTable")].concat(M),d=[l=e(se[0],null,"Table")].concat(_),re=n.$r(d),(Q=l.$$prototype).times=Q.sides=Q.name=Q.items=u,P(l,"$from_i18n",function(J,N){var I=u;return I=re("I18n").$t(J,q(["locale"],{locale:N})),this.$new(I["$[]"]("name"),I["$[]"]("type"),I["$[]"]("items"))},2),c(l,"$initialize",function(J,N,V){var I=this,g=u;return I.name=J,I.items=V.$freeze(),g=/(\d+)D(\d+)/i.$match(N),Y(g)||I.$raise(re("ArgumentError"),"Unexpected table type: "+N),I.times=g["$[]"](1).$to_i(),I.sides=g["$[]"](2).$to_i()},3),c(l,"$roll",function(J){var V,N=this;return V=J.$roll_sum(N.times,N.sides),N.$choice(V)},1),c(l,"$choice",function(J){var V,N=this;return V=te(J,N.times),re("RollResult").$new(N.name,J,N.items["$[]"](V))},1)},Opal.modules["bcdice/dice_table/range_table"]=function(n){var M,L,Q,W,J,N,V,l,se,ie=[],u=n.nil,a=n.module,e=n.klass,q=n.const_set,P=n.send,Y=n.truthy,c=n.def,te=n.to_a,ue=n.rb_minus,y=n.eqeqeq,U=n.rb_times,F=n.rb_plus;return M=ie,L=se=[a(ie[0],"BCDice")].concat(M),Q=l=[a(se[0],"DiceTable")].concat(L),J=[W=e(l[0],null,"RangeTable")].concat(Q),N=n.$r(J),(V=W.$$prototype).name=V.items=V.num_of_dice=V.num_of_sides=V.formatter=u,q(J[0],"RollResult",P(N("Struct"),"new",["sum","values","content","formatted"],function I(){return(null==I.$$s?this:I.$$s).$alias_method("to_s","formatted")},{$$arity:0,$$s:W})),q(J[0],"Item",N("Struct").$new("range","content")),q(J[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),q(J[0],"DEFAULT_FORMATTER",P(W,"lambda",[],function(g,p){return null==g&&(g=u),null==p&&(p=u),g.$name()+"("+p.$sum()+") \uff1e "+p.$content()},2)),W.$attr_reader("name"),W.$attr_reader("num_of_dice"),W.$attr_reader("num_of_sides"),c(W,"$initialize",function I(g,p,f){var b,T=I.$$p||u,m=this,A=u;return delete I.$$p,m.name=g.$freeze(),m.formatter=Y(b=T)?b:N("DEFAULT_FORMATTER"),A=N("DICE_ROLL_METHOD_RE").$match(p),Y(A)||m.$raise(N("ArgumentError"),m.name+": invalid dice roll method: "+p),m.num_of_dice=A["$[]"](1).$to_i(),m.num_of_sides=A["$[]"](2).$to_i(),m.$store(f)},3),c(W,"$fetch",function(g){var f,p=this;return f=P(p.items,"find",[],function(m){return null==m&&(m=u),m.$range()["$include?"](g)},1),Y(f)||p.$raise(N("RangeError"),p.name+": value is out of range: "+g),f},1),c(W,"$roll",function(g){var T,m,b,p=this,f=u;return T=(f=g.$roll_barabara(p.num_of_dice,p.num_of_sides)).$sum(),m=N("RollResult").$new(T,f,p.$fetch(T).$content()),b=[p.formatter["$[]"](p,m)],P(m,"formatted=",te(b)),ue(b.length,1),m},1),W.$private(),c(W,"$store",function(g){var f,T,p=this;return f=P(g,"map",[],function m(b,A){return null==b&&(b=u),null==A&&(A=u),[(null==m.$$s?this:m.$$s).$coerce_to_int_range(b),A]},{$$arity:2,$$s:p}),T=P(f,"sort_by",[],function(b,A){return null==b&&(b=u),null==A&&(A=u),b.$min()},2),p.$assert_min_sum_is_covered(T),p.$assert_max_sum_is_covered(T),p.$assert_no_gap_or_overlap_in_ranges(T),p.items=P(T,"map",[],function(b,A){return null==b&&(b=u),null==A&&(A=u),N("Item").$new(b,A.$freeze()).$freeze()},2).$freeze(),p},1),c(W,"$coerce_to_int_range",function(g){var f;return y(N("Integer"),f=g)?N("Range").$new(g,g):y(N("Range"),f)&&Y(g.$begin()["$is_a?"](N("Integer")))&&Y(g.$end()["$is_a?"](N("Integer")))?g:this.$raise(N("TypeError"),this.name+": "+g+" ("+g.$class()+") must be an Integer or a Range with Integers ")},1),c(W,"$assert_min_sum_is_covered",function(g){var f,p=this,T=u;return f=p.num_of_dice,T=g.$first()["$[]"](0),Y(T["$include?"](f))||p.$raise(N("RangeError"),p.name+": min value ("+f+") is not covered: "+T),p},1),c(W,"$assert_max_sum_is_covered",function(g){var f,p=this,T=u;return f=U(p.num_of_dice,p.num_of_sides),T=g.$last()["$[]"](0),Y(T["$include?"](f))||p.$raise(N("RangeError"),p.name+": max value ("+f+") is not covered: "+T),p},1),c(W,"$assert_no_gap_or_overlap_in_ranges",function(g){return P(g,"each_cons",[2],function f(T,m){var ae,w,b=null==f.$$s?this:f.$$s,A=u,G=u;return null==b.name&&(b.name=u),null==T&&(T=u),null==m&&(m=u),A=T["$[]"](0),G=m["$[]"](0),ae=A.$max(),w=F(ae,1),Y(G["$include?"](ae))&&b.$raise(N("RangeError"),b.name+": Range overlap: "+A+" and "+G),Y(G["$include?"](w))?u:b.$raise(N("RangeError"),b.name+": Range gap: "+A+" and "+G)},{$$arity:2,$$s:this}),this},1)},Opal.queue(function(n){var J,g,A,v,r,R,o,G,ae,w,f,T,V,ie=n.top,u=[],a=n.nil,e=n.$$$,q=n.module,P=n.klass,Y=n.const_set,c=n.truthy,te=n.hash2,ue=n.defs,y=n.def,U=n.eqeqeq,F=n.send,O=n.rb_times,M=n.to_ary,j=n.rb_plus,se=n.rb_gt,Z=n.rb_ge,L=n.rb_divide,_=n.to_a,l=n.rb_minus,d=n.range,re=n.eqeq,Q=n.hash;return ie.$require("bcdice/format"),ie.$require("bcdice/command/parser"),ie.$require("bcdice/dice_table/table"),ie.$require("bcdice/dice_table/range_table"),J=u,g=V=[q(u[0],"BCDice")].concat(J),f=[q(V[0],"GameSystem")].concat(g),T=n.$r(f),A=f,ae=[G=P(f[0],T("Base"),"BattleTech")].concat(A),w=n.$r(ae),G.$$prototype.randomizer=a,Y(ae[0],"ID","BattleTech"),Y(ae[0],"NAME","\u30d0\u30c8\u30eb\u30c6\u30c3\u30af"),Y(ae[0],"SORT_KEY","\u306f\u3068\u308b\u3066\u3064\u304f"),Y(ae[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u65b9\u6cd5\n\u3000(\u56de\u6570)BT(\u30c0\u30e1\u30fc\u30b8)(\u90e8\u4f4d)+(\u57fa\u672c\u5024)>=(\u76ee\u6a19\u5024)\n\u3000\u56de\u6570\u306f\u7701\u7565\u6642 1\u56fa\u5b9a\u3002\n\u3000\u90e8\u4f4d\u306fC\uff08\u6b63\u9762\uff09R\uff08\u53f3\uff09\u3001L\uff08\u5de6\uff09\u3002\u7701\u7565\u6642\u306fC\uff08\u6b63\u9762\uff09\u56fa\u5b9a\n\u3000U\uff08\u4e0a\u534a\u8eab\uff09\u3001L\uff08\u4e0b\u534a\u8eab\uff09\u3092\u7d44\u307f\u5408\u308f\u305b CU/RU/LU/CL/RL/LL\u3082\u6307\u5b9a\u53ef\u80fd\n\u3000\u4f8b\uff09BT3+2>=4\n\u3000\u3000\u6b63\u9762\u304b\u3089\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b92\u76ee\u6a19\u50244\u30671\u56de\u5224\u5b9a\n\u3000\u4f8b\uff092BT3RL+5>=8\n\u3000\u3000\u53f3\u4e0b\u534a\u8eab\u306b\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30672\u56de\u5224\u5b9a\n\u3000\u30df\u30b5\u30a4\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u306f BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b SRM2/4/6, LRM5/10/15/20 \u3092\u6307\u5b9a\n\u3000\u4f8b\uff093SRM6LU+5>=8\n\u3000\u3000\u5de6\u4e0a\u534a\u8eab\u306bSRM6\u9023\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30673\u56de\u5224\u5b9a\n  BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b PPC \u3092\u6307\u5b9a\u3059\u308b\u3068\u30c0\u30e1\u30fc\u30b810\u3067\u5224\u5b9a\n  \u4f8b\uff092PPCR+3>=10\n  \u3000\u53f3\u5074\u304b\u3089PPC\uff08\u30c0\u30e1\u30fc\u30b810\uff09\u306b\u3088\u308b\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b93\u76ee\u6a19\u502410\u30672\u56de\u5224\u5b9a\n\u30fbCT\uff1a\u81f4\u547d\u7684\u547d\u4e2d\u8868\n\u30fbDW\uff1a\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868\n\u30fbCDx\uff1a\u30e1\u30c3\u30af\u6226\u58eb\u610f\u8b58\u7dad\u6301\u30ed\u30fc\u30eb\u3002\u30c0\u30e1\u30fc\u30b8\u5024x\uff081\u301c6\uff09\u3067\u5224\u5b9a\u3000\u4f8b\uff09CD3\n"),G.$register_prefix("\\d*SRM","\\d*LRM","\\d*BT","\\d*PPC","CT","DW","CD"),Y(ae[0],"NO_CRITICAL_HIT_LIMIT",7),ue(G,"$ppc_parser",function(){var t,v=this;return null==v.ppc_parser&&(v.ppc_parser=a),c(null!=(t=v.ppc_parser)&&t!==a?"instance-variable":a)&&c(v.ppc_parser)||(v.ppc_parser=e(w("Command"),"Parser").$new(/PPC(?:[LCR][LU]?)?/,te(["round_type"],{round_type:e(w("RoundType"),"FLOOR")})),v.ppc_parser.$enable_prefix_number(),v.ppc_parser.$restrict_cmp_op_to(">=")),v.ppc_parser},0),y(G,"$ppc_parser",function(){return this.$class().$ppc_parser()},0),y(G,"$eval_game_system_specific_command",function(t){var v=this,r=a,R=a,o=a,z=a,K=a,C=a,h=a,i=a,E=a;try{return r=v.$roll_tables(t,w("TABLES")),c(r)?r:c(R=v.$ppc_parser().$parse(t))?v.$execute_ppc(R):(o=1,c(t["$=~"](/^(\d+)(.+)/))&&(o=w("Regexp").$last_match(1).$to_i(),t=w("Regexp").$last_match(2)),v.$debug("executeCommandCatched count",o),v.$debug("executeCommandCatched command",t),U(/^CD([1-6])$/,z=t)?(K=w("Regexp").$last_match(1).$to_i(),v.$consciousness_roll(K)):U(/^((S|L)RM\d+)(.+)/,z)?(C=w("Regexp").$last_match(3),h=w("Regexp").$last_match(1),i=F(v,"lambda",[],function $(){return(null==$.$$s?this:$.$$s).$getXrmDamage(h)},{$$arity:0,$$s:v}),v.$getHitResult(o,i,C)):U(/^BT(\d+)(.+)/,z)?(v.$debug("BT pattern"),C=w("Regexp").$last_match(2),E=w("Regexp").$last_match(1).$to_i(),i=F(v,"lambda",[],function(){return E},0),v.$getHitResult(o,i,C)):a)}catch($){if(!n.rescue($,[w("UnknownXRMError")]))throw $;try{return a}finally{n.pop_exception()}}},1),P(ae[0],w("StandardError"),"UnknownXRMError"),y(G,"$getXrmDamage",function(t){var o,z,R=a;return c(w("XRM_DAMAGE_TABLES")["$key?"](t))||this.$raise(w("UnknownXRMError"),"unknown XRM: "+t),R=w("XRM_DAMAGE_TABLES")["$[]"](t).$roll(this.randomizer),o=t["$start_with?"]("L"),z=R.$content(),[c(o)?z:O(2,z),R.$sum(),o]},1),Y(ae[0],"LRM_LIMIT",5),y(G,"$getHitResult",function(t,v,r){var R=this,o=a,z=a,K=a,C=a,h=a,i=a,E=a,$=a,s=a,D=a,B=a,S=a,x=a,ne=a;return o=/^([LCR][LU]?)?(\+\d+)?>=(\d+)/.$match(r),c(o)?(z=c(K=o["$[]"](1))?K:"C",C=o["$[]"](2),h=o["$[]"](3).$to_i(),i=R.$getBaseValue(C),R.$debug("side, base, target",z,i,h),E=e(w("HitPart"),"TABLES")["$[]"](z),$=[],s=te([],{}),D=0,F(t,"times",[],function ee(){var ce,oe,_e=null==ee.$$s?this:ee.$$s,H=a;return oe=_e.$getHitText(i,h),H=null==(ce=M(oe))[1]?a:ce[1],c(null==ce[0]?a:ce[0])&&(D=j(D,1),oe=_e.$getDamages(v,E,s),ce=M(oe),s=null==ce[0]?a:ce[0],H=j(H,null==ce[1]?a:ce[1])),$["$<<"](H)},{$$arity:0,$$s:R}),B=se(D,0),S=" \uff1e "+D+"\u56de\u547d\u4e2d",x=c(B)?S+" \u547d\u4e2d\u7b87\u6240\uff1a"+R.$getTotalDamage(s):S,$.$push(x),ne=$.$join("\n"),c(B)?w("Result").$success(ne):w("Result").$failure(ne)):a},3),y(G,"$getBaseValue",function(t){var v=a;return v=0,c(t["$nil?"]())||(v=w("ArithmeticEvaluator").$eval(t)),v},1),y(G,"$getHitText",function(t,v){var R,o,z,K,h=a;return R=this.randomizer.$roll_once(6),o=this.randomizer.$roll_once(6),z=j(j(R,o),t),K=Z(z,v),h=z+"["+R+","+o+(c(se(t,0))?"+"+t:"")+"]>="+v+" \uff1e ",[K,h=c(K)?j(h,"\u547d\u4e2d \uff1e "):j(h,"\u5916\u308c")]},2),y(G,"$getDamages",function(t,v,r){var R,o,C,h,i,K=a,E=a;return K="",o=t.$call(),R=M(o),C=null==R[0]?a:R[0],h=null==R[1]?a:R[1],E=1,c(i=null==R[2]?a:R[2])&&(E=L(O(1,C),w("LRM_LIMIT")).$ceil(),K=j(K,"["+h+"] "+C+"\u70b9")),F(E,"times",[],function $(s){var D,B,x,ee,ce,S=null==$.$$s?this:$.$$s,oe=a,_e=a;return null==s&&(s=a),B=S.$getDamageInfo(h,C,i,s),x=null==(D=M(B))[0]?a:D[0],B=S.$getHitResultOne(null==D[1]?a:D[1],v),ee=null==(D=M(B))[0]?a:D[0],ce=null==D[1]?a:D[1],oe=null==D[2]?a:D[2],c(i)&&(K=j(K," ")),K=j(K,ee),c(r["$[]"](ce)["$nil?"]())&&(_e=[ce,te(["partDamages","criticals"],{partDamages:[],criticals:[]})],F(r,"[]=",_(_e)),l(_e.length,1)),r["$[]"](ce)["$[]"]("partDamages")["$<<"](x),c(oe["$empty?"]())?a:r["$[]"](ce)["$[]"]("criticals")["$<<"](oe)},{$$arity:1,$$s:this}),[r,K]},3),y(G,"$getDamageInfo",function(t,v,r,R){var o=a;return c(t["$nil?"]())?[v,v.$to_s()]:c(r)?(o=l(v,O(w("LRM_LIMIT"),R)),c(se(o,w("LRM_LIMIT")))&&(o=w("LRM_LIMIT")),[o,o.$to_s()]):[v,"["+t+"] "+v]},4),y(G,"$getTotalDamage",function(t){var R=a,o=a,z=a;return R=0,o=[],F(["\u982d","\u80f4\u4e2d\u592e","\u53f3\u80f4","\u5de6\u80f4","\u53f3\u811a","\u5de6\u811a","\u53f3\u8155","\u5de6\u8155"],"each",[],function(C){var h=a,i=a,E=a,$=a,s=a;return null==C&&(C=a),h=t.$delete(C),c(h["$nil?"]())?a:(i=F(h["$[]"]("partDamages"),"inject",[0],function(B,S){return null==B&&(B=a),null==S&&(S=a),j(B,S)},2),R=j(R,i),E=h["$[]"]("partDamages").$size(),$=h["$[]"]("criticals"),s=j(s="",C+"("+E+"\u56de) "+i+"\u70b9"),c($["$empty?"]())||(s=j(s," "+$.$join(" "))),o["$<<"](s))},1),c(t["$empty?"]())||this.$raise("damages rest!! "+t.$inspect()),z=o.$join(" \uff0f "),j(z," \uff1e \u5408\u8a08\u30c0\u30e1\u30fc\u30b8 "+R+"\u70b9")},1),y(G,"$getHitResultOne",function(t,v){var z,R=a,o=a,K=a,C=a,h=a;return o=(R=v.$roll(this.randomizer)).$content(),z=c(o.$critical_hit_may_occur())?"\uff08\u81f4\u547d\u7684\u547d\u4e2d\uff09":"",K=[["["+R.$sum()+"]",""+o.$name()+z,t+"\u70b9"].$join(" ")],C="",c(o.$critical_hit_may_occur())&&(h=w("TABLES")["$[]"]("CT").$roll(this.randomizer),c(se(h.$sum(),w("NO_CRITICAL_HIT_LIMIT")))&&(C=h.$content()),K.$push("["+h.$sum()+"] "+h.$content())),[K.$join(" \uff1e "),o.$name(),C]},2),y(G,"$consciousness_roll",function(t){var r=a,o=a,z=a,K=a,C=a,i=a,E=a,D=a;return c(d(1,6,!1)["$include?"](t))?(r="CD"+t,re(t,6)?w("Result").$fumble(r+" \uff1e \u6b7b\u4ea1"):(z="(2D6>="+(o=Q(1,3,2,5,3,7,4,10,5,11)["$[]"](t))+")",i=(C=(K=this.randomizer.$roll_barabara(2,6)).$sum())+"["+K.$join(",")+"]",E=Z(C,o),D=[r,z,i,C,c(E)?"\u6210\u529f":"\u5931\u6557"].$join(" \uff1e "),c(E)?w("Result").$success(D):w("Result").$failure(D))):a},1),y(G,"$execute_ppc",function(t){var r,R,C;return r=c(R=t.$prefix_number())?R:1,C=""+t.$command()["$[]"](d(3,-1,!1))+w("Format").$modifier(t.$modify_number())+">="+t.$target_number(),this.$getHitResult(r,F(this,"lambda",[],function(){return 10},0),C)},1),Y(ae[0],"TABLES",te(["CT","DW"],{CT:e(w("DiceTable"),"RangeTable").$new("\u81f4\u547d\u7684\u547d\u4e2d\u8868","2D6",[[n.Range.$new(2,w("NO_CRITICAL_HIT_LIMIT"),!1),"\u81f4\u547d\u7684\u547d\u4e2d\u306f\u306a\u304b\u3063\u305f"],[d(8,9,!1),"1\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[d(10,11,!1),"2\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[12,"\u305d\u306e\u90e8\u4f4d\u304c\u5439\u304d\u98db\u3076\uff08\u8155\u3001\u811a\u3001\u982d\uff09\u307e\u305f\u306f3\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d\uff08\u80f4\uff09"]]),DW:e(w("DiceTable"),"Table").$new("\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868","1D6",["\u540c\u3058\uff08\u524d\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","180\u5ea6\u9006\uff08\u80cc\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762"])}).$freeze()),Y(ae[0],"HitPart",w("Struct").$new("name","critical_hit_may_occur")),v=ae,R=[r=P(ae[0],null,"HitPart")].concat(v),o=n.$r(R),Y(R[0],"LEFT_TORSO","\u5de6\u80f4"),Y(R[0],"CENTER_TORSO","\u80f4\u4e2d\u592e"),Y(R[0],"RIGHT_TORSO","\u53f3\u80f4"),Y(R[0],"LEFT_ARM","\u5de6\u8155"),Y(R[0],"RIGHT_ARM","\u53f3\u8155"),Y(R[0],"LEFT_LEG","\u5de6\u811a"),Y(R[0],"RIGHT_LEG","\u53f3\u811a"),Y(R[0],"HEAD","\u982d"),Y(R[0],"TABLES",te(["L","C","R","LU","CU","RU","LL","CL","RL"],{L:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\uff09","2D6",[[2,r.$new(o("LEFT_TORSO"),!0)],[3,r.$new(o("LEFT_LEG"),!1)],[d(4,5,!1),r.$new(o("LEFT_ARM"),!1)],[6,r.$new(o("LEFT_LEG"),!1)],[7,r.$new(o("LEFT_TORSO"),!1)],[8,r.$new(o("CENTER_TORSO"),!1)],[9,r.$new(o("RIGHT_TORSO"),!1)],[10,r.$new(o("RIGHT_ARM"),!1)],[11,r.$new(o("RIGHT_LEG"),!1)],[12,r.$new(o("HEAD"),!1)]]),C:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\uff09","2D6",[[2,r.$new(o("CENTER_TORSO"),!0)],[d(3,4,!1),r.$new(o("RIGHT_ARM"),!1)],[5,r.$new(o("RIGHT_LEG"),!1)],[6,r.$new(o("RIGHT_TORSO"),!1)],[7,r.$new(o("CENTER_TORSO"),!1)],[8,r.$new(o("LEFT_TORSO"),!1)],[9,r.$new(o("LEFT_LEG"),!1)],[d(10,11,!1),r.$new(o("LEFT_ARM"),!1)],[12,r.$new(o("HEAD"),!1)]]),R:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\uff09","2D6",[[2,r.$new(o("RIGHT_TORSO"),!0)],[3,r.$new(o("RIGHT_LEG"),!1)],[d(4,5,!1),r.$new(o("RIGHT_ARM"),!1)],[6,r.$new(o("RIGHT_LEG"),!1)],[7,r.$new(o("RIGHT_TORSO"),!1)],[8,r.$new(o("CENTER_TORSO"),!1)],[9,r.$new(o("LEFT_TORSO"),!1)],[10,r.$new(o("LEFT_ARM"),!1)],[11,r.$new(o("LEFT_LEG"),!1)],[12,r.$new(o("HEAD"),!1)]]),LU:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0a\u534a\u8eab\uff09","1D6",[[d(1,2,!1),r.$new(o("LEFT_TORSO"),!1)],[3,r.$new(o("CENTER_TORSO"),!1)],[d(4,5,!1),r.$new(o("LEFT_ARM"),!1)],[6,r.$new(o("HEAD"),!1)]]),CU:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\u4e0a\u534a\u8eab\uff09","1D6",[[1,r.$new(o("LEFT_ARM"),!1)],[2,r.$new(o("LEFT_TORSO"),!1)],[3,r.$new(o("CENTER_TORSO"),!1)],[4,r.$new(o("RIGHT_TORSO"),!1)],[5,r.$new(o("RIGHT_ARM"),!1)],[6,r.$new(o("HEAD"),!1)]]),RU:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0a\u534a\u8eab\uff09","1D6",[[d(1,2,!1),r.$new(o("RIGHT_TORSO"),!1)],[3,r.$new(o("CENTER_TORSO"),!1)],[d(4,5,!1),r.$new(o("RIGHT_ARM"),!1)],[6,r.$new(o("HEAD"),!1)]]),LL:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0b\u534a\u8eab\uff09","1D6",[[d(1,6,!1),r.$new(o("LEFT_LEG"),!1)]]),CL:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[d(1,3,!1),r.$new(o("RIGHT_LEG"),!1)],[d(4,6,!1),r.$new(o("LEFT_LEG"),!1)]]),RL:e(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[d(1,6,!1),r.$new(o("RIGHT_LEG"),!1)]])}).$freeze()),Y(ae[0],"XRM_DAMAGE_TABLES",te(["SRM2","SRM4","SRM6","LRM5","LRM10","LRM15","LRM20"],{SRM2:e(w("DiceTable"),"RangeTable").$new("SRM2\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,7,!1),1],[d(8,12,!1),2]]),SRM4:e(w("DiceTable"),"RangeTable").$new("SRM4\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[d(3,6,!1),2],[d(7,10,!1),3],[d(11,12,!1),4]]),SRM6:e(w("DiceTable"),"RangeTable").$new("SRM6\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),2],[d(4,5,!1),3],[d(6,8,!1),4],[d(9,10,!1),5],[d(11,12,!1),6]]),LRM5:e(w("DiceTable"),"RangeTable").$new("LRM5\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[d(3,4,!1),2],[d(5,8,!1),3],[d(9,10,!1),4],[d(11,12,!1),5]]),LRM10:e(w("DiceTable"),"RangeTable").$new("LRM10\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),3],[4,4],[d(5,8,!1),6],[d(9,10,!1),8],[d(11,12,!1),10]]),LRM15:e(w("DiceTable"),"RangeTable").$new("LRM15\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),5],[4,6],[d(5,8,!1),9],[d(9,10,!1),12],[d(11,12,!1),15]]),LRM20:e(w("DiceTable"),"RangeTable").$new("LRM20\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),6],[4,9],[d(5,8,!1),12],[d(9,10,!1),16],[d(11,12,!1),20]])}).$freeze())})}}]);